"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5889],{35889:function(t,e,s){s.r(e),s.d(e,{default:function(){return y}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:s(88579)}})])]),t._v(" "+t._s(1==t.isCase?t.deptname:"轮转手册")+" ")]),e("div",{staticClass:"g-main"},[t._l(t.caseList,(function(i,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:2==t.isCase,expression:"isCase == 2"}],key:a,on:{click:function(e){return t.toCaseList(i)}}},[t._m(0,!0),e("div",{staticClass:"process-box"},[e("div",{staticClass:"text-info"},[e("div",[t._v(t._s(i.diseaseName))]),e("div",[t._v("完成进度: "+t._s(i.finishRate)+"%")])]),e("cProgress",{attrs:{percentage:i.finishRate}})],1),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})])})),1==t.isCase?e("div",{on:{click:function(e){return t.zpTurnManual()}}},[t._m(1),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.toexam}},[t._m(2),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.evaluate}},[t._m(3),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.check}},[t._m(4),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.ckexam}},[t._m(5),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.toexamlist}},[t._m(6),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.activity}},[t._m(7),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),1==t.isCase?e("div",{on:{click:t.attendance}},[t._m(8),e("img",{staticClass:"right",attrs:{src:s(26433),alt:""}})]):t._e(),3==t.isCase?e("div",{staticClass:"no-data"},[t._v("暂无")]):t._e()],2)],1)},a=[function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(49242),alt:""}})])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(49242),alt:""}}),e("span",[t._v("轮转手册")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(49242),alt:""}}),e("span",[t._v("出科报名")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(1677),alt:""}}),e("span",[t._v("日常评价")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(17005),alt:""}}),e("span",[t._v("月度考核查看")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(73442),alt:""}}),e("span",[t._v("出科考核成绩")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(75879),alt:""}}),e("span",[t._v("年度考核成绩")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(38040),alt:""}}),e("span",[t._v("教学活动统计")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"left"},[e("img",{attrs:{src:s(7401),alt:""}}),e("span",[t._v("考勤统计")])])}],r=(s(70560),s(77387)),n=s.n(r),o=s(22760),u=s(68934),d=s(63822),l={name:"rotation_doctor_exam",components:{cHeader:o.Z},data(){return{isCase:1,caseList:[],validate:"",deptname:"",id:"",type:"",isdoctor:!0,evaluateid:""}},computed:{...(0,d.rn)(["turninfo"])},created(){let t=this;t.checkIsCase(),t.$route.query.id?t.judgeRole().then((e=>{t.init()})):t.deptname=this.turninfo.districtname},mounted(){let t=this;this.isdoctor=0==this.$route.query.type,this.id=this.$route.query.id,this.registerToNative("goBack",(function(e){t.back()}))},methods:{...u.Z,...(0,d.nv)(["setTurninfo","setTurnManual"]),init(){let t=this;t.post("/turn/getturndetailbyid",{command:"turn/getturndetailbyid",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),plandetailid:this.$route.query.id}).done((function(e){t.setTurninfo({k:"businessid",v:e.detailinfo.plandetailid}),t.setTurninfo({k:"districtname",v:e.detailinfo.deptname}),t.setTurninfo({k:"deptname",v:e.detailinfo.turnofficename}),t.setTurninfo({k:"deptid",v:e.detailinfo.turnofficeid}),t.setTurninfo({k:"status",v:e.detailinfo.status}),t.setTurninfo({k:"teachingid",v:e.detailinfo.teachingid}),t.deptname=e.detailinfo.deptname,t.setTurnManual({k:"turnTrainId",v:e.detailinfo.profId});let s=e.detailinfo.phase?parseInt(e.detailinfo.phase)+1:0;t.getTurnManualData(e.detailinfo.turnId,e.detailinfo.deptid,e.detailinfo.stdid,s),t.evaluateid=e.detailinfo.stdid}))},getTurnManualData(t,e,s,i){let a=this;this.setTurnManual({k:"deptId",v:e}),this.setTurnManual({k:"stdId",v:s}),this.setTurnManual({k:"stage",v:i}),this.setTurnManual({k:"turnId",v:t}),console.log("cjw12138"),a.post("/turnManual/queryTurnManualDiseaseDeptList",{command:"turnManual/queryTurnManualDiseaseDeptList",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),turnId:t,deptId:e,stdId:s,stage:i,plandetailid:a.$route.query.id}).done((t=>{t&&0==t.errcode&&(t.result.map((t=>t.finishRate=parseInt(t.finishRate))),a.caseList=t.result,a.validate=t.validate)})).fail((t=>{}))},zpTurnManual(){console.log("轮转手册");let t=this;t.caseList.length>0?t.isCase=2:t.isCase=3},check:function(){console.log("111",t.evaluateid);let t=this;this.$router.push({name:"fdRotation_doctor_exam_date_director",query:{booking:0,type:t.$route.query.type,where:t.$route.query.where,evaluateid:t.evaluateid}})},ckexam:function(){let t=this;this.$router.push({name:"fdRotation_doctor_ckresult_director",query:{type:t.$route.query.type,where:t.$route.query.where}})},evaluate:function(){let t=this;0==t.$route.query.type?this.$router.push({name:"fdRotation_doctor_evaluate_director",query:{type:t.$route.query.type}}):this.$router.push({name:"fdRotation_doctor_evaluate_director",query:{booking:0,type:t.$route.query.type}})},toexam(){let t=this;this.$router.push({name:"fdDoctorRegistration_director",query:{type:t.$route.query.type}})},activity(){let t=this;this.$router.push({name:"fdRotation_activity_director",query:{type:t.$route.query.type}})},toexamlist(){let t=this;this.$router.push({name:"fdRotation_examlist_director",query:{type:t.$route.query.type}})},attendance(){let t=this;this.$router.push({name:"fdRotation_attendstatis_director",query:{type:t.$route.query.type}})},back(){let t=this;1===t.isCase?0!=t.$route.query.type?this.$router.push({name:"fdRotation_doctor_plan_director",query:{type:t.$route.query.type,where:t.$route.query.where}}):0==n().cookie("doctor_from")?this.$router.push({name:"fdRotation_doctor_director",query:{type:t.$route.query.type}}):1==n().cookie("doctor_from")&&this.$router.push({name:"fdRotation_doctor_plan_director",query:{type:t.$route.query.type}}):t.isCase=1},judgeRole(){return new Promise(((t,e)=>{this.post("/turnManual/validateStd",{command:"turnManual/validateStd",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),uid:n().cookie("uid")}).done((e=>{e&&0==e.errcode&&(console.log(e),this.isStu=e.validateStd,t(e))})).fail((t=>{e(data)}))}))},toCaseList(t){let e=this;this.setTurnManual({k:"caseName",v:t.diseaseName}),localStorage.setItem("caseDetail",JSON.stringify(t)),0==t.type&&0==this.isStu?(console.log(111),this.$router.push({name:"caseDetailList",query:{id:t.turnManualId,type:t.type,validate:this.validate,baseId:t.baseId,user:e.$route.query.type,businessid:e.$route.query.id,where:e.$route.query.where}})):1==t.type&&0==this.isStu?(console.log(222),this.$router.push({name:"caseInfoList",query:{id:t.turnManualId,type:t.type,validate:this.validate,user:e.$route.query.type,businessid:e.$route.query.id,where:e.$route.query.where}})):1==t.type&&1==this.isStu?(console.log(333),console.log(e.$route.query.type),this.$router.push({name:"caseInfoList",query:{id:t.turnManualId,type:t.type,isStu:this.isStu,user:e.$route.query.type,baseId:t.baseId,businessid:e.$route.query.id,where:e.$route.query.where}})):(console.log(444),this.$router.push({name:"checkList",query:{id:t.turnManualId,type:t.type,isStu:this.isStu,baseId:t.baseId,user:e.$route.query.type,businessid:e.$route.query.id,where:e.$route.query.where}}))},checkIsCase(){let t=this;t.$route.query.case&&2==t.$route.query.case&&(t.isCase=2)}}},c=l,h=s(1001),p=(0,h.Z)(c,i,a,!1,null,"694ea044",null),y=p.exports}}]);
//# sourceMappingURL=5889.e5694f36.js.map