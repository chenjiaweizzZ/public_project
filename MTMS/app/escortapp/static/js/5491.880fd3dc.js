"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5491],{97585:function(s,e,t){t.r(e),t.d(e,{default:function(){return f}});var a=function(){var s=this,e=s._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return s.back()}}},[e("img",{attrs:{src:t(88579)}})])]),s._v(" 护培轮转2 ")]),s.nocontent?s._e():e("div",{staticClass:"g-main"},[e("div",{staticClass:"headerMes"},[e("div",[e("span",[s._v("学员类型："+s._s(s.messages.typename))]),e("span",[s._v("学号 ： "+s._s(s.messages.username))])]),e("div",[e("span",[s._v("专业基地："+s._s(s.messages.userbasename))]),e("span",[s._v("年级 ： "+s._s(s.messages.period))])])]),e("div",{staticClass:"main"},[e("div",{staticClass:"rotation_plan margin flex",on:{click:function(e){return s.detail(s.messages.plandetailid)}}},[e("span",[s._v("轮转计划")]),e("a",[s._v(s._s(s.messages.term)),e("img",{attrs:{src:t(26433),alt:""}})])]),e("div",{staticClass:"rotation_progress margin"},[e("h2",[s._v("轮转计划进度")]),e("div",{staticClass:"progress"},[e("div",{staticClass:"progressLine"},[e("img",{attrs:{src:t(17898),alt:""}}),e("img",{attrs:{src:t(48840),alt:""}}),e("p",{staticClass:"progressOn"},[e("img",{attrs:{src:t(17898)}}),e("small",[s._v("还剩"+s._s(s.messages.remaining)+"天")])])]),e("p",{staticClass:"progressTime flex"},[e("span",[s._v("开始日期"),e("br"),s._v(s._s(s.messages.begindate))]),e("span",[s._v("结束日期"),e("br"),s._v(s._s(s.messages.enddate))])])])]),[s.showdetail?e("div",{staticClass:"rotationContent"},[e("div",{staticClass:"rotation_place"},[e("span",[s._v("轮转科室"),e("span",{staticClass:"place"},[s._v(s._s(s.messages.deptname))])]),3==s.messages.turnstatus?e("img",{attrs:{src:t(33637),alt:""}}):s._e(),1==s.messages.turnstatus?e("img",{attrs:{src:t(61957),alt:""}}):s._e(),0==s.messages.turnstatus?e("img",{attrs:{src:t(74661),alt:""}}):s._e()]),e("div",{staticClass:"rotation_person"},[e("p",{staticClass:"t-right"},[e("span",[s._v("科室主任："),s._l(s.messages.directorlist,(function(t,a){return e("i",[s._v(s._s(t.name)+" ")])}))],2)]),e("p",[e("span",[s._v("科室秘书："),s._l(s.messages.secretarylist,(function(t,a){return e("i",[s._v(s._s(t.name)+" ")])}))],2)]),0!=s.messages.turnstatus?e("p",[e("span",[s._v("带教老师："+s._s(s.messages.teaching))])]):s._e()]),e("ul",[e("li",[e("span",[s._v("轮转周期："+s._s(s.messages.begintime)+"-"+s._s(s.messages.endtime))])]),e("li",[e("span",[s._v("规定轮转时间："+s._s(s.messages.settime))]),0!=s.messages.turnstatus?e("span",[s._v("已轮转时间："+s._s(s.messages.hasturn)+"天")]):s._e()])]),0!=s.messages.turnstatus?e("div",{staticClass:"rotation_pro"},[e("p",[s._v("轮转科室进度")]),e("p",{staticClass:"grayBar"},[e("span",{staticClass:"greenBar"}),e("span",{staticClass:"rating"},[s._v(s._s(s._f("rating")(s.messages.progress)))])])]):s._e(),0!=s.messages.turnstatus?e("div",{staticClass:"enter"},[e("a",{on:{click:function(e){return s.enter(s.messages.plandetailid,s.messages.endtime)}}},[s._v("点击进入")])]):s._e()]):e("div",{staticClass:"no-icon"},[e("img",{attrs:{src:t(10745),alt:""}}),e("p",[s._v("恭喜你，你已经完成了你的轮转计划~")])])]],2)]),s.nocontent?e("no-content",{attrs:{txtdescription:s.txtdescription}}):s._e()],1)},n=[],i=(t(70560),t(77387)),r=t.n(i),o=t(22760),c=t(68934),g=t(36797),m=t.n(g),d=t(84622),l=t(63822),p={name:"rotation_doctor",components:{cHeader:o.Z,moment:m(),noContent:d.Z},filters:{rating:function(s){return(100*s).toFixed(0)>=100?"100%":(100*s).toFixed(0)+"%"}},data(){return{messages:{},nocontent:!1,showdetail:!0,txtdescription:"您当前不在轮转计划中！"}},created(){let s=this;s.init(),s.registerToNative("goBack",(function(e){s.back()}))},methods:{...c.Z,...(0,l.nv)(["setTurninfo"]),init:function(){let s=this;s.post("/turn/turndoctor",{command:"turn/turndoctor",sessionid:r().cookie("sid"),loginid:r().cookie("uid")}).done((function(e){-1==e.turnflag?s.nocontent=!0:0==e.turnflag?(s.messages=e,s.messages.begindate=s.checkDate(s.messages.begindate),s.messages.enddate=s.checkDate(s.messages.enddate),s.messages.begintime=s.checkDate(s.messages.begintime),s.messages.endtime=s.checkDate(s.messages.endtime),s.progress()):5==e.turnflag&&(s.showdetail=!1,s.messages=e,s.messages.begindate=s.checkDate(s.messages.begindate),s.messages.enddate=s.checkDate(s.messages.enddate),s.messages.begintime=s.checkDate(s.messages.begintime),s.messages.endtime=s.checkDate(s.messages.endtime),s.progress())})).fail((function(e){s.nocontent=!0}))},checkDate(s){if(s)return s.split("-").join(".")},back:function(){window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex"},detail:function(s){let e=this;r().cookie("doctor_from",1),e.messages.term&&e.$router.push({name:"fdRotation_doctor_plan_director",query:{type:0,id:s}})},enter:function(s,e){let t=this;r().cookie("doctor_from",0),this.setTurninfo({k:"planendtime",v:e}),t.$router.push({name:"fdRotation_doctor_exam_director",query:{type:0,id:s}})},progress:function(){let s=this,e=m()(s.messages.begindate).format("X"),t=m()(s.messages.enddate).format("X"),a=m()().format("X"),n=Math.ceil((t-e)/3600/24),i=(n-s.messages.remaining)/n,o=r()(".progressLine"),c=r()(".progressOn"),g=r()(".progressOn").find("img"),d=o.width(),l=g.width();a<=e?(c.css({width:"0px"}),g.css({display:"none"})):(c.css({width:d*i+"px"}),g.css({position:"absolute",display:"inline-block",left:d*i-l/2+"px"}));let p=r()(".grayBar"),_=r()(".greenBar"),u=r()(".rating"),v=p.width(),f=v*s.messages.progress>v?v:v*s.messages.progress;_.css({width:f+"px"}),0==s.messages.progress?u.css({left:"0px"}):u.css({left:f-l/2+"px"})}}},_=p,u=t(1001),v=(0,u.Z)(_,a,n,!1,null,"77274472",null),f=v.exports}}]);
//# sourceMappingURL=5491.880fd3dc.js.map