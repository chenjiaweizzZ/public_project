"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[6977],{22760:function(e,t,i){i.d(t,{Z:function(){return d}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header",attrs:{id:"header"}},[e._t("headerLeft",(function(){return[t("a",{staticClass:"header-back-btn",on:{click:function(t){return e.back()}}},[t("img",{attrs:{src:i(88579)}})])]})),t("div",{staticClass:"header-center-blank"}),t("div",{staticClass:"header-center"},[e._t("default",(function(){return[e._v(e._s(e.title))]}))],2),e._t("headerRight")],2)},s=[],o=(i(77387),i(68934)),n=i(63822),r={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,n.rn)(["loginUser"]),methods:{...(0,n.nv)(["showAlert","showLoading","hideLoading","toast"]),...o.Z,back(){this.$router.go(-1)}}},u=r,c=i(1001),l=(0,c.Z)(u,a,s,!1,null,null,null),d=l.exports},84622:function(e,t,i){i.d(t,{Z:function(){return c}});var a=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"no_content"}},[t("img",{attrs:{src:i(10745),alt:""}}),t("span",{domProps:{textContent:e._s(e.txtdescription||"当前没有内容哦~")}})])},s=[],o={props:["txtdescription"]},n=o,r=i(1001),u=(0,r.Z)(n,a,s,!1,null,null,null),c=u.exports},16977:function(e,t,i){i.r(t),i.d(t,{default:function(){return v}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-wrapper"},[t("c-header",[t("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[t("a",{staticClass:"header-back-btn",on:{click:function(t){return e.back()}}},[t("img",{attrs:{src:i(88579)}})])]),e._v(" 护士长评价表 "),e.showEvaluate?t("div",{class:{noclick:e.issubmit},staticStyle:{"font-size":"0.3rem"},attrs:{slot:"headerRight"},on:{click:e.submit},slot:"headerRight"},[e._v("提交")]):e._e()]),e.noContent?e._e():t("div",{staticClass:"g-main"},[t("div",{staticClass:"title"},[t("p",[e._v(e._s(e.title))])]),e.showEvaluate?t("div",{staticClass:"explain"},[t("span",[e._v("*")]),e._v("此评价表为各位护培生师日常考核所用，并存入护培学档案，请大家认真填写。 ")]):e._e(),t("div",{staticClass:"evaluateDetail"},[t("ul",e._l(e.evaluationList,(function(i,a){return t("li",[t("p",[i.category?t("span",[e._v(e._s(i.category))]):e._e(),e._v(e._s(i.title))]),t("ul",{staticClass:"small"},[i.itemlist?t("li",[t("div",e._l(i.itemlist,(function(s){return t("span",{class:{noclick:e.showDetail},on:{click:function(t){return e.check(s,a)}}},[t("input",{staticClass:"radio",attrs:{type:"radio",name:i.id,disabled:e.showDetail},domProps:{value:s.evascore,checked:s.checkflag}}),e._v(e._s(s.content))])})),0)]):4==i.multiselect?t("li",[t("input",{directives:[{name:"model",rawName:"v-model",value:i.evacontent,expression:"item.evacontent"}],staticClass:"pack",attrs:{type:"text",disabled:e.showDetail},domProps:{value:i.evacontent},on:{input:function(t){t.target.composing||e.$set(i,"evacontent",t.target.value)}}})]):e._l(i.childbean,(function(i,s){return t("li",[t("p",[e._v(e._s(i.title))]),t("div",e._l(i.itemlist,(function(o){return t("span",{class:{noclick:e.showDetail},on:{click:function(t){return e.check(o,a,s)}}},[t("input",{staticClass:"radio",attrs:{type:"radio",name:i.id,disabled:e.showDetail},domProps:{value:o.evascore,checked:o.checkflag}}),e._v(e._s(o.content))])})),0)])}))],2)])})),0)]),t("div",{staticClass:"advise"},[e._m(0),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.advise,expression:"advise"}],attrs:{placeholder:"请填写您的建议或意见...",disabled:e.showDetail},domProps:{value:e.advise},on:{focus:e.textareaFocus,blur:e.textareaBlur,input:function(t){t.target.composing||(e.advise=t.target.value)}}})])]),e.noContent?t("no-content"):e._e()],1)},s=[function(){var e=this,t=e._self._c;return t("p",[t("span",{staticStyle:{color:"red"}},[e._v("*")]),e._v(" 意见和建议（必填）")])}],o=(i(70560),i(22760)),n=i(68934),r=i(84622),u=i(63822),c={name:"rd_evaluate_score",components:{cHeader:o.Z,noContent:r.Z},data(){return{deptid:"",showDetail:!1,showEvaluate:!1,hospital:"哈医大附四院",title:"哈医大附四院护士长对护培生师评价表",answer:[],evaluationList:[],checkedlist:[],date:"",recommend:"",advise:"",detaillist:[],noContent:!1,type:"",issubmit:!1}},computed:{...(0,u.rn)(["turninfo"])},mounted(){let e=this;0==e.$route.query.booking?(e.showDetail=!0,e.queryevaluateditems(12)):1!=e.$route.query.booking&&1!=e.$route.query.message||(e.showEvaluate=!0,e.evaluateScore(12)),e.registerToNative("goBack",(function(t){e.back()}))},methods:{...n.Z,...(0,u.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast"]),submit:function(){let e=this,t={};e.$route.query.message?(t.evaluateid=e.$route.query.uid,t.businessid=e.$route.query.businessid):(t.evaluateid=this.turninfo.stuid,t.businessid=this.turninfo.businessid);let i=0;e.checkedlist=[],e.evaluationList.map((function(t,a,s){t.itemlist?(i++,t.itemlist.map((t=>{t.checkflag&&e.checkedlist.push({submitsourceflag:t.submitsourceflag,evaluationitemid:t.id,evascore:t.evascore,evacontent:t.content,weightratio:t.weightratio})}))):4==t.multiselect?(i++,e.checkedlist.push({submitsourceflag:t.submitsourceflag,evaluationitemid:t.id,evascore:t.evascore,evacontent:t.evacontent,weightratio:t.weightratio})):t.childbean.map((function(t,a,s){i++,t.itemlist.map((t=>{t.checkflag&&e.checkedlist.push({submitsourceflag:t.submitsourceflag,evaluationitemid:t.id,evascore:t.evascore,evacontent:t.content,weightratio:t.weightratio})}))}))})),e.checkedlist.length!=i?e.toast("还有"+(i-e.checkedlist.length)+"项没有评"):""==e.advise?e.toast("请填写您的建议或意见！"):(e.issubmit=!0,e.post("/turnevaluate/submitevaluate",{command:"turnevaluate/submitevaluate",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),uid:$.cookie("uid"),advise:e.advise,type:12,detaillist:e.checkedlist,...t}).done((function(t){e.issubmit=!1,"0"==t.errcode?e.$route.query.message?e.changestatu():(e.toast("提交成功！"),setTimeout((function(){window.history.back()}),2e3)):t.errdesc?e.toast(t.errdesc):e.toast("系统错误，请联系管理员！")})).fail((function(t){e.issubmit=!1,e.noContent=!0})))},evaluateScore:function(e){let t=this;t.post("/turnevaluate/getevaluatebytype",{command:"turnevaluate/getevaluatebytype",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),type:e}).done((function(e){t.evaluationList=e.beanlist})).fail((function(e){t.noContent=!0}))},changestatu(){let e=this;e.post("/task/updatetaskinfostate",{command:"task/updatetaskinfostate",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),sourceid:e.$route.query.taskid,predefine1:1}).done((function(t){0==t.errcode?window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex":e.toast(t.errdesc)}))},queryevaluateditems(e){let t=this;this.post("/turnevaluate/evaluateresultview",{command:"turnevaluate/evaluateresultview",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),id:t.$route.query.id,type:e,businessid:this.turninfo.businessid}).done((function(e){e&&0==e.errcode?(t.advise=e.advise,t.evaluationList=e.beanlist):t.toast(date.errdesc)}))},check(e,t,i){let a=this;a.evaluationList[t].itemlist?a.evaluationList[t].itemlist.map((e=>{e.checkflag&&(e.checkflag=0)})):a.evaluationList[t].childbean[i].itemlist.map((e=>{e.checkflag&&(e.checkflag=0)})),e.checkflag||(e.checkflag=!0)},textareaFocus(){$(".g-main").css("padding-bottom","5rem")},textareaBlur(){$(".g-main").css("padding-bottom","0")},back(){let e=this;e.showEvaluate?e.showConfirm({title:"提醒",msg:"你当前评价尚未提交保存，是否确认返回？",theme:"modal-confirm modal-white",ok:function(){e.$route.query.message?window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex":e.$router.push({name:"fdRotation_nurse_director",query:{type:e.$route.query.type,where:e.$route.query.where,date:e.$route.query.date}})},cancel:function(){}}):e.$route.query.booking&&!e.$route.query.date||"0"==e.$route.query.booking&&!e.$route.query.date?e.$router.push({name:"fdRotation_doctor_exam_date_director",query:{type:e.$route.query.type,where:e.$route.query.where,from:e.$route.query.from,booking:e.$route.query.booking}}):e.$router.push({name:"fdRotation_nurse_director",query:{type:e.$route.query.type,where:e.$route.query.where,date:e.$route.query.date}})}}},l=c,d=i(1001),h=(0,d.Z)(l,a,s,!1,null,"1c20fab4",null),v=h.exports},10745:function(e,t,i){e.exports=i.p+"static/img/icon-renwu.b85b73a3.png"},88579:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=6977.ae7a806d.js.map