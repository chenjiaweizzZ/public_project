{"version":3,"file":"static/js/8760.96cc0567.js","mappings":"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","sources":["webpack://app/./src/views/header.vue","webpack://app/src/views/header.vue","webpack://app/./src/views/header.vue?58fa","webpack://app/./src/views/header.vue?9332","webpack://app/./src/views/wxIndex/index.vue","webpack://app/./src/views/wxIndex/components/wxHome.vue","webpack://app/./src/views/wxIndex/components/components/homeMenu.vue","webpack://app/src/views/wxIndex/components/components/homeMenu.vue","webpack://app/./src/views/wxIndex/components/components/homeMenu.vue?ed80","webpack://app/./src/views/wxIndex/components/components/homeMenu.vue?bed7","webpack://app/./src/views/wxIndex/components/components/homeAssign.vue","webpack://app/src/views/wxIndex/components/components/homeAssign.vue","webpack://app/./src/views/wxIndex/components/components/homeAssign.vue?6f59","webpack://app/./src/views/wxIndex/components/components/homeAssign.vue?cdf2","webpack://app/./src/views/wxIndex/components/components/homeTeachActivities.vue","webpack://app/src/views/wxIndex/components/components/homeTeachActivities.vue","webpack://app/./src/views/wxIndex/components/components/homeTeachActivities.vue?6093","webpack://app/./src/views/wxIndex/components/components/homeTeachActivities.vue?e144","webpack://app/./src/views/wxIndex/components/components/homeTeachChart.vue","webpack://app/src/views/wxIndex/components/components/homeTeachChart.vue","webpack://app/./src/views/wxIndex/components/components/homeTeachChart.vue?2f91","webpack://app/./src/views/wxIndex/components/components/homeTeachChart.vue?1265","webpack://app/./src/views/wxIndex/components/components/homeStuChart.vue","webpack://app/src/views/wxIndex/components/components/homeStuChart.vue","webpack://app/./src/views/wxIndex/components/components/homeStuChart.vue?2e42","webpack://app/./src/views/wxIndex/components/components/homeStuChart.vue?6062","webpack://app/src/views/wxIndex/components/wxHome.vue","webpack://app/./src/views/wxIndex/components/wxHome.vue?5004","webpack://app/./src/views/wxIndex/components/wxHome.vue?133d","webpack://app/./src/views/wxIndex/components/wxMessage.vue","webpack://app/src/views/wxIndex/components/wxMessage.vue","webpack://app/./src/views/wxIndex/components/wxMessage.vue?a1ba","webpack://app/./src/views/wxIndex/components/wxMessage.vue?1cb4","webpack://app/./src/views/wxIndex/components/wxUser.vue","webpack://app/src/views/wxIndex/components/wxUser.vue","webpack://app/./src/views/wxIndex/components/wxUser.vue?104c","webpack://app/./src/views/wxIndex/components/wxUser.vue?c3fa","webpack://app/src/views/wxIndex/index.vue","webpack://app/./src/views/wxIndex/index.vue?4e40","webpack://app/./src/views/wxIndex/index.vue?9147","webpack://app/./node_modules/charenc/charenc.js","webpack://app/./node_modules/crypt/crypt.js","webpack://app/./node_modules/echarts/index.js","webpack://app/./node_modules/echarts/lib/action/geoRoam.js","webpack://app/./node_modules/echarts/lib/action/roamHelper.js","webpack://app/./node_modules/echarts/lib/chart/bar.js","webpack://app/./node_modules/echarts/lib/chart/bar/BarSeries.js","webpack://app/./node_modules/echarts/lib/chart/bar/BarView.js","webpack://app/./node_modules/echarts/lib/chart/bar/BaseBarSeries.js","webpack://app/./node_modules/echarts/lib/chart/bar/PictorialBarSeries.js","webpack://app/./node_modules/echarts/lib/chart/bar/PictorialBarView.js","webpack://app/./node_modules/echarts/lib/chart/bar/barItemStyle.js","webpack://app/./node_modules/echarts/lib/chart/bar/helper.js","webpack://app/./node_modules/echarts/lib/chart/boxplot.js","webpack://app/./node_modules/echarts/lib/chart/boxplot/BoxplotSeries.js","webpack://app/./node_modules/echarts/lib/chart/boxplot/BoxplotView.js","webpack://app/./node_modules/echarts/lib/chart/boxplot/boxplotLayout.js","webpack://app/./node_modules/echarts/lib/chart/boxplot/boxplotVisual.js","webpack://app/./node_modules/echarts/lib/chart/candlestick.js","webpack://app/./node_modules/echarts/lib/chart/candlestick/CandlestickSeries.js","webpack://app/./node_modules/echarts/lib/chart/candlestick/CandlestickView.js","webpack://app/./node_modules/echarts/lib/chart/candlestick/candlestickLayout.js","webpack://app/./node_modules/echarts/lib/chart/candlestick/candlestickVisual.js","webpack://app/./node_modules/echarts/lib/chart/candlestick/preprocessor.js","webpack://app/./node_modules/echarts/lib/chart/custom.js","webpack://app/./node_modules/echarts/lib/chart/effectScatter.js","webpack://app/./node_modules/echarts/lib/chart/effectScatter/EffectScatterSeries.js","webpack://app/./node_modules/echarts/lib/chart/effectScatter/EffectScatterView.js","webpack://app/./node_modules/echarts/lib/chart/funnel.js","webpack://app/./node_modules/echarts/lib/chart/funnel/FunnelSeries.js","webpack://app/./node_modules/echarts/lib/chart/funnel/FunnelView.js","webpack://app/./node_modules/echarts/lib/chart/funnel/funnelLayout.js","webpack://app/./node_modules/echarts/lib/chart/gauge.js","webpack://app/./node_modules/echarts/lib/chart/gauge/GaugeSeries.js","webpack://app/./node_modules/echarts/lib/chart/gauge/GaugeView.js","webpack://app/./node_modules/echarts/lib/chart/gauge/PointerPath.js","webpack://app/./node_modules/echarts/lib/chart/graph.js","webpack://app/./node_modules/echarts/lib/chart/graph/GraphSeries.js","webpack://app/./node_modules/echarts/lib/chart/graph/GraphView.js","webpack://app/./node_modules/echarts/lib/chart/graph/adjustEdge.js","webpack://app/./node_modules/echarts/lib/chart/graph/categoryFilter.js","webpack://app/./node_modules/echarts/lib/chart/graph/categoryVisual.js","webpack://app/./node_modules/echarts/lib/chart/graph/circularLayout.js","webpack://app/./node_modules/echarts/lib/chart/graph/circularLayoutHelper.js","webpack://app/./node_modules/echarts/lib/chart/graph/createView.js","webpack://app/./node_modules/echarts/lib/chart/graph/edgeVisual.js","webpack://app/./node_modules/echarts/lib/chart/graph/forceHelper.js","webpack://app/./node_modules/echarts/lib/chart/graph/forceLayout.js","webpack://app/./node_modules/echarts/lib/chart/graph/graphAction.js","webpack://app/./node_modules/echarts/lib/chart/graph/simpleLayout.js","webpack://app/./node_modules/echarts/lib/chart/graph/simpleLayoutHelper.js","webpack://app/./node_modules/echarts/lib/chart/heatmap.js","webpack://app/./node_modules/echarts/lib/chart/heatmap/HeatmapLayer.js","webpack://app/./node_modules/echarts/lib/chart/heatmap/HeatmapSeries.js","webpack://app/./node_modules/echarts/lib/chart/heatmap/HeatmapView.js","webpack://app/./node_modules/echarts/lib/chart/helper/EffectLine.js","webpack://app/./node_modules/echarts/lib/chart/helper/EffectPolyline.js","webpack://app/./node_modules/echarts/lib/chart/helper/EffectSymbol.js","webpack://app/./node_modules/echarts/lib/chart/helper/LargeLineDraw.js","webpack://app/./node_modules/echarts/lib/chart/helper/LargeSymbolDraw.js","webpack://app/./node_modules/echarts/lib/chart/helper/Line.js","webpack://app/./node_modules/echarts/lib/chart/helper/LineDraw.js","webpack://app/./node_modules/echarts/lib/chart/helper/LinePath.js","webpack://app/./node_modules/echarts/lib/chart/helper/Polyline.js","webpack://app/./node_modules/echarts/lib/chart/helper/WhiskerBoxDraw.js","webpack://app/./node_modules/echarts/lib/chart/helper/createGraphFromNodeEdge.js","webpack://app/./node_modules/echarts/lib/chart/helper/whiskerBoxCommon.js","webpack://app/./node_modules/echarts/lib/chart/lines.js","webpack://app/./node_modules/echarts/lib/chart/lines/LinesSeries.js","webpack://app/./node_modules/echarts/lib/chart/lines/LinesView.js","webpack://app/./node_modules/echarts/lib/chart/lines/linesLayout.js","webpack://app/./node_modules/echarts/lib/chart/lines/linesVisual.js","webpack://app/./node_modules/echarts/lib/chart/map.js","webpack://app/./node_modules/echarts/lib/chart/map/MapSeries.js","webpack://app/./node_modules/echarts/lib/chart/map/MapView.js","webpack://app/./node_modules/echarts/lib/chart/map/backwardCompat.js","webpack://app/./node_modules/echarts/lib/chart/map/mapDataStatistic.js","webpack://app/./node_modules/echarts/lib/chart/map/mapSymbolLayout.js","webpack://app/./node_modules/echarts/lib/chart/map/mapVisual.js","webpack://app/./node_modules/echarts/lib/chart/parallel.js","webpack://app/./node_modules/echarts/lib/chart/parallel/ParallelSeries.js","webpack://app/./node_modules/echarts/lib/chart/parallel/ParallelView.js","webpack://app/./node_modules/echarts/lib/chart/parallel/parallelVisual.js","webpack://app/./node_modules/echarts/lib/chart/pictorialBar.js","webpack://app/./node_modules/echarts/lib/chart/radar.js","webpack://app/./node_modules/echarts/lib/chart/radar/RadarSeries.js","webpack://app/./node_modules/echarts/lib/chart/radar/RadarView.js","webpack://app/./node_modules/echarts/lib/chart/radar/backwardCompat.js","webpack://app/./node_modules/echarts/lib/chart/radar/radarLayout.js","webpack://app/./node_modules/echarts/lib/chart/sankey.js","webpack://app/./node_modules/echarts/lib/chart/sankey/SankeySeries.js","webpack://app/./node_modules/echarts/lib/chart/sankey/SankeyView.js","webpack://app/./node_modules/echarts/lib/chart/sankey/sankeyLayout.js","webpack://app/./node_modules/echarts/lib/chart/sankey/sankeyVisual.js","webpack://app/./node_modules/echarts/lib/chart/scatter.js","webpack://app/./node_modules/echarts/lib/chart/scatter/ScatterSeries.js","webpack://app/./node_modules/echarts/lib/chart/scatter/ScatterView.js","webpack://app/./node_modules/echarts/lib/chart/themeRiver.js","webpack://app/./node_modules/echarts/lib/chart/themeRiver/ThemeRiverSeries.js","webpack://app/./node_modules/echarts/lib/chart/themeRiver/ThemeRiverView.js","webpack://app/./node_modules/echarts/lib/chart/themeRiver/themeRiverLayout.js","webpack://app/./node_modules/echarts/lib/chart/themeRiver/themeRiverVisual.js","webpack://app/./node_modules/echarts/lib/chart/tree.js","webpack://app/./node_modules/echarts/lib/chart/tree/TreeSeries.js","webpack://app/./node_modules/echarts/lib/chart/tree/TreeView.js","webpack://app/./node_modules/echarts/lib/chart/tree/commonLayout.js","webpack://app/./node_modules/echarts/lib/chart/tree/layoutHelper.js","webpack://app/./node_modules/echarts/lib/chart/tree/orthogonalLayout.js","webpack://app/./node_modules/echarts/lib/chart/tree/radialLayout.js","webpack://app/./node_modules/echarts/lib/chart/tree/traversalHelper.js","webpack://app/./node_modules/echarts/lib/chart/tree/treeAction.js","webpack://app/./node_modules/echarts/lib/chart/treemap.js","webpack://app/./node_modules/echarts/lib/chart/treemap/Breadcrumb.js","webpack://app/./node_modules/echarts/lib/chart/treemap/TreemapSeries.js","webpack://app/./node_modules/echarts/lib/chart/treemap/TreemapView.js","webpack://app/./node_modules/echarts/lib/chart/treemap/helper.js","webpack://app/./node_modules/echarts/lib/chart/treemap/treemapAction.js","webpack://app/./node_modules/echarts/lib/chart/treemap/treemapLayout.js","webpack://app/./node_modules/echarts/lib/chart/treemap/treemapVisual.js","webpack://app/./node_modules/echarts/lib/component/angleAxis.js","webpack://app/./node_modules/echarts/lib/component/axisPointer/PolarAxisPointer.js","webpack://app/./node_modules/echarts/lib/component/axisPointer/SingleAxisPointer.js","webpack://app/./node_modules/echarts/lib/component/axis/AngleAxisView.js","webpack://app/./node_modules/echarts/lib/component/axis/ParallelAxisView.js","webpack://app/./node_modules/echarts/lib/component/axis/RadiusAxisView.js","webpack://app/./node_modules/echarts/lib/component/axis/SingleAxisView.js","webpack://app/./node_modules/echarts/lib/component/axis/parallelAxisAction.js","webpack://app/./node_modules/echarts/lib/component/axis/singleAxisHelper.js","webpack://app/./node_modules/echarts/lib/component/brush.js","webpack://app/./node_modules/echarts/lib/component/brush/BrushModel.js","webpack://app/./node_modules/echarts/lib/component/brush/BrushView.js","webpack://app/./node_modules/echarts/lib/component/brush/brushAction.js","webpack://app/./node_modules/echarts/lib/component/brush/preprocessor.js","webpack://app/./node_modules/echarts/lib/component/brush/selector.js","webpack://app/./node_modules/echarts/lib/component/brush/visualEncoding.js","webpack://app/./node_modules/echarts/lib/component/calendar.js","webpack://app/./node_modules/echarts/lib/component/calendar/CalendarView.js","webpack://app/./node_modules/echarts/lib/component/dataZoom.js","webpack://app/./node_modules/echarts/lib/component/dataZoomSelect.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/AxisProxy.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/DataZoomModel.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/DataZoomView.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/InsideZoomModel.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/InsideZoomView.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/SelectZoomModel.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/SelectZoomView.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/SliderZoomModel.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/SliderZoomView.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/dataZoomAction.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/dataZoomProcessor.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/helper.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/history.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/roams.js","webpack://app/./node_modules/echarts/lib/component/dataZoom/typeDefaulter.js","webpack://app/./node_modules/echarts/lib/component/geo.js","webpack://app/./node_modules/echarts/lib/component/geo/GeoView.js","webpack://app/./node_modules/echarts/lib/component/graphic.js","webpack://app/./node_modules/echarts/lib/component/grid.js","webpack://app/./node_modules/echarts/lib/component/helper/BrushController.js","webpack://app/./node_modules/echarts/lib/component/helper/BrushTargetManager.js","webpack://app/./node_modules/echarts/lib/component/helper/MapDraw.js","webpack://app/./node_modules/echarts/lib/component/helper/RoamController.js","webpack://app/./node_modules/echarts/lib/component/helper/brushHelper.js","webpack://app/./node_modules/echarts/lib/component/helper/cursorHelper.js","webpack://app/./node_modules/echarts/lib/component/helper/interactionMutex.js","webpack://app/./node_modules/echarts/lib/component/helper/roamHelper.js","webpack://app/./node_modules/echarts/lib/component/helper/sliderMove.js","webpack://app/./node_modules/echarts/lib/component/legendScroll.js","webpack://app/./node_modules/echarts/lib/component/legend/ScrollableLegendModel.js","webpack://app/./node_modules/echarts/lib/component/legend/ScrollableLegendView.js","webpack://app/./node_modules/echarts/lib/component/legend/scrollableLegendAction.js","webpack://app/./node_modules/echarts/lib/component/markArea.js","webpack://app/./node_modules/echarts/lib/component/markLine.js","webpack://app/./node_modules/echarts/lib/component/markPoint.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkAreaModel.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkAreaView.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkLineModel.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkLineView.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkPointModel.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkPointView.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkerModel.js","webpack://app/./node_modules/echarts/lib/component/marker/MarkerView.js","webpack://app/./node_modules/echarts/lib/component/marker/markerHelper.js","webpack://app/./node_modules/echarts/lib/component/parallel.js","webpack://app/./node_modules/echarts/lib/component/parallelAxis.js","webpack://app/./node_modules/echarts/lib/component/polar.js","webpack://app/./node_modules/echarts/lib/component/radar.js","webpack://app/./node_modules/echarts/lib/component/radar/RadarView.js","webpack://app/./node_modules/echarts/lib/component/radiusAxis.js","webpack://app/./node_modules/echarts/lib/component/singleAxis.js","webpack://app/./node_modules/echarts/lib/component/timeline.js","webpack://app/./node_modules/echarts/lib/component/timeline/SliderTimelineModel.js","webpack://app/./node_modules/echarts/lib/component/timeline/SliderTimelineView.js","webpack://app/./node_modules/echarts/lib/component/timeline/TimelineAxis.js","webpack://app/./node_modules/echarts/lib/component/timeline/TimelineModel.js","webpack://app/./node_modules/echarts/lib/component/timeline/TimelineView.js","webpack://app/./node_modules/echarts/lib/component/timeline/preprocessor.js","webpack://app/./node_modules/echarts/lib/component/timeline/timelineAction.js","webpack://app/./node_modules/echarts/lib/component/timeline/typeDefaulter.js","webpack://app/./node_modules/echarts/lib/component/title.js","webpack://app/./node_modules/echarts/lib/component/toolbox.js","webpack://app/./node_modules/echarts/lib/component/toolbox/ToolboxModel.js","webpack://app/./node_modules/echarts/lib/component/toolbox/ToolboxView.js","webpack://app/./node_modules/echarts/lib/component/toolbox/featureManager.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/Brush.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/DataView.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/DataZoom.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/MagicType.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/Restore.js","webpack://app/./node_modules/echarts/lib/component/toolbox/feature/SaveAsImage.js","webpack://app/./node_modules/echarts/lib/component/visualMap.js","webpack://app/./node_modules/echarts/lib/component/visualMapContinuous.js","webpack://app/./node_modules/echarts/lib/component/visualMapPiecewise.js","webpack://app/./node_modules/echarts/lib/component/visualMap/ContinuousModel.js","webpack://app/./node_modules/echarts/lib/component/visualMap/ContinuousView.js","webpack://app/./node_modules/echarts/lib/component/visualMap/PiecewiseModel.js","webpack://app/./node_modules/echarts/lib/component/visualMap/PiecewiseView.js","webpack://app/./node_modules/echarts/lib/component/visualMap/VisualMapModel.js","webpack://app/./node_modules/echarts/lib/component/visualMap/VisualMapView.js","webpack://app/./node_modules/echarts/lib/component/visualMap/helper.js","webpack://app/./node_modules/echarts/lib/component/visualMap/preprocessor.js","webpack://app/./node_modules/echarts/lib/component/visualMap/typeDefaulter.js","webpack://app/./node_modules/echarts/lib/component/visualMap/visualEncoding.js","webpack://app/./node_modules/echarts/lib/component/visualMap/visualMapAction.js","webpack://app/./node_modules/echarts/lib/coord/View.js","webpack://app/./node_modules/echarts/lib/coord/calendar/Calendar.js","webpack://app/./node_modules/echarts/lib/coord/calendar/CalendarModel.js","webpack://app/./node_modules/echarts/lib/coord/calendar/prepareCustom.js","webpack://app/./node_modules/echarts/lib/coord/cartesian/prepareCustom.js","webpack://app/./node_modules/echarts/lib/coord/geo/Geo.js","webpack://app/./node_modules/echarts/lib/coord/geo/GeoModel.js","webpack://app/./node_modules/echarts/lib/coord/geo/fix/diaoyuIsland.js","webpack://app/./node_modules/echarts/lib/coord/geo/fix/geoCoord.js","webpack://app/./node_modules/echarts/lib/coord/geo/fix/nanhai.js","webpack://app/./node_modules/echarts/lib/coord/geo/fix/textCoord.js","webpack://app/./node_modules/echarts/lib/coord/geo/geoCreator.js","webpack://app/./node_modules/echarts/lib/coord/geo/prepareCustom.js","webpack://app/./node_modules/echarts/lib/coord/parallel/AxisModel.js","webpack://app/./node_modules/echarts/lib/coord/parallel/Parallel.js","webpack://app/./node_modules/echarts/lib/coord/parallel/ParallelAxis.js","webpack://app/./node_modules/echarts/lib/coord/parallel/ParallelModel.js","webpack://app/./node_modules/echarts/lib/coord/parallel/parallelCreator.js","webpack://app/./node_modules/echarts/lib/coord/parallel/parallelPreprocessor.js","webpack://app/./node_modules/echarts/lib/coord/polar/AngleAxis.js","webpack://app/./node_modules/echarts/lib/coord/polar/AxisModel.js","webpack://app/./node_modules/echarts/lib/coord/polar/Polar.js","webpack://app/./node_modules/echarts/lib/coord/polar/PolarModel.js","webpack://app/./node_modules/echarts/lib/coord/polar/RadiusAxis.js","webpack://app/./node_modules/echarts/lib/coord/polar/polarCreator.js","webpack://app/./node_modules/echarts/lib/coord/polar/prepareCustom.js","webpack://app/./node_modules/echarts/lib/coord/radar/IndicatorAxis.js","webpack://app/./node_modules/echarts/lib/coord/radar/Radar.js","webpack://app/./node_modules/echarts/lib/coord/radar/RadarModel.js","webpack://app/./node_modules/echarts/lib/coord/single/AxisModel.js","webpack://app/./node_modules/echarts/lib/coord/single/Single.js","webpack://app/./node_modules/echarts/lib/coord/single/SingleAxis.js","webpack://app/./node_modules/echarts/lib/coord/single/prepareCustom.js","webpack://app/./node_modules/echarts/lib/coord/single/singleCreator.js","webpack://app/./node_modules/echarts/lib/data/Graph.js","webpack://app/./node_modules/echarts/lib/data/Tree.js","webpack://app/./node_modules/echarts/lib/data/helper/linkList.js","webpack://app/./node_modules/echarts/lib/lang.js","webpack://app/./node_modules/echarts/lib/layout/barGrid.js","webpack://app/./node_modules/echarts/lib/layout/barPolar.js","webpack://app/./node_modules/echarts/lib/util/animation.js","webpack://app/./node_modules/echarts/lib/util/array/nest.js","webpack://app/./node_modules/echarts/lib/visual/VisualMapping.js","webpack://app/./node_modules/echarts/lib/visual/visualDefault.js","webpack://app/./node_modules/echarts/lib/visual/visualSolution.js","webpack://app/./node_modules/is-buffer/index.js","webpack://app/./node_modules/md5/md5.js","webpack://app/./node_modules/zrender/lib/core/arrayDiff2.js","webpack://app/./node_modules/zrender/lib/svg/Painter.js","webpack://app/./node_modules/zrender/lib/svg/core.js","webpack://app/./node_modules/zrender/lib/svg/graphic.js","webpack://app/./node_modules/zrender/lib/svg/helper/ClippathManager.js","webpack://app/./node_modules/zrender/lib/svg/helper/Definable.js","webpack://app/./node_modules/zrender/lib/svg/helper/GradientManager.js","webpack://app/./node_modules/zrender/lib/svg/svg.js","webpack://app/./node_modules/zrender/lib/vml/Painter.js","webpack://app/./node_modules/zrender/lib/vml/core.js","webpack://app/./node_modules/zrender/lib/vml/graphic.js","webpack://app/./node_modules/zrender/lib/vml/vml.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"header\",attrs:{\"id\":\"header\"}},[_vm._t(\"headerLeft\",function(){return [_c('a',{staticClass:\"header-back-btn\",on:{\"click\":function($event){return _vm.back()}}},[_c('img',{attrs:{\"src\":require(\"../assets/images/icon_fanhui.png\")}})])]}),_c('div',{staticClass:\"header-center-blank\"}),_c('div',{staticClass:\"header-center\"},[_vm._t(\"default\",function(){return [_vm._v(_vm._s(_vm.title))]})],2),_vm._t(\"headerRight\")],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div id=\"header\" class=\"header\">\r\n        <slot name=\"headerLeft\">\r\n            <a @click=\"back()\" class=\"header-back-btn\"><img src=\"../assets/images/icon_fanhui.png\"></a>\r\n        </slot>\r\n        <div class=\"header-center-blank\"></div>\r\n        <div class=\"header-center\">\r\n            <slot>{{title}}</slot>\r\n        </div>\r\n        <slot name=\"headerRight\"></slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import $ from 'jquery';\r\n    import methods from '../methods';\r\n\r\n    import { mapState, mapActions } from 'vuex';\r\n\r\n    export default {\r\n        props: ['title'],\r\n        data() {\r\n            return {\r\n                // isWeiXin: navigator.userAgent.toLowerCase().indexOf('micromessenger') !== -1\r\n            }\r\n        },\r\n        created() { },\r\n        mounted() { },\r\n        computed: mapState([\r\n            'loginUser'\r\n        ]),\r\n        methods: {\r\n            ...mapActions([\r\n                'showAlert',\r\n                'showLoading',\r\n                'hideLoading',\r\n                'toast'\r\n            ]),\r\n            ...methods,\r\n            back() {\r\n                this.$router.go(-1);\r\n            }\r\n        }\r\n    }\r\n\r\n</script>\r\n<style>\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=131f69dc\"\nimport script from \"./header.vue?vue&type=script&lang=js\"\nexport * from \"./header.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wxIndex\"},[(_vm.active == 0)?_c('wx-home'):_vm._e(),_c('wx-message',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 1),expression:\"active == 1\"}],on:{\"getUnread\":_vm.getUnread}}),_c('wx-user',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.active == 2),expression:\"active == 2\"}]}),_c('van-tabbar',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tabbar-item',{scopedSlots:_vm._u([{key:\"icon\",fn:function(props){return _c('img',{attrs:{\"src\":props.active ? _vm.icon.homeActive : _vm.icon.home}})}}])},[_c('span',[_vm._v(\"首页\")])]),_c('van-tabbar-item',{attrs:{\"icon\":\"chat-o\",\"badge\":_vm.msgNum},scopedSlots:_vm._u([{key:\"icon\",fn:function(props){return _c('img',{attrs:{\"src\":props.active ? _vm.icon.messageActive : _vm.icon.message}})}}])},[_c('span',[_vm._v(\"消息\")])]),_c('van-tabbar-item',{attrs:{\"icon\":\"user-o\"},scopedSlots:_vm._u([{key:\"icon\",fn:function(props){return _c('img',{attrs:{\"src\":props.active ? _vm.icon.userActive : _vm.icon.user}})}}])},[_c('span',[_vm._v(\"我的\")])])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wxHome\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.role == 9),expression:\"role == 9\"}],staticClass:\"userInfoStudent\"},[_c('img',{staticClass:\"bgImg\",attrs:{\"src\":require(\"../../../assets/images/index-bg4.png\")}})]),(_vm.role == 1)?_c('home-teach-chart'):_vm._e(),(_vm.role == 2)?_c('home-stu-chart'):_vm._e(),_c('home-menu',{attrs:{\"appList\":_vm.appList}}),_c('home-assign'),_c('home-teach-activities',{attrs:{\"appList\":_vm.appList}}),_c('div',{staticStyle:{\"height\":\"50px\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu\"},[(_vm.appList.length> 0)?_c('div',{staticClass:\"applicationGroup\"},_vm._l((_vm.appList.slice(0, 12)),function(item,index){return _c('div',{key:index,staticClass:\"applicationChild\"},[_c('div',{staticClass:\"applicationChild_item\",on:{\"click\":function($event){return _vm.toPage(item)}}},[_c('img',{staticClass:\"img-responsive\",attrs:{\"src\":item.ico,\"alt\":\"\"}}),_c('span',{staticClass:\"fsub\"},[_vm._v(_vm._s(item.name))])])])}),0):_c('div',{staticClass:\"appNodata\"},[_vm._v(\"—  暂无功能  —\")]),(_vm.appList.length> 0)?_c('div',{staticClass:\"moreView\"},[_c('span',{staticClass:\"btnBox\"},[_c('span',{staticClass:\"viewTitle\",on:{\"click\":_vm.skipApp}},[_vm._v(\"查看更多\")]),_c('span',{staticClass:\"arrow-right\"})])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"menu\">\r\n    <div class=\"applicationGroup\" v-if='appList.length> 0'>\r\n      <div v-for=\"(item,index) in appList.slice(0, 12)\" :key=\"index\" class=\"applicationChild\">\r\n        <div class=\"applicationChild_item\" @click=\"toPage(item)\">\r\n          <img :src=\"item.ico\" alt class=\"img-responsive\" />\r\n          <span class=\"fsub\">{{item.name}}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"appNodata\" v-else>—&nbsp;&nbsp;暂无功能&nbsp;&nbsp;—</div>\r\n    <div class=\"moreView\" v-if='appList.length> 0'>\r\n      <span class=\"btnBox\">\r\n        <span class=\"viewTitle\" @click=\"skipApp\">查看更多</span>\r\n        <span class=\"arrow-right\"></span>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport methods from \"@/methods\";\r\nexport default {\r\n  name: \"homemenu\",\r\n  data() {\r\n    return {\r\n    \r\n    };\r\n  },\r\n  props: {\r\n      appList: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n    },\r\n  methods: {\r\n    ...methods,\r\n    toPage(item) {\r\n      localStorage.setItem(\"menuId\", item.id);\r\n      localStorage.setItem(\"oprateMenu\", JSON.stringify(item.children));\r\n      if (item.url == \"/advancedapp/trainingRotation/graduationAppraisal\") {\r\n        this.ifAdPass(item);\r\n      } else {\r\n        console.log()\r\n        if (item.url.indexOf(\"?\") != -1) {\r\n          location.href = item.url + \"&token=\" + localStorage.getItem(\"token\");\r\n        } else {\r\n          location.href =  item.url + \"?token=\" + localStorage.getItem(\"token\");\r\n        }\r\n      }\r\n    },\r\n    skipApp() {\r\n      // location.href = \"/pages/futuredoctorapp/todo.html?view=application\";\r\n      // this.$router.push({\r\n      //   name: \"wxMenu\",\r\n      // })\r\n        this.$router.push({\r\n        name: \"wxMenu\",\r\n        });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.applicationGroup {\r\n    overflow: hidden;\r\n    padding: 14px 14px 0px 14px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    background-color: #ffffff;\r\n    .applicationChild {\r\n      width: 25%;\r\n      text-align: center;\r\n      padding-bottom: 8px;\r\n      .applicationChild_item {\r\n        width: 80%;\r\n        margin: 0 auto;\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        img {\r\n          display: block;\r\n          max-width: 100%;\r\n          width: 48px;\r\n          height: 48px;\r\n        }\r\n        .fsub {\r\n          font-size: 13px;\r\n          color: #444444;\r\n          letter-spacing: 0.19px;\r\n          text-align: center;\r\n          font-weight: 400;\r\n          margin-top: 10px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .moreView {\r\n    height: 34px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: #ffffff;\r\n    margin-bottom: 10px;\r\n    .btnBox {\r\n      opacity: 0.8;\r\n      border: 1px solid rgba(123, 149, 177, 1);\r\n      height: 18px;\r\n      width: 78px;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      border-radius: 10px;\r\n      .viewTitle {\r\n        line-height: 18px;\r\n        font-size: 12px;\r\n        color: #7b95b1;\r\n        font-weight: 400;\r\n      }\r\n      .arrow-right {\r\n        height: 20px;\r\n        width: 10px;\r\n        display: inline-block;\r\n        position: relative;\r\n      }\r\n      .arrow-right::after {\r\n        content: \"\";\r\n        height: 7px;\r\n        width: 7px;\r\n        top: 6px;\r\n        border-width: 1px 1px 0 0;\r\n        border-color: #7b95b1;\r\n        border-style: solid;\r\n        transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\r\n        position: absolute;\r\n      }\r\n    }\r\n  }\r\n  .appNodata {\r\n    height: 102px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 16px;\r\n    color: #868e97;\r\n    text-align: center;\r\n    line-height: 22px;\r\n    font-weight: 400;\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeMenu.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeMenu.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeMenu.vue?vue&type=template&id=4ba9447b&scoped=true\"\nimport script from \"./homeMenu.vue?vue&type=script&lang=js\"\nexport * from \"./homeMenu.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeMenu.vue?vue&type=style&index=0&id=4ba9447b&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4ba9447b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"homeAssign\"},[_c('div',{staticClass:\"matterWaiting\"},[_c('div',{staticClass:\"topTitle\"},[_c('span',{staticClass:\"topTitleLeft\"},[_vm._v(\"待办事项\")]),_c('span',{staticClass:\"topTitleRight\"},[_c('span',{staticClass:\"topTitleRightTitle\",on:{\"click\":_vm.skipTask}},[_vm._v(\"更多\")]),_c('span',{staticClass:\"arrow-right\"})])]),(_vm.matterList.length > 0)?_c('div',{staticClass:\"matterWaitingContentList\"},[_c('img',{staticClass:\"waiting-bg\",attrs:{\"src\":require(\"../../../../assets/images/index-waiting-bg.png\")}}),_vm._l((_vm.matterList),function(item,index){return _c('div',{key:index,staticClass:\"matterWaitingContent\",on:{\"click\":function($event){return _vm.skip1(item)}}},[(item.read == 0)?_c('img',{attrs:{\"src\":require(\"../../../../assets/images/index-unread.png\")}}):_c('img',{attrs:{\"src\":require(\"../../../../assets/images/index-read.png\")}}),_c('span',{staticClass:\"matterContent\",class:{ contentRead: item.read == 1 }},[_vm._v(_vm._s(item.taskname))])])})],2):_c('div',{staticClass:\"matterWaitingNoData\"},[_vm._v(\"—  暂无待办  —\")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"homeAssign\">\r\n    <div class=\"matterWaiting\">\r\n      <div class=\"topTitle\">\r\n        <span class=\"topTitleLeft\">待办事项</span>\r\n        <span class=\"topTitleRight\">\r\n          <span class=\"topTitleRightTitle\" @click=\"skipTask\">更多</span>\r\n          <span class=\"arrow-right\"></span>\r\n        </span>\r\n      </div>\r\n      <div class=\"matterWaitingContentList\" v-if=\"matterList.length > 0\">\r\n        <img src=\"../../../../assets/images/index-waiting-bg.png\" class=\"waiting-bg\" />\r\n        <div class=\"matterWaitingContent\" v-for=\"(item, index) in matterList\" :key=\"index\" @click=\"skip1(item)\">\r\n          <img src=\"../../../../assets/images/index-unread.png\" v-if=\"item.read == 0\" />\r\n          <img src=\"../../../../assets/images/index-read.png\" v-else />\r\n          <span class=\"matterContent\" :class=\"{ contentRead: item.read == 1 }\">{{ item.taskname }}</span>\r\n        </div>\r\n      </div>\r\n      <div class=\"matterWaitingNoData\" v-else>—&nbsp;&nbsp;暂无待办&nbsp;&nbsp;—</div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport methods from \"@/methods\";\r\nexport default {\r\n  name: \"homeAssign\",\r\n\r\n  data() {\r\n    return {\r\n      matterList: []\r\n    };\r\n  },\r\n  mounted() { },\r\n  created() {\r\n    this.getWaitingList()\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    getWaitingList() {\r\n      let self = this;\r\n      self\r\n        .post(\"/task/queryusertaskinfo\", {\r\n          command: \"task/queryusertaskinfo\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          uid: $.cookie(\"uid\"),\r\n          page: 1,\r\n          reqnum: 3,\r\n          showendtime: \"\",\r\n          showstarttime: \"\",\r\n          state: 0,\r\n          taskname: \"\",\r\n          tasktype: \"\",\r\n          filterTasktypeList: [\"19\"]\r\n        })\r\n        .done(function (res) {\r\n          self.matterList = res.tasklist;\r\n        });\r\n    },\r\n    skipTask() {\r\n      // this.$router.push({\r\n      //   name: \"wxTodo\",\r\n      // });\r\n      window.location.href =\r\n        \"/pages/futuredoctorapp/index.html/#/wxIndex\";\r\n      // location.href = \"/pages/futuredoctorapp/todo.html?view=task\";\r\n      // if(this.$route.query.stem) {\r\n      //   this.$router.push({\r\n      //   name: \"wxMenu\",\r\n      //   });\r\n      // }else {\r\n      //   this.$router.push({\r\n      //   name: \"wxIndex\",\r\n      //   });\r\n      // }\r\n    },\r\n    skip1(param) {\r\n      let self = this;\r\n      self\r\n        .post(\"/task/readUserTask\", {\r\n          command: \"task/readUserTask\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          uid: $.cookie(\"uid\"),\r\n          id: param.id\r\n        })\r\n        .done(function (res) { });\r\n      self\r\n        .post(\"/commparaconf/querycommparaconflist\", {\r\n          command: \"commparaconf/querycommparaconflist\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          paramcode: \"appHomePageMenusId\",\r\n          paramvalue: param.tasktype\r\n        })\r\n        .done(res => {\r\n          localStorage.setItem(\"menuId\", res.commparaconflist[0].param1);\r\n          if (param.tasktype == 14) this.gototurn14(param);\r\n          else if (param.tasktype == 15) this.gototurn15(param);\r\n          else if (param.tasktype == 16) this.gototurn16(param);\r\n          else if (param.tasktype == 17) this.gototurn17(param);\r\n          else if (param.tasktype == 19)\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" + param.taskurl + \"&ishistory=false\";\r\n          //+\"&id=\" + param.id\r\n          else if (param.tasktype == 20)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          //反馈\r\n          else if (param.tasktype == 21)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          //实习生评价老师\r\n          else if (param.tasktype == 22)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          //出科考核\r\n          else if (param.tasktype == 23)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 24)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 27)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          // 出科考核\r\n          else if (param.tasktype == 28)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 29)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          // 实习生出科考核\r\n          else if (param.tasktype == 33)\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" +\r\n              param.taskurl +\r\n              \"?predefine5=\" +\r\n              param.predefine5;\r\n          else if (\r\n            param.tasktype == 31 ||\r\n            param.tasktype == 32 ||\r\n            param.tasktype == 30\r\n          )\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 18)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 34)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n          else if (param.tasktype == 7)\r\n            window.location.href = \"/pages/futuredoctorapp/\" + param.taskurl;\r\n        });\r\n    },\r\n    gototurn15(param) {\r\n      let self = this;\r\n      let data = {\r\n        command: \"commparaconf/queryCommparaConfList\",\r\n        loginid: $.cookie(\"uid\"),\r\n        sessionid: $.cookie(\"sid\"),\r\n        paramcode: \"ck_settings\",\r\n        paramvalue: \"7\"\r\n      };\r\n\r\n      self.post(\"/commparaconf/queryCommparaConfList\", data).done(res => {\r\n        if (\r\n          Array.isArray(res.commparaConfList) &&\r\n          res.commparaConfList.length > 0\r\n        ) {\r\n          let pjTime =\r\n            new Date(param.endtime) -\r\n            Number(res.commparaConfList[0].param1) * 86400;\r\n          let nowTime = Math.round(new Date().getTime() / 1000);\r\n          if (pjTime > nowTime) {\r\n            Toast(\"未到出科评价时间！\");\r\n          } else {\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" +\r\n              param.taskurl +\r\n              \"&message=1&taskid=\" +\r\n              param.id +\r\n              \"&id=\" +\r\n              param.sourceid +\r\n              \"&param=1\";\r\n          }\r\n        }\r\n      });\r\n    },\r\n    gototurn16(param) {\r\n      let self = this;\r\n      let data = {\r\n        command: \"commparaconf/queryCommparaConfList\",\r\n        loginid: $.cookie(\"uid\"),\r\n        sessionid: $.cookie(\"sid\"),\r\n        paramcode: \"ck_settings\",\r\n        paramvalue: \"7\"\r\n      };\r\n\r\n      self.post(\"/commparaconf/queryCommparaConfList\", data).done(res => {\r\n        console.log(res);\r\n        if (\r\n          Array.isArray(res.commparaConfList) &&\r\n          res.commparaConfList.length > 0\r\n        ) {\r\n          let pjTime =\r\n            new Date(param.endtime) -\r\n            Number(res.commparaConfList[0].param1) * 86400;\r\n          let nowTime = Math.round(new Date().getTime() / 1000);\r\n          if (pjTime > nowTime) {\r\n            Toast(\"未到出科评价时间！\");\r\n          } else {\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" +\r\n              param.taskurl +\r\n              \"&message=1&taskid=\" +\r\n              param.id +\r\n              \"&id=\" +\r\n              param.sourceid +\r\n              \"&param=2\";\r\n          }\r\n        }\r\n      });\r\n    },\r\n    gototurn14(param) {\r\n      let self = this;\r\n      let data = {\r\n        command: \"commparaconf/queryCommparaConfList\",\r\n        loginid: $.cookie(\"uid\"),\r\n        sessionid: $.cookie(\"sid\"),\r\n        paramcode: \"ck_settings\",\r\n        paramvalue: \"7\"\r\n      };\r\n\r\n      self.post(\"/commparaconf/queryCommparaConfList\", data).done(res => {\r\n        if (\r\n          Array.isArray(res.commparaConfList) &&\r\n          res.commparaConfList.length > 0\r\n        ) {\r\n          let pjTime =\r\n            new Date(param.endtime) -\r\n            Number(res.commparaConfList[0].param1) * 86400;\r\n          let nowTime = Math.round(new Date().getTime() / 1000);\r\n          if (pjTime > nowTime) {\r\n            Toast(\"未到出科评价时间！\");\r\n          } else {\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" +\r\n              param.taskurl +\r\n              \"&message=1&businessId=\" +\r\n              param.sourceid +\r\n              \"&taskid=\" +\r\n              param.id;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    gototurn17(param) {\r\n      let self = this;\r\n      let data = {\r\n        command: \"commparaconf/queryCommparaConfList\",\r\n        loginid: $.cookie(\"uid\"),\r\n        sessionid: $.cookie(\"sid\"),\r\n        paramcode: \"ck_settings\",\r\n        paramvalue: \"7\"\r\n      };\r\n\r\n      self.post(\"/commparaconf/queryCommparaConfList\", data).done(res => {\r\n        if (\r\n          Array.isArray(res.commparaConfList) &&\r\n          res.commparaConfList.length > 0\r\n        ) {\r\n          let pjTime =\r\n            new Date(param.endtime) -\r\n            Number(res.commparaConfList[0].param1) * 86400;\r\n          let nowTime = Math.round(new Date().getTime() / 1000);\r\n          if (pjTime > nowTime) {\r\n            Toast(\"未到出科评价时间！\");\r\n          } else {\r\n            window.location.href =\r\n              \"/pages/futuredoctorapp/\" +\r\n              param.taskurl +\r\n              \"&message=1&taskid=\" +\r\n              param.id +\r\n              \"&businessId=\" +\r\n              param.sourceid;\r\n          }\r\n        }\r\n      });\r\n    },\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.matterWaiting {\r\n  padding: 0px 14px;\r\n  background-color: #ffffff;\r\n  margin-bottom: 10px;\r\n  padding-bottom: 16px;\r\n\r\n  .topTitle {\r\n    height: 43px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n\r\n    .topTitleLeft {\r\n      font-size: 17px;\r\n      color: #444444;\r\n      font-weight: 500;\r\n    }\r\n\r\n    .topTitleRight {\r\n      .topTitleRightTitle {\r\n        font-size: 13px;\r\n        color: #999999;\r\n        letter-spacing: 0.2px;\r\n        text-align: right;\r\n        font-weight: 400;\r\n      }\r\n\r\n      .arrow-right {\r\n        height: 20px;\r\n        width: 10px;\r\n        display: inline-block;\r\n        position: relative;\r\n      }\r\n\r\n      .arrow-right::after {\r\n        content: \"\";\r\n        height: 7px;\r\n        width: 7px;\r\n        top: 11px;\r\n        border-width: 1px 1px 0 0;\r\n        border-color: #999999;\r\n        border-style: solid;\r\n        transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\r\n        position: absolute;\r\n      }\r\n    }\r\n  }\r\n\r\n  .matterWaitingContentList {\r\n    height: 120px;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: space-around;\r\n\r\n    .waiting-bg {\r\n      width: 100%;\r\n      position: absolute;\r\n    }\r\n\r\n    .matterWaitingContent {\r\n      display: flex;\r\n      align-items: center;\r\n      z-index: 1;\r\n      margin-left: 16px;\r\n\r\n      img {\r\n        width: 16px;\r\n        height: 16px;\r\n      }\r\n\r\n      .matterContent {\r\n        font-size: 15px;\r\n        color: #111111;\r\n        letter-spacing: 0.21px;\r\n        line-height: 21px;\r\n        font-weight: 400;\r\n        margin-left: 10px;\r\n\r\n        &.contentRead {\r\n          opacity: 0.6;\r\n        }\r\n      }\r\n\r\n      .matterNumber {\r\n        font-size: 15px;\r\n        color: #2f7dcd;\r\n        letter-spacing: 0.21px;\r\n        line-height: 21px;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n\r\n  .matterWaitingNoData {\r\n    height: 102px;\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    font-size: 16px;\r\n    color: #868e97;\r\n    text-align: center;\r\n    line-height: 22px;\r\n    font-weight: 400;\r\n  }\r\n}</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeAssign.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeAssign.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeAssign.vue?vue&type=template&id=3c1797d7&scoped=true\"\nimport script from \"./homeAssign.vue?vue&type=script&lang=js\"\nexport * from \"./homeAssign.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeAssign.vue?vue&type=style&index=0&id=3c1797d7&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3c1797d7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"homeTeachActivities\"},[_c('div',{staticClass:\"activityToday\"},[_c('div',{staticClass:\"topTitle\"},[_c('span',{staticClass:\"topTitleLeft\"},[_vm._v(\"今日教学活动\")]),_c('span',{staticClass:\"topTitleRight\",on:{\"click\":_vm.skipAct}},[_c('span',{staticClass:\"topTitleRightTitle\"},[_vm._v(\"更多\")]),_c('span',{staticClass:\"arrow-right\"})])]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\",\"immediate-check\":false},on:{\"load\":_vm.onload},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},[(_vm.actList.length> 0)?_c('div',{staticClass:\"actList\"},_vm._l((_vm.actList),function(item,index){return _c('span',{key:index,staticClass:\"actItem\",on:{\"click\":function($event){return _vm.skip2(item.id)}}},[_c('div',{staticClass:\"actContent\"},[_c('div',{staticClass:\"actTop\"},[_c('div',{staticClass:\"acTitle\"},[_vm._v(_vm._s(item.theme))]),_c('el-row',{staticStyle:{\"width\":\"8px\"}}),_c('el-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(item.typename))])],1),_c('div',{staticClass:\"aContent\"},[_c('div',{staticClass:\"contentText\"},[_c('div',{staticClass:\"topicText\"},[_vm._v(\"主  讲  人\")]),_c('div',{staticClass:\"subText\"},_vm._l((item.speakerlist.slice(0,3)),function(iten,indey){return _c('span',{key:indey},[_vm._v(_vm._s(iten.uname)+\" \")])}),0)]),_c('div',{staticClass:\"contentText\"},[_c('div',{staticClass:\"topicText\"},[_vm._v(\"科        室\")]),_c('div',{staticClass:\"subText\"},[_vm._v(_vm._s(item.deptname))])]),_c('div',{staticClass:\"contentText\"},[_c('div',{staticClass:\"topicText\"},[_vm._v(\"活动时间\")]),_c('div',{staticClass:\"subText\"},[_vm._v(_vm._s(_vm._f(\"getHourMinute\")(item.starttimestr))+\" - \"+_vm._s(_vm._f(\"getHourMinute\")(item.endtimestr)))])]),_c('div',{staticClass:\"contentText\"},[_c('div',{staticClass:\"topicText\"},[_vm._v(\"活动地点\")]),_c('div',{staticClass:\"subText2\"},[_vm._v(_vm._s(item.place))])])])])])}),0):_c('div',{staticClass:\"actNoData\"},[_vm._v(\"—  今日无活动  —\")])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"homeTeachActivities\">\r\n    <div class=\"activityToday\">\r\n      <div class=\"topTitle\">\r\n        <span class=\"topTitleLeft\">今日教学活动</span>\r\n        <span class=\"topTitleRight\" @click=\"skipAct\">\r\n          <span class=\"topTitleRightTitle\">更多</span>\r\n          <span class=\"arrow-right\"></span>\r\n        </span>\r\n      </div>\r\n      <van-list\r\n        v-model=\"loading\"\r\n        :finished=\"finished\"\r\n        finished-text=\"没有更多了\"\r\n        @load=\"onload\"\r\n        :immediate-check=\"false\"\r\n      >\r\n        <div class=\"actList\" v-if=\"actList.length> 0\">\r\n          <span\r\n            class=\"actItem\"\r\n            v-for=\"(item,index) in actList\"\r\n            :key=\"index\"\r\n            @click=\"skip2(item.id)\"\r\n          >\r\n            <div class=\"actContent\">\r\n              <div class=\"actTop\">\r\n                <div class=\"acTitle\">{{ item.theme }}</div>\r\n                <el-row style=\"width: 8px\"></el-row>\r\n                <el-tag type=\"primary\">{{ item.typename }}</el-tag>\r\n              </div>\r\n              <div class=\"aContent\">\r\n                <div class=\"contentText\">\r\n                  <div class=\"topicText\">主&nbsp;&nbsp;讲&nbsp;&nbsp;人</div>\r\n                  <div class=\"subText\">\r\n                    <span\r\n                      v-for=\"(iten,indey) in item.speakerlist.slice(0,3)\"\r\n                      :key=\"indey\"\r\n                    >{{ iten.uname }}&nbsp;</span>\r\n                  </div>\r\n                </div>\r\n                <div class=\"contentText\">\r\n                  <div class=\"topicText\">科&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;室</div>\r\n                  <div class=\"subText\">{{item.deptname}}</div>\r\n                </div>\r\n                <div class=\"contentText\">\r\n                  <div class=\"topicText\">活动时间</div>\r\n                  <div\r\n                    class=\"subText\"\r\n                  >{{ item.starttimestr | getHourMinute}} - {{ item.endtimestr | getHourMinute}}</div>\r\n                </div>\r\n                <div class=\"contentText\">\r\n                  <div class=\"topicText\">活动地点</div>\r\n                  <div class=\"subText2\">{{ item.place }}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </span>\r\n        </div>\r\n        <div class=\"actNoData\" v-else>—&nbsp;&nbsp;今日无活动&nbsp;&nbsp;—</div>\r\n      </van-list>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport methods from \"@/methods\";\r\nexport default {\r\n  name: \"homeTeachActivities\",\r\n  data() {\r\n    return {\r\n        loading: false,\r\n        finished: false,\r\n        actList: [],\r\n    };\r\n  },\r\n   props: {\r\n      appList: {\r\n        type: Array,\r\n        default: []\r\n      },\r\n    },\r\n  created() {\r\n    this.getPlanList()\r\n  },\r\n  filters: {\r\n    getHourMinute(time) {\r\n      let date = new Date(time);\r\n      if (date.getHours() < 10) {\r\n        let newTime = \"0\" + date.getHours() + \":\" + date.getMinutes();\r\n        return newTime;\r\n      } else {\r\n        let newTime = date.getHours() + \":\" + date.getMinutes();\r\n        return newTime;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    getPlanList() {\r\n      let self = this;\r\n      self.pageNum += 1;\r\n      self\r\n        .post(\"/actionplan/listactionplan\", {\r\n          command: \"actionplan/listactionplan\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          uid: $.cookie(\"uid\"),\r\n          autobaselist: [],\r\n          autohospitallist: [],\r\n          autoofficelist: [],\r\n          base: \"\",\r\n          beforemonthindex: -1,\r\n          clientflag: 1,\r\n          endtime: self.getTime(),\r\n          isself: \"1\",\r\n          officelist: [],\r\n          page: self.pageNum,\r\n          reqnum: 10,\r\n          speakername: \"\",\r\n          starttime: self.getTime(),\r\n          status: \"\",\r\n          statuslist: [0, 1],\r\n          type: \"\",\r\n          yearmonth: \"\",\r\n          apphomepageflag: 1\r\n        })\r\n        .done(function(res) {\r\n          if (res.result.beanlist.length < 10) {\r\n            self.actList = res.result.beanlist;\r\n            self.finished = true;\r\n            self.loading = false;\r\n          } else {\r\n            self.actList = res.result.beanlist;\r\n          }\r\n        //   if (self.userInfo.isGraduation == \"0\") {\r\n        //     self.echartsInit();\r\n        //   } else if (\r\n        //     self.userInfo.isGraduation == \"1\" ||\r\n        //     self.userInfo.isGraduation == \"2\"\r\n        //   ) {\r\n        //     self.echartsInit2();\r\n        //   } else {\r\n        //     return;\r\n        //   }\r\n        });\r\n    },\r\n    skipAct() {\r\n      this.appList.forEach(i => {\r\n          if(i.name == '教学活动计划') {\r\n             localStorage.setItem(\"oprateMenu\", JSON.stringify(i.children));\r\n             localStorage.setItem(\"menuId\", i.id);\r\n          }\r\n      })\r\n      \r\n      location.href = \"/pages/futuredoctorapp/index.html/#/action/main/list\";\r\n    },\r\n    getTime() {\r\n      var date = new Date();\r\n      let time =\r\n        date.getFullYear() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getDate();\r\n      return time;\r\n    },\r\n    onload() {\r\n      let self = this;\r\n      self.pageNum += 1;\r\n      self\r\n        .post(\"/actionplan/listactionplan\", {\r\n          command: \"actionplan/listactionplan\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          uid: $.cookie(\"uid\"),\r\n          autobaselist: [],\r\n          autohospitallist: [],\r\n          autoofficelist: [],\r\n          base: \"\",\r\n          beforemonthindex: -1,\r\n          clientflag: 1,\r\n          endtime: self.getTime(),\r\n          isself: \"1\",\r\n          officelist: [],\r\n          page: self.pageNum,\r\n          reqnum: 20,\r\n          speakername: \"\",\r\n          starttime: self.getTime(),\r\n          status: \"\",\r\n          statuslist: [0, 1],\r\n          type: \"\",\r\n          yearmonth: \"\"\r\n        })\r\n        .done(function(res) {\r\n          if (res.result.beanlist.length == 0) {\r\n            self.finished = true;\r\n            return;\r\n          }\r\n          self.actList.push(...res.result.beanlist);\r\n          self.loading = false;\r\n        });\r\n    },\r\n    skip2(id) {\r\n      let self = this;\r\n      this.appList.forEach(i => {\r\n          if(i.name == '教学活动计划') {\r\n             localStorage.setItem(\"oprateMenu\", JSON.stringify(i.children));\r\n             localStorage.setItem(\"menuId\", i.id);\r\n          }\r\n      })\r\n      this.$router.push({\r\n        name: \"fdAction_detail\",\r\n        query: {\r\n          id: id,\r\n          ishistory: false\r\n        }\r\n      });\r\n    },\r\n  }\r\n    \r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.activityToday {\r\n    padding: 0px 14px;\r\n    background-color: #ffffff;\r\n    margin-bottom: 10px;\r\n    padding-bottom: 16px;\r\n    .topTitle {\r\n      height: 43px;\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      .topTitleLeft {\r\n        font-size: 17px;\r\n        color: #444444;\r\n        font-weight: 500;\r\n      }\r\n      .topTitleRight {\r\n        .topTitleRightTitle {\r\n          font-size: 13px;\r\n          color: #999999;\r\n          letter-spacing: 0.2px;\r\n          text-align: right;\r\n          font-weight: 400;\r\n        }\r\n        .arrow-right {\r\n          height: 20px;\r\n          width: 10px;\r\n          display: inline-block;\r\n          position: relative;\r\n        }\r\n        .arrow-right::after {\r\n          content: \"\";\r\n          height: 7px;\r\n          width: 7px;\r\n          top: 11px;\r\n          border-width: 1px 1px 0 0;\r\n          border-color: #999999;\r\n          border-style: solid;\r\n          transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\r\n          position: absolute;\r\n        }\r\n      }\r\n    }\r\n    .actList {\r\n      .actItem {\r\n        margin-bottom: 8px;\r\n        height: 132px;\r\n        display: flex;\r\n        border: 0.5px solid rgba(221, 221, 221, 1);\r\n        box-shadow: 0px 2px 4px 0px rgba(0, 0, 0, 0.04);\r\n        border-radius: 3px 6px 6px 3px;\r\n        .actContent {\r\n          margin: 8px 0px 8px 19px;\r\n          width: calc(90%);\r\n          .actTop {\r\n            display: flex;\r\n            align-items: center;\r\n            padding-bottom: 8px;\r\n            max-height: 28px;\r\n            .acTitle {\r\n              font-size: 16px;\r\n              color: #111111;\r\n              letter-spacing: 0.2px;\r\n              font-weight: 500;\r\n              height: 20px;\r\n              line-height: 20px;\r\n              overflow: hidden;\r\n              text-overflow: ellipsis;\r\n              white-space: nowrap;\r\n              max-width: 280px;\r\n            }\r\n            .acTag {\r\n              margin-left: 8px;\r\n              height: 16px;\r\n              font-size: 12px;\r\n              color: #2f7dcd;\r\n              letter-spacing: 0.21px;\r\n              line-height: 14px;\r\n              font-weight: 400;\r\n              min-width: 58px;\r\n            }\r\n          }\r\n          .aContent {\r\n            height: 86px;\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: space-around;\r\n            .contentText {\r\n              display: flex;\r\n              .topicText {\r\n                width: 57px;\r\n                font-size: 14px;\r\n                color: #999999;\r\n                letter-spacing: -0.7px;\r\n                font-weight: 400;\r\n              }\r\n              .subText {\r\n                font-size: 14px;\r\n                color: #111111;\r\n                letter-spacing: 0.2px;\r\n                font-weight: 400;\r\n                padding-left: 14px;\r\n              }\r\n              .subText2 {\r\n                font-size: 14px;\r\n                color: #111111;\r\n                letter-spacing: 0.2px;\r\n                font-weight: 400;\r\n                padding-left: 14px;\r\n                display: block;\r\n                overflow: hidden;\r\n                white-space: nowrap;\r\n                text-overflow: ellipsis;\r\n                width: calc(80%);\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .actNoData {\r\n      height: 102px;\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: center;\r\n      align-items: center;\r\n      font-size: 16px;\r\n      color: #868e97;\r\n      text-align: center;\r\n      line-height: 22px;\r\n      font-weight: 400;\r\n    }\r\n    .actList span:nth-child(3n)::before {\r\n      content: \"\";\r\n      background: #056fe0;\r\n      height: 130px;\r\n      width: 3px;\r\n      border-radius: 100px 0px 0px 100px;\r\n    }\r\n    .actList span:nth-child(3n + 1)::before {\r\n      content: \"\";\r\n      background: #f9971e;\r\n      height: 130px;\r\n      width: 3px;\r\n      border-radius: 100px 0px 0px 100px;\r\n    }\r\n    .actList span:nth-child(3n + 2)::before {\r\n      content: \"\";\r\n      background: #00b4c5;\r\n      height: 130px;\r\n      width: 3px;\r\n      border-radius: 100px 0px 0px 100px;\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeTeachActivities.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeTeachActivities.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeTeachActivities.vue?vue&type=template&id=7ca0e4e2&scoped=true\"\nimport script from \"./homeTeachActivities.vue?vue&type=script&lang=js\"\nexport * from \"./homeTeachActivities.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeTeachActivities.vue?vue&type=style&index=0&id=7ca0e4e2&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7ca0e4e2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"homeTeacherChart\"},[(_vm.deptList)?_c('div',{staticClass:\"userInfoDepartment\"},[_c('img',{staticClass:\"bgImg\",attrs:{\"src\":require(\"../../../../assets/images/index-bg3.png\")}}),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"infoTop\"},[_c('div',{staticClass:\"infoTopLeft\"},[_c('div',{staticClass:\"infoDepartment\",on:{\"click\":_vm.showPicker}},[_c('span',{staticClass:\"dename\"},[_vm._v(_vm._s(_vm.deptname))]),_c('van-icon',{attrs:{\"name\":\"arrow-down\"}})],1),_c('div',{staticClass:\"infoMonth\"},[_vm._v(_vm._s(_vm.teacherCircleList.month)+\"月轮转数据\")])]),_c('div',{staticClass:\"infoTopRight\"},[_c('div',{staticClass:\"rightContent\"},[_c('div',{staticClass:\"titleR\"},[_vm._v(\"轮转总人数\")]),_c('div',{staticClass:\"numberR\"},[_c('span',{staticClass:\"nnumber\"},[_vm._v(_vm._s(_vm.teacherCircleList.turnNum))]),_c('span',{staticClass:\"dw\"},[_vm._v(\"人\")])])]),_c('div',{staticClass:\"rightContent\"},[_c('div',{staticClass:\"titleR\"},[_vm._v(\"教学活动\")]),_c('div',{staticClass:\"numberR\"},[_c('span',{staticClass:\"nnumber\"},[_vm._v(_vm._s(_vm.teacherCircleList.actNum))]),_c('span',{staticClass:\"dw\"},[_vm._v(\"次\")])])])])]),_c('div',{staticClass:\"infoBottom\"},[_vm._m(0),_c('div',{staticClass:\"infoBottomRight\"},[_c('div',{staticClass:\"infoBottomRightLineX\"},[_c('div',{staticClass:\"infoBottomRightLineY\"},[_c('div',{staticClass:\"LineYTop\"},[_vm._v(\" 待入科\"+_vm._s(_vm.teacherCircleList.inWaiting.item1)+\"人 \")]),_c('div',{staticClass:\"LineProgress\"},[_c('div',{staticClass:\"pregress-box\"},[_c('van-progress',{attrs:{\"percentage\":_vm.teacherCircleList.inWaiting.item2,\"color\":\" linear-gradient(-54deg, #0076F5 1%, #67B1FF 100%)\",\"show-pivot\":false}})],1),_c('span',{staticClass:\"percentText\"},[_vm._v(_vm._s(_vm.teacherCircleList.inWaiting.item2)+\"%\")])]),_c('div',{staticClass:\"LineYBottom\"},[_vm._v(\" 应入科: \"+_vm._s(_vm.teacherCircleList.inWaiting.item3)+\"人 \")])]),_c('div',{staticClass:\"infoBottomRightLineY\"},[_c('div',{staticClass:\"LineYTop\"},[_vm._v(\" 待分配\"+_vm._s(_vm.teacherCircleList.disWaiting.item1)+\"人 \")]),_c('div',{staticClass:\"LineProgress\"},[_c('div',{staticClass:\"pregress-box\"},[_c('van-progress',{attrs:{\"percentage\":_vm.teacherCircleList.disWaiting.item2,\"color\":\" linear-gradient(271deg, #2BBD57 10%, #7ED87D 99%)\",\"show-pivot\":false}})],1),_c('span',{staticClass:\"percentText\"},[_vm._v(_vm._s(_vm.teacherCircleList.disWaiting.item2)+\"%\")])]),_c('div',{staticClass:\"LineYBottom\"},[_vm._v(\" 应分配: \"+_vm._s(_vm.teacherCircleList.disWaiting.item3)+\"人 \")])])]),_c('div',{staticClass:\"infoBottomRightLineX\"},[_c('div',{staticClass:\"infoBottomRightLineY\"},[_c('div',{staticClass:\"LineYTop\"},[_vm._v(\" 待出科\"+_vm._s(_vm.teacherCircleList.outWaiting.item1)+\"人 \")]),_c('div',{staticClass:\"LineProgress\"},[_c('div',{staticClass:\"pregress-box\"},[_c('van-progress',{attrs:{\"percentage\":_vm.teacherCircleList.outWaiting.item2,\"color\":\"linear-gradient(275deg, #00B4C5 10%, #2DD3C4 99%)\",\"show-pivot\":false}})],1),_c('span',{staticClass:\"percentText\"},[_vm._v(_vm._s(_vm.teacherCircleList.outWaiting.item2)+\"%\")])]),_c('div',{staticClass:\"LineYBottom\"},[_vm._v(\" 应出科: \"+_vm._s(_vm.teacherCircleList.outWaiting.item3)+\"人 \")])]),_c('div',{staticClass:\"infoBottomRightLineY\"},[_c('div',{staticClass:\"LineYTop\"},[_vm._v(\" 出科待考核\"+_vm._s(_vm.teacherCircleList.checkWaiting.item1)+\"人 \")]),_c('div',{staticClass:\"LineProgress\"},[_c('div',{staticClass:\"pregress-box\"},[_c('van-progress',{attrs:{\"percentage\":_vm.teacherCircleList.checkWaiting.item2,\"color\":\"linear-gradient(92deg, #A8A1FF 0%, #6F66EF 96%)\",\"show-pivot\":false}})],1),_c('span',{staticClass:\"percentText\"},[_vm._v(_vm._s(_vm.teacherCircleList.checkWaiting.item2)+\"%\")])]),_c('div',{staticClass:\"LineYBottom\"},[_vm._v(\" 出科应考核: \"+_vm._s(_vm.teacherCircleList.checkWaiting.item3)+\"人 \")])])])])])])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noUserInfo),expression:\"noUserInfo\"}],staticClass:\"userInfoStudent\"},[_c('img',{staticClass:\"bgImg\",attrs:{\"src\":require(\"../../../../assets/images/index-bg4.png\")}})]),_c('div',{staticClass:\"rotationc\"},[_c('van-popup',{attrs:{\"lazy-render\":false,\"close-on-click-overlay\":false,\"position\":\"bottom\"},model:{value:(_vm.popShow),callback:function ($$v) {_vm.popShow=$$v},expression:\"popShow\"}},[_c('van-nav-bar',{attrs:{\"title\":\"请选择\",\"left-text\":\"取消\",\"right-text\":\"确定\",\"left-arrow\":\"\"},on:{\"click-left\":_vm.onClickLeft,\"click-right\":_vm.onClickRight}}),_c('van-toast'),_c('div',{staticClass:\"popCK\"},[_c('div',{staticClass:\"popCBox\"},[_c('van-sidebar',{on:{\"change\":_vm.onChange},model:{value:(_vm.activeKey),callback:function ($$v) {_vm.activeKey=$$v},expression:\"activeKey\"}},_vm._l((_vm.columns),function(item,index){return _c('van-sidebar-item',{key:index,attrs:{\"title\":item.name}})}),1)],1),_c('div',{staticClass:\"popKBox\"},[_c('el-tree',{ref:\"tree\",attrs:{\"show-checkbox\":\"\",\"check-strictly\":true,\"data\":_vm.deptList,\"props\":_vm.defaultProps,\"node-key\":\"id\"},on:{\"check-change\":_vm.checkClick}})],1)])],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"infoBottomLeft\"},[_c('div',{staticClass:\"infoBottomLeftContent\"},[_vm._v(\"轮转进度\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"homeTeacherChart\">\r\n    <div class=\"userInfoDepartment\" v-if=\"deptList\">\r\n      <img src=\"../../../../assets/images/index-bg3.png\" class=\"bgImg\" />\r\n      <div class=\"info\">\r\n        <div class=\"infoTop\">\r\n          <div class=\"infoTopLeft\">\r\n            <div class=\"infoDepartment\" @click=\"showPicker\">\r\n              <span class=\"dename\">{{ deptname }}</span>\r\n              <van-icon name=\"arrow-down\" />\r\n            </div>\r\n            <div class=\"infoMonth\">{{ teacherCircleList.month }}月轮转数据</div>\r\n          </div>\r\n          <div class=\"infoTopRight\">\r\n            <div class=\"rightContent\">\r\n              <div class=\"titleR\">轮转总人数</div>\r\n              <div class=\"numberR\">\r\n                <span class=\"nnumber\">{{ teacherCircleList.turnNum }}</span>\r\n                <span class=\"dw\">人</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"rightContent\">\r\n              <div class=\"titleR\">教学活动</div>\r\n              <div class=\"numberR\">\r\n                <span class=\"nnumber\">{{ teacherCircleList.actNum }}</span>\r\n                <span class=\"dw\">次</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"infoBottom\">\r\n          <div class=\"infoBottomLeft\">\r\n            <div class=\"infoBottomLeftContent\">轮转进度</div>\r\n          </div>\r\n          <div class=\"infoBottomRight\">\r\n            <div class=\"infoBottomRightLineX\">\r\n              <div class=\"infoBottomRightLineY\">\r\n                <div class=\"LineYTop\">\r\n                  待入科{{ teacherCircleList.inWaiting.item1 }}人\r\n                </div>\r\n                <div class=\"LineProgress\">\r\n                  <div class=\"pregress-box\">\r\n                    <van-progress\r\n                      :percentage=\"teacherCircleList.inWaiting.item2\"\r\n                      color=\" linear-gradient(-54deg, #0076F5 1%, #67B1FF 100%)\"\r\n                      :show-pivot=\"false\"\r\n                    />\r\n                  </div>\r\n                  <span class=\"percentText\"\r\n                    >{{ teacherCircleList.inWaiting.item2 }}%</span\r\n                  >\r\n                </div>\r\n                <div class=\"LineYBottom\">\r\n                  应入科: {{ teacherCircleList.inWaiting.item3 }}人\r\n                </div>\r\n              </div>\r\n              <div class=\"infoBottomRightLineY\">\r\n                <div class=\"LineYTop\">\r\n                  待分配{{ teacherCircleList.disWaiting.item1 }}人\r\n                </div>\r\n                <div class=\"LineProgress\">\r\n                  <div class=\"pregress-box\">\r\n                    <van-progress\r\n                      :percentage=\"teacherCircleList.disWaiting.item2\"\r\n                      color=\" linear-gradient(271deg, #2BBD57 10%, #7ED87D 99%)\"\r\n                      :show-pivot=\"false\"\r\n                    />\r\n                  </div>\r\n                  <span class=\"percentText\"\r\n                    >{{ teacherCircleList.disWaiting.item2 }}%</span\r\n                  >\r\n                </div>\r\n                <div class=\"LineYBottom\">\r\n                  应分配: {{ teacherCircleList.disWaiting.item3 }}人\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"infoBottomRightLineX\">\r\n              <div class=\"infoBottomRightLineY\">\r\n                <div class=\"LineYTop\">\r\n                  待出科{{ teacherCircleList.outWaiting.item1 }}人\r\n                </div>\r\n                <div class=\"LineProgress\">\r\n                  <div class=\"pregress-box\">\r\n                    <van-progress\r\n                      :percentage=\"teacherCircleList.outWaiting.item2\"\r\n                      color=\"linear-gradient(275deg, #00B4C5 10%, #2DD3C4 99%)\"\r\n                      :show-pivot=\"false\"\r\n                    />\r\n                  </div>\r\n                  <span class=\"percentText\"\r\n                    >{{ teacherCircleList.outWaiting.item2 }}%</span\r\n                  >\r\n                </div>\r\n                <div class=\"LineYBottom\">\r\n                  应出科: {{ teacherCircleList.outWaiting.item3 }}人\r\n                </div>\r\n              </div>\r\n              <div class=\"infoBottomRightLineY\">\r\n                <div class=\"LineYTop\">\r\n                  出科待考核{{ teacherCircleList.checkWaiting.item1 }}人\r\n                </div>\r\n                <div class=\"LineProgress\">\r\n                  <div class=\"pregress-box\">\r\n                    <van-progress\r\n                      :percentage=\"teacherCircleList.checkWaiting.item2\"\r\n                      color=\"linear-gradient(92deg, #A8A1FF 0%, #6F66EF 96%)\"\r\n                      :show-pivot=\"false\"\r\n                    />\r\n                  </div>\r\n                  <span class=\"percentText\"\r\n                    >{{ teacherCircleList.checkWaiting.item2 }}%</span\r\n                  >\r\n                </div>\r\n                <div class=\"LineYBottom\">\r\n                  出科应考核: {{ teacherCircleList.checkWaiting.item3 }}人\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"userInfoStudent\" v-show=\"noUserInfo\">\r\n      <img src=\"../../../../assets/images/index-bg4.png\" class=\"bgImg\" />\r\n    </div>\r\n    <div class=\"rotationc\">\r\n      <van-popup\r\n        v-model=\"popShow\"\r\n        :lazy-render=\"false\"\r\n        :close-on-click-overlay=\"false\"\r\n        position=\"bottom\"\r\n      >\r\n        <van-nav-bar\r\n          title=\"请选择\"\r\n          left-text=\"取消\"\r\n          right-text=\"确定\"\r\n          left-arrow\r\n          @click-left=\"onClickLeft\"\r\n          @click-right=\"onClickRight\"\r\n        />\r\n        <van-toast></van-toast>\r\n        <div class=\"popCK\">\r\n          <div class=\"popCBox\">\r\n            <van-sidebar v-model=\"activeKey\" @change=\"onChange\">\r\n              <van-sidebar-item v-for=\"(item,index) in columns\" :title=\"item.name\" :key=\"index\" />\r\n            </van-sidebar>\r\n          </div>\r\n          <div class=\"popKBox\">\r\n            <el-tree\r\n              show-checkbox\r\n              :check-strictly=\"true\"\r\n              :data=\"deptList\"\r\n              :props=\"defaultProps\"\r\n              @check-change=\"checkClick\"\r\n              node-key=\"id\"\r\n              ref=\"tree\"\r\n            ></el-tree>\r\n          </div>\r\n        </div>\r\n      </van-popup>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport methods from \"@/methods\";\r\nexport default {\r\n  name: \"homeTeacherChart\",\r\n  data() {\r\n    return {\r\n        columns: [],\r\n        deptname: \"\",\r\n        popShow: false,\r\n        noUserInfo: false,\r\n        orideptnameidList: [],\r\n        deptList: [],\r\n        deptid: \"\",\r\n        preId: \"\",\r\n        activeKey: 0,\r\n        oriactiveKey: 0,\r\n        teacherCircleList: {\r\n        month: 0,\r\n        turnNum: 0,\r\n        actNum: 0,\r\n        inWaiting: {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        },\r\n        outWaiting: {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        },\r\n        disWaiting: {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        },\r\n        checkWaiting: {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        }\r\n      },\r\n      defaultProps: {\r\n        children: \"childrens\",\r\n        label: \"name\",\r\n        disabled: function(data, node) {\r\n          // 禁用回收站选项\r\n          if (data.havePermission == 1) {\r\n            return false;\r\n          } else {\r\n            return true;\r\n          }\r\n        }\r\n      },\r\n    };\r\n  },\r\n  created() {\r\n    this.rememberDeptId()\r\n    this.getTree();\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    rememberDeptId() {\r\n      let self = this\r\n      self.preId = self.getPreId(this.$route.name)\r\n    },\r\n    getTree() {\r\n      let self = this;\r\n      self\r\n        .post(\"/base/dept/getMyDeptTree\", {\r\n          showHospital: 1,\r\n          showNoDeptHospital: 0,\r\n          needBaseDept: 1,\r\n          hospitalId: \"\",\r\n          showBase: true,\r\n          deptFirst: true\r\n        })\r\n        .done(res => {\r\n          if (res && res.resCode == 200) {\r\n            if (Array.isArray(res.model) && res.model.length > 0) {\r\n              self.columns = res.model;\r\n              if (self.preId) {\r\n                let preObj = self.findObjectAndIndex(\r\n                  res.model,\r\n                  Number(self.preId)\r\n                );\r\n                console.log(preObj);\r\n                if (preObj) {\r\n                  self.deptList = res.model[preObj.index].childrens;\r\n                  self.deptid = preObj.object.id;\r\n                  self.deptname = preObj.object.name;\r\n                  self.orideptnameidList = [preObj.object.id];\r\n                  self.activeKey = preObj.index;\r\n                  self.oriactiveKey = preObj.index;\r\n                } else {\r\n                  let obj = self.findObjectWithDeptLevel3(res.model);\r\n                  if(obj) {\r\n                    console.log(obj)\r\n                    self.deptList = res.model[obj.parentIndex].childrens;\r\n                    self.deptid = obj.object.id;\r\n                    self.deptname = obj.object.name;\r\n                    self.oriactiveKey = obj.parentIndex;\r\n                    self.activeKey = obj.parentIndex;\r\n                    self.orideptnameidList = [obj.object.id];\r\n                  }else {\r\n                    self.columns = res.model;\r\n                    self.deptList = res.model[0].childrens;\r\n                    self.deptname = res.model[0].childrens[0].name;\r\n                    self.orideptnameidList = [res.model[0].childrens[0].id];\r\n                    self.deptid = res.model[0].childrens[0].id;\r\n                  }\r\n                }\r\n              } else {\r\n                let obj = self.findObjectWithDeptLevel3(res.model);\r\n                if(obj) {\r\n                  self.deptList = res.model[obj.parentIndex].childrens;\r\n                   self.deptid = obj.object.id;\r\n                  self.deptname = obj.object.name;\r\n                  self.oriactiveKey = obj.parentIndex;\r\n                  self.activeKey = obj.parentIndex;\r\n                  self.orideptnameidList = [obj.object.id];\r\n                }else {\r\n                  self.columns = res.model;\r\n                    self.deptList = res.model[0].childrens;\r\n                    self.deptname = res.model[0].childrens[0].name;\r\n                    self.orideptnameidList = [res.model[0].childrens[0].id];\r\n                    self.deptid = res.model[0].childrens[0].id;\r\n                }\r\n              }\r\n              this.$refs.tree.setCheckedKeys([self.deptid]);\r\n              self.getTeachList();\r\n            } else {\r\n              self.noUserInfo = true\r\n            }\r\n          }\r\n        });\r\n    },\r\n    showPicker() {\r\n      let self = this;\r\n      self.popShow = true;\r\n    },\r\n    getTeachList() {\r\n      let self = this;\r\n      self\r\n        .post(\"/menus/queryTurnManage\", {\r\n          command: \"menus/queryTurnManage\",\r\n          loginid: $.cookie(\"uid\"),\r\n          deptid: self.deptid\r\n        })\r\n        .done(res => {\r\n          self.show = false;\r\n          self.teacherCircleList = self.turnTeach(res);\r\n        });\r\n    },\r\n    turnTeach(obj) {\r\n      let newobj = {};\r\n      newobj.month = obj.month;\r\n      newobj.turnNum = obj.turnPeopleNumber;\r\n      newobj.actNum = obj.teachActivityNumber;\r\n      if (obj.inOfficeResult.length > 0) {\r\n        newobj.inWaiting = {\r\n          item1: obj.inOfficeResult[0].NotRKreportCount,\r\n          item2: Number(\r\n            obj.inOfficeResult[0].percent.substr(\r\n              0,\r\n              obj.inOfficeResult[0].percent.length - 1\r\n            )\r\n          ),\r\n          item3: obj.inOfficeResult[0].RKCount\r\n        };\r\n      } else {\r\n        newobj.inWaiting = {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        };\r\n      }\r\n      if (obj.outOfficeResult.length > 0) {\r\n        newobj.outWaiting = {\r\n          item1: obj.outOfficeResult[0].NotCKreportCount,\r\n          item2: Number(\r\n            obj.outOfficeResult[0].percent.substr(\r\n              0,\r\n              obj.outOfficeResult[0].percent.length - 1\r\n            )\r\n          ),\r\n          item3: obj.outOfficeResult[0].CKCount\r\n        };\r\n      } else {\r\n        newobj.outWaiting = {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        };\r\n      }\r\n      if (obj.officeTeacherResult.length > 0) {\r\n        newobj.disWaiting = {\r\n          item1: obj.officeTeacherResult[0].NotTeacherCount,\r\n          item2: Number(\r\n            obj.officeTeacherResult[0].percent.substr(\r\n              0,\r\n              obj.officeTeacherResult[0].percent.length - 1\r\n            )\r\n          ),\r\n          item3: obj.officeTeacherResult[0].TeacherCount\r\n        };\r\n      } else {\r\n        newobj.disWaiting = {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        };\r\n      }\r\n      if (obj.queryTurnOutExamReportList.list.length > 0) {\r\n        newobj.checkWaiting = {\r\n          item1: obj.queryTurnOutExamReportList.list[0].unfinishedExamCount,\r\n          item2: Number(\r\n            obj.queryTurnOutExamReportList.list[0].percent.substr(\r\n              0,\r\n              obj.queryTurnOutExamReportList.list[0].percent.length - 1\r\n            )\r\n          ),\r\n          item3: obj.queryTurnOutExamReportList.list[0].shouldExamCount\r\n        };\r\n      } else {\r\n        newobj.checkWaiting = {\r\n          item1: 0,\r\n          item2: 0,\r\n          item3: 0\r\n        };\r\n      }\r\n      return newobj;\r\n    },\r\n    onCancel() {\r\n      this.popShow = false;\r\n      this.$refs.pick.setColumnIndex(0, this.indexList[0]);\r\n      this.$refs.pick.setColumnIndex(1, this.indexList[1]);\r\n      this.$refs.pick.setColumnIndex(2, this.indexList[2]);\r\n    },\r\n    \r\n    onConfirm(list, index) {\r\n      let self = this;\r\n      self.indexList = index;\r\n      self.oriSelected2 =\r\n        self.columnsc[index[0]].children[index[1]].children[index[2]];\r\n      self.oriSelected2.deptname = self.oriSelected2.name;\r\n      this.popShow = false;\r\n      self.getTeachList();\r\n    },\r\n    columnSelect(item) {\r\n      let self = this;\r\n      self.selected = item;\r\n      self.columns2 = item.childlist;\r\n    },\r\n    columnSelect2(item) {\r\n      let self = this;\r\n      self.selected2 = item;\r\n    },\r\n    onChange(index) {\r\n      let self = this;\r\n      self.hosIdByDeptSave = self.columns[index].id;\r\n      self.deptList = self.columns[index].childrens;\r\n    },\r\n    checkClick(data, checked, node) {\r\n      if (checked) {\r\n        this.$refs.tree.setCheckedKeys([data.id]);\r\n      }\r\n    },\r\n    onClickLeft() {\r\n      let self = this;\r\n      self.popShow = false;\r\n      self.activeKey = self.oriactiveKey;\r\n      self.deptnameidList = self.orideptnameidList;\r\n      this.$refs.tree.setCheckedKeys(self.orideptnameidList);\r\n    },\r\n    onClickRight() {\r\n      let self = this;\r\n      if (\r\n        this.$refs.tree.getCheckedKeys()[0] &&\r\n        this.$refs.tree.getCheckedNodes()[0]\r\n      ) {\r\n        self.hosIdByDept = self.hosIdByDeptSave;\r\n        self.oriactiveKey = self.activeKey;\r\n        self.deptname = this.$refs.tree.getCheckedNodes()[0].name;\r\n        self.deptid = this.$refs.tree.getCheckedNodes()[0].id;\r\n        self.orideptnameidList = this.$refs.tree.getCheckedKeys();\r\n        self.popShow = false;\r\n        self.getTeachList();\r\n        self.savePreId();\r\n        // self.init()\r\n      } else {\r\n        Toast({\r\n          message: \"请选择科室\",\r\n          position: \"bottom\"\r\n        });\r\n      }\r\n    },\r\n    savePreId() {\r\n      if ($.cookie(\"preIdList\")) {\r\n        let arr = JSON.parse($.cookie(\"preIdList\"));\r\n        let item = arr.find(item => item.route == this.$route.name);\r\n        if (item) {\r\n          item.id = this.$refs.tree.getCheckedKeys();\r\n        } else {\r\n          arr.push({\r\n            route: this.$route.name,\r\n            id: this.$refs.tree.getCheckedKeys()\r\n          });\r\n        }\r\n        $.cookie(\"preIdList\", JSON.stringify(arr), { expires: 30, path: \"/\" });\r\n      } else {\r\n        let preIdList = [\r\n          {\r\n            route: this.$route.name,\r\n            id: this.$refs.tree.getCheckedKeys()\r\n          }\r\n        ];\r\n        let preIdListString = JSON.stringify(preIdList);\r\n        $.cookie(\"preIdList\", preIdListString, { expires: 30, path: \"/\" });\r\n      }\r\n    },\r\n    getPreId(name) {\r\n        if($.cookie(\"preIdList\")) {\r\n            let arr =  JSON.parse($.cookie(\"preIdList\"))\r\n            console.log(arr)\r\n            console.log(name)\r\n            let item = arr.find(item => item.route == name)\r\n            if(item) {\r\n              let preId = item.id;\r\n              return preId\r\n            }else {\r\n             return null\r\n            }\r\n         }else {\r\n             return null\r\n         }\r\n      },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.userInfoDepartment {\r\n    position: relative;\r\n    height: 288px;\r\n    background-color: #ffffff;\r\n    .bgImg {\r\n      position: absolute;\r\n      height: 100%;\r\n      width: 100%;\r\n    }\r\n    .info {\r\n      background: #ffffff;\r\n      border-radius: 12px;\r\n      position: absolute;\r\n      top: 34px;\r\n      left: 14px;\r\n      right: 14px;\r\n      bottom: 26px;\r\n      .infoTop {\r\n        display: flex;\r\n        align-items: center;\r\n        margin: 16px 20px 30px 20px;\r\n        height: 62px;\r\n        .infoTopLeft {\r\n          flex: 1;\r\n          display: flex;\r\n          flex-direction: column;\r\n          height: 100%;\r\n          justify-content: space-around;\r\n          .infoDepartment {\r\n            display: flex;\r\n            .dename {\r\n              font-size: 16px;\r\n              color: #111111;\r\n              letter-spacing: 0.18px;\r\n              font-weight: 600;\r\n            }\r\n            .arrow-right {\r\n              height: 20px;\r\n              width: 10px;\r\n              display: inline-block;\r\n              position: relative;\r\n            }\r\n            .arrow-right::after {\r\n              content: \"\";\r\n              height: 7px;\r\n              width: 7px;\r\n              top: 6px;\r\n              border-width: 1px 1px 0 0;\r\n              border-color: #7b95b1;\r\n              border-style: solid;\r\n              transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\r\n              position: absolute;\r\n            }\r\n          }\r\n          .infoMonth {\r\n            font-size: 10px;\r\n            color: #666666;\r\n            font-weight: 400;\r\n          }\r\n        }\r\n        .infoTopRight {\r\n          flex: 1;\r\n          display: flex;\r\n          justify-content: space-around;\r\n          .rightContent {\r\n            .titleR {\r\n              font-size: 10px;\r\n              color: #3d5166;\r\n              font-weight: 400;\r\n            }\r\n            .numberR {\r\n              display: flex;\r\n              justify-content: center;\r\n              .nnumber {\r\n                font-size: 30px;\r\n                color: #2e445b;\r\n                font-weight: 700;\r\n              }\r\n              .dw {\r\n                font-size: 12px;\r\n                color: #2e445b;\r\n                text-align: center;\r\n                font-weight: 600;\r\n                padding-top: 18px;\r\n                padding-left: 4px;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .infoBottom {\r\n        height: 120px;\r\n        display: flex;\r\n        .infoBottomLeft {\r\n          width: 25px;\r\n          height: 100px;\r\n          background-image: url(../../../../assets/images/wx-index-left4.png);\r\n          background-size: 100% 100%;\r\n          display: flex;\r\n          align-items: center;\r\n          .infoBottomLeftContent {\r\n            font-size: 12px;\r\n            color: #ffffff;\r\n            letter-spacing: 5px;\r\n            text-align: center;\r\n            line-height: 16px;\r\n            text-shadow: 0 1px 0 rgba(0, 0, 0, 0.2);\r\n            font-weight: 500;\r\n            writing-mode: tb-rl;\r\n            width: 18px;\r\n          }\r\n        }\r\n        .infoBottomRight {\r\n          display: flex;\r\n          width: 100%;\r\n          margin: 0px 12px;\r\n          .infoBottomRightLineX {\r\n            margin-right: 20px;\r\n            height: 100%;\r\n            flex: 1;\r\n            display: flex;\r\n            flex-direction: column;\r\n            .infoBottomRightLineY {\r\n              flex: 1;\r\n              .LineYTop {\r\n                font-size: 14px;\r\n                color: #111111;\r\n                font-weight: 500;\r\n              }\r\n              .LineProgress {\r\n                display: flex;\r\n                width: 100%;\r\n                height: 16px;\r\n                .pregress-box {\r\n                  width: 100%;\r\n                  height: 20px;\r\n                  padding-right: 5px;\r\n                }\r\n                .percentText {\r\n                  font-size: 8px;\r\n                  color: #999999;\r\n                  font-weight: 400;\r\n                  width: 31px;\r\n                }\r\n              }\r\n              .LineYBottom {\r\n                font-size: 10px;\r\n                color: #666666;\r\n                line-height: 14px;\r\n                font-weight: 400;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .userInfoStudent {\r\n      position: relative;\r\n      height: 151px;\r\n      background-color: #ffffff;\r\n      .bgImg {\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n      }\r\n    }\r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeTeachChart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeTeachChart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeTeachChart.vue?vue&type=template&id=1b3e5dbb&scoped=true\"\nimport script from \"./homeTeachChart.vue?vue&type=script&lang=js\"\nexport * from \"./homeTeachChart.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeTeachChart.vue?vue&type=style&index=0&id=1b3e5dbb&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b3e5dbb\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"homeStuChart\"},[(_vm.userInfo)?_c('div',{staticClass:\"userInfoTraining\"},[_c('img',{staticClass:\"bgImg\",attrs:{\"src\":require(\"../../../../assets/images/index-bg2.png\")}}),_c('div',{ref:\"main\",staticClass:\"indexPie\",on:{\"click\":_vm.toCircle}}),_vm._m(0),_c('div',{staticClass:\"info\"},[_c('div',{staticClass:\"lineTop\"},[_c('div',{staticClass:\"headBox\"},[_c('img',{attrs:{\"src\":_vm.imageurl}}),_c('span',{staticClass:\"headState2\"},[_c('van-tag',{attrs:{\"type\":\"primary\"}},[_vm._v(_vm._s(_vm.isAdvancedStu ? \"在修\" : \"在培\"))])],1)]),_c('div',{staticClass:\"headTitle\"},[_c('div',{staticClass:\"infoName\"},[_vm._v(_vm._s(_vm.name))]),_c('div',{staticClass:\"infoPlan\"},[_c('span',{on:{\"click\":_vm.circleDetail}},[_vm._v(\"个人轮转计划\")]),_c('span',{staticClass:\"arrow-right\"})])])]),_c('div',{staticClass:\"UserInfo\"},[_c('div',{staticClass:\"infoItem\"},[_c('span',{staticClass:\"itemTitle\"},[_vm._v(\"轮转科室:  \")]),_c('span',{staticClass:\"itemContent\"},[_vm._v(_vm._s(_vm.userInfo.deptName))])]),_c('div',{staticClass:\"infoItem\"},[_c('span',{staticClass:\"itemTitle\"},[_vm._v(\"轮转时间:  \")]),(_vm.isAdvancedStu)?_c('span',{staticClass:\"itemContent\"},[_vm._v(\" \"+_vm._s(_vm.userInfo.planBeginTime ? _vm.userInfo.planBeginTime + \" 至 \" + _vm.userInfo.planEndTime : \"-\")+\" \")]):_vm._e(),(!_vm.isAdvancedStu)?_c('span',{staticClass:\"itemContent\"},[_vm._v(_vm._s(_vm.userInfo.planBeginTime)+\"-\"+_vm._s(_vm.userInfo.planEndTime))]):_vm._e()]),_c('div',{staticClass:\"infoItem\"},[_c('span',{staticClass:\"itemTitle\"},[_vm._v(\"带教老师:  \")]),_c('span',{staticClass:\"itemContent\"},[_vm._v(_vm._s(_vm.userInfo.teachName))])])])])]):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.noUserInfo),expression:\"noUserInfo\"}],staticClass:\"userInfoStudent\"},[_c('img',{staticClass:\"bgImg\",attrs:{\"src\":require(\"../../../../assets/images/index-bg4.png\")}})])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pieBg\"},[_c('div',{staticClass:\"pieBgContent\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"homeStuChart\">\r\n    <div class=\"userInfoTraining\" v-if=\"userInfo\">\r\n      <img src=\"../../../../assets/images/index-bg2.png\" class=\"bgImg\" />\r\n      <div class=\"indexPie\" ref=\"main\" @click=\"toCircle\"></div>\r\n      <div class=\"pieBg\">\r\n        <div class=\"pieBgContent\"></div>\r\n      </div>\r\n      <div class=\"info\">\r\n        <div class=\"lineTop\">\r\n          <div class=\"headBox\">\r\n            <img :src=\"imageurl\" />\r\n            <span class=\"headState2\">\r\n              <van-tag type=\"primary\">{{\r\n                isAdvancedStu ? \"在修\" : \"在培\"\r\n              }}</van-tag>\r\n            </span>\r\n          </div>\r\n          <div class=\"headTitle\">\r\n            <div class=\"infoName\">{{ name }}</div>\r\n            <div class=\"infoPlan\">\r\n              <span @click=\"circleDetail\">个人轮转计划</span>\r\n              <span class=\"arrow-right\"></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"UserInfo\">\r\n          <div class=\"infoItem\">\r\n            <span class=\"itemTitle\">轮转科室:&nbsp;&nbsp;</span>\r\n            <span class=\"itemContent\">{{ userInfo.deptName }}</span>\r\n          </div>\r\n          <div class=\"infoItem\">\r\n            <span class=\"itemTitle\">轮转时间:&nbsp;&nbsp;</span>\r\n            <span v-if=\"isAdvancedStu\" class=\"itemContent\">\r\n              {{\r\n                userInfo.planBeginTime\r\n                  ? userInfo.planBeginTime + \" 至 \" + userInfo.planEndTime\r\n                  : \"-\"\r\n              }}\r\n            </span>\r\n            <span v-if=\"!isAdvancedStu\" class=\"itemContent\"\r\n              >{{ userInfo.planBeginTime }}-{{ userInfo.planEndTime }}</span\r\n            >\r\n          </div>\r\n          <div class=\"infoItem\">\r\n            <span class=\"itemTitle\">带教老师:&nbsp;&nbsp;</span>\r\n            <span class=\"itemContent\">{{ userInfo.teachName }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"userInfoStudent\" v-show=\"noUserInfo\">\r\n      <img src=\"../../../../assets/images/index-bg4.png\" class=\"bgImg\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\nimport echarts from \"echarts\";\r\nimport methods from \"@/methods\";\r\nexport default {\r\n  name: \"homeStuChart\",\r\n  data() {\r\n    return {\r\n      userInfo: {},\r\n      noUserInfo: false,\r\n      circleData: [],\r\n      circleTitle: [],\r\n      circleColor: [],\r\n      optionPie: {},\r\n      imageurl: \"\"\r\n    };\r\n  },\r\n  mounted() {\r\n    this.echartsInit();\r\n    this.getMyCirlce();\r\n    this.show_my();\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    echartsInit() {\r\n      let self = this;\r\n      let pie = echarts.init(this.$refs.main);\r\n      this.optionPie = {\r\n        tooltip: {\r\n          trigger: \"item\",\r\n          show: false,\r\n        },\r\n        title: this.circleTitle,\r\n        legend: {\r\n          top: \"5%\",\r\n          left: \"center\",\r\n        },\r\n        color: self.circleColor,\r\n        series: [\r\n          {\r\n            name: \"Access From\",\r\n            type: \"pie\",\r\n            radius: [\"45%\", \"70%\"],\r\n            avoidLabelOverlap: false,\r\n            hoverAnimation: false,\r\n            label: {},\r\n            emphasis: {\r\n              label: {\r\n                show: true,\r\n                fontSize: \"40\",\r\n                fontWeight: \"bold\",\r\n              },\r\n            },\r\n            labelLine: {\r\n              normal: {\r\n                position: \"inner\",\r\n                show: false,\r\n              },\r\n            },\r\n            // data: [ { value: 735 },{ value: 1500 }]\r\n            // data: [{ value: 0 }]\r\n            data: this.circleData,\r\n          },\r\n        ],\r\n      };\r\n      pie.setOption(this.optionPie);\r\n    },\r\n    toCircle() {\r\n      if (this.isAdvancedStu) {\r\n        location.href = \"/advancedapp/trainingRotation/rotation\";\r\n      } else {\r\n        location.href =\r\n          \"/pages/futuredoctorapp/index.html#/rt/rotation_doctor?token=\" +\r\n          $.cookie(\"token\");\r\n      }\r\n    },\r\n    circleDetail(item) {\r\n      let self = this;\r\n      $.cookie('doctor_from',0);\r\n      if (this.isAdvancedStu) {\r\n        location.href = \"/advancedapp/trainingRotation/rotation\";\r\n      } else {\r\n        this.$router.push({\r\n          name: \"fdRotation_doctor_plan\",\r\n          query: {\r\n            type: 0\r\n          }\r\n        });\r\n      }\r\n    },\r\n    show_my: function() {\r\n      var self = this;\r\n      var data = {\r\n        command: \"user/queryuserdetail\", //接口地址\r\n        sessionid: $.cookie(\"sid\"),\r\n        loginid: $.cookie(\"uid\"),\r\n        uid: $.cookie(\"uid\")\r\n      };\r\n      self.post(\"/user/queryuserdetail\", data).done(function(res) {\r\n        if (res.users[0].imageurl) {\r\n            self.name = res.users[0].name;\r\n          self.imageurl = res.users[0].imageurl;\r\n        }\r\n      });\r\n    },\r\n    getMyCirlce() {\r\n      let self = this;\r\n      self\r\n        .post(\"/turn/myTurnDoctor\", {\r\n          command: \"turn/myTurnDoctor\",\r\n          loginid: $.cookie(\"uid\"),\r\n        })\r\n        .done((res) => {\r\n          if (res.errcode == 0) {\r\n            if (res.isGraduation) {\r\n              self.userInfo = res;\r\n              if (res.isGraduation == \"0\") {\r\n                if (res.deptName) {\r\n                  self.circleData = [\r\n                    { value: res.turnRemainingDay },\r\n                    { value: res.turnTotalDay - res.turnRemainingDay },\r\n                  ];\r\n                  self.circleTitle = [\r\n                    {\r\n                      text: \"距离出科\",\r\n                      left: \"center\",\r\n                      top: \"35%\",\r\n                      textStyle: {\r\n                        color: \"#3D5166\",\r\n                        fontSize: 11,\r\n                        fontWeight: \"lighter\",\r\n                      },\r\n                    },\r\n                    {\r\n                      left: \"center\",\r\n                      top: \"40%\",\r\n                      subtext: res.turnTotalDay + \"天\",\r\n                      subtextStyle: {\r\n                        color: \"#2E445B\",\r\n                        fontSize: 18,\r\n                        fontWeight: \"700\",\r\n                      },\r\n                    },\r\n                  ];\r\n                  self.circleColor = [\r\n                    new echarts.graphic.LinearGradient(0, 0, 0, 1, [\r\n                      { offset: 0, color: \"#67B1FF\" },\r\n                      { offset: 1, color: \"#056FE0\" },\r\n                    ]),\r\n                    \"#F5F5F5\",\r\n                  ];\r\n                } else {\r\n                  self.userInfo.deptName = \"-\";\r\n                  self.userInfo.teachName = \"-\";\r\n                  self.circleData = [{ value: 0 }];\r\n                  self.circleTitle = [\r\n                    {\r\n                      text: \"距离出科\",\r\n                      left: \"center\",\r\n                      top: \"35%\",\r\n                      textStyle: {\r\n                        color: \"#3D5166\",\r\n                        fontSize: 11,\r\n                        fontWeight: \"lighter\",\r\n                      },\r\n                    },\r\n                    {\r\n                      left: \"center\",\r\n                      top: \"40%\",\r\n                      subtext: \"-\" + \"天\",\r\n                      subtextStyle: {\r\n                        color: \"#2E445B\",\r\n                        fontSize: 18,\r\n                        fontWeight: \"700\",\r\n                      },\r\n                    },\r\n                  ];\r\n                  self.circleColor = [\"#F5F5F5\"];\r\n                }\r\n                self.$nextTick(() => {\r\n                  self.echartsInit();\r\n                });\r\n              } else {\r\n                self.circleData = [{ value: 0 }];\r\n                self.circleTitle = [\r\n                  {\r\n                    text: \"暂无轮转\",\r\n                    left: \"center\",\r\n                    top: \"45%\",\r\n                    textStyle: {\r\n                      color: \"#3D5166\",\r\n                      fontSize: 14,\r\n                      fontWeight: \"lighter\",\r\n                    },\r\n                  },\r\n                ];\r\n                self.circleColor = [\"#F5F5F5\"];\r\n              }\r\n            } else {\r\n              self.noUserInfo = true;\r\n            }\r\n          }\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.userInfoTraining {\r\n  position: relative;\r\n  height: 213px;\r\n  background-color: #ffffff;\r\n  .bgImg {\r\n    position: absolute;\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n  .indexPie {\r\n    height: 150px;\r\n    width: 150px;\r\n    border-radius: 50%;\r\n    left: calc(100% - 178px);\r\n    z-index: 5;\r\n    top: -10px;\r\n  }\r\n  .pieBg {\r\n    height: 150px;\r\n    width: 150px;\r\n    border-radius: 50%;\r\n    left: calc(100% - 178px);\r\n    z-index: 5;\r\n    top: -10px;\r\n    position: absolute;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: auto;\r\n    .pieBgContent {\r\n      background-color: #ffffff;\r\n      height: 120px;\r\n      width: 120px;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .info {\r\n    background: #ffffff;\r\n    border-radius: 12px;\r\n    position: absolute;\r\n    top: 24px;\r\n    left: 14px;\r\n    right: 14px;\r\n    bottom: 26px;\r\n    .lineTop {\r\n      margin-top: 24px;\r\n      margin-left: 16px;\r\n      margin-bottom: 16px;\r\n      display: flex;\r\n      align-items: center;\r\n      .headBox {\r\n        position: relative;\r\n        width: 50px;\r\n        height: 50px;\r\n        img {\r\n          width: 50px;\r\n          height: 50px;\r\n        }\r\n        .headState {\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 0;\r\n          width: 25px;\r\n          height: 12px;\r\n          background-image: linear-gradient(-54deg, #0076f5 1%, #67b1ff 100%);\r\n          border-radius: 1.56px 0px 0px 0px;\r\n          font-size: 1px;\r\n          color: #ffffff;\r\n          text-align: center;\r\n          font-weight: 500;\r\n        }\r\n        .headState2 {\r\n          position: absolute;\r\n          right: 0;\r\n          bottom: 0;\r\n          height: 20px;\r\n        }\r\n      }\r\n      .headTitle {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: space-around;\r\n        height: 50px;\r\n        margin-left: 10px;\r\n        .infoName {\r\n          font-size: 18px;\r\n          color: #111111;\r\n          letter-spacing: 0.2px;\r\n          font-weight: 500;\r\n        }\r\n        .infoPlan {\r\n          font-size: 13px;\r\n          color: #2f7dcd;\r\n          letter-spacing: 0.15px;\r\n          font-weight: 400;\r\n          .arrow-right {\r\n            height: 20px;\r\n            width: 10px;\r\n            display: inline-block;\r\n            position: relative;\r\n          }\r\n          .arrow-right::after {\r\n            content: \"\";\r\n            height: 7px;\r\n            width: 7px;\r\n            top: 12px;\r\n            border-width: 1px 1px 0 0;\r\n            border-color: #2f7dcd;\r\n            border-style: solid;\r\n            transform: matrix(0.71, 0.71, -0.71, 0.71, 0, 0);\r\n            position: absolute;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .UserInfo {\r\n      height: 55px;\r\n      margin-left: 16px;\r\n      margin-bottom: 18px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n      .infoItem {\r\n        display: flex;\r\n        .itemTitle {\r\n          font-size: 12px;\r\n          color: #666666;\r\n          letter-spacing: 0.15px;\r\n          font-weight: 400;\r\n        }\r\n        .itemContent {\r\n          font-size: 12px;\r\n          color: #111111;\r\n          letter-spacing: 0.15px;\r\n          font-weight: 400;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n.userInfoStudent {\r\n      position: relative;\r\n      height: 151px;\r\n      background-color: #ffffff;\r\n      .bgImg {\r\n        position: absolute;\r\n        height: 100%;\r\n        width: 100%;\r\n      }\r\n    }\r\n    \r\n</style>","import mod from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeStuChart.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./homeStuChart.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./homeStuChart.vue?vue&type=template&id=20892ff8\"\nimport script from \"./homeStuChart.vue?vue&type=script&lang=js\"\nexport * from \"./homeStuChart.vue?vue&type=script&lang=js\"\nimport style0 from \"./homeStuChart.vue?vue&type=style&index=0&id=20892ff8&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wxHome\">\r\n    <div class=\"userInfoStudent\" v-show=\"role == 9\">\r\n      <img src=\"../../../assets/images/index-bg4.png\" class=\"bgImg\" />\r\n    </div>\r\n    <home-teach-chart v-if=\"role == 1\" />\r\n    <home-stu-chart v-if=\"role == 2\" />\r\n    <home-menu :appList=\"appList\" />\r\n    <home-assign />\r\n    <home-teach-activities :appList=\"appList\" />\r\n    <div style=\"height: 50px\"></div>\r\n  </div>\r\n</template>\r\n<script>;  \r\nimport $ from \"jquery\";\r\nimport methods from \"../../../methods\";\r\nimport homeMenu from \"./components/homeMenu\";\r\nimport homeAssign from \"./components/homeAssign\";\r\nimport homeTeachActivities from \"./components/homeTeachActivities.vue\";\r\nimport homeTeachChart from \"./components/homeTeachChart.vue\";\r\nimport homeStuChart from \"./components/homeStuChart.vue\";\r\nexport default {\r\n  name: \"wxHome\",\r\n  components: {\r\n    homeMenu,\r\n    homeAssign,\r\n    homeTeachActivities,\r\n    homeTeachChart,\r\n    homeStuChart,\r\n  },\r\n  data() {\r\n    return {\r\n      role: 0,\r\n      appList: [],\r\n    };\r\n  },\r\n  created() {\r\n    let self = this;\r\n    self.getWxHomeMenusid();\r\n    if ($.cookie(\"url\")) {\r\n      let url = decodeURIComponent($.cookie(\"url\"));\r\n      $.cookie(\"url\", \"\", { expires: 30, path: \"/\" });\r\n      if (url.indexOf(\"?\") != -1) {\r\n        window.location.href = localStorage.setItem(\"system\") + url + \"&token=\" + localStorage.getItem(\"token\");\r\n      } else {\r\n        window.location.href = localStorage.setItem(\"system\") + url + \"?token=\" + localStorage.getItem(\"token\");\r\n      }\r\n    }\r\n    self.getMenuList();\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    getWxHomeMenusid() {\r\n      let self = this;\r\n      self\r\n        .get(\r\n          \"/base/commpara/getListByCode?code=queryTurnManageDefaultMenusId\"\r\n        )\r\n        .done((res) => {\r\n          localStorage.setItem(\"menuId\", res.model[0].param1);\r\n          self.getRole();\r\n        });\r\n    },\r\n    getMenuList() {\r\n      let self = this;\r\n      self\r\n        .get(\"/base/menu/listAppMenu?status=0&permission=1&order=1\")\r\n        .done((res) => {\r\n          let list = [];\r\n          res.model.forEach((i) => {\r\n            list.push(...i.children);\r\n          });\r\n          self.appList = list;\r\n        });\r\n    },\r\n    deterRole(roles) {\r\n      let roleList = [6, 7, 53, 54, 51, 25, 8, 49, 203];\r\n      let i = 9;\r\n      let { roleDTOList, roleType } = roles;\r\n      if (roleType == 1) {\r\n        roleDTOList.forEach((item) => {\r\n          if (roleList.includes(item.roleId)) {\r\n            i = 1;\r\n          }\r\n        });\r\n      } else if (roleType == 2) {\r\n        roleDTOList.forEach((item) => {\r\n          if (roleList.includes(item.roleId)) {\r\n            i = 2;\r\n          }\r\n        });\r\n      }\r\n      return i;\r\n    },\r\n    getRole() {\r\n      let self = this;\r\n      self.get(\"/base/role/getUserRole\").done((res) => {\r\n        self.role = self.deterRole(res.model);\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"../css/wxIndex.scss\";\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.rotationc {\r\n  .van-popup {\r\n    height: 350px;\r\n    transform: translate3d(0%, 0%, 0);\r\n    overflow: hidden;\r\n  }\r\n  .popCK {\r\n    display: flex;\r\n    height: 350px;\r\n  }\r\n  .van-sidebar {\r\n    width: 100%;\r\n    height: 350px;\r\n    padding-bottom: 48px;\r\n  }\r\n  .van-sidebar-item--select:before {\r\n    background-color: #0079fd;\r\n  }\r\n}\r\n.popCK {\r\n  .van-sidebar {\r\n    padding-bottom: 40px;\r\n  }\r\n}\r\n\r\n.container {\r\n  width: 100%;\r\n}\r\n.van-tabs__wrap {\r\n  width: 100%;\r\n}\r\n.actContent .el-tag {\r\n  height: 20px;\r\n  line-height: 20px;\r\n}\r\n\r\n.van-nav-bar__content {\r\n  height: 46px;\r\n  width: 100%;\r\n  .van-icon {\r\n    line-height: 46px;\r\n  }\r\n}\r\n\r\n.van-nav-bar__left {\r\n  height: 46px;\r\n}\r\n\r\n.supervise-grade {\r\n  .van-nav-bar__content {\r\n    height: 46px;\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.wxHome {\r\n  .van-list {\r\n    .van-list__finished-text {\r\n      display: none;\r\n    }\r\n  }\r\n  .van-tag {\r\n    flex-shrink: 0;\r\n    padding: 0;\r\n    margin-left: 6px;\r\n  }\r\n  .van-progress {\r\n    margin-top: 6px;\r\n  }\r\n\r\n  .van-popup {\r\n    height: 250px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxHome.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxHome.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./wxHome.vue?vue&type=template&id=d5baed30&scoped=true\"\nimport script from \"./wxHome.vue?vue&type=script&lang=js\"\nexport * from \"./wxHome.vue?vue&type=script&lang=js\"\nimport style0 from \"./wxHome.vue?vue&type=style&index=0&id=d5baed30&prod&lang=scss&scoped=true\"\nimport style1 from \"./wxHome.vue?vue&type=style&index=1&id=d5baed30&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d5baed30\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wxMessage\"},[_c('div',{directives:[{name:\"load-more\",rawName:\"v-load-more\",value:(_vm.getMoreAnnounce),expression:\"getMoreAnnounce\"}],staticStyle:{\"height\":\"calc(100% - 50px)\",\"overflow-y\":\"scroll\"}},[_c('div',{staticClass:\"zhuti\"},_vm._l((_vm.announcelist),function(value,index){return _c('div',{key:index,staticClass:\"ggneirong\",on:{\"click\":function($event){return _vm.ggnrtz(value)}}},[_c('div',{staticClass:\"shangbu\"},[_c('b',{directives:[{name:\"show\",rawName:\"v-show\",value:(value.status!=1),expression:\"value.status!=1\"}],staticClass:\"redTab\"}),_c('img',{staticClass:\"fbtx\",attrs:{\"src\":require(\"../../../assets/images/icon_msg.png\")}}),_c('div',{staticClass:\"shangbu\",staticStyle:{\"flex-direction\":\"column\"}},[_c('div',{staticClass:\"fbbt\"},[_vm._v(_vm._s(_vm._f(\"limitlength1\")(value.title)))]),(value.systemtype ==2 || value.systemtype ==3 )?_c('div',{staticClass:\"fbz\",domProps:{\"innerHTML\":_vm._s(_vm.strinnerhtml(value.brief))}},[_vm._v(_vm._s(value.brief))]):_c('div',{staticClass:\"fbz\"},[_vm._v(_vm._s(_vm._f(\"limitlength\")(value.author)))]),_c('div',{staticClass:\"fbsj\"},[_vm._v(_vm._s(_vm._f(\"chmonthandday\")(value.departtime)))])])])])}),0)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wxMessage\">\r\n    <div style=\"height:calc(100% - 50px);overflow-y:scroll\" v-load-more=\"getMoreAnnounce\">\r\n      <!-- <div class=\"header\">\r\n        <div>消息</div>\r\n      </div> -->\r\n      <div class=\"zhuti\">\r\n        <div\r\n          v-for=\"(value,index) in announcelist\"\r\n          class=\"ggneirong\"\r\n          @click=\"ggnrtz(value)\"\r\n          :key=\"index\"\r\n        >\r\n          <div class=\"shangbu\">\r\n            <b class=\"redTab\" v-show=\"value.status!=1\"></b>\r\n            <img src=\"../../../assets/images/icon_msg.png\" class=\"fbtx\" />\r\n            <div class=\"shangbu\" style=\"flex-direction: column\">\r\n              <div class=\"fbbt\">{{value.title | limitlength1}}</div>\r\n              <div\r\n                class=\"fbz\"\r\n                v-if=\"value.systemtype ==2 || value.systemtype ==3 \"\r\n                v-html=\"strinnerhtml(value.brief)\"\r\n              >{{value.brief}}</div>\r\n              <div class=\"fbz\" v-else>{{value.author | limitlength}}</div>\r\n              <div class=\"fbsj\">{{value.departtime | chmonthandday}}</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport $ from \"jquery\";\r\nimport cHeader from \"../../header\";\r\nimport methods from \"../../../methods\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"wxMessage\",\r\n  data() {\r\n    return {\r\n      headerTitle: \"消息\",\r\n      todonum: 0,\r\n      msgnum: 0,\r\n      titlenum: 0,\r\n      showback: false,\r\n      isactive: [false, true, false, false],\r\n      announcelist: [],\r\n      page: 0,\r\n      preventRepeatRequest: false\r\n    };\r\n  },\r\n  created() {\r\n    this.getMessageList();\r\n  },\r\n  filters: {\r\n        chmonthandday: function (str) {\r\n            var result = \"\";\r\n            var arr1 = str.slice(0, 11).split(\"-\");\r\n            var str2 = str.slice(11, 16);\r\n            var month = arr1[1];\r\n            var day = arr1[2];\r\n            result = month + \"月\" + day + \"日\" + \" \" + str2;\r\n            return result;\r\n        },\r\n        limitlength: function (str) {\r\n            var shortstr = \"\";\r\n            if (str.length >= 10) {\r\n                shortstr = str.slice(0, 9) + \"...\";\r\n                return shortstr;\r\n            } else {\r\n                return str;\r\n            }\r\n        },\r\n        limitlength1: function (str) {\r\n            var shortstr = \"\";\r\n            if (str.length >= 20) {\r\n                shortstr = str.slice(0, 19) + \"...\";\r\n                return shortstr;\r\n            } else {\r\n                return str;\r\n            }\r\n        },\r\n    },\r\n  methods: {\r\n    ...methods,\r\n    strinnerhtml: function(str) {\r\n      var inhtml = \"\";\r\n      var onstr = str.split(\"<br/>\");\r\n      for (let i = 0; i < onstr.length; i++) {\r\n        inhtml += \"<div>\" + onstr[i] + \"</div>\";\r\n      }\r\n      return inhtml;\r\n    },\r\n    getMoreAnnounce: function() {\r\n      let self = this;\r\n      if (this.preventRepeatRequest) {\r\n        return;\r\n      }\r\n      this.preventRepeatRequest = true;\r\n      this.page = this.page + 1;\r\n      var data = {\r\n        command: \"announce/queryannouncelist\",\r\n        sessionid: $.cookie(\"sid\"),\r\n        loginid: $.cookie(\"uid\"),\r\n        page: this.page,\r\n        reqnum: 20,\r\n        uid: $.cookie(\"uid\")\r\n      };\r\n      self.post(\"/announce/queryannouncelist\", data).done(function(res) {\r\n        self.loadMoreSuccess(res);\r\n      });\r\n    },\r\n    loadMoreSuccess: function(res) {\r\n      let self = this;\r\n      if (res.announcelist.length > 0) {\r\n        self.preventRepeatRequest = false;\r\n        self.announcelist = self.announcelist.concat(res.announcelist);\r\n      } else {\r\n        self.preventRepeatRequest = true;\r\n      }\r\n      // this.preventRepeatRequest = false;\r\n      // this.announcelist = this.announcelist.concat(res.announcelist);\r\n    },\r\n    getMessageList() {\r\n      let self = this;\r\n      if (self.preventRepeatRequest) {\r\n        return;\r\n      }\r\n      self.preventRepeatRequest = true;\r\n      self.page = this.page + 1;\r\n      self\r\n        .post(\"/announce/queryannouncelist\", {\r\n          command: \"announce/queryannouncelist\",\r\n          sessionid: $.cookie(\"sid\"),\r\n          loginid: $.cookie(\"uid\"),\r\n          page: self.page,\r\n          reqnum: 20,\r\n          uid: $.cookie(\"uid\")\r\n        })\r\n        .done(function(res) {\r\n          if (res.announcelist.length > 0) {\r\n            self.preventRepeatRequest = false;\r\n            self.announcelist = self.announcelist.concat(res.announcelist);\r\n            self.$emit(\"getUnread\", res.unreadcount);\r\n          } else {\r\n            self.preventRepeatRequest = true;\r\n          }\r\n        });\r\n    },\r\n    ggnrtz: function(value) {\r\n      // window.location.href =\r\n      //   \"msxxq.html?param=\" + encodeURIComponent(JSON.stringify(value));\r\n      // console.log(value);\r\n      this.$router.push({\r\n        name: \"msxxq\",\r\n        query: {\r\n          url_label: value.url_label,\r\n          url_type: value.url_type,\r\n          id: value.id\r\n        }\r\n      });\r\n    },\r\n    getStyle: function(element, attr, NumberMode) {\r\n      var target;\r\n      // scrollTop 获取方式不同，没有它不属于style，而且只有document.body才能用\r\n      if (attr === \"scrollTop\") {\r\n        target = element.scrollTop;\r\n      } else if (element.currentStyle) {\r\n        target = element.currentStyle[attr];\r\n      } else {\r\n        target = document.defaultView.getComputedStyle(element, null)[attr];\r\n      }\r\n      //在获取 opactiy 时需要获取小数 parseFloat\r\n      return NumberMode == \"float\" ? parseFloat(target) : parseInt(target);\r\n    }\r\n  },\r\n  directives: {\r\n    \"load-more\": {\r\n      bind: function(el, binding) {\r\n        var windowHeight = window.screen.height;\r\n        var height;\r\n        var setTop;\r\n        var paddingBottom;\r\n        var marginBottom;\r\n        var requestFram;\r\n        var oldScrollTop;\r\n        var scrollEl;\r\n        var heightEl;\r\n        var scrollType = el.attributes.type && el.attributes.type.value;\r\n        var scrollReduce = 2;\r\n        function getStyle(element, attr, NumberMode) {\r\n          var target;\r\n          // scrollTop 获取方式不同，没有它不属于style，而且只有document.body才能用\r\n          if (attr === \"scrollTop\") {\r\n            target = element.scrollTop;\r\n          } else if (element.currentStyle) {\r\n            target = element.currentStyle[attr];\r\n          } else {\r\n            target = document.defaultView.getComputedStyle(element, null)[attr];\r\n          }\r\n          //在获取 opactiy 时需要获取小数 parseFloat\r\n          return NumberMode == \"float\" ? parseFloat(target) : parseInt(target);\r\n        }\r\n\r\n        scrollEl = el;\r\n        if (el.children[0]) {\r\n          heightEl = el.children[0];\r\n        } else {\r\n          heightEl = el;\r\n        }\r\n\r\n        el.addEventListener(\r\n          \"touchstart\",\r\n          function() {\r\n            height = heightEl.clientHeight;\r\n            setTop = el.offsetTop;\r\n            paddingBottom = getStyle(el, \"paddingBottom\");\r\n            marginBottom = getStyle(el, \"marginBottom\");\r\n          },\r\n          false\r\n        );\r\n\r\n        el.addEventListener(\r\n          \"touchmove\",\r\n          function() {\r\n            loadMore();\r\n          },\r\n          false\r\n        );\r\n\r\n        el.addEventListener(\r\n          \"touchend\",\r\n          function() {\r\n            oldScrollTop = scrollEl.scrollTop;\r\n            moveEnd();\r\n          },\r\n          false\r\n        );\r\n\r\n        var moveEnd = function() {\r\n          requestFram = requestAnimationFrame(function() {\r\n            if (scrollEl.scrollTop != oldScrollTop) {\r\n              oldScrollTop = scrollEl.scrollTop;\r\n              moveEnd();\r\n            } else {\r\n              cancelAnimationFrame(requestFram);\r\n              height = heightEl.clientHeight;\r\n\r\n              loadMore();\r\n            }\r\n          });\r\n        };\r\n\r\n        var loadMore = function() {\r\n          if (\r\n            scrollEl.scrollTop + windowHeight + 50 >=\r\n            height + setTop + paddingBottom + marginBottom - scrollReduce\r\n          ) {\r\n            binding.value();\r\n          }\r\n        };\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.wxMessage {\r\n  .header {\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    color: #fff;\r\n    padding-left: 0.2rem;\r\n    padding-right: 0.2rem;\r\n    height: 50px;\r\n    position: relative;\r\n    background: #3499db;\r\n    -ms-flex-flow: row;\r\n    flex-flow: row;\r\n    display: flex;\r\n    -ms-flex-align: center;\r\n    -moz-align-items: center;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    z-index: 99;\r\n  }\r\n  .container {\r\n    padding: 0;\r\n    background-color: #f2f2f2;\r\n  }\r\n\r\n  .ggqf {\r\n    height: 42px;\r\n    width: 100%;\r\n    background: #ffffff;\r\n    border-width: 0 0 1px 0;\r\n    border-style: solid;\r\n    border-color: #e8e8e8;\r\n  }\r\n\r\n  .weidu {\r\n    float: left;\r\n    width: 50%;\r\n    text-align: center;\r\n    margin-top: 11px;\r\n    border-width: 0 1px 0 0;\r\n    border-style: solid;\r\n    border-color: #e8e8e8;\r\n  }\r\n\r\n  .yidu {\r\n    float: right;\r\n    width: 50%;\r\n    text-align: center;\r\n    margin-top: 11px;\r\n  }\r\n\r\n  .ggneirong {\r\n    border-width: 0 0 1px 0;\r\n    border-style: solid;\r\n    border-color: #e8e8e8;\r\n    background-color: #ffffff;\r\n    overflow: hidden;\r\n    padding: 10px;\r\n  }\r\n\r\n  .fbtx {\r\n    width: 25px;\r\n    height: 25px;\r\n  }\r\n\r\n  .fbz {\r\n    font-size: 12px;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n    padding: 0 10px;\r\n    color: #999;\r\n  }\r\n\r\n  .fbsj {\r\n    font-size: 12px;\r\n    color: #999;\r\n    flex-grow: 1;\r\n\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .fbbt {\r\n    float: left;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    color: #333;\r\n    font-size: 16px;\r\n  }\r\n\r\n  .shangbu {\r\n    overflow: hidden;\r\n    position: relative;\r\n    display: flex;\r\n  }\r\n\r\n  .zhuti {\r\n    /* padding-top: 50px; */\r\n    padding-bottom: 50px;\r\n  }\r\n\r\n  #header {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    z-index: 99;\r\n  }\r\n\r\n  .redTab {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 25px;\r\n    width: 8px;\r\n    height: 8px;\r\n    background-color: red;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxMessage.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxMessage.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./wxMessage.vue?vue&type=template&id=51567c31&scoped=true\"\nimport script from \"./wxMessage.vue?vue&type=script&lang=js\"\nexport * from \"./wxMessage.vue?vue&type=script&lang=js\"\nimport style0 from \"./wxMessage.vue?vue&type=style&index=0&id=51567c31&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"51567c31\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wxUser\"},[_c('div',{attrs:{\"id\":\"personal\"},on:{\"click\":function($event){return _vm.person(this)}}},[_c('div',{staticStyle:{\"display\":\"none\"},attrs:{\"id\":\"code\"}},[_vm._v(_vm._s(_vm.stdtype))]),_c('img',{staticClass:\"personaltouxiang\",staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":_vm.imageurl}}),_c('dl',[_c('dt',[_vm._v(_vm._s(_vm.name))]),_c('dd',[_vm._v(\"工号:\"+_vm._s(_vm.code))])]),_c('img',{staticClass:\"righticon\",staticStyle:{\"margin-top\":\"16px\"},attrs:{\"src\":require(\"../../../assets/images/btn-youjiantou@3x.png\")}})]),_c('div',[_c('ul',{staticClass:\"itemlist\",on:{\"click\":function($event){return _vm.roleSwitch()}}},[_vm._m(0)]),_c('ul',{staticClass:\"itemlist\"},[_c('li',{on:{\"click\":function($event){return _vm.resetpwd()}}},[_c('img',{staticClass:\"lefticon\",attrs:{\"src\":require(\"../../../assets/images/w_xiuigaimima-.png\")}}),_c('span',{staticClass:\"txtdesc\"},[_vm._v(\"修改密码\")]),_c('img',{staticClass:\"righticon\",attrs:{\"src\":require(\"../../../assets/images/btn-youjiantou@3x.png\")}})])])]),_c('ul',{staticClass:\"itemlist\",on:{\"click\":function($event){return _vm.logout()}}},[_vm._m(1)]),_c('van-action-sheet',{attrs:{\"actions\":_vm.actions,\"cancel-text\":\"取消\",\"description\":\"请选择角色\",\"close-on-click-action\":\"\"},model:{value:(_vm.roleSwitchShow),callback:function ($$v) {_vm.roleSwitchShow=$$v},expression:\"roleSwitchShow\"}}),_c('van-dialog',{attrs:{\"title\":\"修改密码\",\"show-cancel-button\":\"\",\"confirmButtonColor\":\"#3499db\"},on:{\"confirm\":_vm.sumbit},model:{value:(_vm.updatePwd),callback:function ($$v) {_vm.updatePwd=$$v},expression:\"updatePwd\"}},[_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"旧密码\"},model:{value:(_vm.oldpassword),callback:function ($$v) {_vm.oldpassword=$$v},expression:\"oldpassword\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"新密码\"},model:{value:(_vm.password1),callback:function ($$v) {_vm.password1=$$v},expression:\"password1\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"label\":\"确认新密码\"},model:{value:(_vm.password2),callback:function ($$v) {_vm.password2=$$v},expression:\"password2\"}})],1)],1)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('img',{staticClass:\"lefticon\",attrs:{\"src\":require(\"../../../assets/images/w_tuichu.png\")}}),_c('span',{staticClass:\"txtdesc\"},[_vm._v(\"切换角色\")]),_c('img',{staticClass:\"righticon\",attrs:{\"src\":require(\"../../../assets/images/btn-youjiantou@3x.png\")}})])\n},function (){var _vm=this,_c=_vm._self._c;return _c('li',[_c('img',{staticClass:\"lefticon\",attrs:{\"src\":require(\"../../../assets/images/w_tuichu.png\")}}),_c('span',{staticClass:\"txtdesc\"},[_vm._v(\"退出登录\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wxUser\">\r\n    <div id=\"personal\" @click=\"person(this)\">\r\n      <div id=\"code\" style=\"display: none\">{{ stdtype }}</div>\r\n      <img style=\"width:50px;height:50px\" :src=\"imageurl\" class=\"personaltouxiang\" />\r\n      <dl>\r\n        <dt>{{ name }}</dt>\r\n        <dd>工号:{{ code }}</dd>\r\n      </dl>\r\n      <img src=\"../../../assets/images/btn-youjiantou@3x.png\" class=\"righticon\" style=\"margin-top:16px\" />\r\n    </div>\r\n    <div>\r\n      <ul class=\"itemlist\" @click=\"roleSwitch()\">\r\n        <li>\r\n          <img src=\"../../../assets/images/w_tuichu.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">切换角色</span>\r\n          <img src=\"../../../assets/images/btn-youjiantou@3x.png\" class=\"righticon\" />\r\n        </li>\r\n      </ul>\r\n      <ul class=\"itemlist\">\r\n        <li @click=\"resetpwd()\">\r\n          <img src=\"../../../assets/images/w_xiuigaimima-.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">修改密码</span>\r\n          <img src=\"../../../assets/images/btn-youjiantou@3x.png\" class=\"righticon\" />\r\n        </li>\r\n        <!-- <li @click=\"bindphone()\">\r\n          <img src=\"../../../assets/images/icon_bdsjh.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">绑定手机号</span>\r\n          <img src=\"../../../assets/images/btn-youjiantou@3x.png\" class=\"righticon\" />\r\n        </li> -->\r\n        <!-- <li v-if=\"wechatlist.length == 0\" @click=\"bindweixin()\">\r\n          <img src=\"../../../assets/images/icon_weixin.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">绑定微信</span>\r\n          <img src=\"../../../assets/images/btn-youjiantou@3x.png\" class=\"righticon\" />\r\n          <span style=\"float: right;margin-right: .3rem;\" class=\"txtdesc\">未绑定</span>\r\n        </li> -->\r\n        <!-- <li v-if=\"wechatlist.length != 0\">\r\n          <img src=\"../../../assets/images/icon_weixin.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">绑定微信</span>\r\n          <span\r\n            v-if=\"wechatlist.length != 0 && wechatlist[0].nickname\"\r\n            style=\"float: right;\"\r\n            class=\"txtdesc\"\r\n          >{{wechatlist[0].nickname}}</span>\r\n        </li> -->\r\n        <!-- <li style=\"margin-top:10px;\">\r\n          <img src=\"../../../assets/images/icon_bbh.png\" class=\"lefticon\" />\r\n          <span class=\"txtdesc\">版本号</span>\r\n          <span class=\"righticon\">{{ version }}</span>\r\n        </li> -->\r\n      </ul>\r\n    </div>\r\n    <ul class=\"itemlist\" @click=\"logout()\">\r\n      <li>\r\n        <img src=\"../../../assets/images/w_tuichu.png\" class=\"lefticon\" />\r\n        <span class=\"txtdesc\">退出登录</span>\r\n      </li>\r\n    </ul>\r\n    <van-action-sheet v-model=\"roleSwitchShow\" :actions=\"actions\" cancel-text=\"取消\" description=\"请选择角色\"\r\n      close-on-click-action />\r\n    <van-dialog v-model=\"updatePwd\" title=\"修改密码\" show-cancel-button confirmButtonColor=\"#3499db\" @confirm=\"sumbit\">\r\n      <van-field v-model=\"oldpassword\" type=\"password\" label=\"旧密码\" />\r\n      <van-field v-model=\"password1\" type=\"password\" label=\"新密码\" />\r\n      <van-field v-model=\"password2\" type=\"password\" label=\"确认新密码\" />\r\n    </van-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nconst md5 = require(\"md5\");\r\n// import md5 from 'md5'\r\nimport $ from \"jquery\";\r\nimport methods from \"../../../methods\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nimport { Dialog, Toast } from \"vant\";\r\nexport default {\r\n  name: \"wxUser\",\r\n  data() {\r\n    return {\r\n      oldpassword: \"\",\r\n      password1: \"\",\r\n      password2: \"\",\r\n      updatePwd: false,\r\n      roleSwitchShow: false,\r\n      active: 0,\r\n      headerTitle: \"我的\",\r\n      todonum: 0,\r\n      msgnum: 0,\r\n      titlenum: 0,\r\n      isactive: [false, false, false, true],\r\n      name: \"\",\r\n      code: \"\",\r\n      version: \"\",\r\n      imageurl: require(\"../../../assets/images/icon-wode-touxiang.png\"),\r\n      wechatlist: [],\r\n      stdtype: \"\", //   1：留学生，2：本科生，3：外院，4：住培生\r\n      actions: [{ name: '住培生' }, { name: '进修生' }]\r\n    };\r\n  },\r\n  created: function () {\r\n    this.show_my();\r\n    // this.invokeNative(\"GetCurrentVersion\", {}, this.getappversion);\r\n    // jump_msxxq();\r\n  },\r\n  mounted: function () {\r\n    // this.getWeChatInfo();\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    person() {\r\n      // location.href = \"/pages/futuredoctorapp/myinf.html\";\r\n      // window.location.href = \"myinf.html\";\r\n      this.$router.push({\r\n        name: \"wxInfo\"\r\n      });\r\n    },\r\n    sumbit() {\r\n      let self = this\r\n      console.log(this.oldpassword, this.password1, this.password2)\r\n      if (this.oldpassword == \"\" || this.password1 == \"\" || this.password2 == \"\") {\r\n        Toast(\"请输入完整信息\");\r\n        self.updatePwd = false;\r\n          self.oldpassword = \"\";\r\n          self.password1 = \"\";\r\n          self.password2 = \"\";\r\n        return;\r\n      }\r\n      if (this.password1 !== this.password2) {\r\n        Toast(\"两次输入的密码不一致\");\r\n        self.updatePwd = false;\r\n          self.oldpassword = \"\";\r\n          self.password1 = \"\";\r\n          self.password2 = \"\";\r\n        return;\r\n      }\r\n      if (this.oldpassword === this.password1) {\r\n        Toast(\"新密码不能与旧密码相同\");\r\n        self.updatePwd = false;\r\n          self.oldpassword = \"\";\r\n          self.password1 = \"\";\r\n          self.password2 = \"\";\r\n        return;\r\n      }\r\n      self.post('/usr/changepassword', {\r\n        command: 'usr/changepassword',\r\n        loginid: $.cookie(\"uid\"),\r\n        sessionid: $.cookie(\"sid\"),\r\n        oldpassword: md5(this.oldpassword),\r\n        newpassword: md5(this.password1),\r\n        uid: $.cookie('uid')\r\n      }).done(res => {\r\n        if(res.errcode == 0) {\r\n          Toast(\"修改成功\");\r\n          $.removeCookie(\"sid\", { path: \"/\" });\r\n          $.removeCookie(\"uid\", { path: \"/\" });\r\n          $.removeCookie(\"name\", { path: \"/\" });\r\n          $.removeCookie(\"token\", { path: \"/\" });\r\n          self.$router.push({\r\n            name: \"wxLogin\"\r\n          });\r\n        }else {\r\n          self.updatePwd = false;\r\n          self.oldpassword = \"\";\r\n          self.password1 = \"\";\r\n          self.password2 = \"\";\r\n          Toast(res.errdesc)\r\n        }\r\n      })\r\n    },\r\n    resetpwd() {\r\n      // location.href = \"/pages/futuredoctorapp/resetpwd.html\";\r\n      // window.location.href = \"resetpwd.html\";\r\n      this.updatePwd = true;\r\n    },\r\n    bindphone() {\r\n      location.href = \"/pages/futuredoctorapp/bindphone.html\";\r\n      // window.location.href = \"bindphone.html\";\r\n    },\r\n    roleSwitch() {\r\n      this.roleSwitchShow = true\r\n    },\r\n    bindweixin() {\r\n      let sle = this;\r\n      this.invokeNative(\"GetWeChatInfo\", { weChat: \"weChat\" }, function (data) {\r\n        console.log(data);\r\n        if (typeof data == \"object\") {\r\n          self.wechatobj = data;\r\n        } else {\r\n          self.wechatobj = JSON.parse(data);\r\n        }\r\n        self.bindWeChat();\r\n      });\r\n    },\r\n    bindWeChat: function () {\r\n      let self = this;\r\n      self\r\n        .post(\"/weixin/bindappuser\", {\r\n          command: \"weixin/bindappuser\",\r\n          loginid: $.cookie(\"uid\"),\r\n          sessionid: $.cookie(\"sid\"),\r\n          nickname: self.wechatobj.nickname,\r\n          sex: self.wechatobj.sex,\r\n          language: self.wechatobj.language,\r\n          city: self.wechatobj.city,\r\n          province: self.wechatobj.province,\r\n          country: self.wechatobj.country,\r\n          headimgurl: self.wechatobj.headimgurl,\r\n          unionid: self.wechatobj.unionid\r\n        })\r\n        .done(function (res) {\r\n          if (res.errcode == 0) {\r\n            // alert('微信绑定成功！')\r\n            // window.location.href = \"todo.html?view=my\";\r\n            self.$router,\r\n              push({\r\n                name: \"wxIndex\",\r\n                query: {\r\n                  view: my\r\n                }\r\n              });\r\n          } else {\r\n            // alert('绑定失败！')\r\n          }\r\n        });\r\n    },\r\n    logout() {\r\n      let self = this;\r\n      Dialog.confirm({\r\n        title: \"提醒\",\r\n        message: \"是否退出智慧医教\",\r\n        confirmButtonColor: \"#1989fa\"\r\n      })\r\n        .then(() => {\r\n          console.log(window.location.host)\r\n          $.removeCookie(\"sid\", { path: \"/\" });\r\n          $.removeCookie(\"uid\", { path: \"/\" });\r\n          $.removeCookie(\"name\", { path: \"/\" });\r\n          $.removeCookie(\"token\", { path: \"/\" });\r\n          self.$router.push({\r\n            name: \"wxLogin\"\r\n          });\r\n        })\r\n        .catch(() => {\r\n        });\r\n    },\r\n    getappversion: function (res) {\r\n      let self = this;\r\n      self.version = \"V \" + res;\r\n    },\r\n    show_my: function () {\r\n      var self = this;\r\n      var data = {\r\n        command: \"user/queryuserdetail\", //接口地址\r\n        sessionid: $.cookie(\"sid\"),\r\n        loginid: $.cookie(\"uid\"),\r\n        uid: $.cookie(\"uid\")\r\n      };\r\n      self.post(\"/user/queryuserdetail\", data).done(function (res) {\r\n        self.stdtype = res.users[0].stdtype;\r\n        self.name = res.users[0].name;\r\n        self.code = res.users[0].code;\r\n        if (res.users[0].imageurl) {\r\n          self.imageurl = res.users[0].imageurl;\r\n        }\r\n      });\r\n    },\r\n    // getWeChatInfo: function() {\r\n    //   var self = this;\r\n    //   var data = {\r\n    //     command: \"weixin/getweixininfo\",\r\n    //     sessionid: $.cookie(\"sid\"),\r\n    //     loginid: $.cookie(\"uid\")\r\n    //   };\r\n    //   self.post(\"/weixin/getweixininfo\", data).done(function(res) {\r\n    //     if (res.errcode == 0) {\r\n    //       self.wechatlist = res.list;\r\n    //     }\r\n    //   });\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style  lang=\"scss\" scoped>\r\n@import \"../css/common.css\";\r\n\r\n.wxUser {\r\n  font-size: 14px;\r\n\r\n  .header {\r\n    box-sizing: border-box;\r\n    text-align: center;\r\n    font-size: 20px;\r\n    color: #fff;\r\n    padding-left: 0.2rem;\r\n    padding-right: 0.2rem;\r\n    height: 50px;\r\n    position: relative;\r\n    background: #3499db;\r\n    -ms-flex-flow: row;\r\n    flex-flow: row;\r\n    display: flex;\r\n    -ms-flex-align: center;\r\n    -moz-align-items: center;\r\n    align-items: center;\r\n    justify-content: center;\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    z-index: 99;\r\n  }\r\n\r\n  .container {\r\n    padding-left: 0px;\r\n    padding-right: 0px;\r\n    background-color: #f2f2f2;\r\n  }\r\n\r\n  .personaltouxiang {\r\n    float: left;\r\n  }\r\n\r\n  .personalxinxi {\r\n    margin-top: 15px;\r\n    margin-left: 3px;\r\n    height: 60px;\r\n  }\r\n\r\n  .personaljiantou {\r\n    float: right;\r\n    padding-right: 19px;\r\n    margin-top: 31px;\r\n  }\r\n\r\n  #personal {\r\n    background-color: #ffffff;\r\n    overflow: hidden;\r\n    margin-bottom: 10px;\r\n    padding: 20px 16px 10px 16px;\r\n  }\r\n\r\n  #personal>dl {\r\n    float: left;\r\n    margin-left: 10px;\r\n    margin-bottom: 0;\r\n  }\r\n\r\n  .gy {\r\n    background-color: #ffffff;\r\n    height: 47px;\r\n    border-width: 0 0 1px 0;\r\n    border-style: solid;\r\n    border-color: #e8e8e8;\r\n  }\r\n\r\n  .gytu {\r\n    float: left;\r\n    margin-top: 10px;\r\n    margin-left: 20px;\r\n  }\r\n\r\n  .gywenzi {\r\n    float: left;\r\n    margin-top: 16px;\r\n    margin-left: 12px;\r\n  }\r\n\r\n  .gyjiantou {\r\n    float: right;\r\n    margin-top: 16px;\r\n    margin-right: 19px;\r\n  }\r\n\r\n  .tj {\r\n    background-color: #ffffff;\r\n    height: 47px;\r\n  }\r\n\r\n  .tjtu {\r\n    float: left;\r\n    margin-top: 10px;\r\n    margin-left: 20px;\r\n  }\r\n\r\n  .tjwenzi {\r\n    float: left;\r\n    margin-top: 16px;\r\n    margin-left: 12px;\r\n  }\r\n\r\n  .tjjiantou {\r\n    float: right;\r\n    margin-top: 16px;\r\n    margin-right: 19px;\r\n  }\r\n\r\n  .out {\r\n    height: 47px;\r\n    background: #ffffff;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    line-height: 47px;\r\n  }\r\n\r\n  .lefticon {\r\n    float: left;\r\n    width: 30px;\r\n    vertical-align: bottom;\r\n  }\r\n\r\n  .txtdesc {\r\n    float: left;\r\n    height: 30px;\r\n    line-height: 30px;\r\n    padding-left: 20px;\r\n  }\r\n\r\n  .righticon {\r\n    float: right;\r\n    vertical-align: bottom;\r\n    margin-top: 6px;\r\n    height: 18px;\r\n  }\r\n\r\n  .itemlist li {\r\n    overflow: hidden;\r\n    background-color: white;\r\n    padding: 10px 16px;\r\n    border-bottom: 1px solid #f2f2f2;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.wxUser {\r\n  .van-cell {\r\n    align-items: center;\r\n  }\r\n}\r\n\r\n.van-dialog .van-dialog__confirm,\r\n.van-dialog__confirm:active {\r\n  color: #1989fa\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxUser.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./wxUser.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./wxUser.vue?vue&type=template&id=ea098d72&scoped=true\"\nimport script from \"./wxUser.vue?vue&type=script&lang=js\"\nexport * from \"./wxUser.vue?vue&type=script&lang=js\"\nimport style0 from \"./wxUser.vue?vue&type=style&index=0&id=ea098d72&prod&lang=scss&scoped=true\"\nimport style1 from \"./wxUser.vue?vue&type=style&index=1&id=ea098d72&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ea098d72\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"wxIndex\">\r\n    <wx-home v-if=\"active == 0\"></wx-home>\r\n    <wx-message v-show=\"active == 1\" @getUnread=\"getUnread\"></wx-message>\r\n    <wx-user v-show=\"active == 2\"></wx-user>\r\n    <van-tabbar v-model=\"active\">\r\n      <van-tabbar-item>\r\n        <span>首页</span>\r\n        <img slot=\"icon\" slot-scope=\"props\" :src=\"props.active ? icon.homeActive : icon.home\" />\r\n      </van-tabbar-item>\r\n      <van-tabbar-item icon=\"chat-o\" :badge=\"msgNum\">\r\n        <span>消息</span>\r\n        <img slot=\"icon\" slot-scope=\"props\" :src=\"props.active ? icon.messageActive : icon.message\" />\r\n      </van-tabbar-item>\r\n      <van-tabbar-item icon=\"user-o\">\r\n        <span>我的</span>\r\n        <img slot=\"icon\" slot-scope=\"props\" :src=\"props.active ? icon.userActive : icon.user\" />\r\n      </van-tabbar-item>\r\n    </van-tabbar>\r\n  </div>\r\n</template>\r\n<script>\r\nimport wxHome from \"./components/wxHome\";\r\nimport wxMessage from \"./components/wxMessage\";\r\nimport wxUser from \"./components/wxUser\";\r\nimport { Tabbar, TabbarItem } from \"vant\";\r\nimport $ from \"jquery\";\r\nimport methods from \"../../methods\";\r\nimport { mapState, mapActions } from \"vuex\";\r\nexport default {\r\n  name: \"wxIndex\",\r\n  components: {\r\n    wxHome,\r\n    wxMessage,\r\n    wxUser\r\n  },\r\n  data() {\r\n    return {\r\n      active: 0,\r\n      msgNum: \"\",\r\n      icon: {\r\n        home: require(\"../../assets/images/wxHome.png\"),\r\n        homeActive: require(\"../../assets/images/wxHomeActive.png\"),\r\n        message: require(\"../../assets/images/wxMessage.png\"),\r\n        messageActive: require(\"../../assets/images/wxMessageActive.png\"),\r\n        user: require(\"../../assets/images/wxUser.png\"),\r\n        userActive: require(\"../../assets/images/wxUserActive.png\")\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    let self = this;\r\n    self.getView();\r\n    self.clearMenusId()\r\n  },\r\n  watch: {\r\n    active() {\r\n      window.scrollTo(0, 0);\r\n    },\r\n    deep: true\r\n  },\r\n  methods: {\r\n    ...methods,\r\n    getView() {\r\n      let self = this;\r\n      if (self.$route.query.view) {\r\n        let view = self.$route.query.view;\r\n        if (view == \"message\") {\r\n          self.active = 1;\r\n        } else if (view == \"my\") {\r\n          self.active = 2;\r\n        } else {\r\n          self.active = 0;\r\n        }\r\n      }\r\n    },\r\n    getUnread(num) {\r\n      let self = this;\r\n      self.msgNum = num;\r\n    },\r\n    clearMenusId() {\r\n      localStorage.setItem(\"menuId\", \"\");\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.wxIndex {\r\n  .van-tabbar {\r\n    z-index: 99;\r\n    .van-tabbar-item {\r\n      .van-tabbar-item__text {\r\n        span {\r\n          font-size: 10px;\r\n          letter-spacing: 0.2px;\r\n          text-align: center;\r\n          font-weight: 500;\r\n        }\r\n      }\r\n      img {\r\n        width: 20px;\r\n        height: 20px;\r\n      }\r\n    }\r\n  }\r\n}\r\n.popCBox {\r\n  width: 40%;\r\n  height: 350px;\r\n  overflow: scroll;\r\n}\r\n\r\n.popKBox {\r\n  width: 60%;\r\n  height: 350px;\r\n  overflow: scroll;\r\n  padding-bottom: 80px;\r\n}\r\n.rotationc {\r\n  .van-popup {\r\n    height: 350px;\r\n    transform: translate3d(0%, 0%, 0);\r\n    overflow: hidden;\r\n  }\r\n  .popCK {\r\n    display: flex;\r\n    height: 350px;\r\n  }\r\n  .van-sidebar {\r\n    width: 100%;\r\n    height: 350px;\r\n    padding-bottom: 48px;\r\n  }\r\n  .van-sidebar-item--select:before {\r\n    background-color: #0079fd;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0bc09cd4\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0bc09cd4&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","var _echarts = require(\"./lib/echarts\");\n\n(function () {\n  for (var key in _echarts) {\n    if (_echarts == null || !_echarts.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _echarts[key];\n  }\n})();\n\nvar _export = require(\"./lib/export\");\n\n(function () {\n  for (var key in _export) {\n    if (_export == null || !_export.hasOwnProperty(key) || key === 'default' || key === '__esModule') return;\n    exports[key] = _export[key];\n  }\n})();\n\nrequire(\"./lib/chart/line\");\n\nrequire(\"./lib/chart/bar\");\n\nrequire(\"./lib/chart/pie\");\n\nrequire(\"./lib/chart/scatter\");\n\nrequire(\"./lib/chart/radar\");\n\nrequire(\"./lib/chart/map\");\n\nrequire(\"./lib/chart/tree\");\n\nrequire(\"./lib/chart/treemap\");\n\nrequire(\"./lib/chart/graph\");\n\nrequire(\"./lib/chart/gauge\");\n\nrequire(\"./lib/chart/funnel\");\n\nrequire(\"./lib/chart/parallel\");\n\nrequire(\"./lib/chart/sankey\");\n\nrequire(\"./lib/chart/boxplot\");\n\nrequire(\"./lib/chart/candlestick\");\n\nrequire(\"./lib/chart/effectScatter\");\n\nrequire(\"./lib/chart/lines\");\n\nrequire(\"./lib/chart/heatmap\");\n\nrequire(\"./lib/chart/pictorialBar\");\n\nrequire(\"./lib/chart/themeRiver\");\n\nrequire(\"./lib/chart/custom\");\n\nrequire(\"./lib/component/graphic\");\n\nrequire(\"./lib/component/grid\");\n\nrequire(\"./lib/component/legendScroll\");\n\nrequire(\"./lib/component/tooltip\");\n\nrequire(\"./lib/component/axisPointer\");\n\nrequire(\"./lib/component/polar\");\n\nrequire(\"./lib/component/geo\");\n\nrequire(\"./lib/component/parallel\");\n\nrequire(\"./lib/component/singleAxis\");\n\nrequire(\"./lib/component/brush\");\n\nrequire(\"./lib/component/calendar\");\n\nrequire(\"./lib/component/title\");\n\nrequire(\"./lib/component/dataZoom\");\n\nrequire(\"./lib/component/visualMap\");\n\nrequire(\"./lib/component/markPoint\");\n\nrequire(\"./lib/component/markLine\");\n\nrequire(\"./lib/component/markArea\");\n\nrequire(\"./lib/component/timeline\");\n\nrequire(\"./lib/component/toolbox\");\n\nrequire(\"zrender/lib/vml/vml\");\n\nrequire(\"zrender/lib/svg/svg\");","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _roamHelper = require(\"./roamHelper\");\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\n\n/**\n * @payload\n * @property {string} [componentType=series]\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\necharts.registerAction({\n  type: 'geoRoam',\n  event: 'geoRoam',\n  update: 'updateLayout'\n}, function (payload, ecModel) {\n  var componentType = payload.componentType || 'series';\n  ecModel.eachComponent({\n    mainType: componentType,\n    query: payload\n  }, function (componentModel) {\n    var geo = componentModel.coordinateSystem;\n\n    if (geo.type !== 'geo') {\n      return;\n    }\n\n    var res = updateCenterAndZoom(geo, payload, componentModel.get('scaleLimit'));\n    componentModel.setCenter && componentModel.setCenter(res.center);\n    componentModel.setZoom && componentModel.setZoom(res.zoom); // All map series with same `map` use the same geo coordinate system\n    // So the center and zoom must be in sync. Include the series not selected by legend\n\n    if (componentType === 'series') {\n      zrUtil.each(componentModel.seriesGroup, function (seriesModel) {\n        seriesModel.setCenter(res.center);\n        seriesModel.setZoom(res.zoom);\n      });\n    }\n  });\n});","/**\n * @param {module:echarts/coord/View} view\n * @param {Object} payload\n * @param {Object} [zoomLimit]\n */\nfunction updateCenterAndZoom(view, payload, zoomLimit) {\n  var previousZoom = view.getZoom();\n  var center = view.getCenter();\n  var zoom = payload.zoom;\n  var point = view.dataToPoint(center);\n\n  if (payload.dx != null && payload.dy != null) {\n    point[0] -= payload.dx;\n    point[1] -= payload.dy;\n    var center = view.pointToData(point);\n    view.setCenter(center);\n  }\n\n  if (zoom != null) {\n    if (zoomLimit) {\n      var zoomMin = zoomLimit.min || 0;\n      var zoomMax = zoomLimit.max || Infinity;\n      zoom = Math.max(Math.min(previousZoom * zoom, zoomMax), zoomMin) / previousZoom;\n    } // Zoom on given point(originX, originY)\n\n\n    view.scale[0] *= zoom;\n    view.scale[1] *= zoom;\n    var position = view.position;\n    var fixX = (payload.originX - position[0]) * (zoom - 1);\n    var fixY = (payload.originY - position[1]) * (zoom - 1);\n    position[0] -= fixX;\n    position[1] -= fixY;\n    view.updateTransform(); // Get the new center\n\n    var center = view.pointToData(point);\n    view.setCenter(center);\n    view.setZoom(zoom * previousZoom);\n  }\n\n  return {\n    center: view.getCenter(),\n    zoom: view.getZoom()\n  };\n}\n\nexports.updateCenterAndZoom = updateCenterAndZoom;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar barLayoutGrid = require(\"../layout/barGrid\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/BarSeries\");\n\nrequire(\"./bar/BarView\");\n\nrequire(\"../component/gridSimple\");\n\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(barLayoutGrid, 'bar')); // Visual coding for legend\n\necharts.registerVisual(function (ecModel) {\n  ecModel.eachSeriesByType('bar', function (seriesModel) {\n    var data = seriesModel.getData();\n    data.setVisual('legendSymbol', 'roundRect');\n  });\n});","var BaseBarSeries = require(\"./BaseBarSeries\");\n\nvar _default = BaseBarSeries.extend({\n  type: 'series.bar',\n  dependencies: ['grid', 'polar'],\n  brushSelector: 'rect'\n});\n\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\n\nvar Model = require(\"../../model/Model\");\n\nvar barItemStyle = require(\"./barItemStyle\");\n\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'normal', 'barBorderWidth']; // FIXME\n// Just for compatible with ec2.\n\nzrUtil.extend(Model.prototype, barItemStyle);\n\nvar _default = echarts.extendChartView({\n  type: 'bar',\n  render: function (seriesModel, ecModel, api) {\n    var coordinateSystemType = seriesModel.get('coordinateSystem');\n\n    if (coordinateSystemType === 'cartesian2d' || coordinateSystemType === 'polar') {\n      this._render(seriesModel, ecModel, api);\n    } else {}\n\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  _render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coord = seriesModel.coordinateSystem;\n    var baseAxis = coord.getBaseAxis();\n    var isHorizontalOrRadial;\n\n    if (coord.type === 'cartesian2d') {\n      isHorizontalOrRadial = baseAxis.isHorizontal();\n    } else if (coord.type === 'polar') {\n      isHorizontalOrRadial = baseAxis.dim === 'angle';\n    }\n\n    var animationModel = seriesModel.isAnimationEnabled() ? seriesModel : null;\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = data.getItemModel(dataIndex);\n      var layout = getLayout[coord.type](data, dataIndex, itemModel);\n      var el = elementCreator[coord.type](data, dataIndex, itemModel, layout, isHorizontalOrRadial, animationModel);\n      data.setItemGraphicEl(dataIndex, el);\n      group.add(el);\n      updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).update(function (newIndex, oldIndex) {\n      var el = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(el);\n        return;\n      }\n\n      var itemModel = data.getItemModel(newIndex);\n      var layout = getLayout[coord.type](data, newIndex, itemModel);\n\n      if (el) {\n        graphic.updateProps(el, {\n          shape: layout\n        }, animationModel, newIndex);\n      } else {\n        el = elementCreator[coord.type](data, newIndex, itemModel, layout, isHorizontalOrRadial, animationModel, true);\n      }\n\n      data.setItemGraphicEl(newIndex, el); // Add back\n\n      group.add(el);\n      updateStyle(el, data, newIndex, itemModel, layout, seriesModel, isHorizontalOrRadial, coord.type === 'polar');\n    }).remove(function (dataIndex) {\n      var el = oldData.getItemGraphicEl(dataIndex);\n\n      if (coord.type === 'cartesian2d') {\n        el && removeRect(dataIndex, animationModel, el);\n      } else {\n        el && removeSector(dataIndex, animationModel, el);\n      }\n    }).execute();\n    this._data = data;\n  },\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (el) {\n          if (el.type === 'sector') {\n            removeSector(el.dataIndex, ecModel, el);\n          } else {\n            removeRect(el.dataIndex, ecModel, el);\n          }\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n});\n\nvar elementCreator = {\n  cartesian2d: function (data, dataIndex, itemModel, layout, isHorizontal, animationModel, isUpdate) {\n    var rect = new graphic.Rect({\n      shape: zrUtil.extend({}, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var rectShape = rect.shape;\n      var animateProperty = isHorizontal ? 'height' : 'width';\n      var animateTarget = {};\n      rectShape[animateProperty] = 0;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](rect, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return rect;\n  },\n  polar: function (data, dataIndex, itemModel, layout, isRadial, animationModel, isUpdate) {\n    var sector = new graphic.Sector({\n      shape: zrUtil.extend({}, layout)\n    }); // Animation\n\n    if (animationModel) {\n      var sectorShape = sector.shape;\n      var animateProperty = isRadial ? 'r' : 'endAngle';\n      var animateTarget = {};\n      sectorShape[animateProperty] = isRadial ? 0 : layout.startAngle;\n      animateTarget[animateProperty] = layout[animateProperty];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](sector, {\n        shape: animateTarget\n      }, animationModel, dataIndex);\n    }\n\n    return sector;\n  }\n};\n\nfunction removeRect(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      width: 0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nfunction removeSector(dataIndex, animationModel, el) {\n  // Not show text when animating\n  el.style.text = null;\n  graphic.updateProps(el, {\n    shape: {\n      r: el.shape.r0\n    }\n  }, animationModel, dataIndex, function () {\n    el.parent && el.parent.remove(el);\n  });\n}\n\nvar getLayout = {\n  cartesian2d: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    var fixedLineWidth = getLineWidth(itemModel, layout); // fix layout with lineWidth\n\n    var signX = layout.width > 0 ? 1 : -1;\n    var signY = layout.height > 0 ? 1 : -1;\n    return {\n      x: layout.x + signX * fixedLineWidth / 2,\n      y: layout.y + signY * fixedLineWidth / 2,\n      width: layout.width - signX * fixedLineWidth,\n      height: layout.height - signY * fixedLineWidth\n    };\n  },\n  polar: function (data, dataIndex, itemModel) {\n    var layout = data.getItemLayout(dataIndex);\n    return {\n      cx: layout.cx,\n      cy: layout.cy,\n      r0: layout.r0,\n      r: layout.r,\n      startAngle: layout.startAngle,\n      endAngle: layout.endAngle\n    };\n  }\n};\n\nfunction updateStyle(el, data, dataIndex, itemModel, layout, seriesModel, isHorizontal, isPolar) {\n  var color = data.getItemVisual(dataIndex, 'color');\n  var opacity = data.getItemVisual(dataIndex, 'opacity');\n  var itemStyleModel = itemModel.getModel('itemStyle.normal');\n  var hoverStyle = itemModel.getModel('itemStyle.emphasis').getBarItemStyle();\n\n  if (!isPolar) {\n    el.setShape('r', itemStyleModel.get('barBorderRadius') || 0);\n  }\n\n  el.useStyle(zrUtil.defaults({\n    fill: color,\n    opacity: opacity\n  }, itemStyleModel.getBarItemStyle()));\n  var cursorStyle = itemModel.getShallow('cursor');\n  cursorStyle && el.attr('cursor', cursorStyle);\n  var labelPositionOutside = isHorizontal ? layout.height > 0 ? 'bottom' : 'top' : layout.width > 0 ? 'left' : 'right';\n\n  if (!isPolar) {\n    setLabel(el.style, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside);\n  }\n\n  graphic.setHoverStyle(el, hoverStyle);\n} // In case width or height are too small.\n\n\nfunction getLineWidth(itemModel, rawLayout) {\n  var lineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n  return Math.min(lineWidth, Math.abs(rawLayout.width), Math.abs(rawLayout.height));\n}\n\nmodule.exports = _default;","var SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar _default = SeriesModel.extend({\n  type: 'series.__base_bar__',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  getMarkerPosition: function (value) {\n    var coordSys = this.coordinateSystem;\n\n    if (coordSys) {\n      // PENDING if clamp ?\n      var pt = coordSys.dataToPoint(value, true);\n      var data = this.getData();\n      var offset = data.getLayout('offset');\n      var size = data.getLayout('size');\n      var offsetIndex = coordSys.getBaseAxis().isHorizontal() ? 0 : 1;\n      pt[offsetIndex] += offset + size / 2;\n      return pt;\n    }\n\n    return [NaN, NaN];\n  },\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    // stack: null\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // 最小高度改为0\n    barMinHeight: 0,\n    // 最小角度为0，仅对极坐标系下的柱状图有效\n    barMinAngle: 0,\n    // cursor: null,\n    // barMaxWidth: null,\n    // 默认自适应\n    // barWidth: null,\n    // 柱间距离，默认为柱形宽度的30%，可设固定值\n    // barGap: '30%',\n    // 类目间柱形距离，默认为类目间距的20%，可设固定值\n    // barCategoryGap: '20%',\n    // label: {\n    //     normal: {\n    //         show: false\n    //     }\n    // },\n    itemStyle: {// normal: {\n      // color: '各异'\n      // },\n      // emphasis: {}\n    }\n  }\n});\n\nmodule.exports = _default;","var BaseBarSeries = require(\"./BaseBarSeries\");\n\nvar PictorialBarSeries = BaseBarSeries.extend({\n  type: 'series.pictorialBar',\n  dependencies: ['grid'],\n  defaultOption: {\n    symbol: 'circle',\n    // Customized bar shape\n    symbolSize: null,\n    // Can be ['100%', '100%'], null means auto.\n    symbolRotate: null,\n    symbolPosition: null,\n    // 'start' or 'end' or 'center', null means auto.\n    symbolOffset: null,\n    symbolMargin: null,\n    // start margin and end margin. Can be a number or a percent string.\n    // Auto margin by defualt.\n    symbolRepeat: false,\n    // false/null/undefined, means no repeat.\n    // Can be true, means auto calculate repeat times and cut by data.\n    // Can be a number, specifies repeat times, and do not cut by data.\n    // Can be 'fixed', means auto calculate repeat times but do not cut by data.\n    symbolRepeatDirection: 'end',\n    // 'end' means from 'start' to 'end'.\n    symbolClip: false,\n    symbolBoundingData: null,\n    // Can be 60 or -40 or [-40, 60]\n    symbolPatternSize: 400,\n    // 400 * 400 px\n    barGap: '-100%',\n    // In most case, overlap is needed.\n    // z can be set in data item, which is z2 actually.\n    // Disable progressive\n    progressive: 0,\n    hoverAnimation: false // Open only when needed.\n\n  },\n  getInitialData: function (option) {\n    // Disable stack.\n    option.stack = null;\n    return PictorialBarSeries.superApply(this, 'getInitialData', arguments);\n  }\n});\nvar _default = PictorialBarSeries;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar isNumeric = _number.isNumeric;\n\nvar _helper = require(\"./helper\");\n\nvar setLabel = _helper.setLabel;\nvar BAR_BORDER_WIDTH_QUERY = ['itemStyle', 'normal', 'borderWidth']; // index: +isHorizontal\n\nvar LAYOUT_ATTRS = [{\n  xy: 'x',\n  wh: 'width',\n  index: 0,\n  posDesc: ['left', 'right']\n}, {\n  xy: 'y',\n  wh: 'height',\n  index: 1,\n  posDesc: ['top', 'bottom']\n}];\nvar pathForLineWidth = new graphic.Circle();\nvar BarView = echarts.extendChartView({\n  type: 'pictorialBar',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var isHorizontal = !!baseAxis.isHorizontal();\n    var coordSysRect = cartesian.grid.getRect();\n    var opt = {\n      ecSize: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      seriesModel: seriesModel,\n      coordSys: cartesian,\n      coordSysExtent: [[coordSysRect.x, coordSysRect.x + coordSysRect.width], [coordSysRect.y, coordSysRect.y + coordSysRect.height]],\n      isHorizontal: isHorizontal,\n      valueDim: LAYOUT_ATTRS[+isHorizontal],\n      categoryDim: LAYOUT_ATTRS[1 - isHorizontal]\n    };\n    data.diff(oldData).add(function (dataIndex) {\n      if (!data.hasValue(dataIndex)) {\n        return;\n      }\n\n      var itemModel = getItemModel(data, dataIndex);\n      var symbolMeta = getSymbolMeta(data, dataIndex, itemModel, opt);\n      var bar = createBar(data, opt, symbolMeta);\n      data.setItemGraphicEl(dataIndex, bar);\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).update(function (newIndex, oldIndex) {\n      var bar = oldData.getItemGraphicEl(oldIndex);\n\n      if (!data.hasValue(newIndex)) {\n        group.remove(bar);\n        return;\n      }\n\n      var itemModel = getItemModel(data, newIndex);\n      var symbolMeta = getSymbolMeta(data, newIndex, itemModel, opt);\n      var pictorialShapeStr = getShapeStr(data, symbolMeta);\n\n      if (bar && pictorialShapeStr !== bar.__pictorialShapeStr) {\n        group.remove(bar);\n        data.setItemGraphicEl(newIndex, null);\n        bar = null;\n      }\n\n      if (bar) {\n        updateBar(bar, opt, symbolMeta);\n      } else {\n        bar = createBar(data, opt, symbolMeta, true);\n      }\n\n      data.setItemGraphicEl(newIndex, bar);\n      bar.__pictorialSymbolMeta = symbolMeta; // Add back\n\n      group.add(bar);\n      updateCommon(bar, opt, symbolMeta);\n    }).remove(function (dataIndex) {\n      var bar = oldData.getItemGraphicEl(dataIndex);\n      bar && removeBar(oldData, dataIndex, bar.__pictorialSymbolMeta.animationModel, bar);\n    }).execute();\n    this._data = data;\n    return this.group;\n  },\n  dispose: zrUtil.noop,\n  remove: function (ecModel, api) {\n    var group = this.group;\n    var data = this._data;\n\n    if (ecModel.get('animation')) {\n      if (data) {\n        data.eachItemGraphicEl(function (bar) {\n          removeBar(data, bar.dataIndex, ecModel, bar);\n        });\n      }\n    } else {\n      group.removeAll();\n    }\n  }\n}); // Set or calculate default value about symbol, and calculate layout info.\n\nfunction getSymbolMeta(data, dataIndex, itemModel, opt) {\n  var layout = data.getItemLayout(dataIndex);\n  var symbolRepeat = itemModel.get('symbolRepeat');\n  var symbolClip = itemModel.get('symbolClip');\n  var symbolPosition = itemModel.get('symbolPosition') || 'start';\n  var symbolRotate = itemModel.get('symbolRotate');\n  var rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  var symbolPatternSize = itemModel.get('symbolPatternSize') || 2;\n  var isAnimationEnabled = itemModel.isAnimationEnabled();\n  var symbolMeta = {\n    dataIndex: dataIndex,\n    layout: layout,\n    itemModel: itemModel,\n    symbolType: data.getItemVisual(dataIndex, 'symbol') || 'circle',\n    color: data.getItemVisual(dataIndex, 'color'),\n    symbolClip: symbolClip,\n    symbolRepeat: symbolRepeat,\n    symbolRepeatDirection: itemModel.get('symbolRepeatDirection'),\n    symbolPatternSize: symbolPatternSize,\n    rotation: rotation,\n    animationModel: isAnimationEnabled ? itemModel : null,\n    hoverAnimation: isAnimationEnabled && itemModel.get('hoverAnimation'),\n    z2: itemModel.getShallow('z', true) || 0\n  };\n  prepareBarLength(itemModel, symbolRepeat, layout, opt, symbolMeta);\n  prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, symbolMeta.boundingLength, symbolMeta.pxSign, symbolPatternSize, opt, symbolMeta);\n  prepareLineWidth(itemModel, symbolMeta.symbolScale, rotation, opt, symbolMeta);\n  var symbolSize = symbolMeta.symbolSize;\n  var symbolOffset = itemModel.get('symbolOffset');\n\n  if (zrUtil.isArray(symbolOffset)) {\n    symbolOffset = [parsePercent(symbolOffset[0], symbolSize[0]), parsePercent(symbolOffset[1], symbolSize[1])];\n  }\n\n  prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, symbolMeta.valueLineWidth, symbolMeta.boundingLength, symbolMeta.repeatCutLength, opt, symbolMeta);\n  return symbolMeta;\n} // bar length can be negative.\n\n\nfunction prepareBarLength(itemModel, symbolRepeat, layout, opt, output) {\n  var valueDim = opt.valueDim;\n  var symbolBoundingData = itemModel.get('symbolBoundingData');\n  var valueAxis = opt.coordSys.getOtherAxis(opt.coordSys.getBaseAxis());\n  var zeroPx = valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n  var pxSignIdx = 1 - +(layout[valueDim.wh] <= 0);\n  var boundingLength;\n\n  if (zrUtil.isArray(symbolBoundingData)) {\n    var symbolBoundingExtent = [convertToCoordOnAxis(valueAxis, symbolBoundingData[0]) - zeroPx, convertToCoordOnAxis(valueAxis, symbolBoundingData[1]) - zeroPx];\n    symbolBoundingExtent[1] < symbolBoundingExtent[0] && symbolBoundingExtent.reverse();\n    boundingLength = symbolBoundingExtent[pxSignIdx];\n  } else if (symbolBoundingData != null) {\n    boundingLength = convertToCoordOnAxis(valueAxis, symbolBoundingData) - zeroPx;\n  } else if (symbolRepeat) {\n    boundingLength = opt.coordSysExtent[valueDim.index][pxSignIdx] - zeroPx;\n  } else {\n    boundingLength = layout[valueDim.wh];\n  }\n\n  output.boundingLength = boundingLength;\n\n  if (symbolRepeat) {\n    output.repeatCutLength = layout[valueDim.wh];\n  }\n\n  output.pxSign = boundingLength > 0 ? 1 : boundingLength < 0 ? -1 : 0;\n}\n\nfunction convertToCoordOnAxis(axis, value) {\n  return axis.toGlobalCoord(axis.dataToCoord(axis.scale.parse(value)));\n} // Support ['100%', '100%']\n\n\nfunction prepareSymbolSize(data, dataIndex, layout, symbolRepeat, symbolClip, boundingLength, pxSign, symbolPatternSize, opt, output) {\n  var valueDim = opt.valueDim;\n  var categoryDim = opt.categoryDim;\n  var categorySize = Math.abs(layout[categoryDim.wh]);\n  var symbolSize = data.getItemVisual(dataIndex, 'symbolSize');\n\n  if (zrUtil.isArray(symbolSize)) {\n    symbolSize = symbolSize.slice();\n  } else {\n    if (symbolSize == null) {\n      symbolSize = '100%';\n    }\n\n    symbolSize = [symbolSize, symbolSize];\n  } // Note: percentage symbolSize (like '100%') do not consider lineWidth, because it is\n  // to complicated to calculate real percent value if considering scaled lineWidth.\n  // So the actual size will bigger than layout size if lineWidth is bigger than zero,\n  // which can be tolerated in pictorial chart.\n\n\n  symbolSize[categoryDim.index] = parsePercent(symbolSize[categoryDim.index], categorySize);\n  symbolSize[valueDim.index] = parsePercent(symbolSize[valueDim.index], symbolRepeat ? categorySize : Math.abs(boundingLength));\n  output.symbolSize = symbolSize; // If x or y is less than zero, show reversed shape.\n\n  var symbolScale = output.symbolScale = [symbolSize[0] / symbolPatternSize, symbolSize[1] / symbolPatternSize]; // Follow convention, 'right' and 'top' is the normal scale.\n\n  symbolScale[valueDim.index] *= (opt.isHorizontal ? -1 : 1) * pxSign;\n}\n\nfunction prepareLineWidth(itemModel, symbolScale, rotation, opt, output) {\n  // In symbols are drawn with scale, so do not need to care about the case that width\n  // or height are too small. But symbol use strokeNoScale, where acture lineWidth should\n  // be calculated.\n  var valueLineWidth = itemModel.get(BAR_BORDER_WIDTH_QUERY) || 0;\n\n  if (valueLineWidth) {\n    pathForLineWidth.attr({\n      scale: symbolScale.slice(),\n      rotation: rotation\n    });\n    pathForLineWidth.updateTransform();\n    valueLineWidth /= pathForLineWidth.getLineScale();\n    valueLineWidth *= symbolScale[opt.valueDim.index];\n  }\n\n  output.valueLineWidth = valueLineWidth;\n}\n\nfunction prepareLayoutInfo(itemModel, symbolSize, layout, symbolRepeat, symbolClip, symbolOffset, symbolPosition, valueLineWidth, boundingLength, repeatCutLength, opt, output) {\n  var categoryDim = opt.categoryDim;\n  var valueDim = opt.valueDim;\n  var pxSign = output.pxSign;\n  var unitLength = Math.max(symbolSize[valueDim.index] + valueLineWidth, 0);\n  var pathLen = unitLength; // Note: rotation will not effect the layout of symbols, because user may\n  // want symbols to rotate on its center, which should not be translated\n  // when rotating.\n\n  if (symbolRepeat) {\n    var absBoundingLength = Math.abs(boundingLength);\n    var symbolMargin = zrUtil.retrieve(itemModel.get('symbolMargin'), '15%') + '';\n    var hasEndGap = false;\n\n    if (symbolMargin.lastIndexOf('!') === symbolMargin.length - 1) {\n      hasEndGap = true;\n      symbolMargin = symbolMargin.slice(0, symbolMargin.length - 1);\n    }\n\n    symbolMargin = parsePercent(symbolMargin, symbolSize[valueDim.index]);\n    var uLenWithMargin = Math.max(unitLength + symbolMargin * 2, 0); // When symbol margin is less than 0, margin at both ends will be subtracted\n    // to ensure that all of the symbols will not be overflow the given area.\n\n    var endFix = hasEndGap ? 0 : symbolMargin * 2; // Both final repeatTimes and final symbolMargin area calculated based on\n    // boundingLength.\n\n    var repeatSpecified = isNumeric(symbolRepeat);\n    var repeatTimes = repeatSpecified ? symbolRepeat : toIntTimes((absBoundingLength + endFix) / uLenWithMargin); // Adjust calculate margin, to ensure each symbol is displayed\n    // entirely in the given layout area.\n\n    var mDiff = absBoundingLength - repeatTimes * unitLength;\n    symbolMargin = mDiff / 2 / (hasEndGap ? repeatTimes : repeatTimes - 1);\n    uLenWithMargin = unitLength + symbolMargin * 2;\n    endFix = hasEndGap ? 0 : symbolMargin * 2; // Update repeatTimes when not all symbol will be shown.\n\n    if (!repeatSpecified && symbolRepeat !== 'fixed') {\n      repeatTimes = repeatCutLength ? toIntTimes((Math.abs(repeatCutLength) + endFix) / uLenWithMargin) : 0;\n    }\n\n    pathLen = repeatTimes * uLenWithMargin - endFix;\n    output.repeatTimes = repeatTimes;\n    output.symbolMargin = symbolMargin;\n  }\n\n  var sizeFix = pxSign * (pathLen / 2);\n  var pathPosition = output.pathPosition = [];\n  pathPosition[categoryDim.index] = layout[categoryDim.wh] / 2;\n  pathPosition[valueDim.index] = symbolPosition === 'start' ? sizeFix : symbolPosition === 'end' ? boundingLength - sizeFix : boundingLength / 2; // 'center'\n\n  if (symbolOffset) {\n    pathPosition[0] += symbolOffset[0];\n    pathPosition[1] += symbolOffset[1];\n  }\n\n  var bundlePosition = output.bundlePosition = [];\n  bundlePosition[categoryDim.index] = layout[categoryDim.xy];\n  bundlePosition[valueDim.index] = layout[valueDim.xy];\n  var barRectShape = output.barRectShape = zrUtil.extend({}, layout);\n  barRectShape[valueDim.wh] = pxSign * Math.max(Math.abs(layout[valueDim.wh]), Math.abs(pathPosition[valueDim.index] + sizeFix));\n  barRectShape[categoryDim.wh] = layout[categoryDim.wh];\n  var clipShape = output.clipShape = {}; // Consider that symbol may be overflow layout rect.\n\n  clipShape[categoryDim.xy] = -layout[categoryDim.xy];\n  clipShape[categoryDim.wh] = opt.ecSize[categoryDim.wh];\n  clipShape[valueDim.xy] = 0;\n  clipShape[valueDim.wh] = layout[valueDim.wh];\n}\n\nfunction createPath(symbolMeta) {\n  var symbolPatternSize = symbolMeta.symbolPatternSize;\n  var path = createSymbol( // Consider texture img, make a big size.\n  symbolMeta.symbolType, -symbolPatternSize / 2, -symbolPatternSize / 2, symbolPatternSize, symbolPatternSize, symbolMeta.color);\n  path.attr({\n    culling: true\n  });\n  path.type !== 'image' && path.setStyle({\n    strokeNoScale: true\n  });\n  return path;\n}\n\nfunction createOrUpdateRepeatSymbols(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var symbolSize = symbolMeta.symbolSize;\n  var valueLineWidth = symbolMeta.valueLineWidth;\n  var pathPosition = symbolMeta.pathPosition;\n  var valueDim = opt.valueDim;\n  var repeatTimes = symbolMeta.repeatTimes || 0;\n  var index = 0;\n  var unit = symbolSize[opt.valueDim.index] + valueLineWidth + symbolMeta.symbolMargin * 2;\n  eachPath(bar, function (path) {\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n\n    if (index < repeatTimes) {\n      updateAttr(path, null, makeTarget(index), symbolMeta, isUpdate);\n    } else {\n      updateAttr(path, null, {\n        scale: [0, 0]\n      }, symbolMeta, isUpdate, function () {\n        bundle.remove(path);\n      });\n    }\n\n    updateHoverAnimation(path, symbolMeta);\n    index++;\n  });\n\n  for (; index < repeatTimes; index++) {\n    var path = createPath(symbolMeta);\n    path.__pictorialAnimationIndex = index;\n    path.__pictorialRepeatTimes = repeatTimes;\n    bundle.add(path);\n    var target = makeTarget(index);\n    updateAttr(path, {\n      position: target.position,\n      scale: [0, 0]\n    }, {\n      scale: target.scale,\n      rotation: target.rotation\n    }, symbolMeta, isUpdate); // FIXME\n    // If all emphasis/normal through action.\n\n    path.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n    updateHoverAnimation(path, symbolMeta);\n  }\n\n  function makeTarget(index) {\n    var position = pathPosition.slice(); // (start && pxSign > 0) || (end && pxSign < 0): i = repeatTimes - index\n    // Otherwise: i = index;\n\n    var pxSign = symbolMeta.pxSign;\n    var i = index;\n\n    if (symbolMeta.symbolRepeatDirection === 'start' ? pxSign > 0 : pxSign < 0) {\n      i = repeatTimes - 1 - index;\n    }\n\n    position[valueDim.index] = unit * (i - repeatTimes / 2 + 0.5) + pathPosition[valueDim.index];\n    return {\n      position: position,\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    };\n  }\n\n  function onMouseOver() {\n    eachPath(bar, function (path) {\n      path.trigger('emphasis');\n    });\n  }\n\n  function onMouseOut() {\n    eachPath(bar, function (path) {\n      path.trigger('normal');\n    });\n  }\n}\n\nfunction createOrUpdateSingleSymbol(bar, opt, symbolMeta, isUpdate) {\n  var bundle = bar.__pictorialBundle;\n  var mainPath = bar.__pictorialMainPath;\n\n  if (!mainPath) {\n    mainPath = bar.__pictorialMainPath = createPath(symbolMeta);\n    bundle.add(mainPath);\n    updateAttr(mainPath, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: [0, 0],\n      rotation: symbolMeta.rotation\n    }, {\n      scale: symbolMeta.symbolScale.slice()\n    }, symbolMeta, isUpdate);\n    mainPath.on('mouseover', onMouseOver).on('mouseout', onMouseOut);\n  } else {\n    updateAttr(mainPath, null, {\n      position: symbolMeta.pathPosition.slice(),\n      scale: symbolMeta.symbolScale.slice(),\n      rotation: symbolMeta.rotation\n    }, symbolMeta, isUpdate);\n  }\n\n  updateHoverAnimation(mainPath, symbolMeta);\n\n  function onMouseOver() {\n    this.trigger('emphasis');\n  }\n\n  function onMouseOut() {\n    this.trigger('normal');\n  }\n} // bar rect is used for label.\n\n\nfunction createOrUpdateBarRect(bar, symbolMeta, isUpdate) {\n  var rectShape = zrUtil.extend({}, symbolMeta.barRectShape);\n  var barRect = bar.__pictorialBarRect;\n\n  if (!barRect) {\n    barRect = bar.__pictorialBarRect = new graphic.Rect({\n      z2: 2,\n      shape: rectShape,\n      silent: true,\n      style: {\n        stroke: 'transparent',\n        fill: 'transparent',\n        lineWidth: 0\n      }\n    });\n    bar.add(barRect);\n  } else {\n    updateAttr(barRect, null, {\n      shape: rectShape\n    }, symbolMeta, isUpdate);\n  }\n}\n\nfunction createOrUpdateClip(bar, opt, symbolMeta, isUpdate) {\n  // If not clip, symbol will be remove and rebuilt.\n  if (symbolMeta.symbolClip) {\n    var clipPath = bar.__pictorialClipPath;\n    var clipShape = zrUtil.extend({}, symbolMeta.clipShape);\n    var valueDim = opt.valueDim;\n    var animationModel = symbolMeta.animationModel;\n    var dataIndex = symbolMeta.dataIndex;\n\n    if (clipPath) {\n      graphic.updateProps(clipPath, {\n        shape: clipShape\n      }, animationModel, dataIndex);\n    } else {\n      clipShape[valueDim.wh] = 0;\n      clipPath = new graphic.Rect({\n        shape: clipShape\n      });\n\n      bar.__pictorialBundle.setClipPath(clipPath);\n\n      bar.__pictorialClipPath = clipPath;\n      var target = {};\n      target[valueDim.wh] = symbolMeta.clipShape[valueDim.wh];\n      graphic[isUpdate ? 'updateProps' : 'initProps'](clipPath, {\n        shape: target\n      }, animationModel, dataIndex);\n    }\n  }\n}\n\nfunction getItemModel(data, dataIndex) {\n  var itemModel = data.getItemModel(dataIndex);\n  itemModel.getAnimationDelayParams = getAnimationDelayParams;\n  itemModel.isAnimationEnabled = isAnimationEnabled;\n  return itemModel;\n}\n\nfunction getAnimationDelayParams(path) {\n  // The order is the same as the z-order, see `symbolRepeatDiretion`.\n  return {\n    index: path.__pictorialAnimationIndex,\n    count: path.__pictorialRepeatTimes\n  };\n}\n\nfunction isAnimationEnabled() {\n  // `animation` prop can be set on itemModel in pictorial bar chart.\n  return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation');\n}\n\nfunction updateHoverAnimation(path, symbolMeta) {\n  path.off('emphasis').off('normal');\n  var scale = symbolMeta.symbolScale.slice();\n  symbolMeta.hoverAnimation && path.on('emphasis', function () {\n    this.animateTo({\n      scale: [scale[0] * 1.1, scale[1] * 1.1]\n    }, 400, 'elasticOut');\n  }).on('normal', function () {\n    this.animateTo({\n      scale: scale.slice()\n    }, 400, 'elasticOut');\n  });\n}\n\nfunction createBar(data, opt, symbolMeta, isUpdate) {\n  // bar is the main element for each data.\n  var bar = new graphic.Group(); // bundle is used for location and clip.\n\n  var bundle = new graphic.Group();\n  bar.add(bundle);\n  bar.__pictorialBundle = bundle;\n  bundle.attr('position', symbolMeta.bundlePosition.slice());\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, isUpdate);\n  createOrUpdateClip(bar, opt, symbolMeta, isUpdate);\n  bar.__pictorialShapeStr = getShapeStr(data, symbolMeta);\n  bar.__pictorialSymbolMeta = symbolMeta;\n  return bar;\n}\n\nfunction updateBar(bar, opt, symbolMeta) {\n  var animationModel = symbolMeta.animationModel;\n  var dataIndex = symbolMeta.dataIndex;\n  var bundle = bar.__pictorialBundle;\n  graphic.updateProps(bundle, {\n    position: symbolMeta.bundlePosition.slice()\n  }, animationModel, dataIndex);\n\n  if (symbolMeta.symbolRepeat) {\n    createOrUpdateRepeatSymbols(bar, opt, symbolMeta, true);\n  } else {\n    createOrUpdateSingleSymbol(bar, opt, symbolMeta, true);\n  }\n\n  createOrUpdateBarRect(bar, symbolMeta, true);\n  createOrUpdateClip(bar, opt, symbolMeta, true);\n}\n\nfunction removeBar(data, dataIndex, animationModel, bar) {\n  // Not show text when animating\n  var labelRect = bar.__pictorialBarRect;\n  labelRect && (labelRect.style.text = null);\n  var pathes = [];\n  eachPath(bar, function (path) {\n    pathes.push(path);\n  });\n  bar.__pictorialMainPath && pathes.push(bar.__pictorialMainPath); // I do not find proper remove animation for clip yet.\n\n  bar.__pictorialClipPath && (animationModel = null);\n  zrUtil.each(pathes, function (path) {\n    graphic.updateProps(path, {\n      scale: [0, 0]\n    }, animationModel, dataIndex, function () {\n      bar.parent && bar.parent.remove(bar);\n    });\n  });\n  data.setItemGraphicEl(dataIndex, null);\n}\n\nfunction getShapeStr(data, symbolMeta) {\n  return [data.getItemVisual(symbolMeta.dataIndex, 'symbol') || 'none', !!symbolMeta.symbolRepeat, !!symbolMeta.symbolClip].join(':');\n}\n\nfunction eachPath(bar, cb, context) {\n  // Do not use Group#eachChild, because it do not support remove.\n  zrUtil.each(bar.__pictorialBundle.children(), function (el) {\n    el !== bar.__pictorialBarRect && cb.call(context, el);\n  });\n}\n\nfunction updateAttr(el, immediateAttrs, animationAttrs, symbolMeta, isUpdate, cb) {\n  immediateAttrs && el.attr(immediateAttrs); // when symbolCip used, only clip path has init animation, otherwise it would be weird effect.\n\n  if (symbolMeta.symbolClip && !isUpdate) {\n    animationAttrs && el.attr(animationAttrs);\n  } else {\n    animationAttrs && graphic[isUpdate ? 'updateProps' : 'initProps'](el, animationAttrs, symbolMeta.animationModel, symbolMeta.dataIndex, cb);\n  }\n}\n\nfunction updateCommon(bar, opt, symbolMeta) {\n  var color = symbolMeta.color;\n  var dataIndex = symbolMeta.dataIndex;\n  var itemModel = symbolMeta.itemModel; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var normalStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n  var hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n  var cursorStyle = itemModel.getShallow('cursor');\n  eachPath(bar, function (path) {\n    // PENDING setColor should be before setStyle!!!\n    path.setColor(color);\n    path.setStyle(zrUtil.defaults({\n      fill: color,\n      opacity: symbolMeta.opacity\n    }, normalStyle));\n    graphic.setHoverStyle(path, hoverStyle);\n    cursorStyle && (path.cursor = cursorStyle);\n    path.z2 = symbolMeta.z2;\n  });\n  var barRectHoverStyle = {};\n  var barPositionOutside = opt.valueDim.posDesc[+(symbolMeta.boundingLength > 0)];\n  var barRect = bar.__pictorialBarRect;\n  setLabel(barRect.style, barRectHoverStyle, itemModel, color, opt.seriesModel, dataIndex, barPositionOutside);\n  graphic.setHoverStyle(barRect, barRectHoverStyle);\n}\n\nfunction toIntTimes(times) {\n  var roundedTimes = Math.round(times); // Escapse accurate error\n\n  return Math.abs(times - roundedTimes) < 1e-4 ? roundedTimes : Math.ceil(times);\n}\n\nvar _default = BarView;\nmodule.exports = _default;","var makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\nvar getBarItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], // Compatitable with 2\n['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\nvar _default = {\n  getBarItemStyle: function (excludes) {\n    var style = getBarItemStyle(this, excludes);\n\n    if (this.getBorderLineDash) {\n      var lineDash = this.getBorderLineDash();\n      lineDash && (style.lineDash = lineDash);\n    }\n\n    return style;\n  }\n};\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nfunction setLabel(normalStyle, hoverStyle, itemModel, color, seriesModel, dataIndex, labelPositionOutside) {\n  var labelModel = itemModel.getModel('label.normal');\n  var hoverLabelModel = itemModel.getModel('label.emphasis');\n  graphic.setLabelStyle(normalStyle, hoverStyle, labelModel, hoverLabelModel, {\n    labelFetcher: seriesModel,\n    labelDataIndex: dataIndex,\n    defaultText: seriesModel.getRawValue(dataIndex),\n    isRectText: true,\n    autoColor: color\n  });\n  fixPosition(normalStyle);\n  fixPosition(hoverStyle);\n}\n\nfunction fixPosition(style, labelPositionOutside) {\n  if (style.textPosition === 'outside') {\n    style.textPosition = labelPositionOutside;\n  }\n}\n\nexports.setLabel = setLabel;","var echarts = require(\"../echarts\");\n\nrequire(\"./boxplot/BoxplotSeries\");\n\nrequire(\"./boxplot/BoxplotView\");\n\nvar boxplotVisual = require(\"./boxplot/boxplotVisual\");\n\nvar boxplotLayout = require(\"./boxplot/boxplotLayout\");\n\necharts.registerVisual(boxplotVisual);\necharts.registerLayout(boxplotLayout);","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\nvar BoxplotSeries = SeriesModel.extend({\n  type: 'series.boxplot',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n  // TODO\n  // box width represents group size, so dimension should have 'size'.\n\n  /**\n   * @see <https://en.wikipedia.org/wiki/Box_plot>\n   * The meanings of 'min' and 'max' depend on user,\n   * and echarts do not need to know it.\n   * @readOnly\n   */\n  defaultValueDimensions: ['min', 'Q1', 'median', 'Q3', 'max'],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    boxWidth: [7, 50],\n    // [min, max] can be percent of band width.\n    itemStyle: {\n      normal: {\n        color: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {\n        borderWidth: 2,\n        shadowBlur: 5,\n        shadowOffsetX: 2,\n        shadowOffsetY: 2,\n        shadowColor: 'rgba(0,0,0,0.4)'\n      }\n    },\n    animationEasing: 'elasticOut',\n    animationDuration: 800\n  }\n});\nzrUtil.mixin(BoxplotSeries, seriesModelMixin, true);\nvar _default = BoxplotSeries;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar viewMixin = _whiskerBoxCommon.viewMixin;\nvar BoxplotView = ChartView.extend({\n  type: 'boxplot',\n  getStyleUpdater: function () {\n    return updateStyle;\n  },\n  dispose: zrUtil.noop\n});\nzrUtil.mixin(BoxplotView, viewMixin, true); // Update common properties\n\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\n\nfunction updateStyle(itemGroup, data, idx) {\n  var itemModel = data.getItemModel(idx);\n  var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath);\n  var borderColor = data.getItemVisual(idx, 'color'); // Exclude borderColor.\n\n  var itemStyle = normalItemStyleModel.getItemStyle(['borderColor']);\n  var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n  whiskerEl.style.set(itemStyle);\n  whiskerEl.style.stroke = borderColor;\n  whiskerEl.dirty();\n  var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n  bodyEl.style.set(itemStyle);\n  bodyEl.style.stroke = borderColor;\n  bodyEl.dirty();\n  var hoverStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n  graphic.setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar _default = BoxplotView;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar each = zrUtil.each;\n\nfunction _default(ecModel) {\n  var groupResult = groupSeriesByAxis(ecModel);\n  each(groupResult, function (groupItem) {\n    var seriesModels = groupItem.seriesModels;\n\n    if (!seriesModels.length) {\n      return;\n    }\n\n    calculateBase(groupItem);\n    each(seriesModels, function (seriesModel, idx) {\n      layoutSingleSeries(seriesModel, groupItem.boxOffsetList[idx], groupItem.boxWidthList[idx]);\n    });\n  });\n}\n/**\n * Group series by axis.\n */\n\n\nfunction groupSeriesByAxis(ecModel) {\n  var result = [];\n  var axisList = [];\n  ecModel.eachSeriesByType('boxplot', function (seriesModel) {\n    var baseAxis = seriesModel.getBaseAxis();\n    var idx = zrUtil.indexOf(axisList, baseAxis);\n\n    if (idx < 0) {\n      idx = axisList.length;\n      axisList[idx] = baseAxis;\n      result[idx] = {\n        axis: baseAxis,\n        seriesModels: []\n      };\n    }\n\n    result[idx].seriesModels.push(seriesModel);\n  });\n  return result;\n}\n/**\n * Calculate offset and box width for each series.\n */\n\n\nfunction calculateBase(groupItem) {\n  var extent;\n  var baseAxis = groupItem.axis;\n  var seriesModels = groupItem.seriesModels;\n  var seriesCount = seriesModels.length;\n  var boxWidthList = groupItem.boxWidthList = [];\n  var boxOffsetList = groupItem.boxOffsetList = [];\n  var boundList = [];\n  var bandWidth;\n\n  if (baseAxis.type === 'category') {\n    bandWidth = baseAxis.getBandWidth();\n  } else {\n    var maxDataCount = 0;\n    each(seriesModels, function (seriesModel) {\n      maxDataCount = Math.max(maxDataCount, seriesModel.getData().count());\n    });\n    extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / maxDataCount;\n  }\n\n  each(seriesModels, function (seriesModel) {\n    var boxWidthBound = seriesModel.get('boxWidth');\n\n    if (!zrUtil.isArray(boxWidthBound)) {\n      boxWidthBound = [boxWidthBound, boxWidthBound];\n    }\n\n    boundList.push([parsePercent(boxWidthBound[0], bandWidth) || 0, parsePercent(boxWidthBound[1], bandWidth) || 0]);\n  });\n  var availableWidth = bandWidth * 0.8 - 2;\n  var boxGap = availableWidth / seriesCount * 0.3;\n  var boxWidth = (availableWidth - boxGap * (seriesCount - 1)) / seriesCount;\n  var base = boxWidth / 2 - availableWidth / 2;\n  each(seriesModels, function (seriesModel, idx) {\n    boxOffsetList.push(base);\n    base += boxGap + boxWidth;\n    boxWidthList.push(Math.min(Math.max(boxWidth, boundList[idx][0]), boundList[idx][1]));\n  });\n}\n/**\n * Calculate points location for each series.\n */\n\n\nfunction layoutSingleSeries(seriesModel, offset, boxWidth) {\n  var coordSys = seriesModel.coordinateSystem;\n  var data = seriesModel.getData();\n  var halfWidth = boxWidth / 2;\n  var chartLayout = seriesModel.get('layout');\n  var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n  var constDim = 1 - variableDim;\n  var coordDims = ['x', 'y'];\n  var vDims = [];\n  var cDim;\n  zrUtil.each(data.dimensions, function (dimName) {\n    var dimInfo = data.getDimensionInfo(dimName);\n    var coordDim = dimInfo.coordDim;\n\n    if (coordDim === coordDims[constDim]) {\n      vDims.push(dimName);\n    } else if (coordDim === coordDims[variableDim]) {\n      cDim = dimName;\n    }\n  });\n\n  if (cDim == null || vDims.length < 5) {\n    return;\n  }\n\n  data.each([cDim].concat(vDims), function () {\n    var args = arguments;\n    var axisDimVal = args[0];\n    var idx = args[vDims.length + 1];\n    var median = getPoint(args[3]);\n    var end1 = getPoint(args[1]);\n    var end5 = getPoint(args[5]);\n    var whiskerEnds = [[end1, getPoint(args[2])], [end5, getPoint(args[4])]];\n    layEndLine(end1);\n    layEndLine(end5);\n    layEndLine(median);\n    var bodyEnds = [];\n    addBodyEnd(whiskerEnds[0][1], 0);\n    addBodyEnd(whiskerEnds[1][1], 1);\n    data.setItemLayout(idx, {\n      chartLayout: chartLayout,\n      initBaseline: median[constDim],\n      median: median,\n      bodyEnds: bodyEnds,\n      whiskerEnds: whiskerEnds\n    });\n\n    function getPoint(val) {\n      var p = [];\n      p[variableDim] = axisDimVal;\n      p[constDim] = val;\n      var point;\n\n      if (isNaN(axisDimVal) || isNaN(val)) {\n        point = [NaN, NaN];\n      } else {\n        point = coordSys.dataToPoint(p);\n        point[variableDim] += offset;\n      }\n\n      return point;\n    }\n\n    function addBodyEnd(point, start) {\n      var point1 = point.slice();\n      var point2 = point.slice();\n      point1[variableDim] += halfWidth;\n      point2[variableDim] -= halfWidth;\n      start ? bodyEnds.push(point1, point2) : bodyEnds.push(point2, point1);\n    }\n\n    function layEndLine(endCenter) {\n      var line = [endCenter.slice(), endCenter.slice()];\n      line[0][variableDim] -= halfWidth;\n      line[1][variableDim] += halfWidth;\n      whiskerEnds.push(line);\n    }\n  });\n}\n\nmodule.exports = _default;","var borderColorQuery = ['itemStyle', 'normal', 'borderColor'];\n\nfunction _default(ecModel, api) {\n  var globalColors = ecModel.get('color');\n  ecModel.eachRawSeriesByType('boxplot', function (seriesModel) {\n    var defaulColor = globalColors[seriesModel.seriesIndex % globalColors.length];\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect',\n      // Use name 'color' but not 'borderColor' for legend usage and\n      // visual coding from other component like dataRange.\n      color: seriesModel.get(borderColorQuery) || defaulColor\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        data.setItemVisual(idx, {\n          color: itemModel.get(borderColorQuery, true)\n        });\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nrequire(\"./candlestick/CandlestickSeries\");\n\nrequire(\"./candlestick/CandlestickView\");\n\nvar preprocessor = require(\"./candlestick/preprocessor\");\n\nvar candlestickVisual = require(\"./candlestick/candlestickVisual\");\n\nvar candlestickLayout = require(\"./candlestick/candlestickLayout\");\n\necharts.registerPreprocessor(preprocessor);\necharts.registerVisual(candlestickVisual);\necharts.registerLayout(candlestickLayout);","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar seriesModelMixin = _whiskerBoxCommon.seriesModelMixin;\nvar CandlestickSeries = SeriesModel.extend({\n  type: 'series.candlestick',\n  dependencies: ['xAxis', 'yAxis', 'grid'],\n\n  /**\n   * @readOnly\n   */\n  defaultValueDimensions: ['open', 'close', 'lowest', 'highest'],\n\n  /**\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * @override\n   */\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'cartesian2d',\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    layout: null,\n    // 'horizontal' or 'vertical'\n    itemStyle: {\n      normal: {\n        color: '#c23531',\n        // 阳线 positive\n        color0: '#314656',\n        // 阴线 negative     '#c23531', '#314656'\n        borderWidth: 1,\n        // FIXME\n        // ec2中使用的是lineStyle.color 和 lineStyle.color0\n        borderColor: '#c23531',\n        borderColor0: '#314656'\n      },\n      emphasis: {\n        borderWidth: 2\n      }\n    },\n    barMaxWidth: null,\n    barMinWidth: null,\n    barWidth: null,\n    animationUpdate: false,\n    animationEasing: 'linear',\n    animationDuration: 300\n  },\n\n  /**\n   * Get dimension for shadow in dataZoom\n   * @return {string} dimension name\n   */\n  getShadowDim: function () {\n    return 'open';\n  },\n  brushSelector: function (dataIndex, data, selectors) {\n    var itemLayout = data.getItemLayout(dataIndex);\n    return selectors.rect(itemLayout.brushRect);\n  }\n});\nzrUtil.mixin(CandlestickSeries, seriesModelMixin, true);\nvar _default = CandlestickSeries;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _whiskerBoxCommon = require(\"../helper/whiskerBoxCommon\");\n\nvar viewMixin = _whiskerBoxCommon.viewMixin;\nvar CandlestickView = ChartView.extend({\n  type: 'candlestick',\n  getStyleUpdater: function () {\n    return updateStyle;\n  },\n  dispose: zrUtil.noop\n});\nzrUtil.mixin(CandlestickView, viewMixin, true); // Update common properties\n\nvar normalStyleAccessPath = ['itemStyle', 'normal'];\nvar emphasisStyleAccessPath = ['itemStyle', 'emphasis'];\n\nfunction updateStyle(itemGroup, data, idx) {\n  var itemModel = data.getItemModel(idx);\n  var normalItemStyleModel = itemModel.getModel(normalStyleAccessPath);\n  var color = data.getItemVisual(idx, 'color');\n  var borderColor = data.getItemVisual(idx, 'borderColor') || color; // Color must be excluded.\n  // Because symbol provide setColor individually to set fill and stroke\n\n  var itemStyle = normalItemStyleModel.getItemStyle(['color', 'color0', 'borderColor', 'borderColor0']);\n  var whiskerEl = itemGroup.childAt(itemGroup.whiskerIndex);\n  whiskerEl.useStyle(itemStyle);\n  whiskerEl.style.stroke = borderColor;\n  var bodyEl = itemGroup.childAt(itemGroup.bodyIndex);\n  bodyEl.useStyle(itemStyle);\n  bodyEl.style.fill = color;\n  bodyEl.style.stroke = borderColor;\n  var hoverStyle = itemModel.getModel(emphasisStyleAccessPath).getItemStyle();\n  graphic.setHoverStyle(itemGroup, hoverStyle);\n}\n\nvar _default = CandlestickView;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _graphic = require(\"../../util/graphic\");\n\nvar subPixelOptimize = _graphic.subPixelOptimize;\nvar retrieve2 = zrUtil.retrieve2;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('candlestick', function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var candleWidth = calculateCandleWidth(seriesModel, data);\n    var chartLayout = seriesModel.get('layout');\n    var variableDim = chartLayout === 'horizontal' ? 0 : 1;\n    var constDim = 1 - variableDim;\n    var coordDims = ['x', 'y'];\n    var vDims = [];\n    var cDim;\n    zrUtil.each(data.dimensions, function (dimName) {\n      var dimInfo = data.getDimensionInfo(dimName);\n      var coordDim = dimInfo.coordDim;\n\n      if (coordDim === coordDims[constDim]) {\n        vDims.push(dimName);\n      } else if (coordDim === coordDims[variableDim]) {\n        cDim = dimName;\n      }\n    });\n\n    if (cDim == null || vDims.length < 4) {\n      return;\n    }\n\n    var dataIndex = 0;\n    data.each([cDim].concat(vDims), function () {\n      var args = arguments;\n      var axisDimVal = args[0];\n      var idx = args[vDims.length + 1];\n      var openVal = args[1];\n      var closeVal = args[2];\n      var lowestVal = args[3];\n      var highestVal = args[4];\n      var ocLow = Math.min(openVal, closeVal);\n      var ocHigh = Math.max(openVal, closeVal);\n      var ocLowPoint = getPoint(ocLow);\n      var ocHighPoint = getPoint(ocHigh);\n      var lowestPoint = getPoint(lowestVal);\n      var highestPoint = getPoint(highestVal);\n      var whiskerEnds = [[subPixelOptimizePoint(highestPoint), subPixelOptimizePoint(ocHighPoint)], [subPixelOptimizePoint(lowestPoint), subPixelOptimizePoint(ocLowPoint)]];\n      var bodyEnds = [];\n      addBodyEnd(ocHighPoint, 0);\n      addBodyEnd(ocLowPoint, 1);\n      var sign;\n\n      if (openVal > closeVal) {\n        sign = -1;\n      } else if (openVal < closeVal) {\n        sign = 1;\n      } else {\n        // If close === open, compare with close of last record\n        if (dataIndex > 0) {\n          sign = data.getItemModel(dataIndex - 1).get()[2] <= closeVal ? 1 : -1;\n        } else {\n          // No record of previous, set to be positive\n          sign = 1;\n        }\n      }\n\n      data.setItemLayout(idx, {\n        chartLayout: chartLayout,\n        sign: sign,\n        initBaseline: openVal > closeVal ? ocHighPoint[constDim] : ocLowPoint[constDim],\n        // open point.\n        bodyEnds: bodyEnds,\n        whiskerEnds: whiskerEnds,\n        brushRect: makeBrushRect()\n      });\n      ++dataIndex;\n\n      function getPoint(val) {\n        var p = [];\n        p[variableDim] = axisDimVal;\n        p[constDim] = val;\n        return isNaN(axisDimVal) || isNaN(val) ? [NaN, NaN] : coordSys.dataToPoint(p);\n      }\n\n      function addBodyEnd(point, start) {\n        var point1 = point.slice();\n        var point2 = point.slice();\n        point1[variableDim] = subPixelOptimize(point1[variableDim] + candleWidth / 2, 1, false);\n        point2[variableDim] = subPixelOptimize(point2[variableDim] - candleWidth / 2, 1, true);\n        start ? bodyEnds.push(point1, point2) : bodyEnds.push(point2, point1);\n      }\n\n      function makeBrushRect() {\n        var pmin = getPoint(Math.min(openVal, closeVal, lowestVal, highestVal));\n        var pmax = getPoint(Math.max(openVal, closeVal, lowestVal, highestVal));\n        pmin[variableDim] -= candleWidth / 2;\n        pmax[variableDim] -= candleWidth / 2;\n        return {\n          x: pmin[0],\n          y: pmin[1],\n          width: constDim ? candleWidth : pmax[0] - pmin[0],\n          height: constDim ? pmax[1] - pmin[1] : candleWidth\n        };\n      }\n\n      function subPixelOptimizePoint(point) {\n        point[variableDim] = subPixelOptimize(point[variableDim], 1);\n        return point;\n      }\n    }, true);\n  });\n}\n\nfunction calculateCandleWidth(seriesModel, data) {\n  var baseAxis = seriesModel.getBaseAxis();\n  var extent;\n  var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : (extent = baseAxis.getExtent(), Math.abs(extent[1] - extent[0]) / data.count());\n  var barMaxWidth = parsePercent(retrieve2(seriesModel.get('barMaxWidth'), bandWidth), bandWidth);\n  var barMinWidth = parsePercent(retrieve2(seriesModel.get('barMinWidth'), 1), bandWidth);\n  var barWidth = seriesModel.get('barWidth');\n  return barWidth != null ? parsePercent(barWidth, bandWidth) // Put max outer to ensure bar visible in spite of overlap.\n  : Math.max(Math.min(bandWidth / 2, barMaxWidth), barMinWidth);\n}\n\nmodule.exports = _default;","var positiveBorderColorQuery = ['itemStyle', 'normal', 'borderColor'];\nvar negativeBorderColorQuery = ['itemStyle', 'normal', 'borderColor0'];\nvar positiveColorQuery = ['itemStyle', 'normal', 'color'];\nvar negativeColorQuery = ['itemStyle', 'normal', 'color0'];\n\nfunction _default(ecModel, api) {\n  ecModel.eachRawSeriesByType('candlestick', function (seriesModel) {\n    var data = seriesModel.getData();\n    data.setVisual({\n      legendSymbol: 'roundRect'\n    }); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      data.each(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        var sign = data.getItemLayout(idx).sign;\n        data.setItemVisual(idx, {\n          color: itemModel.get(sign > 0 ? positiveColorQuery : negativeColorQuery),\n          borderColor: itemModel.get(sign > 0 ? positiveBorderColorQuery : negativeBorderColorQuery)\n        });\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(option) {\n  if (!option || !zrUtil.isArray(option.series)) {\n    return;\n  } // Translate 'k' to 'candlestick'.\n\n\n  zrUtil.each(option.series, function (seriesItem) {\n    if (zrUtil.isObject(seriesItem) && seriesItem.type === 'k') {\n      seriesItem.type = 'candlestick';\n    }\n  });\n}\n\nmodule.exports = _default;","var _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphicUtil = require(\"../util/graphic\");\n\nvar _labelHelper = require(\"./helper/labelHelper\");\n\nvar findLabelValueDim = _labelHelper.findLabelValueDim;\n\nvar createListFromArray = require(\"./helper/createListFromArray\");\n\nvar barGrid = require(\"../layout/barGrid\");\n\nvar DataDiffer = require(\"../data/DataDiffer\");\n\nvar prepareCartesian2d = require(\"../coord/cartesian/prepareCustom\");\n\nvar prepareGeo = require(\"../coord/geo/prepareCustom\");\n\nvar prepareSingleAxis = require(\"../coord/single/prepareCustom\");\n\nvar preparePolar = require(\"../coord/polar/prepareCustom\");\n\nvar prepareCalendar = require(\"../coord/calendar/prepareCustom\");\n\nvar ITEM_STYLE_NORMAL_PATH = ['itemStyle', 'normal'];\nvar ITEM_STYLE_EMPHASIS_PATH = ['itemStyle', 'emphasis'];\nvar LABEL_NORMAL = ['label', 'normal'];\nvar LABEL_EMPHASIS = ['label', 'emphasis']; // Use prefix to avoid index to be the same as el.name,\n// which will cause weird udpate animation.\n\nvar GROUP_DIFF_PREFIX = 'e\\0\\0';\n/**\n * To reduce total package size of each coordinate systems, the modules `prepareCustom`\n * of each coordinate systems are not required by each coordinate systems directly, but\n * required by the module `custom`.\n *\n * prepareInfoForCustomSeries {Function}: optional\n *     @return {Object} {coordSys: {...}, api: {\n *         coord: function (data, clamp) {}, // return point in global.\n *         size: function (dataSize, dataItem) {} // return size of each axis in coordSys.\n *     }}\n */\n\nvar prepareCustoms = {\n  cartesian2d: prepareCartesian2d,\n  geo: prepareGeo,\n  singleAxis: prepareSingleAxis,\n  polar: preparePolar,\n  calendar: prepareCalendar\n}; // ------\n// Model\n// ------\n\necharts.extendSeriesModel({\n  type: 'series.custom',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    // Can be set as 'none'\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // label: {}\n    // itemStyle: {}\n\n  },\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  }\n}); // -----\n// View\n// -----\n\necharts.extendChartView({\n  type: 'custom',\n\n  /**\n   * @private\n   * @type {module:echarts/data/List}\n   */\n  _data: null,\n\n  /**\n   * @override\n   */\n  render: function (customSeries, ecModel, api) {\n    var oldData = this._data;\n    var data = customSeries.getData();\n    var group = this.group;\n    var renderItem = makeRenderItem(customSeries, data, ecModel, api);\n    data.diff(oldData).add(function (newIdx) {\n      data.hasValue(newIdx) && createOrUpdate(null, newIdx, renderItem(newIdx), customSeries, group, data);\n    }).update(function (newIdx, oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      data.hasValue(newIdx) ? createOrUpdate(el, newIdx, renderItem(newIdx), customSeries, group, data) : el && group.remove(el);\n    }).remove(function (oldIdx) {\n      var el = oldData.getItemGraphicEl(oldIdx);\n      el && group.remove(el);\n    }).execute();\n    this._data = data;\n  },\n\n  /**\n   * @override\n   */\n  dispose: zrUtil.noop\n});\n\nfunction createEl(elOption) {\n  var graphicType = elOption.type;\n  var el;\n\n  if (graphicType === 'path') {\n    var shape = elOption.shape;\n    el = graphicUtil.makePath(shape.pathData, null, {\n      x: shape.x || 0,\n      y: shape.y || 0,\n      width: shape.width || 0,\n      height: shape.height || 0\n    }, 'center');\n    el.__customPathData = elOption.pathData;\n  } else if (graphicType === 'image') {\n    el = new graphicUtil.Image({});\n    el.__customImagePath = elOption.style.image;\n  } else if (graphicType === 'text') {\n    el = new graphicUtil.Text({});\n    el.__customText = elOption.style.text;\n  } else {\n    var Clz = graphicUtil[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n    el = new Clz();\n  }\n\n  el.__customGraphicType = graphicType;\n  el.name = elOption.name;\n  return el;\n}\n\nfunction updateEl(el, dataIndex, elOption, animatableModel, data, isInit) {\n  var targetProps = {};\n  var elOptionStyle = elOption.style || {};\n  elOption.shape && (targetProps.shape = zrUtil.clone(elOption.shape));\n  elOption.position && (targetProps.position = elOption.position.slice());\n  elOption.scale && (targetProps.scale = elOption.scale.slice());\n  elOption.origin && (targetProps.origin = elOption.origin.slice());\n  elOption.rotation && (targetProps.rotation = elOption.rotation);\n\n  if (el.type === 'image' && elOption.style) {\n    var targetStyle = targetProps.style = {};\n    zrUtil.each(['x', 'y', 'width', 'height'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    });\n  }\n\n  if (el.type === 'text' && elOption.style) {\n    var targetStyle = targetProps.style = {};\n    zrUtil.each(['x', 'y'], function (prop) {\n      prepareStyleTransition(prop, targetStyle, elOptionStyle, el.style, isInit);\n    }); // Compatible with previous: both support\n    // textFill and fill, textStroke and stroke in 'text' element.\n\n    !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n    !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n  }\n\n  if (el.type !== 'group') {\n    el.useStyle(elOptionStyle); // Init animation.\n\n    if (isInit) {\n      el.style.opacity = 0;\n      var targetOpacity = elOptionStyle.opacity;\n      targetOpacity == null && (targetOpacity = 1);\n      graphicUtil.initProps(el, {\n        style: {\n          opacity: targetOpacity\n        }\n      }, animatableModel, dataIndex);\n    }\n  }\n\n  if (isInit) {\n    el.attr(targetProps);\n  } else {\n    graphicUtil.updateProps(el, targetProps, animatableModel, dataIndex);\n  } // z2 must not be null/undefined, otherwise sort error may occur.\n\n\n  el.attr({\n    z2: elOption.z2 || 0,\n    silent: elOption.silent\n  });\n  elOption.styleEmphasis !== false && graphicUtil.setHoverStyle(el, elOption.styleEmphasis);\n}\n\nfunction prepareStyleTransition(prop, targetStyle, elOptionStyle, oldElStyle, isInit) {\n  if (elOptionStyle[prop] != null && !isInit) {\n    targetStyle[prop] = elOptionStyle[prop];\n    elOptionStyle[prop] = oldElStyle[prop];\n  }\n}\n\nfunction makeRenderItem(customSeries, data, ecModel, api) {\n  var renderItem = customSeries.get('renderItem');\n  var coordSys = customSeries.coordinateSystem;\n  var prepareResult = {};\n\n  if (coordSys) {\n    prepareResult = coordSys.prepareCustoms ? coordSys.prepareCustoms() : prepareCustoms[coordSys.type](coordSys);\n  }\n\n  var userAPI = zrUtil.defaults({\n    getWidth: api.getWidth,\n    getHeight: api.getHeight,\n    getZr: api.getZr,\n    getDevicePixelRatio: api.getDevicePixelRatio,\n    value: value,\n    style: style,\n    styleEmphasis: styleEmphasis,\n    visual: visual,\n    barLayout: barLayout,\n    currentSeriesIndices: currentSeriesIndices,\n    font: font\n  }, prepareResult.api || {});\n  var userParams = {\n    context: {},\n    seriesId: customSeries.id,\n    seriesName: customSeries.name,\n    seriesIndex: customSeries.seriesIndex,\n    coordSys: prepareResult.coordSys,\n    dataInsideLength: data.count(),\n    encode: wrapEncodeDef(customSeries.getData())\n  }; // Do not support call `api` asynchronously without dataIndexInside input.\n\n  var currDataIndexInside;\n  var currDirty = true;\n  var currItemModel;\n  var currLabelNormalModel;\n  var currLabelEmphasisModel;\n  var currLabelValueDim;\n  var currVisualColor;\n  return function (dataIndexInside) {\n    currDataIndexInside = dataIndexInside;\n    currDirty = true;\n    return renderItem && renderItem(zrUtil.defaults({\n      dataIndexInside: dataIndexInside,\n      dataIndex: data.getRawIndex(dataIndexInside)\n    }, userParams), userAPI) || {};\n  }; // Do not update cache until api called.\n\n  function updateCache(dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n\n    if (currDirty) {\n      currItemModel = data.getItemModel(dataIndexInside);\n      currLabelNormalModel = currItemModel.getModel(LABEL_NORMAL);\n      currLabelEmphasisModel = currItemModel.getModel(LABEL_EMPHASIS);\n      currLabelValueDim = findLabelValueDim(data);\n      currVisualColor = data.getItemVisual(dataIndexInside, 'color');\n      currDirty = false;\n    }\n  }\n  /**\n   * @public\n   * @param {number|string} dim\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   * @return {number|string} value\n   */\n\n\n  function value(dim, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.get(data.getDimension(dim || 0), dataIndexInside);\n  }\n  /**\n   * By default, `visual` is applied to style (to support visualMap).\n   * `visual.color` is applied at `fill`. If user want apply visual.color on `stroke`,\n   * it can be implemented as:\n   * `api.style({stroke: api.visual('color'), fill: null})`;\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function style(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_NORMAL_PATH).getItemStyle();\n    currVisualColor != null && (itemStyle.fill = currVisualColor);\n    var opacity = data.getItemVisual(dataIndexInside, 'opacity');\n    opacity != null && (itemStyle.opacity = opacity);\n\n    if (currLabelValueDim != null) {\n      graphicUtil.setTextStyle(itemStyle, currLabelNormalModel, null, {\n        autoColor: currVisualColor,\n        isRectText: true\n      });\n      itemStyle.text = currLabelNormalModel.getShallow('show') ? zrUtil.retrieve2(customSeries.getFormattedLabel(dataIndexInside, 'normal'), data.get(currLabelValueDim, dataIndexInside)) : null;\n    }\n\n    extra && zrUtil.extend(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {Object} [extra]\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function styleEmphasis(extra, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    updateCache(dataIndexInside);\n    var itemStyle = currItemModel.getModel(ITEM_STYLE_EMPHASIS_PATH).getItemStyle();\n\n    if (currLabelValueDim != null) {\n      graphicUtil.setTextStyle(itemStyle, currLabelEmphasisModel, null, {\n        isRectText: true\n      }, true);\n      itemStyle.text = currLabelEmphasisModel.getShallow('show') ? zrUtil.retrieve3(customSeries.getFormattedLabel(dataIndexInside, 'emphasis'), customSeries.getFormattedLabel(dataIndexInside, 'normal'), data.get(currLabelValueDim, dataIndexInside)) : null;\n    }\n\n    extra && zrUtil.extend(itemStyle, extra);\n    return itemStyle;\n  }\n  /**\n   * @public\n   * @param {string} visualType\n   * @param {number} [dataIndexInside=currDataIndexInside]\n   */\n\n\n  function visual(visualType, dataIndexInside) {\n    dataIndexInside == null && (dataIndexInside = currDataIndexInside);\n    return data.getItemVisual(dataIndexInside, visualType);\n  }\n  /**\n   * @public\n   * @param {number} opt.count Positive interger.\n   * @param {number} [opt.barWidth]\n   * @param {number} [opt.barMaxWidth]\n   * @param {number} [opt.barGap]\n   * @param {number} [opt.barCategoryGap]\n   * @return {Object} {width, offset, offsetCenter} is not support, return undefined.\n   */\n\n\n  function barLayout(opt) {\n    if (coordSys.getBaseAxis) {\n      var baseAxis = coordSys.getBaseAxis();\n      return barGrid.getLayoutOnAxis(zrUtil.defaults({\n        axis: baseAxis\n      }, opt), api);\n    }\n  }\n  /**\n   * @public\n   * @return {Array.<number>}\n   */\n\n\n  function currentSeriesIndices() {\n    return ecModel.getCurrentSeriesIndices();\n  }\n  /**\n   * @public\n   * @param {Object} opt\n   * @param {string} [opt.fontStyle]\n   * @param {number} [opt.fontWeight]\n   * @param {number} [opt.fontSize]\n   * @param {string} [opt.fontFamily]\n   * @return {string} font string\n   */\n\n\n  function font(opt) {\n    return graphicUtil.getFont(opt, ecModel);\n  }\n}\n\nfunction wrapEncodeDef(data) {\n  var encodeDef = {};\n  zrUtil.each(data.dimensions, function (dimName, dataDimIndex) {\n    var dimInfo = data.getDimensionInfo(dimName);\n\n    if (!dimInfo.isExtraCoord) {\n      var coordDim = dimInfo.coordDim;\n      var dataDims = encodeDef[coordDim] = encodeDef[coordDim] || [];\n      dataDims[dimInfo.coordDimIndex] = dataDimIndex;\n    }\n  });\n  return encodeDef;\n}\n\nfunction createOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n  el = doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data);\n  el && data.setItemGraphicEl(dataIndex, el);\n}\n\nfunction doCreateOrUpdate(el, dataIndex, elOption, animatableModel, group, data) {\n  var elOptionType = elOption.type;\n\n  if (el && elOptionType !== el.__customGraphicType && (elOptionType !== 'path' || elOption.pathData !== el.__customPathData) && (elOptionType !== 'image' || elOption.style.image !== el.__customImagePath) && (elOptionType !== 'text' || elOption.style.text !== el.__customText)) {\n    group.remove(el);\n    el = null;\n  } // `elOption.type` is undefined when `renderItem` returns nothing.\n\n\n  if (elOptionType == null) {\n    return;\n  }\n\n  var isInit = !el;\n  !el && (el = createEl(elOption));\n  updateEl(el, dataIndex, elOption, animatableModel, data, isInit);\n\n  if (elOptionType === 'group') {\n    var oldChildren = el.children() || [];\n    var newChildren = elOption.children || [];\n\n    if (elOption.diffChildrenByName) {\n      // lower performance.\n      diffGroupChildren({\n        oldChildren: oldChildren,\n        newChildren: newChildren,\n        dataIndex: dataIndex,\n        animatableModel: animatableModel,\n        group: el,\n        data: data\n      });\n    } else {\n      // better performance.\n      var index = 0;\n\n      for (; index < newChildren.length; index++) {\n        doCreateOrUpdate(el.childAt(index), dataIndex, newChildren[index], animatableModel, el, data);\n      }\n\n      for (; index < oldChildren.length; index++) {\n        oldChildren[index] && el.remove(oldChildren[index]);\n      }\n    }\n  }\n\n  group.add(el);\n  return el;\n}\n\nfunction diffGroupChildren(context) {\n  new DataDiffer(context.oldChildren, context.newChildren, getKey, getKey, context).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute();\n}\n\nfunction getKey(item, idx) {\n  var name = item && item.name;\n  return name != null ? name : GROUP_DIFF_PREFIX + idx;\n}\n\nfunction processAddUpdate(newIndex, oldIndex) {\n  var context = this.context;\n  var childOption = newIndex != null ? context.newChildren[newIndex] : null;\n  var child = oldIndex != null ? context.oldChildren[oldIndex] : null;\n  doCreateOrUpdate(child, context.dataIndex, childOption, context.animatableModel, context.group, context.data);\n}\n\nfunction processRemove(oldIndex) {\n  var context = this.context;\n  var child = context.oldChildren[oldIndex];\n  child && context.group.remove(child);\n}","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./effectScatter/EffectScatterSeries\");\n\nrequire(\"./effectScatter/EffectScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\necharts.registerVisual(zrUtil.curry(visualSymbol, 'effectScatter', 'circle', null));\necharts.registerLayout(zrUtil.curry(layoutPoints, 'effectScatter'));","var createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _default = SeriesModel.extend({\n  type: 'series.effectScatter',\n  dependencies: ['grid', 'polar'],\n  getInitialData: function (option, ecModel) {\n    var list = createListFromArray(option.data, this, ecModel);\n    return list;\n  },\n  brushSelector: 'point',\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    effectType: 'ripple',\n    progressive: 0,\n    // When to show the effect, option: 'render'|'emphasis'\n    showEffectOn: 'render',\n    // Ripple effect config\n    rippleEffect: {\n      period: 4,\n      // Scale of ripple\n      scale: 2.5,\n      // Brush type can be fill or stroke\n      brushType: 'fill'\n    },\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // 图形类型\n    symbolSize: 10 // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\n    // symbolRotate: null,  // 图形旋转控制\n    // large: false,\n    // Available when large is true\n    // largeThreshold: 2000,\n    // itemStyle: {\n    //     normal: {\n    //         opacity: 1\n    //     }\n    // }\n\n  }\n});\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar EffectSymbol = require(\"../helper/EffectSymbol\");\n\nvar _default = echarts.extendChartView({\n  type: 'effectScatter',\n  init: function () {\n    this._symbolDraw = new SymbolDraw(EffectSymbol);\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var effectSymbolDraw = this._symbolDraw;\n    effectSymbolDraw.updateData(data);\n    this.group.add(effectSymbolDraw.group);\n  },\n  updateLayout: function () {\n    this._symbolDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(api);\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./funnel/FunnelSeries\");\n\nrequire(\"./funnel/FunnelView\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar funnelLayout = require(\"./funnel/funnelLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\necharts.registerVisual(zrUtil.curry(dataColor, 'funnel'));\necharts.registerLayout(funnelLayout);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'funnel'));","var echarts = require(\"../../echarts\");\n\nvar List = require(\"../../data/List\");\n\nvar _model = require(\"../../util/model\");\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar FunnelSeries = echarts.extendSeriesModel({\n  type: 'series.funnel',\n  init: function (option) {\n    FunnelSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    }; // Extend labelLine emphasis\n\n\n    this._defaultLabelLine(option);\n  },\n  getInitialData: function (option, ecModel) {\n    var dimensions = completeDimensions(['value'], option.data);\n    var list = new List(dimensions, this);\n    list.initData(option.data);\n    return list;\n  },\n  _defaultLabelLine: function (option) {\n    // Extend labelLine emphasis\n    defaultEmphasis(option.labelLine, ['show']);\n    var labelLineNormalOpt = option.labelLine.normal;\n    var labelLineEmphasisOpt = option.labelLine.emphasis; // Not show label line if `label.normal.show = false`\n\n    labelLineNormalOpt.show = labelLineNormalOpt.show && option.label.normal.show;\n    labelLineEmphasisOpt.show = labelLineEmphasisOpt.show && option.label.emphasis.show;\n  },\n  // Overwrite\n  getDataParams: function (dataIndex) {\n    var data = this.getData();\n    var params = FunnelSeries.superCall(this, 'getDataParams', dataIndex);\n    var sum = data.getSum('value'); // Percent is 0 if sum is 0\n\n    params.percent = !sum ? 0 : +(data.get('value', dataIndex) / sum * 100).toFixed(2);\n    params.$vars.push('percent');\n    return params;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    legendHoverLink: true,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    // 默认取数据最小最大值\n    // min: 0,\n    // max: 100,\n    minSize: '0%',\n    maxSize: '100%',\n    sort: 'descending',\n    // 'ascending', 'descending'\n    gap: 0,\n    funnelAlign: 'center',\n    label: {\n      normal: {\n        show: true,\n        position: 'outer' // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    labelLine: {\n      normal: {\n        show: true,\n        length: 20,\n        lineStyle: {\n          // color: 各异,\n          width: 1,\n          type: 'solid'\n        }\n      },\n      emphasis: {}\n    },\n    itemStyle: {\n      normal: {\n        // color: 各异,\n        borderColor: '#fff',\n        borderWidth: 1\n      },\n      emphasis: {// color: 各异,\n      }\n    }\n  }\n});\nvar _default = FunnelSeries;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\n/**\n * Piece of pie including Sector, Label, LabelLine\n * @constructor\n * @extends {module:zrender/graphic/Group}\n */\nfunction FunnelPiece(data, idx) {\n  graphic.Group.call(this);\n  var polygon = new graphic.Polygon();\n  var labelLine = new graphic.Polyline();\n  var text = new graphic.Text();\n  this.add(polygon);\n  this.add(labelLine);\n  this.add(text);\n  this.updateData(data, idx, true); // Hover to change label and labelLine\n\n  function onEmphasis() {\n    labelLine.ignore = labelLine.hoverIgnore;\n    text.ignore = text.hoverIgnore;\n  }\n\n  function onNormal() {\n    labelLine.ignore = labelLine.normalIgnore;\n    text.ignore = text.normalIgnore;\n  }\n\n  this.on('emphasis', onEmphasis).on('normal', onNormal).on('mouseover', onEmphasis).on('mouseout', onNormal);\n}\n\nvar funnelPieceProto = FunnelPiece.prototype;\nvar opacityAccessPath = ['itemStyle', 'normal', 'opacity'];\n\nfunnelPieceProto.updateData = function (data, idx, firstCreate) {\n  var polygon = this.childAt(0);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var opacity = data.getItemModel(idx).get(opacityAccessPath);\n  opacity = opacity == null ? 1 : opacity; // Reset style\n\n  polygon.useStyle({});\n\n  if (firstCreate) {\n    polygon.setShape({\n      points: layout.points\n    });\n    polygon.setStyle({\n      opacity: 0\n    });\n    graphic.initProps(polygon, {\n      style: {\n        opacity: opacity\n      }\n    }, seriesModel, idx);\n  } else {\n    graphic.updateProps(polygon, {\n      style: {\n        opacity: opacity\n      },\n      shape: {\n        points: layout.points\n      }\n    }, seriesModel, idx);\n  } // Update common style\n\n\n  var itemStyleModel = itemModel.getModel('itemStyle');\n  var visualColor = data.getItemVisual(idx, 'color');\n  polygon.setStyle(zrUtil.defaults({\n    lineJoin: 'round',\n    fill: visualColor\n  }, itemStyleModel.getModel('normal').getItemStyle(['opacity'])));\n  polygon.hoverStyle = itemStyleModel.getModel('emphasis').getItemStyle();\n\n  this._updateLabel(data, idx);\n\n  graphic.setHoverStyle(this);\n};\n\nfunnelPieceProto._updateLabel = function (data, idx) {\n  var labelLine = this.childAt(1);\n  var labelText = this.childAt(2);\n  var seriesModel = data.hostModel;\n  var itemModel = data.getItemModel(idx);\n  var layout = data.getItemLayout(idx);\n  var labelLayout = layout.label;\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.updateProps(labelLine, {\n    shape: {\n      points: labelLayout.linePoints || labelLayout.linePoints\n    }\n  }, seriesModel, idx);\n  graphic.updateProps(labelText, {\n    style: {\n      x: labelLayout.x,\n      y: labelLayout.y\n    }\n  }, seriesModel, idx);\n  labelText.attr({\n    rotation: labelLayout.rotation,\n    origin: [labelLayout.x, labelLayout.y],\n    z2: 10\n  });\n  var labelModel = itemModel.getModel('label.normal');\n  var labelHoverModel = itemModel.getModel('label.emphasis');\n  var labelLineModel = itemModel.getModel('labelLine.normal');\n  var labelLineHoverModel = itemModel.getModel('labelLine.emphasis');\n  var visualColor = data.getItemVisual(idx, 'color');\n  graphic.setLabelStyle(labelText.style, labelText.hoverStyle = {}, labelModel, labelHoverModel, {\n    labelFetcher: data.hostModel,\n    labelDataIndex: idx,\n    defaultText: data.getName(idx),\n    autoColor: visualColor,\n    useInsideStyle: !!labelLayout.inside\n  }, {\n    textAlign: labelLayout.textAlign,\n    textVerticalAlign: labelLayout.verticalAlign\n  });\n  labelText.ignore = labelText.normalIgnore = !labelModel.get('show');\n  labelText.hoverIgnore = !labelHoverModel.get('show');\n  labelLine.ignore = labelLine.normalIgnore = !labelLineModel.get('show');\n  labelLine.hoverIgnore = !labelLineHoverModel.get('show'); // Default use item visual color\n\n  labelLine.setStyle({\n    stroke: visualColor\n  });\n  labelLine.setStyle(labelLineModel.getModel('lineStyle').getLineStyle());\n  labelLine.hoverStyle = labelLineHoverModel.getModel('lineStyle').getLineStyle();\n};\n\nzrUtil.inherits(FunnelPiece, graphic.Group);\nvar FunnelView = ChartView.extend({\n  type: 'funnel',\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var group = this.group;\n    data.diff(oldData).add(function (idx) {\n      var funnelPiece = new FunnelPiece(data, idx);\n      data.setItemGraphicEl(idx, funnelPiece);\n      group.add(funnelPiece);\n    }).update(function (newIdx, oldIdx) {\n      var piePiece = oldData.getItemGraphicEl(oldIdx);\n      piePiece.updateData(data, newIdx);\n      group.add(piePiece);\n      data.setItemGraphicEl(newIdx, piePiece);\n    }).remove(function (idx) {\n      var piePiece = oldData.getItemGraphicEl(idx);\n      group.remove(piePiece);\n    }).execute();\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\nvar _default = FunnelView;\nmodule.exports = _default;","var layout = require(\"../../util/layout\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar linearMap = _number.linearMap;\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction getSortedIndices(data, sort) {\n  var valueArr = data.mapArray('value', function (val) {\n    return val;\n  });\n  var indices = [];\n  var isAscending = sort === 'ascending';\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    indices[i] = i;\n  } // Add custom sortable function & none sortable opetion by \"options.sort\"\n\n\n  if (typeof sort === 'function') {\n    indices.sort(sort);\n  } else if (sort !== 'none') {\n    indices.sort(function (a, b) {\n      return isAscending ? valueArr[a] - valueArr[b] : valueArr[b] - valueArr[a];\n    });\n  }\n\n  return indices;\n}\n\nfunction labelLayout(data) {\n  data.each(function (idx) {\n    var itemModel = data.getItemModel(idx);\n    var labelModel = itemModel.getModel('label.normal');\n    var labelPosition = labelModel.get('position');\n    var labelLineModel = itemModel.getModel('labelLine.normal');\n    var layout = data.getItemLayout(idx);\n    var points = layout.points;\n    var isLabelInside = labelPosition === 'inner' || labelPosition === 'inside' || labelPosition === 'center';\n    var textAlign;\n    var textX;\n    var textY;\n    var linePoints;\n\n    if (isLabelInside) {\n      textX = (points[0][0] + points[1][0] + points[2][0] + points[3][0]) / 4;\n      textY = (points[0][1] + points[1][1] + points[2][1] + points[3][1]) / 4;\n      textAlign = 'center';\n      linePoints = [[textX, textY], [textX, textY]];\n    } else {\n      var x1;\n      var y1;\n      var x2;\n      var labelLineLen = labelLineModel.get('length');\n\n      if (labelPosition === 'left') {\n        // Left side\n        x1 = (points[3][0] + points[0][0]) / 2;\n        y1 = (points[3][1] + points[0][1]) / 2;\n        x2 = x1 - labelLineLen;\n        textX = x2 - 5;\n        textAlign = 'right';\n      } else {\n        // Right side\n        x1 = (points[1][0] + points[2][0]) / 2;\n        y1 = (points[1][1] + points[2][1]) / 2;\n        x2 = x1 + labelLineLen;\n        textX = x2 + 5;\n        textAlign = 'left';\n      }\n\n      var y2 = y1;\n      linePoints = [[x1, y1], [x2, y2]];\n      textY = y2;\n    }\n\n    layout.label = {\n      linePoints: linePoints,\n      x: textX,\n      y: textY,\n      verticalAlign: 'middle',\n      textAlign: textAlign,\n      inside: isLabelInside\n    };\n  });\n}\n\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('funnel', function (seriesModel) {\n    var data = seriesModel.getData();\n    var sort = seriesModel.get('sort');\n    var viewRect = getViewRect(seriesModel, api);\n    var indices = getSortedIndices(data, sort);\n    var sizeExtent = [parsePercent(seriesModel.get('minSize'), viewRect.width), parsePercent(seriesModel.get('maxSize'), viewRect.width)];\n    var dataExtent = data.getDataExtent('value');\n    var min = seriesModel.get('min');\n    var max = seriesModel.get('max');\n\n    if (min == null) {\n      min = Math.min(dataExtent[0], 0);\n    }\n\n    if (max == null) {\n      max = dataExtent[1];\n    }\n\n    var funnelAlign = seriesModel.get('funnelAlign');\n    var gap = seriesModel.get('gap');\n    var itemHeight = (viewRect.height - gap * (data.count() - 1)) / data.count();\n    var y = viewRect.y;\n\n    var getLinePoints = function (idx, offY) {\n      // End point index is data.count() and we assign it 0\n      var val = data.get('value', idx) || 0;\n      var itemWidth = linearMap(val, [min, max], sizeExtent, true);\n      var x0;\n\n      switch (funnelAlign) {\n        case 'left':\n          x0 = viewRect.x;\n          break;\n\n        case 'center':\n          x0 = viewRect.x + (viewRect.width - itemWidth) / 2;\n          break;\n\n        case 'right':\n          x0 = viewRect.x + viewRect.width - itemWidth;\n          break;\n      }\n\n      return [[x0, offY], [x0 + itemWidth, offY]];\n    };\n\n    if (sort === 'ascending') {\n      // From bottom to top\n      itemHeight = -itemHeight;\n      gap = -gap;\n      y += viewRect.height;\n      indices = indices.reverse();\n    }\n\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var nextIdx = indices[i + 1];\n      var start = getLinePoints(idx, y);\n      var end = getLinePoints(nextIdx, y + itemHeight);\n      y += itemHeight + gap;\n      data.setItemLayout(idx, {\n        points: start.concat(end.slice().reverse())\n      });\n    }\n\n    labelLayout(data);\n  });\n}\n\nmodule.exports = _default;","require(\"./gauge/GaugeSeries\");\n\nrequire(\"./gauge/GaugeView\");","var List = require(\"../../data/List\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar GaugeSeries = SeriesModel.extend({\n  type: 'series.gauge',\n  getInitialData: function (option, ecModel) {\n    var list = new List(['value'], this);\n    var dataOpt = option.data || [];\n\n    if (!zrUtil.isArray(dataOpt)) {\n      dataOpt = [dataOpt];\n    } // Only use the first data item\n\n\n    list.initData(dataOpt);\n    return list;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    legendHoverLink: true,\n    radius: '75%',\n    startAngle: 225,\n    endAngle: -45,\n    clockwise: true,\n    // 最小值\n    min: 0,\n    // 最大值\n    max: 100,\n    // 分割段数，默认为10\n    splitNumber: 10,\n    // 坐标轴线\n    axisLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      lineStyle: {\n        // 属性lineStyle控制线条样式\n        color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']],\n        width: 30\n      }\n    },\n    // 分隔线\n    splitLine: {\n      // 默认显示，属性show控制显示与否\n      show: true,\n      // 属性length控制线长\n      length: 30,\n      // 属性lineStyle（详见lineStyle）控制线条样式\n      lineStyle: {\n        color: '#eee',\n        width: 2,\n        type: 'solid'\n      }\n    },\n    // 坐标轴小标记\n    axisTick: {\n      // 属性show控制显示与否，默认不显示\n      show: true,\n      // 每份split细分多少段\n      splitNumber: 5,\n      // 属性length控制线长\n      length: 8,\n      // 属性lineStyle控制线条样式\n      lineStyle: {\n        color: '#eee',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    axisLabel: {\n      show: true,\n      distance: 5,\n      // formatter: null,\n      color: 'auto'\n    },\n    pointer: {\n      show: true,\n      length: '80%',\n      width: 8\n    },\n    itemStyle: {\n      normal: {\n        color: 'auto'\n      }\n    },\n    title: {\n      show: true,\n      // x, y，单位px\n      offsetCenter: [0, '-40%'],\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: '#333',\n      fontSize: 15\n    },\n    detail: {\n      show: true,\n      backgroundColor: 'rgba(0,0,0,0)',\n      borderWidth: 0,\n      borderColor: '#ccc',\n      width: 100,\n      height: null,\n      // self-adaption\n      padding: [5, 10],\n      // x, y，单位px\n      offsetCenter: [0, '40%'],\n      // formatter: null,\n      // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n      color: 'auto',\n      fontSize: 30\n    }\n  }\n});\nvar _default = GaugeSeries;\nmodule.exports = _default;","var PointerPath = require(\"./PointerPath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar round = _number.round;\nvar linearMap = _number.linearMap;\n\nfunction parsePosition(seriesModel, api) {\n  var center = seriesModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var size = Math.min(width, height);\n  var cx = parsePercent(center[0], api.getWidth());\n  var cy = parsePercent(center[1], api.getHeight());\n  var r = parsePercent(seriesModel.get('radius'), size / 2);\n  return {\n    cx: cx,\n    cy: cy,\n    r: r\n  };\n}\n\nfunction formatLabel(label, labelFormatter) {\n  if (labelFormatter) {\n    if (typeof labelFormatter === 'string') {\n      label = labelFormatter.replace('{value}', label != null ? label : '');\n    } else if (typeof labelFormatter === 'function') {\n      label = labelFormatter(label);\n    }\n  }\n\n  return label;\n}\n\nvar PI2 = Math.PI * 2;\nvar GaugeView = ChartView.extend({\n  type: 'gauge',\n  render: function (seriesModel, ecModel, api) {\n    this.group.removeAll();\n    var colorList = seriesModel.get('axisLine.lineStyle.color');\n    var posInfo = parsePosition(seriesModel, api);\n\n    this._renderMain(seriesModel, ecModel, api, colorList, posInfo);\n  },\n  dispose: function () {},\n  _renderMain: function (seriesModel, ecModel, api, colorList, posInfo) {\n    var group = this.group;\n    var axisLineModel = seriesModel.getModel('axisLine');\n    var lineStyleModel = axisLineModel.getModel('lineStyle');\n    var clockwise = seriesModel.get('clockwise');\n    var startAngle = -seriesModel.get('startAngle') / 180 * Math.PI;\n    var endAngle = -seriesModel.get('endAngle') / 180 * Math.PI;\n    var angleRangeSpan = (endAngle - startAngle) % PI2;\n    var prevEndAngle = startAngle;\n    var axisLineWidth = lineStyleModel.get('width');\n\n    for (var i = 0; i < colorList.length; i++) {\n      // Clamp\n      var percent = Math.min(Math.max(colorList[i][0], 0), 1);\n      var endAngle = startAngle + angleRangeSpan * percent;\n      var sector = new graphic.Sector({\n        shape: {\n          startAngle: prevEndAngle,\n          endAngle: endAngle,\n          cx: posInfo.cx,\n          cy: posInfo.cy,\n          clockwise: clockwise,\n          r0: posInfo.r - axisLineWidth,\n          r: posInfo.r\n        },\n        silent: true\n      });\n      sector.setStyle({\n        fill: colorList[i][1]\n      });\n      sector.setStyle(lineStyleModel.getLineStyle( // Because we use sector to simulate arc\n      // so the properties for stroking are useless\n      ['color', 'borderWidth', 'borderColor']));\n      group.add(sector);\n      prevEndAngle = endAngle;\n    }\n\n    var getColor = function (percent) {\n      // Less than 0\n      if (percent <= 0) {\n        return colorList[0][1];\n      }\n\n      for (var i = 0; i < colorList.length; i++) {\n        if (colorList[i][0] >= percent && (i === 0 ? 0 : colorList[i - 1][0]) < percent) {\n          return colorList[i][1];\n        }\n      } // More than 1\n\n\n      return colorList[i - 1][1];\n    };\n\n    if (!clockwise) {\n      var tmp = startAngle;\n      startAngle = endAngle;\n      endAngle = tmp;\n    }\n\n    this._renderTicks(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderPointer(seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise);\n\n    this._renderTitle(seriesModel, ecModel, api, getColor, posInfo);\n\n    this._renderDetail(seriesModel, ecModel, api, getColor, posInfo);\n  },\n  _renderTicks: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var cx = posInfo.cx;\n    var cy = posInfo.cy;\n    var r = posInfo.r;\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n    var splitLineModel = seriesModel.getModel('splitLine');\n    var tickModel = seriesModel.getModel('axisTick');\n    var labelModel = seriesModel.getModel('axisLabel');\n    var splitNumber = seriesModel.get('splitNumber');\n    var subSplitNumber = tickModel.get('splitNumber');\n    var splitLineLen = parsePercent(splitLineModel.get('length'), r);\n    var tickLen = parsePercent(tickModel.get('length'), r);\n    var angle = startAngle;\n    var step = (endAngle - startAngle) / splitNumber;\n    var subStep = step / subSplitNumber;\n    var splitLineStyle = splitLineModel.getModel('lineStyle').getLineStyle();\n    var tickLineStyle = tickModel.getModel('lineStyle').getLineStyle();\n\n    for (var i = 0; i <= splitNumber; i++) {\n      var unitX = Math.cos(angle);\n      var unitY = Math.sin(angle); // Split line\n\n      if (splitLineModel.get('show')) {\n        var splitLine = new graphic.Line({\n          shape: {\n            x1: unitX * r + cx,\n            y1: unitY * r + cy,\n            x2: unitX * (r - splitLineLen) + cx,\n            y2: unitY * (r - splitLineLen) + cy\n          },\n          style: splitLineStyle,\n          silent: true\n        });\n\n        if (splitLineStyle.stroke === 'auto') {\n          splitLine.setStyle({\n            stroke: getColor(i / splitNumber)\n          });\n        }\n\n        group.add(splitLine);\n      } // Label\n\n\n      if (labelModel.get('show')) {\n        var label = formatLabel(round(i / splitNumber * (maxVal - minVal) + minVal), labelModel.get('formatter'));\n        var distance = labelModel.get('distance');\n        var autoColor = getColor(i / splitNumber);\n        group.add(new graphic.Text({\n          style: graphic.setTextStyle({}, labelModel, {\n            text: label,\n            x: unitX * (r - splitLineLen - distance) + cx,\n            y: unitY * (r - splitLineLen - distance) + cy,\n            textVerticalAlign: unitY < -0.4 ? 'top' : unitY > 0.4 ? 'bottom' : 'middle',\n            textAlign: unitX < -0.4 ? 'left' : unitX > 0.4 ? 'right' : 'center'\n          }, {\n            autoColor: autoColor\n          }),\n          silent: true\n        }));\n      } // Axis tick\n\n\n      if (tickModel.get('show') && i !== splitNumber) {\n        for (var j = 0; j <= subSplitNumber; j++) {\n          var unitX = Math.cos(angle);\n          var unitY = Math.sin(angle);\n          var tickLine = new graphic.Line({\n            shape: {\n              x1: unitX * r + cx,\n              y1: unitY * r + cy,\n              x2: unitX * (r - tickLen) + cx,\n              y2: unitY * (r - tickLen) + cy\n            },\n            silent: true,\n            style: tickLineStyle\n          });\n\n          if (tickLineStyle.stroke === 'auto') {\n            tickLine.setStyle({\n              stroke: getColor((i + j / subSplitNumber) / splitNumber)\n            });\n          }\n\n          group.add(tickLine);\n          angle += subStep;\n        }\n\n        angle -= subStep;\n      } else {\n        angle += step;\n      }\n    }\n  },\n  _renderPointer: function (seriesModel, ecModel, api, getColor, posInfo, startAngle, endAngle, clockwise) {\n    var group = this.group;\n    var oldData = this._data;\n\n    if (!seriesModel.get('pointer.show')) {\n      // Remove old element\n      oldData && oldData.eachItemGraphicEl(function (el) {\n        group.remove(el);\n      });\n      return;\n    }\n\n    var valueExtent = [+seriesModel.get('min'), +seriesModel.get('max')];\n    var angleExtent = [startAngle, endAngle];\n    var data = seriesModel.getData();\n    data.diff(oldData).add(function (idx) {\n      var pointer = new PointerPath({\n        shape: {\n          angle: startAngle\n        }\n      });\n      graphic.initProps(pointer, {\n        shape: {\n          angle: linearMap(data.get('value', idx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(idx, pointer);\n    }).update(function (newIdx, oldIdx) {\n      var pointer = oldData.getItemGraphicEl(oldIdx);\n      graphic.updateProps(pointer, {\n        shape: {\n          angle: linearMap(data.get('value', newIdx), valueExtent, angleExtent, true)\n        }\n      }, seriesModel);\n      group.add(pointer);\n      data.setItemGraphicEl(newIdx, pointer);\n    }).remove(function (idx) {\n      var pointer = oldData.getItemGraphicEl(idx);\n      group.remove(pointer);\n    }).execute();\n    data.eachItemGraphicEl(function (pointer, idx) {\n      var itemModel = data.getItemModel(idx);\n      var pointerModel = itemModel.getModel('pointer');\n      pointer.setShape({\n        x: posInfo.cx,\n        y: posInfo.cy,\n        width: parsePercent(pointerModel.get('width'), posInfo.r),\n        r: parsePercent(pointerModel.get('length'), posInfo.r)\n      });\n      pointer.useStyle(itemModel.getModel('itemStyle.normal').getItemStyle());\n\n      if (pointer.style.fill === 'auto') {\n        pointer.setStyle('fill', getColor(linearMap(data.get('value', idx), valueExtent, [0, 1], true)));\n      }\n\n      graphic.setHoverStyle(pointer, itemModel.getModel('itemStyle.emphasis').getItemStyle());\n    });\n    this._data = data;\n  },\n  _renderTitle: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var titleModel = seriesModel.getModel('title');\n\n    if (titleModel.get('show')) {\n      var offsetCenter = titleModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var minVal = +seriesModel.get('min');\n      var maxVal = +seriesModel.get('max');\n      var value = seriesModel.getData().get('value', 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, titleModel, {\n          x: x,\n          y: y,\n          // FIXME First data name ?\n          text: seriesModel.getData().getName(0),\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  },\n  _renderDetail: function (seriesModel, ecModel, api, getColor, posInfo) {\n    var detailModel = seriesModel.getModel('detail');\n    var minVal = +seriesModel.get('min');\n    var maxVal = +seriesModel.get('max');\n\n    if (detailModel.get('show')) {\n      var offsetCenter = detailModel.get('offsetCenter');\n      var x = posInfo.cx + parsePercent(offsetCenter[0], posInfo.r);\n      var y = posInfo.cy + parsePercent(offsetCenter[1], posInfo.r);\n      var width = parsePercent(detailModel.get('width'), posInfo.r);\n      var height = parsePercent(detailModel.get('height'), posInfo.r);\n      var value = seriesModel.getData().get('value', 0);\n      var autoColor = getColor(linearMap(value, [minVal, maxVal], [0, 1], true));\n      this.group.add(new graphic.Text({\n        silent: true,\n        style: graphic.setTextStyle({}, detailModel, {\n          x: x,\n          y: y,\n          text: formatLabel( // FIXME First data name ?\n          value, detailModel.get('formatter')),\n          textWidth: isNaN(width) ? null : width,\n          textHeight: isNaN(height) ? null : height,\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        }, {\n          autoColor: autoColor,\n          forceRich: true\n        })\n      }));\n    }\n  }\n});\nvar _default = GaugeView;\nmodule.exports = _default;","var Path = require(\"zrender/lib/graphic/Path\");\n\nvar _default = Path.extend({\n  type: 'echartsGaugePointer',\n  shape: {\n    angle: 0,\n    width: 10,\n    r: 10,\n    x: 0,\n    y: 0\n  },\n  buildPath: function (ctx, shape) {\n    var mathCos = Math.cos;\n    var mathSin = Math.sin;\n    var r = shape.r;\n    var width = shape.width;\n    var angle = shape.angle;\n    var x = shape.x - mathCos(angle) * width * (width >= r / 3 ? 1 : 2);\n    var y = shape.y - mathSin(angle) * width * (width >= r / 3 ? 1 : 2);\n    angle = shape.angle - Math.PI / 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(shape.x + mathCos(angle) * width, shape.y + mathSin(angle) * width);\n    ctx.lineTo(shape.x + mathCos(shape.angle) * r, shape.y + mathSin(shape.angle) * r);\n    ctx.lineTo(shape.x - mathCos(angle) * width, shape.y - mathSin(angle) * width);\n    ctx.lineTo(x, y);\n    return;\n  }\n});\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./graph/GraphSeries\");\n\nrequire(\"./graph/GraphView\");\n\nrequire(\"./graph/graphAction\");\n\nvar categoryFilter = require(\"./graph/categoryFilter\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar categoryVisual = require(\"./graph/categoryVisual\");\n\nvar edgeVisual = require(\"./graph/edgeVisual\");\n\nvar simpleLayout = require(\"./graph/simpleLayout\");\n\nvar circularLayout = require(\"./graph/circularLayout\");\n\nvar forceLayout = require(\"./graph/forceLayout\");\n\nvar createView = require(\"./graph/createView\");\n\necharts.registerProcessor(categoryFilter);\necharts.registerVisual(zrUtil.curry(visualSymbol, 'graph', 'circle', null));\necharts.registerVisual(categoryVisual);\necharts.registerVisual(edgeVisual);\necharts.registerLayout(simpleLayout);\necharts.registerLayout(circularLayout);\necharts.registerLayout(forceLayout); // Graph view coordinate system\n\necharts.registerCoordinateSystem('graphView', {\n  create: createView\n});","var echarts = require(\"../../echarts\");\n\nvar List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _model = require(\"../../util/model\");\n\nvar defaultEmphasis = _model.defaultEmphasis;\n\nvar Model = require(\"../../model/Model\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar createGraphFromNodeEdge = require(\"../helper/createGraphFromNodeEdge\");\n\nvar GraphSeries = echarts.extendSeriesModel({\n  type: 'series.graph',\n  init: function (option) {\n    GraphSeries.superApply(this, 'init', arguments); // Provide data for legend select\n\n    this.legendDataProvider = function () {\n      return this._categoriesData;\n    };\n\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeOption: function (option) {\n    GraphSeries.superApply(this, 'mergeOption', arguments);\n    this.fillDataTextStyle(option.edges || option.links);\n\n    this._updateCategoriesData();\n  },\n  mergeDefaultAndTheme: function (option) {\n    GraphSeries.superApply(this, 'mergeDefaultAndTheme', arguments);\n    defaultEmphasis(option.edgeLabel, ['show']);\n  },\n  getInitialData: function (option, ecModel) {\n    var edges = option.edges || option.links || [];\n    var nodes = option.data || option.nodes || [];\n    var self = this;\n\n    if (nodes && edges) {\n      return createGraphFromNodeEdge(nodes, edges, this, true, beforeLink).data;\n    }\n\n    function beforeLink(nodeData, edgeData) {\n      // Overwrite nodeData.getItemModel to\n      nodeData.wrapMethod('getItemModel', function (model) {\n        var categoriesModels = self._categoriesModels;\n        var categoryIdx = model.getShallow('category');\n        var categoryModel = categoriesModels[categoryIdx];\n\n        if (categoryModel) {\n          categoryModel.parentModel = model.parentModel;\n          model.parentModel = categoryModel;\n        }\n\n        return model;\n      });\n      var edgeLabelModel = self.getModel('edgeLabel'); // For option `edgeLabel` can be found by label.xxx.xxx on item mode.\n\n      var fakeSeriesModel = new Model({\n        label: edgeLabelModel.option\n      }, edgeLabelModel.parentModel, ecModel);\n      edgeData.wrapMethod('getItemModel', function (model) {\n        model.customizeGetParent(edgeGetParent);\n        return model;\n      });\n\n      function edgeGetParent(path) {\n        path = this.parsePath(path);\n        return path && path[0] === 'label' ? fakeSeriesModel : this.parentModel;\n      }\n    }\n  },\n\n  /**\n   * @return {module:echarts/data/Graph}\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @return {module:echarts/data/List}\n   */\n  getCategoriesData: function () {\n    return this._categoriesData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    if (dataType === 'edge') {\n      var nodeData = this.getData();\n      var params = this.getDataParams(dataIndex, dataType);\n      var edge = nodeData.graph.getEdgeByIndex(dataIndex);\n      var sourceName = nodeData.getName(edge.node1.dataIndex);\n      var targetName = nodeData.getName(edge.node2.dataIndex);\n      var html = [];\n      sourceName != null && html.push(sourceName);\n      targetName != null && html.push(targetName);\n      html = encodeHTML(html.join(' > '));\n\n      if (params.value) {\n        html += ' : ' + encodeHTML(params.value);\n      }\n\n      return html;\n    } else {\n      // dataType === 'node' or empty\n      return GraphSeries.superApply(this, 'formatTooltip', arguments);\n    }\n  },\n  _updateCategoriesData: function () {\n    var categories = zrUtil.map(this.option.categories || [], function (category) {\n      // Data must has value\n      return category.value != null ? category : zrUtil.extend({\n        value: 0\n      }, category);\n    });\n    var categoriesData = new List(['value'], this);\n    categoriesData.initData(categories);\n    this._categoriesData = categoriesData;\n    this._categoriesModels = categoriesData.mapArray(function (idx) {\n      return categoriesData.getItemModel(idx, true);\n    });\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  isAnimationEnabled: function () {\n    return GraphSeries.superCall(this, 'isAnimationEnabled') // Not enable animation when do force layout\n    && !(this.get('layout') === 'force' && this.get('force.layoutAnimation'));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    // Default option for all coordinate systems\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // polarIndex: 0,\n    // geoIndex: 0,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    layout: null,\n    focusNodeAdjacency: false,\n    // Configuration of circular layout\n    circular: {\n      rotateLabel: false\n    },\n    // Configuration of force directed layout\n    force: {\n      initLayout: null,\n      // Node repulsion. Can be an array to represent range.\n      repulsion: [0, 50],\n      gravity: 0.1,\n      // Edge length. Can be an array to represent range.\n      edgeLength: 30,\n      layoutAnimation: true\n    },\n    left: 'center',\n    top: 'center',\n    // right: null,\n    // bottom: null,\n    // width: '80%',\n    // height: '80%',\n    symbol: 'circle',\n    symbolSize: 10,\n    edgeSymbol: ['none', 'none'],\n    edgeSymbolSize: 10,\n    edgeLabel: {\n      normal: {\n        position: 'middle'\n      },\n      emphasis: {}\n    },\n    draggable: false,\n    roam: false,\n    // Default on center of graph\n    center: null,\n    zoom: 1,\n    // Symbol size scale ratio in roam\n    nodeScaleRatio: 0.6,\n    // cursor: null,\n    // categories: [],\n    // data: []\n    // Or\n    // nodes: []\n    //\n    // links: []\n    // Or\n    // edges: []\n    label: {\n      normal: {\n        show: false,\n        formatter: '{b}'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {},\n      emphasis: {}\n    },\n    lineStyle: {\n      normal: {\n        color: '#aaa',\n        width: 1,\n        curveness: 0,\n        opacity: 0.5\n      },\n      emphasis: {}\n    }\n  }\n});\nvar _default = GraphSeries;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LineDraw = require(\"../helper/LineDraw\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar adjustEdge = require(\"./adjustEdge\");\n\nvar nodeOpacityPath = ['itemStyle', 'normal', 'opacity'];\nvar lineOpacityPath = ['lineStyle', 'normal', 'opacity'];\n\nfunction getItemOpacity(item, opacityPath) {\n  return item.getVisual('opacity') || item.getModel().get(opacityPath);\n}\n\nfunction fadeOutItem(item, opacityPath, opacityRatio) {\n  var el = item.getGraphicEl();\n  var opacity = getItemOpacity(item, opacityPath);\n\n  if (opacityRatio != null) {\n    opacity == null && (opacity = 1);\n    opacity *= opacityRatio;\n  }\n\n  el.downplay && el.downplay();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  });\n}\n\nfunction fadeInItem(item, opacityPath) {\n  var opacity = getItemOpacity(item, opacityPath);\n  var el = item.getGraphicEl();\n  el.highlight && el.highlight();\n  el.traverse(function (child) {\n    if (child.type !== 'group') {\n      child.setStyle('opacity', opacity);\n    }\n  });\n}\n\nvar _default = echarts.extendChartView({\n  type: 'graph',\n  init: function (ecModel, api) {\n    var symbolDraw = new SymbolDraw();\n    var lineDraw = new LineDraw();\n    var group = this.group;\n    this._controller = new RoamController(api.getZr());\n    this._controllerHost = {\n      target: group\n    };\n    group.add(symbolDraw.group);\n    group.add(lineDraw.group);\n    this._symbolDraw = symbolDraw;\n    this._lineDraw = lineDraw;\n    this._firstRender = true;\n  },\n  render: function (seriesModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    this._model = seriesModel;\n    this._nodeScaleRatio = seriesModel.get('nodeScaleRatio');\n    var symbolDraw = this._symbolDraw;\n    var lineDraw = this._lineDraw;\n    var group = this.group;\n\n    if (coordSys.type === 'view') {\n      var groupNewProp = {\n        position: coordSys.position,\n        scale: coordSys.scale\n      };\n\n      if (this._firstRender) {\n        group.attr(groupNewProp);\n      } else {\n        graphic.updateProps(group, groupNewProp, seriesModel);\n      }\n    } // Fix edge contact point with node\n\n\n    adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n    var data = seriesModel.getData();\n    symbolDraw.updateData(data);\n    var edgeData = seriesModel.getEdgeData();\n    lineDraw.updateData(edgeData);\n\n    this._updateNodeAndLinkScale();\n\n    this._updateController(seriesModel, ecModel, api);\n\n    clearTimeout(this._layoutTimeout);\n    var forceLayout = seriesModel.forceLayout;\n    var layoutAnimation = seriesModel.get('force.layoutAnimation');\n\n    if (forceLayout) {\n      this._startForceLayoutIteration(forceLayout, layoutAnimation);\n    }\n\n    data.eachItemGraphicEl(function (el, idx) {\n      var itemModel = data.getItemModel(idx); // Update draggable\n\n      el.off('drag').off('dragend');\n      var draggable = data.getItemModel(idx).get('draggable');\n\n      if (draggable) {\n        el.on('drag', function () {\n          if (forceLayout) {\n            forceLayout.warmUp();\n            !this._layouting && this._startForceLayoutIteration(forceLayout, layoutAnimation);\n            forceLayout.setFixed(idx); // Write position back to layout\n\n            data.setItemLayout(idx, el.position);\n          }\n        }, this).on('dragend', function () {\n          if (forceLayout) {\n            forceLayout.setUnfixed(idx);\n          }\n        }, this);\n      }\n\n      el.setDraggable(draggable && forceLayout);\n      el.off('mouseover', el.__focusNodeAdjacency);\n      el.off('mouseout', el.__unfocusNodeAdjacency);\n\n      if (itemModel.get('focusNodeAdjacency')) {\n        el.on('mouseover', el.__focusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            dataIndex: el.dataIndex\n          });\n        });\n        el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'unfocusNodeAdjacency',\n            seriesId: seriesModel.id\n          });\n        });\n      }\n    }, this);\n    data.graph.eachEdge(function (edge) {\n      var el = edge.getGraphicEl();\n      el.off('mouseover', el.__focusNodeAdjacency);\n      el.off('mouseout', el.__unfocusNodeAdjacency);\n\n      if (edge.getModel().get('focusNodeAdjacency')) {\n        el.on('mouseover', el.__focusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'focusNodeAdjacency',\n            seriesId: seriesModel.id,\n            edgeDataIndex: edge.dataIndex\n          });\n        });\n        el.on('mouseout', el.__unfocusNodeAdjacency = function () {\n          api.dispatchAction({\n            type: 'unfocusNodeAdjacency',\n            seriesId: seriesModel.id\n          });\n        });\n      }\n    });\n    var circularRotateLabel = seriesModel.get('layout') === 'circular' && seriesModel.get('circular.rotateLabel');\n    var cx = data.getLayout('cx');\n    var cy = data.getLayout('cy');\n    data.eachItemGraphicEl(function (el, idx) {\n      var symbolPath = el.getSymbolPath();\n\n      if (circularRotateLabel) {\n        var pos = data.getItemLayout(idx);\n        var rad = Math.atan2(pos[1] - cy, pos[0] - cx);\n\n        if (rad < 0) {\n          rad = Math.PI * 2 + rad;\n        }\n\n        var isLeft = pos[0] < cx;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n\n        var textPosition = isLeft ? 'left' : 'right';\n        symbolPath.setStyle({\n          textRotation: -rad,\n          textPosition: textPosition,\n          textOrigin: 'center'\n        });\n        symbolPath.hoverStyle && (symbolPath.hoverStyle.textPosition = textPosition);\n      } else {\n        symbolPath.setStyle({\n          textRotation: 0\n        });\n      }\n    });\n    this._firstRender = false;\n  },\n  dispose: function () {\n    this._controller && this._controller.dispose();\n    this._controllerHost = {};\n  },\n  focusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var data = this._model.getData();\n\n    var graph = data.graph;\n    var dataIndex = payload.dataIndex;\n    var edgeDataIndex = payload.edgeDataIndex;\n    var node = graph.getNodeByIndex(dataIndex);\n    var edge = graph.getEdgeByIndex(edgeDataIndex);\n\n    if (!node && !edge) {\n      return;\n    }\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath, 0.1);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath, 0.1);\n    });\n\n    if (node) {\n      fadeInItem(node, nodeOpacityPath);\n      zrUtil.each(node.edges, function (adjacentEdge) {\n        if (adjacentEdge.dataIndex < 0) {\n          return;\n        }\n\n        fadeInItem(adjacentEdge, lineOpacityPath);\n        fadeInItem(adjacentEdge.node1, nodeOpacityPath);\n        fadeInItem(adjacentEdge.node2, nodeOpacityPath);\n      });\n    }\n\n    if (edge) {\n      fadeInItem(edge, lineOpacityPath);\n      fadeInItem(edge.node1, nodeOpacityPath);\n      fadeInItem(edge.node2, nodeOpacityPath);\n    }\n  },\n  unfocusNodeAdjacency: function (seriesModel, ecModel, api, payload) {\n    var graph = this._model.getData().graph;\n\n    graph.eachNode(function (node) {\n      fadeOutItem(node, nodeOpacityPath);\n    });\n    graph.eachEdge(function (edge) {\n      fadeOutItem(edge, lineOpacityPath);\n    });\n  },\n  _startForceLayoutIteration: function (forceLayout, layoutAnimation) {\n    var self = this;\n\n    (function step() {\n      forceLayout.step(function (stopped) {\n        self.updateLayout(self._model);\n        (self._layouting = !stopped) && (layoutAnimation ? self._layoutTimeout = setTimeout(step, 16) : step());\n      });\n    })();\n  },\n  _updateController: function (seriesModel, ecModel, api) {\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    var group = this.group;\n    controller.setPointerChecker(function (e, x, y) {\n      var rect = group.getBoundingRect();\n      rect.applyTransform(group.transform);\n      return rect.contain(x, y) && !onIrrelevantElement(e, api, seriesModel);\n    });\n\n    if (seriesModel.coordinateSystem.type !== 'view') {\n      controller.disable();\n      return;\n    }\n\n    controller.enable(seriesModel.get('roam'));\n    controllerHost.zoomLimit = seriesModel.get('scaleLimit');\n    controllerHost.zoom = seriesModel.coordinateSystem.getZoom();\n    controller.off('pan').off('zoom').on('pan', function (dx, dy) {\n      roamHelper.updateViewOnPan(controllerHost, dx, dy);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        dx: dx,\n        dy: dy\n      });\n    }).on('zoom', function (zoom, mouseX, mouseY) {\n      roamHelper.updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n      api.dispatchAction({\n        seriesId: seriesModel.id,\n        type: 'graphRoam',\n        zoom: zoom,\n        originX: mouseX,\n        originY: mouseY\n      });\n\n      this._updateNodeAndLinkScale();\n\n      adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n      this._lineDraw.updateLayout();\n    }, this);\n  },\n  _updateNodeAndLinkScale: function () {\n    var seriesModel = this._model;\n    var data = seriesModel.getData();\n\n    var nodeScale = this._getNodeGlobalScale(seriesModel);\n\n    var invScale = [nodeScale, nodeScale];\n    data.eachItemGraphicEl(function (el, idx) {\n      el.attr('scale', invScale);\n    });\n  },\n  _getNodeGlobalScale: function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type !== 'view') {\n      return 1;\n    }\n\n    var nodeScaleRatio = this._nodeScaleRatio;\n    var groupScale = coordSys.scale;\n    var groupZoom = groupScale && groupScale[0] || 1; // Scale node when zoom changes\n\n    var roamZoom = coordSys.getZoom();\n    var nodeScale = (roamZoom - 1) * nodeScaleRatio + 1;\n    return nodeScale / groupZoom;\n  },\n  updateLayout: function (seriesModel) {\n    adjustEdge(seriesModel.getGraph(), this._getNodeGlobalScale(seriesModel));\n\n    this._symbolDraw.updateLayout();\n\n    this._lineDraw.updateLayout();\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove();\n    this._lineDraw && this._lineDraw.remove();\n  }\n});\n\nmodule.exports = _default;","var curveTool = require(\"zrender/lib/core/curve\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar v1 = [];\nvar v2 = [];\nvar v3 = [];\nvar quadraticAt = curveTool.quadraticAt;\nvar v2DistSquare = vec2.distSquare;\nvar mathAbs = Math.abs;\n\nfunction intersectCurveCircle(curvePoints, center, radius) {\n  var p0 = curvePoints[0];\n  var p1 = curvePoints[1];\n  var p2 = curvePoints[2];\n  var d = Infinity;\n  var t;\n  var radiusSquare = radius * radius;\n  var interval = 0.1;\n\n  for (var _t = 0.1; _t <= 0.9; _t += 0.1) {\n    v1[0] = quadraticAt(p0[0], p1[0], p2[0], _t);\n    v1[1] = quadraticAt(p0[1], p1[1], p2[1], _t);\n    var diff = mathAbs(v2DistSquare(v1, center) - radiusSquare);\n\n    if (diff < d) {\n      d = diff;\n      t = _t;\n    }\n  } // Assume the segment is monotone，Find root through Bisection method\n  // At most 32 iteration\n\n\n  for (var i = 0; i < 32; i++) {\n    // var prev = t - interval;\n    var next = t + interval; // v1[0] = quadraticAt(p0[0], p1[0], p2[0], prev);\n    // v1[1] = quadraticAt(p0[1], p1[1], p2[1], prev);\n\n    v2[0] = quadraticAt(p0[0], p1[0], p2[0], t);\n    v2[1] = quadraticAt(p0[1], p1[1], p2[1], t);\n    v3[0] = quadraticAt(p0[0], p1[0], p2[0], next);\n    v3[1] = quadraticAt(p0[1], p1[1], p2[1], next);\n    var diff = v2DistSquare(v2, center) - radiusSquare;\n\n    if (mathAbs(diff) < 1e-2) {\n      break;\n    } // var prevDiff = v2DistSquare(v1, center) - radiusSquare;\n\n\n    var nextDiff = v2DistSquare(v3, center) - radiusSquare;\n    interval /= 2;\n\n    if (diff < 0) {\n      if (nextDiff >= 0) {\n        t = t + interval;\n      } else {\n        t = t - interval;\n      }\n    } else {\n      if (nextDiff >= 0) {\n        t = t - interval;\n      } else {\n        t = t + interval;\n      }\n    }\n  }\n\n  return t;\n} // Adjust edge to avoid\n\n\nfunction _default(graph, scale) {\n  var tmp0 = [];\n  var quadraticSubdivide = curveTool.quadraticSubdivide;\n  var pts = [[], [], []];\n  var pts2 = [[], []];\n  var v = [];\n  scale /= 2;\n\n  function getSymbolSize(node) {\n    var symbolSize = node.getVisual('symbolSize');\n\n    if (symbolSize instanceof Array) {\n      symbolSize = (symbolSize[0] + symbolSize[1]) / 2;\n    }\n\n    return symbolSize;\n  }\n\n  graph.eachEdge(function (edge, idx) {\n    var linePoints = edge.getLayout();\n    var fromSymbol = edge.getVisual('fromSymbol');\n    var toSymbol = edge.getVisual('toSymbol');\n\n    if (!linePoints.__original) {\n      linePoints.__original = [vec2.clone(linePoints[0]), vec2.clone(linePoints[1])];\n\n      if (linePoints[2]) {\n        linePoints.__original.push(vec2.clone(linePoints[2]));\n      }\n    }\n\n    var originalPoints = linePoints.__original; // Quadratic curve\n\n    if (linePoints[2] != null) {\n      vec2.copy(pts[0], originalPoints[0]);\n      vec2.copy(pts[1], originalPoints[2]);\n      vec2.copy(pts[2], originalPoints[1]);\n\n      if (fromSymbol && fromSymbol != 'none') {\n        var symbolSize = getSymbolSize(edge.node1);\n        var t = intersectCurveCircle(pts, originalPoints[0], symbolSize * scale); // Subdivide and get the second\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[0][0] = tmp0[3];\n        pts[1][0] = tmp0[4];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[0][1] = tmp0[3];\n        pts[1][1] = tmp0[4];\n      }\n\n      if (toSymbol && toSymbol != 'none') {\n        var symbolSize = getSymbolSize(edge.node2);\n        var t = intersectCurveCircle(pts, originalPoints[1], symbolSize * scale); // Subdivide and get the first\n\n        quadraticSubdivide(pts[0][0], pts[1][0], pts[2][0], t, tmp0);\n        pts[1][0] = tmp0[1];\n        pts[2][0] = tmp0[2];\n        quadraticSubdivide(pts[0][1], pts[1][1], pts[2][1], t, tmp0);\n        pts[1][1] = tmp0[1];\n        pts[2][1] = tmp0[2];\n      } // Copy back to layout\n\n\n      vec2.copy(linePoints[0], pts[0]);\n      vec2.copy(linePoints[1], pts[2]);\n      vec2.copy(linePoints[2], pts[1]);\n    } // Line\n    else {\n        vec2.copy(pts2[0], originalPoints[0]);\n        vec2.copy(pts2[1], originalPoints[1]);\n        vec2.sub(v, pts2[1], pts2[0]);\n        vec2.normalize(v, v);\n\n        if (fromSymbol && fromSymbol != 'none') {\n          var symbolSize = getSymbolSize(edge.node1);\n          vec2.scaleAndAdd(pts2[0], pts2[0], v, symbolSize * scale);\n        }\n\n        if (toSymbol && toSymbol != 'none') {\n          var symbolSize = getSymbolSize(edge.node2);\n          vec2.scaleAndAdd(pts2[1], pts2[1], v, -symbolSize * scale);\n        }\n\n        vec2.copy(linePoints[0], pts2[0]);\n        vec2.copy(linePoints[1], pts2[1]);\n      }\n  });\n}\n\nmodule.exports = _default;","function _default(ecModel) {\n  var legendModels = ecModel.findComponents({\n    mainType: 'legend'\n  });\n\n  if (!legendModels || !legendModels.length) {\n    return;\n  }\n\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var categoriesData = graphSeries.getCategoriesData();\n    var graph = graphSeries.getGraph();\n    var data = graph.data;\n    var categoryNames = categoriesData.mapArray(categoriesData.getName);\n    data.filterSelf(function (idx) {\n      var model = data.getItemModel(idx);\n      var category = model.getShallow('category');\n\n      if (category != null) {\n        if (typeof category === 'number') {\n          category = categoryNames[category];\n        } // If in any legend component the status is not selected.\n\n\n        for (var i = 0; i < legendModels.length; i++) {\n          if (!legendModels[i].isSelected(category)) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    });\n  }, this);\n}\n\nmodule.exports = _default;","function _default(ecModel) {\n  var paletteScope = {};\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var categoriesData = seriesModel.getCategoriesData();\n    var data = seriesModel.getData();\n    var categoryNameIdxMap = {};\n    categoriesData.each(function (idx) {\n      var name = categoriesData.getName(idx); // Add prefix to avoid conflict with Object.prototype.\n\n      categoryNameIdxMap['ec-' + name] = idx;\n      var itemModel = categoriesData.getItemModel(idx);\n      var color = itemModel.get('itemStyle.normal.color') || seriesModel.getColorFromPalette(name, paletteScope);\n      categoriesData.setItemVisual(idx, 'color', color);\n    }); // Assign category color to visual\n\n    if (categoriesData.count()) {\n      data.each(function (idx) {\n        var model = data.getItemModel(idx);\n        var category = model.getShallow('category');\n\n        if (category != null) {\n          if (typeof category === 'string') {\n            category = categoryNameIdxMap['ec-' + category];\n          }\n\n          if (!data.getItemVisual(idx, 'color', true)) {\n            data.setItemVisual(idx, 'color', categoriesData.getItemVisual(category, 'color'));\n          }\n        }\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","var _circularLayoutHelper = require(\"./circularLayoutHelper\");\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    if (seriesModel.get('layout') === 'circular') {\n      circularLayout(seriesModel);\n    }\n  });\n}\n\nmodule.exports = _default;","var vec2 = require(\"zrender/lib/core/vector\");\n\nfunction circularLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var rect = coordSys.getBoundingRect();\n  var nodeData = seriesModel.getData();\n  var graph = nodeData.graph;\n  var angle = 0;\n  var sum = nodeData.getSum('value');\n  var unitAngle = Math.PI * 2 / (sum || nodeData.count());\n  var cx = rect.width / 2 + rect.x;\n  var cy = rect.height / 2 + rect.y;\n  var r = Math.min(rect.width, rect.height) / 2;\n  graph.eachNode(function (node) {\n    var value = node.getValue('value');\n    angle += unitAngle * (sum ? value : 1) / 2;\n    node.setLayout([r * Math.cos(angle) + cx, r * Math.sin(angle) + cy]);\n    angle += unitAngle * (sum ? value : 1) / 2;\n  });\n  nodeData.setLayout({\n    cx: cx,\n    cy: cy\n  });\n  graph.eachEdge(function (edge) {\n    var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var cp1;\n    var x12 = (p1[0] + p2[0]) / 2;\n    var y12 = (p1[1] + p2[1]) / 2;\n\n    if (+curveness) {\n      curveness *= 3;\n      cp1 = [cx * curveness + x12 * (1 - curveness), cy * curveness + y12 * (1 - curveness)];\n    }\n\n    edge.setLayout([p1, p2, cp1]);\n  });\n}\n\nexports.circularLayout = circularLayout;","var View = require(\"../../coord/View\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\nvar bbox = require(\"zrender/lib/core/bbox\");\n\n// FIXME Where to create the simple view coordinate system\nfunction getViewRect(seriesModel, api, aspect) {\n  var option = seriesModel.getBoxLayoutParams();\n  option.aspect = aspect;\n  return getLayoutRect(option, {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction _default(ecModel, api) {\n  var viewList = [];\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var coordSysType = seriesModel.get('coordinateSystem');\n\n    if (!coordSysType || coordSysType === 'view') {\n      var data = seriesModel.getData();\n      var positions = data.mapArray(function (idx) {\n        var itemModel = data.getItemModel(idx);\n        return [+itemModel.get('x'), +itemModel.get('y')];\n      });\n      var min = [];\n      var max = [];\n      bbox.fromPoints(positions, min, max); // If width or height is 0\n\n      if (max[0] - min[0] === 0) {\n        max[0] += 1;\n        min[0] -= 1;\n      }\n\n      if (max[1] - min[1] === 0) {\n        max[1] += 1;\n        min[1] -= 1;\n      }\n\n      var aspect = (max[0] - min[0]) / (max[1] - min[1]); // FIXME If get view rect after data processed?\n\n      var viewRect = getViewRect(seriesModel, api, aspect); // Position may be NaN, use view rect instead\n\n      if (isNaN(aspect)) {\n        min = [viewRect.x, viewRect.y];\n        max = [viewRect.x + viewRect.width, viewRect.y + viewRect.height];\n      }\n\n      var bbWidth = max[0] - min[0];\n      var bbHeight = max[1] - min[1];\n      var viewWidth = viewRect.width;\n      var viewHeight = viewRect.height;\n      var viewCoordSys = seriesModel.coordinateSystem = new View();\n      viewCoordSys.zoomLimit = seriesModel.get('scaleLimit');\n      viewCoordSys.setBoundingRect(min[0], min[1], bbWidth, bbHeight);\n      viewCoordSys.setViewRect(viewRect.x, viewRect.y, viewWidth, viewHeight); // Update roam info\n\n      viewCoordSys.setCenter(seriesModel.get('center'));\n      viewCoordSys.setZoom(seriesModel.get('zoom'));\n      viewList.push(viewCoordSys);\n    }\n  });\n  return viewList;\n}\n\nmodule.exports = _default;","function normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var edgeData = seriesModel.getEdgeData();\n    var symbolType = normalize(seriesModel.get('edgeSymbol'));\n    var symbolSize = normalize(seriesModel.get('edgeSymbolSize'));\n    var colorQuery = 'lineStyle.normal.color'.split('.');\n    var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n    edgeData.setVisual('fromSymbol', symbolType && symbolType[0]);\n    edgeData.setVisual('toSymbol', symbolType && symbolType[1]);\n    edgeData.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    edgeData.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    edgeData.setVisual('color', seriesModel.get(colorQuery));\n    edgeData.setVisual('opacity', seriesModel.get(opacityQuery));\n    edgeData.each(function (idx) {\n      var itemModel = edgeData.getItemModel(idx);\n      var edge = graph.getEdgeByIndex(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true)); // Edge visual must after node visual\n\n      var color = itemModel.get(colorQuery);\n      var opacity = itemModel.get(opacityQuery);\n\n      switch (color) {\n        case 'source':\n          color = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          color = edge.node2.getVisual('color');\n          break;\n      }\n\n      symbolType[0] && edge.setVisual('fromSymbol', symbolType[0]);\n      symbolType[1] && edge.setVisual('toSymbol', symbolType[1]);\n      symbolSize[0] && edge.setVisual('fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && edge.setVisual('toSymbolSize', symbolSize[1]);\n      edge.setVisual('color', color);\n      edge.setVisual('opacity', opacity);\n    });\n  });\n}\n\nmodule.exports = _default;","var vec2 = require(\"zrender/lib/core/vector\");\n\nvar scaleAndAdd = vec2.scaleAndAdd; // function adjacentNode(n, e) {\n//     return e.n1 === n ? e.n2 : e.n1;\n// }\n\nfunction forceLayout(nodes, edges, opts) {\n  var rect = opts.rect;\n  var width = rect.width;\n  var height = rect.height;\n  var center = [rect.x + width / 2, rect.y + height / 2]; // var scale = opts.scale || 1;\n\n  var gravity = opts.gravity == null ? 0.1 : opts.gravity; // for (var i = 0; i < edges.length; i++) {\n  //     var e = edges[i];\n  //     var n1 = e.n1;\n  //     var n2 = e.n2;\n  //     n1.edges = n1.edges || [];\n  //     n2.edges = n2.edges || [];\n  //     n1.edges.push(e);\n  //     n2.edges.push(e);\n  // }\n  // Init position\n\n  for (var i = 0; i < nodes.length; i++) {\n    var n = nodes[i];\n\n    if (!n.p) {\n      // Use the position from first adjecent node with defined position\n      // Or use a random position\n      // From d3\n      // if (n.edges) {\n      //     var j = -1;\n      //     while (++j < n.edges.length) {\n      //         var e = n.edges[j];\n      //         var other = adjacentNode(n, e);\n      //         if (other.p) {\n      //             n.p = vec2.clone(other.p);\n      //             break;\n      //         }\n      //     }\n      // }\n      // if (!n.p) {\n      n.p = vec2.create(width * (Math.random() - 0.5) + center[0], height * (Math.random() - 0.5) + center[1]); // }\n    }\n\n    n.pp = vec2.clone(n.p);\n    n.edges = null;\n  } // Formula in 'Graph Drawing by Force-directed Placement'\n  // var k = scale * Math.sqrt(width * height / nodes.length);\n  // var k2 = k * k;\n\n\n  var friction = 0.6;\n  return {\n    warmUp: function () {\n      friction = 0.5;\n    },\n    setFixed: function (idx) {\n      nodes[idx].fixed = true;\n    },\n    setUnfixed: function (idx) {\n      nodes[idx].fixed = false;\n    },\n    step: function (cb) {\n      var v12 = [];\n      var nLen = nodes.length;\n\n      for (var i = 0; i < edges.length; i++) {\n        var e = edges[i];\n        var n1 = e.n1;\n        var n2 = e.n2;\n        vec2.sub(v12, n2.p, n1.p);\n        var d = vec2.len(v12) - e.d;\n        var w = n2.w / (n1.w + n2.w);\n\n        if (isNaN(w)) {\n          w = 0;\n        }\n\n        vec2.normalize(v12, v12);\n        !n1.fixed && scaleAndAdd(n1.p, n1.p, v12, w * d * friction);\n        !n2.fixed && scaleAndAdd(n2.p, n2.p, v12, -(1 - w) * d * friction);\n      } // Gravity\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v12, center, n.p); // var d = vec2.len(v12);\n          // vec2.scale(v12, v12, 1 / d);\n          // var gravityFactor = gravity;\n\n          scaleAndAdd(n.p, n.p, v12, gravity * friction);\n        }\n      } // Repulsive\n      // PENDING\n\n\n      for (var i = 0; i < nLen; i++) {\n        var n1 = nodes[i];\n\n        for (var j = i + 1; j < nLen; j++) {\n          var n2 = nodes[j];\n          vec2.sub(v12, n2.p, n1.p);\n          var d = vec2.len(v12);\n\n          if (d === 0) {\n            // Random repulse\n            vec2.set(v12, Math.random() - 0.5, Math.random() - 0.5);\n            d = 1;\n          }\n\n          var repFact = (n1.rep + n2.rep) / d / d;\n          !n1.fixed && scaleAndAdd(n1.pp, n1.pp, v12, repFact);\n          !n2.fixed && scaleAndAdd(n2.pp, n2.pp, v12, -repFact);\n        }\n      }\n\n      var v = [];\n\n      for (var i = 0; i < nLen; i++) {\n        var n = nodes[i];\n\n        if (!n.fixed) {\n          vec2.sub(v, n.p, n.pp);\n          scaleAndAdd(n.p, n.p, v, friction);\n          vec2.copy(n.pp, n.p);\n        }\n      }\n\n      friction = friction * 0.992;\n      cb && cb(nodes, edges, friction < 0.01);\n    }\n  };\n}\n\nexports.forceLayout = forceLayout;","var _forceHelper = require(\"./forceHelper\");\n\nvar forceLayout = _forceHelper.forceLayout;\n\nvar _simpleLayoutHelper = require(\"./simpleLayoutHelper\");\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\n\nvar _circularLayoutHelper = require(\"./circularLayoutHelper\");\n\nvar circularLayout = _circularLayoutHelper.circularLayout;\n\nvar _number = require(\"../../util/number\");\n\nvar linearMap = _number.linearMap;\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('graph', function (graphSeries) {\n    var coordSys = graphSeries.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      return;\n    }\n\n    if (graphSeries.get('layout') === 'force') {\n      var preservedPoints = graphSeries.preservedPoints || {};\n      var graph = graphSeries.getGraph();\n      var nodeData = graph.data;\n      var edgeData = graph.edgeData;\n      var forceModel = graphSeries.getModel('force');\n      var initLayout = forceModel.get('initLayout');\n\n      if (graphSeries.preservedPoints) {\n        nodeData.each(function (idx) {\n          var id = nodeData.getId(idx);\n          nodeData.setItemLayout(idx, preservedPoints[id] || [NaN, NaN]);\n        });\n      } else if (!initLayout || initLayout === 'none') {\n        simpleLayout(graphSeries);\n      } else if (initLayout === 'circular') {\n        circularLayout(graphSeries);\n      }\n\n      var nodeDataExtent = nodeData.getDataExtent('value');\n      var edgeDataExtent = edgeData.getDataExtent('value'); // var edgeDataExtent = edgeData.getDataExtent('value');\n\n      var repulsion = forceModel.get('repulsion');\n      var edgeLength = forceModel.get('edgeLength');\n\n      if (!zrUtil.isArray(repulsion)) {\n        repulsion = [repulsion, repulsion];\n      }\n\n      if (!zrUtil.isArray(edgeLength)) {\n        edgeLength = [edgeLength, edgeLength];\n      } // Larger value has smaller length\n\n\n      edgeLength = [edgeLength[1], edgeLength[0]];\n      var nodes = nodeData.mapArray('value', function (value, idx) {\n        var point = nodeData.getItemLayout(idx);\n        var rep = linearMap(value, nodeDataExtent, repulsion);\n\n        if (isNaN(rep)) {\n          rep = (repulsion[0] + repulsion[1]) / 2;\n        }\n\n        return {\n          w: rep,\n          rep: rep,\n          fixed: nodeData.getItemModel(idx).get('fixed'),\n          p: !point || isNaN(point[0]) || isNaN(point[1]) ? null : point\n        };\n      });\n      var edges = edgeData.mapArray('value', function (value, idx) {\n        var edge = graph.getEdgeByIndex(idx);\n        var d = linearMap(value, edgeDataExtent, edgeLength);\n\n        if (isNaN(d)) {\n          d = (edgeLength[0] + edgeLength[1]) / 2;\n        }\n\n        return {\n          n1: nodes[edge.node1.dataIndex],\n          n2: nodes[edge.node2.dataIndex],\n          d: d,\n          curveness: edge.getModel().get('lineStyle.normal.curveness') || 0\n        };\n      });\n      var coordSys = graphSeries.coordinateSystem;\n      var rect = coordSys.getBoundingRect();\n      var forceInstance = forceLayout(nodes, edges, {\n        rect: rect,\n        gravity: forceModel.get('gravity')\n      });\n      var oldStep = forceInstance.step;\n\n      forceInstance.step = function (cb) {\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          if (nodes[i].fixed) {\n            // Write back to layout instance\n            vec2.copy(nodes[i].p, graph.getNodeByIndex(i).getLayout());\n          }\n        }\n\n        oldStep(function (nodes, edges, stopped) {\n          for (var i = 0, l = nodes.length; i < l; i++) {\n            if (!nodes[i].fixed) {\n              graph.getNodeByIndex(i).setLayout(nodes[i].p);\n            }\n\n            preservedPoints[nodeData.getId(i)] = nodes[i].p;\n          }\n\n          for (var i = 0, l = edges.length; i < l; i++) {\n            var e = edges[i];\n            var edge = graph.getEdgeByIndex(i);\n            var p1 = e.n1.p;\n            var p2 = e.n2.p;\n            var points = edge.getLayout();\n            points = points ? points.slice() : [];\n            points[0] = points[0] || [];\n            points[1] = points[1] || [];\n            vec2.copy(points[0], p1);\n            vec2.copy(points[1], p2);\n\n            if (+e.curveness) {\n              points[2] = [(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * e.curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * e.curveness];\n            }\n\n            edge.setLayout(points);\n          } // Update layout\n\n\n          cb && cb(stopped);\n        });\n      };\n\n      graphSeries.forceLayout = forceInstance;\n      graphSeries.preservedPoints = preservedPoints; // Step to get the layout\n\n      forceInstance.step();\n    } else {\n      // Remove prev injected forceLayout instance\n      graphSeries.forceLayout = null;\n    }\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar _roamHelper = require(\"../../action/roamHelper\");\n\nvar updateCenterAndZoom = _roamHelper.updateCenterAndZoom;\nvar actionInfo = {\n  type: 'graphRoam',\n  event: 'graphRoam',\n  update: 'none'\n};\n/**\n * @payload\n * @property {string} name Series name\n * @property {number} [dx]\n * @property {number} [dy]\n * @property {number} [zoom]\n * @property {number} [originX]\n * @property {number} [originY]\n */\n\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: payload\n  }, function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var res = updateCenterAndZoom(coordSys, payload);\n    seriesModel.setCenter && seriesModel.setCenter(res.center);\n    seriesModel.setZoom && seriesModel.setZoom(res.zoom);\n  });\n});\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n * @property {number} [dataIndex]\n */\n\necharts.registerAction({\n  type: 'focusNodeAdjacency',\n  event: 'focusNodeAdjacency',\n  update: 'series.graph:focusNodeAdjacency'\n}, function () {});\n/**\n * @payload\n * @property {number} [seriesIndex]\n * @property {string} [seriesId]\n * @property {string} [seriesName]\n */\n\necharts.registerAction({\n  type: 'unfocusNodeAdjacency',\n  event: 'unfocusNodeAdjacency',\n  update: 'series.graph:unfocusNodeAdjacency'\n}, function () {});","var _simpleLayoutHelper = require(\"./simpleLayoutHelper\");\n\nvar simpleLayout = _simpleLayoutHelper.simpleLayout;\nvar simpleLayoutEdge = _simpleLayoutHelper.simpleLayoutEdge;\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('graph', function (seriesModel) {\n    var layout = seriesModel.get('layout');\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type !== 'view') {\n      var data = seriesModel.getData();\n      var dimensions = coordSys.dimensions;\n      data.each(dimensions, function () {\n        var hasValue;\n        var args = arguments;\n        var value = [];\n\n        for (var i = 0; i < dimensions.length; i++) {\n          if (!isNaN(args[i])) {\n            hasValue = true;\n          }\n\n          value.push(args[i]);\n        }\n\n        var idx = args[args.length - 1];\n\n        if (hasValue) {\n          data.setItemLayout(idx, coordSys.dataToPoint(value));\n        } else {\n          // Also {Array.<number>}, not undefined to avoid if...else... statement\n          data.setItemLayout(idx, [NaN, NaN]);\n        }\n      });\n      simpleLayoutEdge(data.graph);\n    } else if (!layout || layout === 'none') {\n      simpleLayout(seriesModel);\n    }\n  });\n}\n\nmodule.exports = _default;","var vec2 = require(\"zrender/lib/core/vector\");\n\nfunction simpleLayout(seriesModel) {\n  var coordSys = seriesModel.coordinateSystem;\n\n  if (coordSys && coordSys.type !== 'view') {\n    return;\n  }\n\n  var graph = seriesModel.getGraph();\n  graph.eachNode(function (node) {\n    var model = node.getModel();\n    node.setLayout([+model.get('x'), +model.get('y')]);\n  });\n  simpleLayoutEdge(graph);\n}\n\nfunction simpleLayoutEdge(graph) {\n  graph.eachEdge(function (edge) {\n    var curveness = edge.getModel().get('lineStyle.normal.curveness') || 0;\n    var p1 = vec2.clone(edge.node1.getLayout());\n    var p2 = vec2.clone(edge.node2.getLayout());\n    var points = [p1, p2];\n\n    if (+curveness) {\n      points.push([(p1[0] + p2[0]) / 2 - (p1[1] - p2[1]) * curveness, (p1[1] + p2[1]) / 2 - (p2[0] - p1[0]) * curveness]);\n    }\n\n    edge.setLayout(points);\n  });\n}\n\nexports.simpleLayout = simpleLayout;\nexports.simpleLayoutEdge = simpleLayoutEdge;","require(\"./heatmap/HeatmapSeries\");\n\nrequire(\"./heatmap/HeatmapView\");","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @file defines echarts Heatmap Chart\n * @author Ovilia (me@zhangwenli.com)\n * Inspired by https://github.com/mourner/simpleheat\n *\n * @module\n */\nvar GRADIENT_LEVELS = 256;\n/**\n * Heatmap Chart\n *\n * @class\n */\n\nfunction Heatmap() {\n  var canvas = zrUtil.createCanvas();\n  this.canvas = canvas;\n  this.blurSize = 30;\n  this.pointSize = 20;\n  this.maxOpacity = 1;\n  this.minOpacity = 0;\n  this._gradientPixels = {};\n}\n\nHeatmap.prototype = {\n  /**\n   * Renders Heatmap and returns the rendered canvas\n   * @param {Array} data array of data, each has x, y, value\n   * @param {number} width canvas width\n   * @param {number} height canvas height\n   */\n  update: function (data, width, height, normalize, colorFunc, isInRange) {\n    var brush = this._getBrush();\n\n    var gradientInRange = this._getGradient(data, colorFunc, 'inRange');\n\n    var gradientOutOfRange = this._getGradient(data, colorFunc, 'outOfRange');\n\n    var r = this.pointSize + this.blurSize;\n    var canvas = this.canvas;\n    var ctx = canvas.getContext('2d');\n    var len = data.length;\n    canvas.width = width;\n    canvas.height = height;\n\n    for (var i = 0; i < len; ++i) {\n      var p = data[i];\n      var x = p[0];\n      var y = p[1];\n      var value = p[2]; // calculate alpha using value\n\n      var alpha = normalize(value); // draw with the circle brush with alpha\n\n      ctx.globalAlpha = alpha;\n      ctx.drawImage(brush, x - r, y - r);\n    }\n\n    if (!canvas.width || !canvas.height) {\n      // Avoid \"Uncaught DOMException: Failed to execute 'getImageData' on\n      // 'CanvasRenderingContext2D': The source height is 0.\"\n      return canvas;\n    } // colorize the canvas using alpha value and set with gradient\n\n\n    var imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\n    var pixels = imageData.data;\n    var offset = 0;\n    var pixelLen = pixels.length;\n    var minOpacity = this.minOpacity;\n    var maxOpacity = this.maxOpacity;\n    var diffOpacity = maxOpacity - minOpacity;\n\n    while (offset < pixelLen) {\n      var alpha = pixels[offset + 3] / 256;\n      var gradientOffset = Math.floor(alpha * (GRADIENT_LEVELS - 1)) * 4; // Simple optimize to ignore the empty data\n\n      if (alpha > 0) {\n        var gradient = isInRange(alpha) ? gradientInRange : gradientOutOfRange; // Any alpha > 0 will be mapped to [minOpacity, maxOpacity]\n\n        alpha > 0 && (alpha = alpha * diffOpacity + minOpacity);\n        pixels[offset++] = gradient[gradientOffset];\n        pixels[offset++] = gradient[gradientOffset + 1];\n        pixels[offset++] = gradient[gradientOffset + 2];\n        pixels[offset++] = gradient[gradientOffset + 3] * alpha * 256;\n      } else {\n        offset += 4;\n      }\n    }\n\n    ctx.putImageData(imageData, 0, 0);\n    return canvas;\n  },\n\n  /**\n   * get canvas of a black circle brush used for canvas to draw later\n   * @private\n   * @returns {Object} circle brush canvas\n   */\n  _getBrush: function () {\n    var brushCanvas = this._brushCanvas || (this._brushCanvas = zrUtil.createCanvas()); // set brush size\n\n    var r = this.pointSize + this.blurSize;\n    var d = r * 2;\n    brushCanvas.width = d;\n    brushCanvas.height = d;\n    var ctx = brushCanvas.getContext('2d');\n    ctx.clearRect(0, 0, d, d); // in order to render shadow without the distinct circle,\n    // draw the distinct circle in an invisible place,\n    // and use shadowOffset to draw shadow in the center of the canvas\n\n    ctx.shadowOffsetX = d;\n    ctx.shadowBlur = this.blurSize; // draw the shadow in black, and use alpha and shadow blur to generate\n    // color in color map\n\n    ctx.shadowColor = '#000'; // draw circle in the left to the canvas\n\n    ctx.beginPath();\n    ctx.arc(-r, r, this.pointSize, 0, Math.PI * 2, true);\n    ctx.closePath();\n    ctx.fill();\n    return brushCanvas;\n  },\n\n  /**\n   * get gradient color map\n   * @private\n   */\n  _getGradient: function (data, colorFunc, state) {\n    var gradientPixels = this._gradientPixels;\n    var pixelsSingleState = gradientPixels[state] || (gradientPixels[state] = new Uint8ClampedArray(256 * 4));\n    var color = [0, 0, 0, 0];\n    var off = 0;\n\n    for (var i = 0; i < 256; i++) {\n      colorFunc[state](i / 255, true, color);\n      pixelsSingleState[off++] = color[0];\n      pixelsSingleState[off++] = color[1];\n      pixelsSingleState[off++] = color[2];\n      pixelsSingleState[off++] = color[3];\n    }\n\n    return pixelsSingleState;\n  }\n};\nvar _default = Heatmap;\nmodule.exports = _default;","var SeriesModel = require(\"../../model/Series\");\n\nvar createListFromArray = require(\"../helper/createListFromArray\");\n\nvar _default = SeriesModel.extend({\n  type: 'series.heatmap',\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  defaultOption: {\n    // Cartesian2D or geo\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Geo coordinate system\n    geoIndex: 0,\n    blurSize: 30,\n    pointSize: 20,\n    maxOpacity: 1,\n    minOpacity: 0\n  }\n});\n\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar HeatmapLayer = require(\"./HeatmapLayer\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nfunction getIsInPiecewiseRange(dataExtent, pieceList, selected) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  pieceList = zrUtil.map(pieceList, function (piece) {\n    return {\n      interval: [(piece.interval[0] - dataExtent[0]) / dataSpan, (piece.interval[1] - dataExtent[0]) / dataSpan]\n    };\n  });\n  var len = pieceList.length;\n  var lastIndex = 0;\n  return function (val) {\n    // Try to find in the location of the last found\n    for (var i = lastIndex; i < len; i++) {\n      var interval = pieceList[i].interval;\n\n      if (interval[0] <= val && val <= interval[1]) {\n        lastIndex = i;\n        break;\n      }\n    }\n\n    if (i === len) {\n      // Not found, back interation\n      for (var i = lastIndex - 1; i >= 0; i--) {\n        var interval = pieceList[i].interval;\n\n        if (interval[0] <= val && val <= interval[1]) {\n          lastIndex = i;\n          break;\n        }\n      }\n    }\n\n    return i >= 0 && i < len && selected[i];\n  };\n}\n\nfunction getIsInContinuousRange(dataExtent, range) {\n  var dataSpan = dataExtent[1] - dataExtent[0];\n  range = [(range[0] - dataExtent[0]) / dataSpan, (range[1] - dataExtent[0]) / dataSpan];\n  return function (val) {\n    return val >= range[0] && val <= range[1];\n  };\n}\n\nfunction isGeoCoordSys(coordSys) {\n  var dimensions = coordSys.dimensions; // Not use coorSys.type === 'geo' because coordSys maybe extended\n\n  return dimensions[0] === 'lng' && dimensions[1] === 'lat';\n}\n\nvar _default = echarts.extendChartView({\n  type: 'heatmap',\n  render: function (seriesModel, ecModel, api) {\n    var visualMapOfThisSeries;\n    ecModel.eachComponent('visualMap', function (visualMap) {\n      visualMap.eachTargetSeries(function (targetSeries) {\n        if (targetSeries === seriesModel) {\n          visualMapOfThisSeries = visualMap;\n        }\n      });\n    });\n    this.group.removeAll();\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys.type === 'cartesian2d' || coordSys.type === 'calendar') {\n      this._renderOnCartesianAndCalendar(coordSys, seriesModel, api);\n    } else if (isGeoCoordSys(coordSys)) {\n      this._renderOnGeo(coordSys, seriesModel, visualMapOfThisSeries, api);\n    }\n  },\n  dispose: function () {},\n  _renderOnCartesianAndCalendar: function (coordSys, seriesModel, api) {\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var width = xAxis.getBandWidth();\n      var height = yAxis.getBandWidth();\n    }\n\n    var group = this.group;\n    var data = seriesModel.getData();\n    var itemStyleQuery = 'itemStyle.normal';\n    var hoverItemStyleQuery = 'itemStyle.emphasis';\n    var labelQuery = 'label.normal';\n    var hoverLabelQuery = 'label.emphasis';\n    var style = seriesModel.getModel(itemStyleQuery).getItemStyle(['color']);\n    var hoverStl = seriesModel.getModel(hoverItemStyleQuery).getItemStyle();\n    var labelModel = seriesModel.getModel('label.normal');\n    var hoverLabelModel = seriesModel.getModel('label.emphasis');\n    var coordSysType = coordSys.type;\n    var dataDims = coordSysType === 'cartesian2d' ? [seriesModel.coordDimToDataDim('x')[0], seriesModel.coordDimToDataDim('y')[0], seriesModel.coordDimToDataDim('value')[0]] : [seriesModel.coordDimToDataDim('time')[0], seriesModel.coordDimToDataDim('value')[0]];\n    data.each(function (idx) {\n      var rect;\n\n      if (coordSysType === 'cartesian2d') {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[2], idx))) {\n          return;\n        }\n\n        var point = coordSys.dataToPoint([data.get(dataDims[0], idx), data.get(dataDims[1], idx)]);\n        rect = new graphic.Rect({\n          shape: {\n            x: point[0] - width / 2,\n            y: point[1] - height / 2,\n            width: width,\n            height: height\n          },\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      } else {\n        // Ignore empty data\n        if (isNaN(data.get(dataDims[1], idx))) {\n          return;\n        }\n\n        rect = new graphic.Rect({\n          z2: 1,\n          shape: coordSys.dataToRect([data.get(dataDims[0], idx)]).contentShape,\n          style: {\n            fill: data.getItemVisual(idx, 'color'),\n            opacity: data.getItemVisual(idx, 'opacity')\n          }\n        });\n      }\n\n      var itemModel = data.getItemModel(idx); // Optimization for large datset\n\n      if (data.hasItemOption) {\n        style = itemModel.getModel(itemStyleQuery).getItemStyle(['color']);\n        hoverStl = itemModel.getModel(hoverItemStyleQuery).getItemStyle();\n        labelModel = itemModel.getModel(labelQuery);\n        hoverLabelModel = itemModel.getModel(hoverLabelQuery);\n      }\n\n      var rawValue = seriesModel.getRawValue(idx);\n      var defaultText = '-';\n\n      if (rawValue && rawValue[2] != null) {\n        defaultText = rawValue[2];\n      }\n\n      graphic.setLabelStyle(style, hoverStl, labelModel, hoverLabelModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: idx,\n        defaultText: defaultText,\n        isRectText: true\n      });\n      rect.setStyle(style);\n      graphic.setHoverStyle(rect, data.hasItemOption ? hoverStl : zrUtil.extend({}, hoverStl));\n      group.add(rect);\n      data.setItemGraphicEl(idx, rect);\n    });\n  },\n  _renderOnGeo: function (geo, seriesModel, visualMapModel, api) {\n    var inRangeVisuals = visualMapModel.targetVisuals.inRange;\n    var outOfRangeVisuals = visualMapModel.targetVisuals.outOfRange; // if (!visualMapping) {\n    //     throw new Error('Data range must have color visuals');\n    // }\n\n    var data = seriesModel.getData();\n    var hmLayer = this._hmLayer || this._hmLayer || new HeatmapLayer();\n    hmLayer.blurSize = seriesModel.get('blurSize');\n    hmLayer.pointSize = seriesModel.get('pointSize');\n    hmLayer.minOpacity = seriesModel.get('minOpacity');\n    hmLayer.maxOpacity = seriesModel.get('maxOpacity');\n    var rect = geo.getViewRect().clone();\n    var roamTransform = geo.getRoamTransform().transform;\n    rect.applyTransform(roamTransform); // Clamp on viewport\n\n    var x = Math.max(rect.x, 0);\n    var y = Math.max(rect.y, 0);\n    var x2 = Math.min(rect.width + rect.x, api.getWidth());\n    var y2 = Math.min(rect.height + rect.y, api.getHeight());\n    var width = x2 - x;\n    var height = y2 - y;\n    var points = data.mapArray(['lng', 'lat', 'value'], function (lng, lat, value) {\n      var pt = geo.dataToPoint([lng, lat]);\n      pt[0] -= x;\n      pt[1] -= y;\n      pt.push(value);\n      return pt;\n    });\n    var dataExtent = visualMapModel.getExtent();\n    var isInRange = visualMapModel.type === 'visualMap.continuous' ? getIsInContinuousRange(dataExtent, visualMapModel.option.range) : getIsInPiecewiseRange(dataExtent, visualMapModel.getPieceList(), visualMapModel.option.selected);\n    hmLayer.update(points, width, height, inRangeVisuals.color.getNormalizer(), {\n      inRange: inRangeVisuals.color.getColorMapper(),\n      outOfRange: outOfRangeVisuals.color.getColorMapper()\n    }, isInRange);\n    var img = new graphic.Image({\n      style: {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n        image: hmLayer.canvas\n      },\n      silent: true\n    });\n    this.group.add(img);\n  }\n});\n\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar Line = require(\"./Line\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar curveUtil = require(\"zrender/lib/core/curve\");\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\nfunction EffectLine(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n  this.add(this.createLine(lineData, idx, seriesScope));\n\n  this._updateEffectSymbol(lineData, idx);\n}\n\nvar effectLineProto = EffectLine.prototype;\n\neffectLineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Line(lineData, idx, seriesScope);\n};\n\neffectLineProto._updateEffectSymbol = function (lineData, idx) {\n  var itemModel = lineData.getItemModel(idx);\n  var effectModel = itemModel.getModel('effect');\n  var size = effectModel.get('symbolSize');\n  var symbolType = effectModel.get('symbol');\n\n  if (!zrUtil.isArray(size)) {\n    size = [size, size];\n  }\n\n  var color = effectModel.get('color') || lineData.getItemVisual(idx, 'color');\n  var symbol = this.childAt(1);\n\n  if (this._symbolType !== symbolType) {\n    // Remove previous\n    this.remove(symbol);\n    symbol = createSymbol(symbolType, -0.5, -0.5, 1, 1, color);\n    symbol.z2 = 100;\n    symbol.culling = true;\n    this.add(symbol);\n  } // Symbol may be removed if loop is false\n\n\n  if (!symbol) {\n    return;\n  } // Shadow color is same with color in default\n\n\n  symbol.setStyle('shadowColor', color);\n  symbol.setStyle(effectModel.getItemStyle(['color']));\n  symbol.attr('scale', size);\n  symbol.setColor(color);\n  symbol.attr('scale', size);\n  this._symbolType = symbolType;\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\neffectLineProto._updateEffectAnimation = function (lineData, effectModel, idx) {\n  var symbol = this.childAt(1);\n\n  if (!symbol) {\n    return;\n  }\n\n  var self = this;\n  var points = lineData.getItemLayout(idx);\n  var period = effectModel.get('period') * 1000;\n  var loop = effectModel.get('loop');\n  var constantSpeed = effectModel.get('constantSpeed');\n  var delayExpr = zrUtil.retrieve(effectModel.get('delay'), function (idx) {\n    return idx / lineData.count() * period / 3;\n  });\n  var isDelayFunc = typeof delayExpr === 'function'; // Ignore when updating\n\n  symbol.ignore = true;\n  this.updateAnimationPoints(symbol, points);\n\n  if (constantSpeed > 0) {\n    period = this.getLineLength(symbol) / constantSpeed * 1000;\n  }\n\n  if (period !== this._period || loop !== this._loop) {\n    symbol.stopAnimation();\n    var delay = delayExpr;\n\n    if (isDelayFunc) {\n      delay = delayExpr(idx);\n    }\n\n    if (symbol.__t > 0) {\n      delay = -period * symbol.__t;\n    }\n\n    symbol.__t = 0;\n    var animator = symbol.animate('', loop).when(period, {\n      __t: 1\n    }).delay(delay).during(function () {\n      self.updateSymbolPosition(symbol);\n    });\n\n    if (!loop) {\n      animator.done(function () {\n        self.remove(symbol);\n      });\n    }\n\n    animator.start();\n  }\n\n  this._period = period;\n  this._loop = loop;\n};\n\neffectLineProto.getLineLength = function (symbol) {\n  // Not so accurate\n  return vec2.dist(symbol.__p1, symbol.__cp1) + vec2.dist(symbol.__cp1, symbol.__p2);\n};\n\neffectLineProto.updateAnimationPoints = function (symbol, points) {\n  symbol.__p1 = points[0];\n  symbol.__p2 = points[1];\n  symbol.__cp1 = points[2] || [(points[0][0] + points[1][0]) / 2, (points[0][1] + points[1][1]) / 2];\n};\n\neffectLineProto.updateData = function (lineData, idx, seriesScope) {\n  this.childAt(0).updateData(lineData, idx, seriesScope);\n\n  this._updateEffectSymbol(lineData, idx);\n};\n\neffectLineProto.updateSymbolPosition = function (symbol) {\n  var p1 = symbol.__p1;\n  var p2 = symbol.__p2;\n  var cp1 = symbol.__cp1;\n  var t = symbol.__t;\n  var pos = symbol.position;\n  var quadraticAt = curveUtil.quadraticAt;\n  var quadraticDerivativeAt = curveUtil.quadraticDerivativeAt;\n  pos[0] = quadraticAt(p1[0], cp1[0], p2[0], t);\n  pos[1] = quadraticAt(p1[1], cp1[1], p2[1], t); // Tangent\n\n  var tx = quadraticDerivativeAt(p1[0], cp1[0], p2[0], t);\n  var ty = quadraticDerivativeAt(p1[1], cp1[1], p2[1], t);\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  symbol.ignore = false;\n};\n\neffectLineProto.updateLayout = function (lineData, idx) {\n  this.childAt(0).updateLayout(lineData, idx);\n  var effectModel = lineData.getItemModel(idx).getModel('effect');\n\n  this._updateEffectAnimation(lineData, effectModel, idx);\n};\n\nzrUtil.inherits(EffectLine, graphic.Group);\nvar _default = EffectLine;\nmodule.exports = _default;","var Polyline = require(\"./Polyline\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar EffectLine = require(\"./EffectLine\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/**\n * Provide effect for line\n * @module echarts/chart/helper/EffectLine\n */\n\n/**\n * @constructor\n * @extends {module:echarts/chart/helper/EffectLine}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction EffectPolyline(lineData, idx, seriesScope) {\n  EffectLine.call(this, lineData, idx, seriesScope);\n  this._lastFrame = 0;\n  this._lastFramePercent = 0;\n}\n\nvar effectPolylineProto = EffectPolyline.prototype; // Overwrite\n\neffectPolylineProto.createLine = function (lineData, idx, seriesScope) {\n  return new Polyline(lineData, idx, seriesScope);\n}; // Overwrite\n\n\neffectPolylineProto.updateAnimationPoints = function (symbol, points) {\n  this._points = points;\n  var accLenArr = [0];\n  var len = 0;\n\n  for (var i = 1; i < points.length; i++) {\n    var p1 = points[i - 1];\n    var p2 = points[i];\n    len += vec2.dist(p1, p2);\n    accLenArr.push(len);\n  }\n\n  if (len === 0) {\n    return;\n  }\n\n  for (var i = 0; i < accLenArr.length; i++) {\n    accLenArr[i] /= len;\n  }\n\n  this._offsets = accLenArr;\n  this._length = len;\n}; // Overwrite\n\n\neffectPolylineProto.getLineLength = function (symbol) {\n  return this._length;\n}; // Overwrite\n\n\neffectPolylineProto.updateSymbolPosition = function (symbol) {\n  var t = symbol.__t;\n  var points = this._points;\n  var offsets = this._offsets;\n  var len = points.length;\n\n  if (!offsets) {\n    // Has length 0\n    return;\n  }\n\n  var lastFrame = this._lastFrame;\n  var frame;\n\n  if (t < this._lastFramePercent) {\n    // Start from the next frame\n    // PENDING start from lastFrame ?\n    var start = Math.min(lastFrame + 1, len - 1);\n\n    for (frame = start; frame >= 0; frame--) {\n      if (offsets[frame] <= t) {\n        break;\n      }\n    } // PENDING really need to do this ?\n\n\n    frame = Math.min(frame, len - 2);\n  } else {\n    for (var frame = lastFrame; frame < len; frame++) {\n      if (offsets[frame] > t) {\n        break;\n      }\n    }\n\n    frame = Math.min(frame - 1, len - 2);\n  }\n\n  vec2.lerp(symbol.position, points[frame], points[frame + 1], (t - offsets[frame]) / (offsets[frame + 1] - offsets[frame]));\n  var tx = points[frame + 1][0] - points[frame][0];\n  var ty = points[frame + 1][1] - points[frame][1];\n  symbol.rotation = -Math.atan2(ty, tx) - Math.PI / 2;\n  this._lastFrame = frame;\n  this._lastFramePercent = t;\n  symbol.ignore = false;\n};\n\nzrUtil.inherits(EffectPolyline, EffectLine);\nvar _default = EffectPolyline;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar _graphic = require(\"../../util/graphic\");\n\nvar Group = _graphic.Group;\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar SymbolClz = require(\"./Symbol\");\n\n/**\n * Symbol with ripple effect\n * @module echarts/chart/helper/EffectSymbol\n */\nvar EFFECT_RIPPLE_NUMBER = 3;\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nfunction updateRipplePath(rippleGroup, effectCfg) {\n  rippleGroup.eachChild(function (ripplePath) {\n    ripplePath.attr({\n      z: effectCfg.z,\n      zlevel: effectCfg.zlevel,\n      style: {\n        stroke: effectCfg.brushType === 'stroke' ? effectCfg.color : null,\n        fill: effectCfg.brushType === 'fill' ? effectCfg.color : null\n      }\n    });\n  });\n}\n/**\n * @constructor\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @extends {module:zrender/graphic/Group}\n */\n\n\nfunction EffectSymbol(data, idx) {\n  Group.call(this);\n  var symbol = new SymbolClz(data, idx);\n  var rippleGroup = new Group();\n  this.add(symbol);\n  this.add(rippleGroup);\n\n  rippleGroup.beforeUpdate = function () {\n    this.attr(symbol.getScale());\n  };\n\n  this.updateData(data, idx);\n}\n\nvar effectSymbolProto = EffectSymbol.prototype;\n\neffectSymbolProto.stopEffectAnimation = function () {\n  this.childAt(1).removeAll();\n};\n\neffectSymbolProto.startEffectAnimation = function (effectCfg) {\n  var symbolType = effectCfg.symbolType;\n  var color = effectCfg.color;\n  var rippleGroup = this.childAt(1);\n\n  for (var i = 0; i < EFFECT_RIPPLE_NUMBER; i++) {\n    // var ripplePath = createSymbol(\n    //     symbolType, -0.5, -0.5, 1, 1, color\n    // );\n    // If width/height are set too small (e.g., set to 1) on ios10\n    // and macOS Sierra, a circle stroke become a rect, no matter what\n    // the scale is set. So we set width/height as 2. See #4136.\n    var ripplePath = createSymbol(symbolType, -1, -1, 2, 2, color);\n    ripplePath.attr({\n      style: {\n        strokeNoScale: true\n      },\n      z2: 99,\n      silent: true,\n      scale: [0.5, 0.5]\n    });\n    var delay = -i / EFFECT_RIPPLE_NUMBER * effectCfg.period + effectCfg.effectOffset; // TODO Configurable effectCfg.period\n\n    ripplePath.animate('', true).when(effectCfg.period, {\n      scale: [effectCfg.rippleScale / 2, effectCfg.rippleScale / 2]\n    }).delay(delay).start();\n    ripplePath.animateStyle(true).when(effectCfg.period, {\n      opacity: 0\n    }).delay(delay).start();\n    rippleGroup.add(ripplePath);\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Update effect symbol\n */\n\n\neffectSymbolProto.updateEffectAnimation = function (effectCfg) {\n  var oldEffectCfg = this._effectCfg;\n  var rippleGroup = this.childAt(1); // Must reinitialize effect if following configuration changed\n\n  var DIFFICULT_PROPS = ['symbolType', 'period', 'rippleScale'];\n\n  for (var i = 0; i < DIFFICULT_PROPS.length; i++) {\n    var propName = DIFFICULT_PROPS[i];\n\n    if (oldEffectCfg[propName] !== effectCfg[propName]) {\n      this.stopEffectAnimation();\n      this.startEffectAnimation(effectCfg);\n      return;\n    }\n  }\n\n  updateRipplePath(rippleGroup, effectCfg);\n};\n/**\n * Highlight symbol\n */\n\n\neffectSymbolProto.highlight = function () {\n  this.trigger('emphasis');\n};\n/**\n * Downplay symbol\n */\n\n\neffectSymbolProto.downplay = function () {\n  this.trigger('normal');\n};\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\n\n\neffectSymbolProto.updateData = function (data, idx) {\n  var seriesModel = data.hostModel;\n  this.childAt(0).updateData(data, idx);\n  var rippleGroup = this.childAt(1);\n  var itemModel = data.getItemModel(idx);\n  var symbolType = data.getItemVisual(idx, 'symbol');\n  var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n  var color = data.getItemVisual(idx, 'color');\n  rippleGroup.attr('scale', symbolSize);\n  rippleGroup.traverse(function (ripplePath) {\n    ripplePath.attr({\n      fill: color\n    });\n  });\n  var symbolOffset = itemModel.getShallow('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = rippleGroup.position;\n    pos[0] = parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] = parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  rippleGroup.rotation = (itemModel.getShallow('symbolRotate') || 0) * Math.PI / 180 || 0;\n  var effectCfg = {};\n  effectCfg.showEffectOn = seriesModel.get('showEffectOn');\n  effectCfg.rippleScale = itemModel.get('rippleEffect.scale');\n  effectCfg.brushType = itemModel.get('rippleEffect.brushType');\n  effectCfg.period = itemModel.get('rippleEffect.period') * 1000;\n  effectCfg.effectOffset = idx / data.count();\n  effectCfg.z = itemModel.getShallow('z') || 0;\n  effectCfg.zlevel = itemModel.getShallow('zlevel') || 0;\n  effectCfg.symbolType = symbolType;\n  effectCfg.color = color;\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n\n  if (effectCfg.showEffectOn === 'render') {\n    this._effectCfg ? this.updateEffectAnimation(effectCfg) : this.startEffectAnimation(effectCfg);\n    this._effectCfg = effectCfg;\n  } else {\n    // Not keep old effect config\n    this._effectCfg = null;\n    this.stopEffectAnimation();\n    var symbol = this.childAt(0);\n\n    var onEmphasis = function () {\n      symbol.highlight();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.startEffectAnimation(effectCfg);\n      }\n    };\n\n    var onNormal = function () {\n      symbol.downplay();\n\n      if (effectCfg.showEffectOn !== 'render') {\n        this.stopEffectAnimation();\n      }\n    };\n\n    this.on('mouseover', onEmphasis, this).on('mouseout', onNormal, this).on('emphasis', onEmphasis, this).on('normal', onNormal, this);\n  }\n\n  this._effectCfg = effectCfg;\n};\n\neffectSymbolProto.fadeOut = function (cb) {\n  this.off('mouseover').off('mouseout').off('emphasis').off('normal');\n  cb && cb();\n};\n\nzrUtil.inherits(EffectSymbol, Group);\nvar _default = EffectSymbol;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar lineContain = require(\"zrender/lib/contain/line\");\n\nvar quadraticContain = require(\"zrender/lib/contain/quadratic\");\n\n// TODO Batch by color\nvar LargeLineShape = graphic.extendShape({\n  shape: {\n    polyline: false,\n    segs: []\n  },\n  buildPath: function (path, shape) {\n    var segs = shape.segs;\n    var isPolyline = shape.polyline;\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      if (isPolyline) {\n        path.moveTo(seg[0][0], seg[0][1]);\n\n        for (var j = 1; j < seg.length; j++) {\n          path.lineTo(seg[j][0], seg[j][1]);\n        }\n      } else {\n        path.moveTo(seg[0][0], seg[0][1]);\n\n        if (seg.length > 2) {\n          path.quadraticCurveTo(seg[2][0], seg[2][1], seg[1][0], seg[1][1]);\n        } else {\n          path.lineTo(seg[1][0], seg[1][1]);\n        }\n      }\n    }\n  },\n  findDataIndex: function (x, y) {\n    var shape = this.shape;\n    var segs = shape.segs;\n    var isPolyline = shape.polyline;\n    var lineWidth = Math.max(this.style.lineWidth, 1); // Not consider transform\n\n    for (var i = 0; i < segs.length; i++) {\n      var seg = segs[i];\n\n      if (isPolyline) {\n        for (var j = 1; j < seg.length; j++) {\n          if (lineContain.containStroke(seg[j - 1][0], seg[j - 1][1], seg[j][0], seg[j][1], lineWidth, x, y)) {\n            return i;\n          }\n        }\n      } else {\n        if (seg.length > 2) {\n          if (quadraticContain.containStroke(seg[0][0], seg[0][1], seg[2][0], seg[2][1], seg[1][0], seg[1][1], lineWidth, x, y)) {\n            return i;\n          }\n        } else {\n          if (lineContain.containStroke(seg[0][0], seg[0][1], seg[1][0], seg[1][1], lineWidth, x, y)) {\n            return i;\n          }\n        }\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeLineDraw() {\n  this.group = new graphic.Group();\n  this._lineEl = new LargeLineShape();\n}\n\nvar largeLineProto = LargeLineDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nlargeLineProto.updateData = function (data) {\n  this.group.removeAll();\n  var lineEl = this._lineEl;\n  var seriesModel = data.hostModel;\n  lineEl.setShape({\n    segs: data.mapArray(data.getItemLayout),\n    polyline: seriesModel.get('polyline')\n  });\n  lineEl.useStyle(seriesModel.getModel('lineStyle.normal').getLineStyle());\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    lineEl.setStyle('stroke', visualColor);\n  }\n\n  lineEl.setStyle('fill'); // Enable tooltip\n  // PENDING May have performance issue when path is extremely large\n\n  lineEl.seriesIndex = seriesModel.seriesIndex;\n  lineEl.on('mousemove', function (e) {\n    lineEl.dataIndex = null;\n    var dataIndex = lineEl.findDataIndex(e.offsetX, e.offsetY);\n\n    if (dataIndex > 0) {\n      // Provide dataIndex for tooltip\n      lineEl.dataIndex = dataIndex;\n    }\n  }); // Add back\n\n  this.group.add(lineEl);\n};\n\nlargeLineProto.updateLayout = function (seriesModel) {\n  var data = seriesModel.getData();\n\n  this._lineEl.setShape({\n    segs: data.mapArray(data.getItemLayout)\n  });\n};\n\nlargeLineProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LargeLineDraw;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n// TODO Batch by color\nvar LargeSymbolPath = graphic.extendShape({\n  shape: {\n    points: null,\n    sizes: null\n  },\n  symbolProxy: null,\n  buildPath: function (path, shape) {\n    var points = shape.points;\n    var sizes = shape.sizes;\n    var symbolProxy = this.symbolProxy;\n    var symbolProxyShape = symbolProxy.shape;\n\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n\n      if (isNaN(pt[0]) || isNaN(pt[1])) {\n        continue;\n      }\n\n      var size = sizes[i];\n\n      if (size[0] < 4) {\n        // Optimize for small symbol\n        path.rect(pt[0] - size[0] / 2, pt[1] - size[1] / 2, size[0], size[1]);\n      } else {\n        symbolProxyShape.x = pt[0] - size[0] / 2;\n        symbolProxyShape.y = pt[1] - size[1] / 2;\n        symbolProxyShape.width = size[0];\n        symbolProxyShape.height = size[1];\n        symbolProxy.buildPath(path, symbolProxyShape, true);\n      }\n    }\n  },\n  findDataIndex: function (x, y) {\n    var shape = this.shape;\n    var points = shape.points;\n    var sizes = shape.sizes; // Not consider transform\n    // Treat each element as a rect\n    // top down traverse\n\n    for (var i = points.length - 1; i >= 0; i--) {\n      var pt = points[i];\n      var size = sizes[i];\n      var x0 = pt[0] - size[0] / 2;\n      var y0 = pt[1] - size[1] / 2;\n\n      if (x >= x0 && y >= y0 && x <= x0 + size[0] && y <= y0 + size[1]) {\n        // i is dataIndex\n        return i;\n      }\n    }\n\n    return -1;\n  }\n});\n\nfunction LargeSymbolDraw() {\n  this.group = new graphic.Group();\n  this._symbolEl = new LargeSymbolPath({// rectHover: true,\n    // cursor: 'default'\n  });\n}\n\nvar largeSymbolProto = LargeSymbolDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nlargeSymbolProto.updateData = function (data) {\n  this.group.removeAll();\n  var symbolEl = this._symbolEl;\n  var seriesModel = data.hostModel;\n  symbolEl.setShape({\n    points: data.mapArray(data.getItemLayout),\n    sizes: data.mapArray(function (idx) {\n      var size = data.getItemVisual(idx, 'symbolSize');\n\n      if (!(size instanceof Array)) {\n        size = [size, size];\n      }\n\n      return size;\n    })\n  }); // Create symbolProxy to build path for each data\n\n  symbolEl.symbolProxy = createSymbol(data.getVisual('symbol'), 0, 0, 0, 0); // Use symbolProxy setColor method\n\n  symbolEl.setColor = symbolEl.symbolProxy.setColor;\n  symbolEl.useStyle(seriesModel.getModel('itemStyle.normal').getItemStyle(['color']));\n  var visualColor = data.getVisual('color');\n\n  if (visualColor) {\n    symbolEl.setColor(visualColor);\n  } // Enable tooltip\n  // PENDING May have performance issue when path is extremely large\n\n\n  symbolEl.seriesIndex = seriesModel.seriesIndex;\n  symbolEl.on('mousemove', function (e) {\n    symbolEl.dataIndex = null;\n    var dataIndex = symbolEl.findDataIndex(e.offsetX, e.offsetY);\n\n    if (dataIndex >= 0) {\n      // Provide dataIndex for tooltip\n      symbolEl.dataIndex = dataIndex;\n    }\n  }); // Add back\n\n  this.group.add(symbolEl);\n};\n\nlargeSymbolProto.updateLayout = function (seriesModel) {\n  var data = seriesModel.getData();\n\n  this._symbolEl.setShape({\n    points: data.mapArray(data.getItemLayout)\n  });\n};\n\nlargeSymbolProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LargeSymbolDraw;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar symbolUtil = require(\"../../util/symbol\");\n\nvar LinePath = require(\"./LinePath\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _number = require(\"../../util/number\");\n\nvar round = _number.round;\n\n/**\n * @module echarts/chart/helper/Line\n */\nvar SYMBOL_CATEGORIES = ['fromSymbol', 'toSymbol'];\n\nfunction makeSymbolTypeKey(symbolCategory) {\n  return '_' + symbolCategory + 'Type';\n}\n/**\n * @inner\n */\n\n\nfunction createSymbol(name, lineData, idx) {\n  var color = lineData.getItemVisual(idx, 'color');\n  var symbolType = lineData.getItemVisual(idx, name);\n  var symbolSize = lineData.getItemVisual(idx, name + 'Size');\n\n  if (!symbolType || symbolType === 'none') {\n    return;\n  }\n\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [symbolSize, symbolSize];\n  }\n\n  var symbolPath = symbolUtil.createSymbol(symbolType, -symbolSize[0] / 2, -symbolSize[1] / 2, symbolSize[0], symbolSize[1], color);\n  symbolPath.name = name;\n  return symbolPath;\n}\n\nfunction createLine(points) {\n  var line = new LinePath({\n    name: 'line'\n  });\n  setLinePoints(line.shape, points);\n  return line;\n}\n\nfunction setLinePoints(targetShape, points) {\n  var p1 = points[0];\n  var p2 = points[1];\n  var cp1 = points[2];\n  targetShape.x1 = p1[0];\n  targetShape.y1 = p1[1];\n  targetShape.x2 = p2[0];\n  targetShape.y2 = p2[1];\n  targetShape.percent = 1;\n\n  if (cp1) {\n    targetShape.cpx1 = cp1[0];\n    targetShape.cpy1 = cp1[1];\n  } else {\n    targetShape.cpx1 = NaN;\n    targetShape.cpy1 = NaN;\n  }\n}\n\nfunction updateSymbolAndLabelBeforeLineUpdate() {\n  var lineGroup = this;\n  var symbolFrom = lineGroup.childOfName('fromSymbol');\n  var symbolTo = lineGroup.childOfName('toSymbol');\n  var label = lineGroup.childOfName('label'); // Quick reject\n\n  if (!symbolFrom && !symbolTo && label.ignore) {\n    return;\n  }\n\n  var invScale = 1;\n  var parentNode = this.parent;\n\n  while (parentNode) {\n    if (parentNode.scale) {\n      invScale /= parentNode.scale[0];\n    }\n\n    parentNode = parentNode.parent;\n  }\n\n  var line = lineGroup.childOfName('line'); // If line not changed\n  // FIXME Parent scale changed\n\n  if (!this.__dirty && !line.__dirty) {\n    return;\n  }\n\n  var percent = line.shape.percent;\n  var fromPos = line.pointAt(0);\n  var toPos = line.pointAt(percent);\n  var d = vector.sub([], toPos, fromPos);\n  vector.normalize(d, d);\n\n  if (symbolFrom) {\n    symbolFrom.attr('position', fromPos);\n    var tangent = line.tangentAt(0);\n    symbolFrom.attr('rotation', Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolFrom.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (symbolTo) {\n    symbolTo.attr('position', toPos);\n    var tangent = line.tangentAt(1);\n    symbolTo.attr('rotation', -Math.PI / 2 - Math.atan2(tangent[1], tangent[0]));\n    symbolTo.attr('scale', [invScale * percent, invScale * percent]);\n  }\n\n  if (!label.ignore) {\n    label.attr('position', toPos);\n    var textPosition;\n    var textAlign;\n    var textVerticalAlign;\n    var distance = 5 * invScale; // End\n\n    if (label.__position === 'end') {\n      textPosition = [d[0] * distance + toPos[0], d[1] * distance + toPos[1]];\n      textAlign = d[0] > 0.8 ? 'left' : d[0] < -0.8 ? 'right' : 'center';\n      textVerticalAlign = d[1] > 0.8 ? 'top' : d[1] < -0.8 ? 'bottom' : 'middle';\n    } // Middle\n    else if (label.__position === 'middle') {\n        var halfPercent = percent / 2;\n        var tangent = line.tangentAt(halfPercent);\n        var n = [tangent[1], -tangent[0]];\n        var cp = line.pointAt(halfPercent);\n\n        if (n[1] > 0) {\n          n[0] = -n[0];\n          n[1] = -n[1];\n        }\n\n        textPosition = [cp[0] + n[0] * distance, cp[1] + n[1] * distance];\n        textAlign = 'center';\n        textVerticalAlign = 'bottom';\n        var rotation = -Math.atan2(tangent[1], tangent[0]);\n\n        if (toPos[0] < fromPos[0]) {\n          rotation = Math.PI + rotation;\n        }\n\n        label.attr('rotation', rotation);\n      } // Start\n      else {\n          textPosition = [-d[0] * distance + fromPos[0], -d[1] * distance + fromPos[1]];\n          textAlign = d[0] > 0.8 ? 'right' : d[0] < -0.8 ? 'left' : 'center';\n          textVerticalAlign = d[1] > 0.8 ? 'bottom' : d[1] < -0.8 ? 'top' : 'middle';\n        }\n\n    label.attr({\n      style: {\n        // Use the user specified text align and baseline first\n        textVerticalAlign: label.__verticalAlign || textVerticalAlign,\n        textAlign: label.__textAlign || textAlign\n      },\n      position: textPosition,\n      scale: [invScale, invScale]\n    });\n  }\n}\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Line}\n */\n\n\nfunction Line(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createLine(lineData, idx, seriesScope);\n}\n\nvar lineProto = Line.prototype; // Update symbol position and rotation\n\nlineProto.beforeUpdate = updateSymbolAndLabelBeforeLineUpdate;\n\nlineProto._createLine = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var linePoints = lineData.getItemLayout(idx);\n  var line = createLine(linePoints);\n  line.shape.percent = 0;\n  graphic.initProps(line, {\n    shape: {\n      percent: 1\n    }\n  }, seriesModel, idx);\n  this.add(line);\n  var label = new graphic.Text({\n    name: 'label'\n  });\n  this.add(label);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = createSymbol(symbolCategory, lineData, idx); // symbols must added after line to make sure\n    // it will be updated after line#update.\n    // Or symbol position and rotation update in line#beforeUpdate will be one frame slow\n\n    this.add(symbol);\n    this[makeSymbolTypeKey(symbolCategory)] = lineData.getItemVisual(idx, symbolCategory);\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var linePoints = lineData.getItemLayout(idx);\n  var target = {\n    shape: {}\n  };\n  setLinePoints(target.shape, linePoints);\n  graphic.updateProps(line, target, seriesModel, idx);\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbolType = lineData.getItemVisual(idx, symbolCategory);\n    var key = makeSymbolTypeKey(symbolCategory); // Symbol changed\n\n    if (this[key] !== symbolType) {\n      this.remove(this.childOfName(symbolCategory));\n      var symbol = createSymbol(symbolCategory, lineData, idx);\n      this.add(symbol);\n    }\n\n    this[key] = symbolType;\n  }, this);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\nlineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childOfName('line');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n  var labelModel = seriesScope && seriesScope.labelModel;\n  var hoverLabelModel = seriesScope && seriesScope.hoverLabelModel; // Optimization for large dataset\n\n  if (!seriesScope || lineData.hasItemOption) {\n    var itemModel = lineData.getItemModel(idx);\n    lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n    hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n    labelModel = itemModel.getModel('label.normal');\n    hoverLabelModel = itemModel.getModel('label.emphasis');\n  }\n\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var visualOpacity = zrUtil.retrieve3(lineData.getItemVisual(idx, 'opacity'), lineStyle.opacity, 1);\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor,\n    opacity: visualOpacity\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle; // Update symbol\n\n  zrUtil.each(SYMBOL_CATEGORIES, function (symbolCategory) {\n    var symbol = this.childOfName(symbolCategory);\n\n    if (symbol) {\n      symbol.setColor(visualColor);\n      symbol.setStyle({\n        opacity: visualOpacity\n      });\n    }\n  }, this);\n  var showLabel = labelModel.getShallow('show');\n  var hoverShowLabel = hoverLabelModel.getShallow('show');\n  var label = this.childOfName('label');\n  var defaultLabelColor;\n  var defaultText;\n  var normalText;\n  var emphasisText;\n\n  if (showLabel || hoverShowLabel) {\n    var rawVal = seriesModel.getRawValue(idx);\n    defaultText = rawVal == null ? defaultText = lineData.getName(idx) : isFinite(rawVal) ? round(rawVal) : rawVal;\n    defaultLabelColor = visualColor || '#000';\n    normalText = zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'normal', lineData.dataType), defaultText);\n    emphasisText = zrUtil.retrieve2(seriesModel.getFormattedLabel(idx, 'emphasis', lineData.dataType), normalText);\n  } // label.afterUpdate = lineAfterUpdate;\n\n\n  if (showLabel) {\n    var labelStyle = graphic.setTextStyle(label.style, labelModel, {\n      text: normalText\n    }, {\n      autoColor: defaultLabelColor\n    });\n    label.__textAlign = labelStyle.textAlign;\n    label.__verticalAlign = labelStyle.textVerticalAlign; // 'start', 'middle', 'end'\n\n    label.__position = labelModel.get('position') || 'middle';\n  } else {\n    label.setStyle('text', null);\n  }\n\n  if (hoverShowLabel) {\n    // Only these properties supported in this emphasis style here.\n    label.hoverStyle = {\n      text: emphasisText,\n      textFill: hoverLabelModel.getTextColor(true),\n      // For merging hover style to normal style, do not use\n      // `hoverLabelModel.getFont()` here.\n      fontStyle: hoverLabelModel.getShallow('fontStyle'),\n      fontWeight: hoverLabelModel.getShallow('fontWeight'),\n      fontSize: hoverLabelModel.getShallow('fontSize'),\n      fontFamily: hoverLabelModel.getShallow('fontFamily')\n    };\n  } else {\n    label.hoverStyle = {\n      text: null\n    };\n  }\n\n  label.ignore = !showLabel && !hoverShowLabel;\n  graphic.setHoverStyle(this);\n};\n\nlineProto.highlight = function () {\n  this.trigger('emphasis');\n};\n\nlineProto.downplay = function () {\n  this.trigger('normal');\n};\n\nlineProto.updateLayout = function (lineData, idx) {\n  this.setLinePoints(lineData.getItemLayout(idx));\n};\n\nlineProto.setLinePoints = function (points) {\n  var linePath = this.childOfName('line');\n  setLinePoints(linePath.shape, points);\n  linePath.dirty();\n};\n\nzrUtil.inherits(Line, graphic.Group);\nvar _default = Line;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar LineGroup = require(\"./Line\");\n\n/**\n * @module echarts/chart/helper/LineDraw\n */\nfunction isPointNaN(pt) {\n  return isNaN(pt[0]) || isNaN(pt[1]);\n}\n\nfunction lineNeedsDraw(pts) {\n  return !isPointNaN(pts[0]) && !isPointNaN(pts[1]);\n}\n/**\n * @alias module:echarts/component/marker/LineDraw\n * @constructor\n */\n\n\nfunction LineDraw(ctor) {\n  this._ctor = ctor || LineGroup;\n  this.group = new graphic.Group();\n}\n\nvar lineDrawProto = LineDraw.prototype;\n/**\n * @param {module:echarts/data/List} lineData\n */\n\nlineDrawProto.updateData = function (lineData) {\n  var oldLineData = this._lineData;\n  var group = this.group;\n  var LineCtor = this._ctor;\n  var hostModel = lineData.hostModel;\n  var seriesScope = {\n    lineStyle: hostModel.getModel('lineStyle.normal').getLineStyle(),\n    hoverLineStyle: hostModel.getModel('lineStyle.emphasis').getLineStyle(),\n    labelModel: hostModel.getModel('label.normal'),\n    hoverLabelModel: hostModel.getModel('label.emphasis')\n  };\n  lineData.diff(oldLineData).add(function (idx) {\n    if (!lineNeedsDraw(lineData.getItemLayout(idx))) {\n      return;\n    }\n\n    var lineGroup = new LineCtor(lineData, idx, seriesScope);\n    lineData.setItemGraphicEl(idx, lineGroup);\n    group.add(lineGroup);\n  }).update(function (newIdx, oldIdx) {\n    var lineGroup = oldLineData.getItemGraphicEl(oldIdx);\n\n    if (!lineNeedsDraw(lineData.getItemLayout(newIdx))) {\n      group.remove(lineGroup);\n      return;\n    }\n\n    if (!lineGroup) {\n      lineGroup = new LineCtor(lineData, newIdx, seriesScope);\n    } else {\n      lineGroup.updateData(lineData, newIdx, seriesScope);\n    }\n\n    lineData.setItemGraphicEl(newIdx, lineGroup);\n    group.add(lineGroup);\n  }).remove(function (idx) {\n    group.remove(oldLineData.getItemGraphicEl(idx));\n  }).execute();\n  this._lineData = lineData;\n};\n\nlineDrawProto.updateLayout = function () {\n  var lineData = this._lineData;\n  lineData.eachItemGraphicEl(function (el, idx) {\n    el.updateLayout(lineData, idx);\n  }, this);\n};\n\nlineDrawProto.remove = function () {\n  this.group.removeAll();\n};\n\nvar _default = LineDraw;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\n/**\n * Line path for bezier and straight line draw\n */\nvar straightLineProto = graphic.Line.prototype;\nvar bezierCurveProto = graphic.BezierCurve.prototype;\n\nfunction isLine(shape) {\n  return isNaN(+shape.cpx1) || isNaN(+shape.cpy1);\n}\n\nvar _default = graphic.extendShape({\n  type: 'ec-line',\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    percent: 1,\n    cpx1: null,\n    cpy1: null\n  },\n  buildPath: function (ctx, shape) {\n    (isLine(shape) ? straightLineProto : bezierCurveProto).buildPath(ctx, shape);\n  },\n  pointAt: function (t) {\n    return isLine(this.shape) ? straightLineProto.pointAt.call(this, t) : bezierCurveProto.pointAt.call(this, t);\n  },\n  tangentAt: function (t) {\n    var shape = this.shape;\n    var p = isLine(shape) ? [shape.x2 - shape.x1, shape.y2 - shape.y1] : bezierCurveProto.tangentAt.call(this, t);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @module echarts/chart/helper/Line\n */\n\n/**\n * @constructor\n * @extends {module:zrender/graphic/Group}\n * @alias {module:echarts/chart/helper/Polyline}\n */\nfunction Polyline(lineData, idx, seriesScope) {\n  graphic.Group.call(this);\n\n  this._createPolyline(lineData, idx, seriesScope);\n}\n\nvar polylineProto = Polyline.prototype;\n\npolylineProto._createPolyline = function (lineData, idx, seriesScope) {\n  // var seriesModel = lineData.hostModel;\n  var points = lineData.getItemLayout(idx);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    }\n  });\n  this.add(line);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto.updateData = function (lineData, idx, seriesScope) {\n  var seriesModel = lineData.hostModel;\n  var line = this.childAt(0);\n  var target = {\n    shape: {\n      points: lineData.getItemLayout(idx)\n    }\n  };\n  graphic.updateProps(line, target, seriesModel, idx);\n\n  this._updateCommonStl(lineData, idx, seriesScope);\n};\n\npolylineProto._updateCommonStl = function (lineData, idx, seriesScope) {\n  var line = this.childAt(0);\n  var itemModel = lineData.getItemModel(idx);\n  var visualColor = lineData.getItemVisual(idx, 'color');\n  var lineStyle = seriesScope && seriesScope.lineStyle;\n  var hoverLineStyle = seriesScope && seriesScope.hoverLineStyle;\n\n  if (!seriesScope || lineData.hasItemOption) {\n    lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n    hoverLineStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n  }\n\n  line.useStyle(zrUtil.defaults({\n    strokeNoScale: true,\n    fill: 'none',\n    stroke: visualColor\n  }, lineStyle));\n  line.hoverStyle = hoverLineStyle;\n  graphic.setHoverStyle(this);\n};\n\npolylineProto.updateLayout = function (lineData, idx) {\n  var polyline = this.childAt(0);\n  polyline.setShape('points', lineData.getItemLayout(idx));\n};\n\nzrUtil.inherits(Polyline, graphic.Group);\nvar _default = Polyline;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\n/**\n * @module echarts/chart/helper/Symbol\n */\nvar WhiskerPath = Path.extend({\n  type: 'whiskerInBox',\n  shape: {},\n  buildPath: function (ctx, shape) {\n    for (var i in shape) {\n      if (shape.hasOwnProperty(i) && i.indexOf('ends') === 0) {\n        var pts = shape[i];\n        ctx.moveTo(pts[0][0], pts[0][1]);\n        ctx.lineTo(pts[1][0], pts[1][1]);\n      }\n    }\n  }\n});\n/**\n * @constructor\n * @alias {module:echarts/chart/helper/WhiskerBox}\n * @param {module:echarts/data/List} data\n * @param {number} idx\n * @param {Function} styleUpdater\n * @param {boolean} isInit\n * @extends {module:zrender/graphic/Group}\n */\n\nfunction WhiskerBox(data, idx, styleUpdater, isInit) {\n  graphic.Group.call(this);\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.bodyIndex;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.whiskerIndex;\n  /**\n   * @type {Function}\n   */\n\n  this.styleUpdater = styleUpdater;\n\n  this._createContent(data, idx, isInit);\n\n  this.updateData(data, idx, isInit);\n  /**\n   * Last series model.\n   * @type {module:echarts/model/Series}\n   */\n\n  this._seriesModel;\n}\n\nvar whiskerBoxProto = WhiskerBox.prototype;\n\nwhiskerBoxProto._createContent = function (data, idx, isInit) {\n  var itemLayout = data.getItemLayout(idx);\n  var constDim = itemLayout.chartLayout === 'horizontal' ? 1 : 0;\n  var count = 0; // Whisker element.\n\n  this.add(new graphic.Polygon({\n    shape: {\n      points: isInit ? transInit(itemLayout.bodyEnds, constDim, itemLayout) : itemLayout.bodyEnds\n    },\n    style: {\n      strokeNoScale: true\n    },\n    z2: 100\n  }));\n  this.bodyIndex = count++; // Box element.\n\n  var whiskerEnds = zrUtil.map(itemLayout.whiskerEnds, function (ends) {\n    return isInit ? transInit(ends, constDim, itemLayout) : ends;\n  });\n  this.add(new WhiskerPath({\n    shape: makeWhiskerEndsShape(whiskerEnds),\n    style: {\n      strokeNoScale: true\n    },\n    z2: 100\n  }));\n  this.whiskerIndex = count++;\n};\n\nfunction transInit(points, dim, itemLayout) {\n  return zrUtil.map(points, function (point) {\n    point = point.slice();\n    point[dim] = itemLayout.initBaseline;\n    return point;\n  });\n}\n\nfunction makeWhiskerEndsShape(whiskerEnds) {\n  // zr animation only support 2-dim array.\n  var shape = {};\n  zrUtil.each(whiskerEnds, function (ends, i) {\n    shape['ends' + i] = ends;\n  });\n  return shape;\n}\n/**\n * Update symbol properties\n * @param  {module:echarts/data/List} data\n * @param  {number} idx\n */\n\n\nwhiskerBoxProto.updateData = function (data, idx, isInit) {\n  var seriesModel = this._seriesModel = data.hostModel;\n  var itemLayout = data.getItemLayout(idx);\n  var updateMethod = graphic[isInit ? 'initProps' : 'updateProps']; // this.childAt(this.bodyIndex).stopAnimation(true);\n  // this.childAt(this.whiskerIndex).stopAnimation(true);\n\n  updateMethod(this.childAt(this.bodyIndex), {\n    shape: {\n      points: itemLayout.bodyEnds\n    }\n  }, seriesModel, idx);\n  updateMethod(this.childAt(this.whiskerIndex), {\n    shape: makeWhiskerEndsShape(itemLayout.whiskerEnds)\n  }, seriesModel, idx);\n  this.styleUpdater.call(null, this, data, idx);\n};\n\nzrUtil.inherits(WhiskerBox, graphic.Group);\n/**\n * @constructor\n * @alias module:echarts/chart/helper/WhiskerBoxDraw\n */\n\nfunction WhiskerBoxDraw(styleUpdater) {\n  this.group = new graphic.Group();\n  this.styleUpdater = styleUpdater;\n}\n\nvar whiskerBoxDrawProto = WhiskerBoxDraw.prototype;\n/**\n * Update symbols draw by new data\n * @param {module:echarts/data/List} data\n */\n\nwhiskerBoxDrawProto.updateData = function (data) {\n  var group = this.group;\n  var oldData = this._data;\n  var styleUpdater = this.styleUpdater;\n  data.diff(oldData).add(function (newIdx) {\n    if (data.hasValue(newIdx)) {\n      var symbolEl = new WhiskerBox(data, newIdx, styleUpdater, true);\n      data.setItemGraphicEl(newIdx, symbolEl);\n      group.add(symbolEl);\n    }\n  }).update(function (newIdx, oldIdx) {\n    var symbolEl = oldData.getItemGraphicEl(oldIdx); // Empty data\n\n    if (!data.hasValue(newIdx)) {\n      group.remove(symbolEl);\n      return;\n    }\n\n    if (!symbolEl) {\n      symbolEl = new WhiskerBox(data, newIdx, styleUpdater);\n    } else {\n      symbolEl.updateData(data, newIdx);\n    } // Add back\n\n\n    group.add(symbolEl);\n    data.setItemGraphicEl(newIdx, symbolEl);\n  }).remove(function (oldIdx) {\n    var el = oldData.getItemGraphicEl(oldIdx);\n    el && group.remove(el);\n  }).execute();\n  this._data = data;\n};\n/**\n * Remove symbols.\n * @param {module:echarts/data/List} data\n */\n\n\nwhiskerBoxDrawProto.remove = function () {\n  var group = this.group;\n  var data = this._data;\n  this._data = null;\n  data && data.eachItemGraphicEl(function (el) {\n    el && group.remove(el);\n  });\n};\n\nvar _default = WhiskerBoxDraw;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar Graph = require(\"../../data/Graph\");\n\nvar linkList = require(\"../../data/helper/linkList\");\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar createListFromArray = require(\"./createListFromArray\");\n\nfunction _default(nodes, edges, hostModel, directed, beforeLink) {\n  var graph = new Graph(directed);\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(zrUtil.retrieve( // Id, name, dataIndex\n    nodes[i].id, nodes[i].name, i), i);\n  }\n\n  var linkNameList = [];\n  var validEdges = [];\n  var linkCount = 0;\n\n  for (var i = 0; i < edges.length; i++) {\n    var link = edges[i];\n    var source = link.source;\n    var target = link.target; // addEdge may fail when source or target not exists\n\n    if (graph.addEdge(source, target, linkCount)) {\n      validEdges.push(link);\n      linkNameList.push(zrUtil.retrieve(link.id, source + ' > ' + target));\n      linkCount++;\n    }\n  }\n\n  var coordSys = hostModel.get('coordinateSystem');\n  var nodeData;\n\n  if (coordSys === 'cartesian2d' || coordSys === 'polar') {\n    nodeData = createListFromArray(nodes, hostModel, hostModel.ecModel);\n  } else {\n    // FIXME\n    var coordSysCtor = CoordinateSystem.get(coordSys); // FIXME\n\n    var dimensionNames = completeDimensions((coordSysCtor && coordSysCtor.type !== 'view' ? coordSysCtor.dimensions || [] : []).concat(['value']), nodes);\n    nodeData = new List(dimensionNames, hostModel);\n    nodeData.initData(nodes);\n  }\n\n  var edgeData = new List(['value'], hostModel);\n  edgeData.initData(validEdges, linkNameList);\n  beforeLink && beforeLink(nodeData, edgeData);\n  linkList({\n    mainData: nodeData,\n    struct: graph,\n    structAttr: 'graph',\n    datas: {\n      node: nodeData,\n      edge: edgeData\n    },\n    datasAttr: {\n      node: 'data',\n      edge: 'edgeData'\n    }\n  }); // Update dataIndex of nodes and edges because invalid edge may be removed\n\n  graph.update();\n  return graph;\n}\n\nmodule.exports = _default;","var List = require(\"../../data/List\");\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar WhiskerBoxDraw = require(\"../helper/WhiskerBoxDraw\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar seriesModelMixin = {\n  /**\n   * @private\n   * @type {string}\n   */\n  _baseAxisDim: null,\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // When both types of xAxis and yAxis are 'value', layout is\n    // needed to be specified by user. Otherwise, layout can be\n    // judged by which axis is category.\n    var categories;\n    var xAxisModel = ecModel.getComponent('xAxis', this.get('xAxisIndex'));\n    var yAxisModel = ecModel.getComponent('yAxis', this.get('yAxisIndex'));\n    var xAxisType = xAxisModel.get('type');\n    var yAxisType = yAxisModel.get('type');\n    var addOrdinal; // FIXME\n    // 考虑时间轴\n\n    if (xAxisType === 'category') {\n      option.layout = 'horizontal';\n      categories = xAxisModel.getCategories();\n      addOrdinal = true;\n    } else if (yAxisType === 'category') {\n      option.layout = 'vertical';\n      categories = yAxisModel.getCategories();\n      addOrdinal = true;\n    } else {\n      option.layout = option.layout || 'horizontal';\n    }\n\n    var coordDims = ['x', 'y'];\n    var baseAxisDimIndex = option.layout === 'horizontal' ? 0 : 1;\n    var baseAxisDim = this._baseAxisDim = coordDims[baseAxisDimIndex];\n    var otherAxisDim = coordDims[1 - baseAxisDimIndex];\n    var data = option.data;\n    addOrdinal && zrUtil.each(data, function (item, index) {\n      if (item.value && zrUtil.isArray(item.value)) {\n        item.value.unshift(index);\n      } else {\n        zrUtil.isArray(item) && item.unshift(index);\n      }\n    });\n    var defaultValueDimensions = this.defaultValueDimensions;\n    var dimensions = [{\n      name: baseAxisDim,\n      otherDims: {\n        tooltip: false\n      },\n      dimsDef: ['base']\n    }, {\n      name: otherAxisDim,\n      dimsDef: defaultValueDimensions.slice()\n    }];\n    dimensions = completeDimensions(dimensions, data, {\n      encodeDef: this.get('encode'),\n      dimsDef: this.get('dimensions'),\n      // Consider empty data entry.\n      dimCount: defaultValueDimensions.length + 1\n    });\n    var list = new List(dimensions, this);\n    list.initData(data, categories ? categories.slice() : null);\n    return list;\n  },\n\n  /**\n   * If horizontal, base axis is x, otherwise y.\n   * @override\n   */\n  getBaseAxis: function () {\n    var dim = this._baseAxisDim;\n    return this.ecModel.getComponent(dim + 'Axis', this.get(dim + 'AxisIndex')).axis;\n  }\n};\nvar viewMixin = {\n  init: function () {\n    /**\n     * Old data.\n     * @private\n     * @type {module:echarts/chart/helper/WhiskerBoxDraw}\n     */\n    var whiskerBoxDraw = this._whiskerBoxDraw = new WhiskerBoxDraw(this.getStyleUpdater());\n    this.group.add(whiskerBoxDraw.group);\n  },\n  render: function (seriesModel, ecModel, api) {\n    this._whiskerBoxDraw.updateData(seriesModel.getData());\n  },\n  remove: function (ecModel) {\n    this._whiskerBoxDraw.remove();\n  }\n};\nexports.seriesModelMixin = seriesModelMixin;\nexports.viewMixin = viewMixin;","var echarts = require(\"../echarts\");\n\nrequire(\"./lines/LinesSeries\");\n\nrequire(\"./lines/LinesView\");\n\nvar linesLayout = require(\"./lines/linesLayout\");\n\nvar linesVisual = require(\"./lines/linesVisual\");\n\necharts.registerLayout(linesLayout);\necharts.registerVisual(linesVisual);","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n// Convert [ [{coord: []}, {coord: []}] ]\n// to [ { coords: [[]] } ]\nfunction preprocessOption(seriesOpt) {\n  var data = seriesOpt.data;\n\n  if (data && data[0] && data[0][0] && data[0][0].coord) {\n    seriesOpt.data = zrUtil.map(data, function (itemOpt) {\n      var coords = [itemOpt[0].coord, itemOpt[1].coord];\n      var target = {\n        coords: coords\n      };\n\n      if (itemOpt[0].name) {\n        target.fromName = itemOpt[0].name;\n      }\n\n      if (itemOpt[1].name) {\n        target.toName = itemOpt[1].name;\n      }\n\n      return zrUtil.mergeAll([target, itemOpt[0], itemOpt[1]]);\n    });\n  }\n}\n\nvar LinesSeries = SeriesModel.extend({\n  type: 'series.lines',\n  dependencies: ['grid', 'polar'],\n  visualColorAccessPath: 'lineStyle.normal.color',\n  init: function (option) {\n    // Not using preprocessor because mergeOption may not have series.type\n    preprocessOption(option);\n    LinesSeries.superApply(this, 'init', arguments);\n  },\n  mergeOption: function (option) {\n    preprocessOption(option);\n    LinesSeries.superApply(this, 'mergeOption', arguments);\n  },\n  getInitialData: function (option, ecModel) {\n    var lineData = new List(['value'], this);\n    lineData.hasItemOption = false;\n    lineData.initData(option.data, [], function (dataItem, dimName, dataIndex, dimIndex) {\n      // dataItem is simply coords\n      if (dataItem instanceof Array) {\n        return NaN;\n      } else {\n        lineData.hasItemOption = true;\n        var value = dataItem.value;\n\n        if (value != null) {\n          return value instanceof Array ? value[dimIndex] : value;\n        }\n      }\n    });\n    return lineData;\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var itemModel = data.getItemModel(dataIndex);\n    var name = itemModel.get('name');\n\n    if (name) {\n      return name;\n    }\n\n    var fromName = itemModel.get('fromName');\n    var toName = itemModel.get('toName');\n    var html = [];\n    fromName != null && html.push(fromName);\n    toName != null && html.push(toName);\n    return encodeHTML(html.join(' > '));\n  },\n  defaultOption: {\n    coordinateSystem: 'geo',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    xAxisIndex: 0,\n    yAxisIndex: 0,\n    symbol: ['none', 'none'],\n    symbolSize: [10, 10],\n    // Geo coordinate system\n    geoIndex: 0,\n    effect: {\n      show: false,\n      period: 4,\n      // Animation delay. support callback\n      // delay: 0,\n      // If move with constant speed px/sec\n      // period will be ignored if this property is > 0,\n      constantSpeed: 0,\n      symbol: 'circle',\n      symbolSize: 3,\n      loop: true,\n      // Length of trail, 0 - 1\n      trailLength: 0.2 // Same with lineStyle.normal.color\n      // color\n\n    },\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // If lines are polyline\n    // polyline not support curveness, label, animation\n    polyline: false,\n    label: {\n      normal: {\n        show: false,\n        position: 'end' // distance: 5,\n        // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n\n      }\n    },\n    lineStyle: {\n      normal: {\n        opacity: 0.5\n      }\n    }\n  }\n});\nvar _default = LinesSeries;\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar LineDraw = require(\"../helper/LineDraw\");\n\nvar EffectLine = require(\"../helper/EffectLine\");\n\nvar Line = require(\"../helper/Line\");\n\nvar Polyline = require(\"../helper/Polyline\");\n\nvar EffectPolyline = require(\"../helper/EffectPolyline\");\n\nvar LargeLineDraw = require(\"../helper/LargeLineDraw\");\n\nvar _default = echarts.extendChartView({\n  type: 'lines',\n  init: function () {},\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var lineDraw = this._lineDraw;\n    var hasEffect = seriesModel.get('effect.show');\n    var isPolyline = seriesModel.get('polyline');\n    var isLarge = seriesModel.get('large') && data.count() >= seriesModel.get('largeThreshold');\n\n    if (hasEffect !== this._hasEffet || isPolyline !== this._isPolyline || isLarge !== this._isLarge) {\n      if (lineDraw) {\n        lineDraw.remove();\n      }\n\n      lineDraw = this._lineDraw = isLarge ? new LargeLineDraw() : new LineDraw(isPolyline ? hasEffect ? EffectPolyline : Polyline : hasEffect ? EffectLine : Line);\n      this._hasEffet = hasEffect;\n      this._isPolyline = isPolyline;\n      this._isLarge = isLarge;\n    }\n\n    var zlevel = seriesModel.get('zlevel');\n    var trailLength = seriesModel.get('effect.trailLength');\n    var zr = api.getZr(); // Avoid the drag cause ghost shadow\n    // FIXME Better way ?\n    // SVG doesn't support\n\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(zlevel).clear(true);\n    } // Config layer with motion blur\n\n\n    if (this._lastZlevel != null && !isSvg) {\n      zr.configLayer(this._lastZlevel, {\n        motionBlur: false\n      });\n    }\n\n    if (hasEffect && trailLength) {\n      if (!isSvg) {\n        zr.configLayer(zlevel, {\n          motionBlur: true,\n          lastFrameAlpha: Math.max(Math.min(trailLength / 10 + 0.9, 1), 0)\n        });\n      }\n    }\n\n    this.group.add(lineDraw.group);\n    lineDraw.updateData(data);\n    this._lastZlevel = zlevel;\n  },\n  updateLayout: function (seriesModel, ecModel, api) {\n    this._lineDraw.updateLayout(seriesModel); // Not use motion when dragging or zooming\n\n\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  },\n  remove: function (ecModel, api) {\n    this._lineDraw && this._lineDraw.remove(api, true); // Clear motion when lineDraw is removed\n\n    var zr = api.getZr();\n    var isSvg = zr.painter.getType() === 'svg';\n\n    if (!isSvg) {\n      zr.painter.getLayer(this._lastZlevel).clear(true);\n    }\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('lines', function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n    var lineData = seriesModel.getData(); // FIXME Use data dimensions ?\n\n    lineData.each(function (idx) {\n      var itemModel = lineData.getItemModel(idx);\n      var coords = itemModel.option instanceof Array ? itemModel.option : itemModel.get('coords');\n      var pts = [];\n\n      if (seriesModel.get('polyline')) {\n        for (var i = 0; i < coords.length; i++) {\n          pts.push(coordSys.dataToPoint(coords[i]));\n        }\n      } else {\n        pts[0] = coordSys.dataToPoint(coords[0]);\n        pts[1] = coordSys.dataToPoint(coords[1]);\n        var curveness = itemModel.get('lineStyle.normal.curveness');\n\n        if (+curveness) {\n          pts[2] = [(pts[0][0] + pts[1][0]) / 2 - (pts[0][1] - pts[1][1]) * curveness, (pts[0][1] + pts[1][1]) / 2 - (pts[1][0] - pts[0][0]) * curveness];\n        }\n      }\n\n      lineData.setItemLayout(idx, pts);\n    });\n  });\n}\n\nmodule.exports = _default;","function normalize(a) {\n  if (!(a instanceof Array)) {\n    a = [a, a];\n  }\n\n  return a;\n}\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('lines', function (seriesModel) {\n    var data = seriesModel.getData();\n    var symbolType = normalize(seriesModel.get('symbol'));\n    var symbolSize = normalize(seriesModel.get('symbolSize'));\n    var opacityQuery = 'lineStyle.normal.opacity'.split('.');\n    data.setVisual('fromSymbol', symbolType && symbolType[0]);\n    data.setVisual('toSymbol', symbolType && symbolType[1]);\n    data.setVisual('fromSymbolSize', symbolSize && symbolSize[0]);\n    data.setVisual('toSymbolSize', symbolSize && symbolSize[1]);\n    data.setVisual('opacity', seriesModel.get(opacityQuery));\n    data.each(function (idx) {\n      var itemModel = data.getItemModel(idx);\n      var symbolType = normalize(itemModel.getShallow('symbol', true));\n      var symbolSize = normalize(itemModel.getShallow('symbolSize', true));\n      var opacity = itemModel.get(opacityQuery);\n      symbolType[0] && data.setItemVisual(idx, 'fromSymbol', symbolType[0]);\n      symbolType[1] && data.setItemVisual(idx, 'toSymbol', symbolType[1]);\n      symbolSize[0] && data.setItemVisual(idx, 'fromSymbolSize', symbolSize[0]);\n      symbolSize[1] && data.setItemVisual(idx, 'toSymbolSize', symbolSize[1]);\n      data.setItemVisual(idx, 'opacity', opacity);\n    });\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nrequire(\"./map/MapSeries\");\n\nrequire(\"./map/MapView\");\n\nrequire(\"../action/geoRoam\");\n\nrequire(\"../coord/geo/geoCreator\");\n\nvar mapSymbolLayout = require(\"./map/mapSymbolLayout\");\n\nvar mapVisual = require(\"./map/mapVisual\");\n\nvar mapDataStatistic = require(\"./map/mapDataStatistic\");\n\nvar backwardCompat = require(\"./map/backwardCompat\");\n\nvar createDataSelectAction = require(\"../action/createDataSelectAction\");\n\necharts.registerLayout(mapSymbolLayout);\necharts.registerVisual(mapVisual);\necharts.registerProcessor(echarts.PRIORITY.PROCESSOR.STATISTIC, mapDataStatistic);\necharts.registerPreprocessor(backwardCompat);\ncreateDataSelectAction('map', [{\n  type: 'mapToggleSelect',\n  event: 'mapselectchanged',\n  method: 'toggleSelected'\n}, {\n  type: 'mapSelect',\n  event: 'mapselected',\n  method: 'select'\n}, {\n  type: 'mapUnSelect',\n  event: 'mapunselected',\n  method: 'unSelect'\n}]);","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar dataSelectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar geoCreator = require(\"../../coord/geo/geoCreator\");\n\nvar MapSeries = SeriesModel.extend({\n  type: 'series.map',\n  dependencies: ['geo'],\n  layoutMode: 'box',\n\n  /**\n   * Only first map series of same mapType will drawMap\n   * @type {boolean}\n   */\n  needsDrawMap: false,\n\n  /**\n   * Group of all map series with same mapType\n   * @type {boolean}\n   */\n  seriesGroup: [],\n  init: function (option) {\n    this._fillOption(option, this.getMapType()); // this.option = option;\n\n\n    MapSeries.superApply(this, 'init', arguments);\n    this.updateSelectedMap(option.data);\n  },\n  getInitialData: function (option) {\n    var dimensions = completeDimensions(['value'], option.data || []);\n    var list = new List(dimensions, this);\n    list.initData(option.data);\n    return list;\n  },\n  mergeOption: function (newOption) {\n    this._fillOption(newOption, this.getMapType());\n\n    MapSeries.superApply(this, 'mergeOption', arguments);\n    this.updateSelectedMap(this.option.data);\n  },\n\n  /**\n   * If no host geo model, return null, which means using a\n   * inner exclusive geo model.\n   */\n  getHostGeoModel: function () {\n    var geoIndex = this.option.geoIndex;\n    return geoIndex != null ? this.dependentModels.geo[geoIndex] : null;\n  },\n  getMapType: function () {\n    return (this.getHostGeoModel() || this).option.map;\n  },\n  _fillOption: function (option, mapName) {\n    // Shallow clone\n    // option = zrUtil.extend({}, option);\n    option.data = geoCreator.getFilledRegions(option.data, mapName, option.nameMap); // return option;\n  },\n  getRawValue: function (dataIndex) {\n    // Use value stored in data instead because it is calculated from multiple series\n    // FIXME Provide all value of multiple series ?\n    return this.getData().get('value', dataIndex);\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (regionName) {\n    var data = this.getData();\n    return data.getItemModel(data.indexOfName(regionName));\n  },\n\n  /**\n   * Map tooltip formatter\n   *\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex) {\n    // FIXME orignalData and data is a bit confusing\n    var data = this.getData();\n    var formattedValue = addCommas(this.getRawValue(dataIndex));\n    var name = data.getName(dataIndex);\n    var seriesGroup = this.seriesGroup;\n    var seriesNames = [];\n\n    for (var i = 0; i < seriesGroup.length; i++) {\n      var otherIndex = seriesGroup[i].originalData.indexOfName(name);\n\n      if (!isNaN(seriesGroup[i].originalData.get('value', otherIndex))) {\n        seriesNames.push(encodeHTML(seriesGroup[i].name));\n      }\n    }\n\n    return seriesNames.join(', ') + '<br />' + encodeHTML(name + ' : ' + formattedValue);\n  },\n\n  /**\n   * @implement\n   */\n  getTooltipPosition: function (dataIndex) {\n    if (dataIndex != null) {\n      var name = this.getData().getName(dataIndex);\n      var geo = this.coordinateSystem;\n      var region = geo.getRegion(name);\n      return region && geo.dataToPoint(region.center);\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  },\n  defaultOption: {\n    // 一级层叠\n    zlevel: 0,\n    // 二级层叠\n    z: 2,\n    coordinateSystem: 'geo',\n    // map should be explicitly specified since ec3.\n    map: '',\n    // If `geoIndex` is not specified, a exclusive geo will be\n    // created. Otherwise use the specified geo component, and\n    // `map` and `mapType` are ignored.\n    // geoIndex: 0,\n    // 'center' | 'left' | 'right' | 'x%' | {number}\n    left: 'center',\n    // 'center' | 'top' | 'bottom' | 'x%' | {number}\n    top: 'center',\n    // right\n    // bottom\n    // width:\n    // height\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    aspectScale: 0.75,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    // 数值合并方式，默认加和，可选为：\n    // 'sum' | 'average' | 'max' | 'min'\n    // mapValueCalculation: 'sum',\n    // 地图数值计算结果小数精度\n    // mapValuePrecision: 0,\n    // 显示图例颜色标识（系列标识的小圆点），图例开启时有效\n    showLegendSymbol: true,\n    // 选择模式，默认关闭，可选single，multiple\n    // selectedMode: false,\n    dataRangeHoverLink: true,\n    // 是否开启缩放及漫游模式\n    // roam: false,\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ],\n    // higher priority than center and zoom\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    label: {\n      normal: {\n        show: false,\n        color: '#000'\n      },\n      emphasis: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      }\n    },\n    // scaleLimit: null,\n    itemStyle: {\n      normal: {\n        // color: 各异,\n        borderWidth: 0.5,\n        borderColor: '#444',\n        areaColor: '#eee'\n      },\n      // 也是选中样式\n      emphasis: {\n        areaColor: 'rgba(255,215,0,0.8)'\n      }\n    }\n  }\n});\nzrUtil.mixin(MapSeries, dataSelectableMixin);\nvar _default = MapSeries;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar MapDraw = require(\"../../component/helper/MapDraw\");\n\nvar _default = echarts.extendChartView({\n  type: 'map',\n  render: function (mapModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'mapToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var group = this.group;\n    group.removeAll();\n\n    if (mapModel.getHostGeoModel()) {\n      return;\n    } // Not update map if it is an roam action from self\n\n\n    if (!(payload && payload.type === 'geoRoam' && payload.componentType === 'series' && payload.seriesId === mapModel.id)) {\n      if (mapModel.needsDrawMap) {\n        var mapDraw = this._mapDraw || new MapDraw(api, true);\n        group.add(mapDraw.group);\n        mapDraw.draw(mapModel, ecModel, api, this, payload);\n        this._mapDraw = mapDraw;\n      } else {\n        // Remove drawed map\n        this._mapDraw && this._mapDraw.remove();\n        this._mapDraw = null;\n      }\n    } else {\n      var mapDraw = this._mapDraw;\n      mapDraw && group.add(mapDraw.group);\n    }\n\n    mapModel.get('showLegendSymbol') && ecModel.getComponent('legend') && this._renderSymbols(mapModel, ecModel, api);\n  },\n  remove: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n    this.group.removeAll();\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n    this._mapDraw = null;\n  },\n  _renderSymbols: function (mapModel, ecModel, api) {\n    var originalData = mapModel.originalData;\n    var group = this.group;\n    originalData.each('value', function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      var layout = originalData.getItemLayout(idx);\n\n      if (!layout || !layout.point) {\n        // Not exists in map\n        return;\n      }\n\n      var point = layout.point;\n      var offset = layout.offset;\n      var circle = new graphic.Circle({\n        style: {\n          // Because the special of map draw.\n          // Which needs statistic of multiple series and draw on one map.\n          // And each series also need a symbol with legend color\n          //\n          // Layout and visual are put one the different data\n          fill: mapModel.getData().getVisual('color')\n        },\n        shape: {\n          cx: point[0] + offset * 9,\n          cy: point[1],\n          r: 3\n        },\n        silent: true,\n        // Do not overlap the first series, on which labels are displayed.\n        z2: !offset ? 10 : 8\n      }); // First data on the same region\n\n      if (!offset) {\n        var fullData = mapModel.mainSeries.getData();\n        var name = originalData.getName(idx);\n        var fullIndex = fullData.indexOfName(name);\n        var itemModel = originalData.getItemModel(idx);\n        var labelModel = itemModel.getModel('label.normal');\n        var hoverLabelModel = itemModel.getModel('label.emphasis');\n        var polygonGroups = fullData.getItemGraphicEl(fullIndex);\n        var normalText = zrUtil.retrieve2(mapModel.getFormattedLabel(idx, 'normal'), name);\n        var emphasisText = zrUtil.retrieve2(mapModel.getFormattedLabel(idx, 'emphasis'), normalText);\n\n        var onEmphasis = function () {\n          var hoverStyle = graphic.setTextStyle({}, hoverLabelModel, {\n            text: hoverLabelModel.get('show') ? emphasisText : null\n          }, {\n            isRectText: true,\n            useInsideStyle: false\n          }, true);\n          circle.style.extendFrom(hoverStyle); // Make label upper than others if overlaps.\n\n          circle.__mapOriginalZ2 = circle.z2;\n          circle.z2 += 1;\n        };\n\n        var onNormal = function () {\n          graphic.setTextStyle(circle.style, labelModel, {\n            text: labelModel.get('show') ? normalText : null,\n            textPosition: labelModel.getShallow('position') || 'bottom'\n          }, {\n            isRectText: true,\n            useInsideStyle: false\n          });\n\n          if (circle.__mapOriginalZ2 != null) {\n            circle.z2 = circle.__mapOriginalZ2;\n            circle.__mapOriginalZ2 = null;\n          }\n        };\n\n        polygonGroups.on('mouseover', onEmphasis).on('mouseout', onNormal).on('emphasis', onEmphasis).on('normal', onNormal);\n        onNormal();\n      }\n\n      group.add(circle);\n    });\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(option) {\n  // Save geoCoord\n  var mapSeries = [];\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'map') {\n      mapSeries.push(seriesOpt);\n      seriesOpt.map = seriesOpt.map || seriesOpt.mapType; // Put x, y, width, height, x2, y2 in the top level\n\n      zrUtil.defaults(seriesOpt, seriesOpt.mapLocation);\n    }\n  });\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\n// FIXME 公用？\n\n/**\n * @param {Array.<module:echarts/data/List>} datas\n * @param {string} statisticType 'average' 'sum'\n * @inner\n */\nfunction dataStatistics(datas, statisticType) {\n  var dataNameMap = {};\n  var dims = ['value'];\n  zrUtil.each(datas, function (data) {\n    data.each(dims, function (value, idx) {\n      // Add prefix to avoid conflict with Object.prototype.\n      var mapKey = 'ec-' + data.getName(idx);\n      dataNameMap[mapKey] = dataNameMap[mapKey] || [];\n\n      if (!isNaN(value)) {\n        dataNameMap[mapKey].push(value);\n      }\n    });\n  });\n  return datas[0].map(dims, function (value, idx) {\n    var mapKey = 'ec-' + datas[0].getName(idx);\n    var sum = 0;\n    var min = Infinity;\n    var max = -Infinity;\n    var len = dataNameMap[mapKey].length;\n\n    for (var i = 0; i < len; i++) {\n      min = Math.min(min, dataNameMap[mapKey][i]);\n      max = Math.max(max, dataNameMap[mapKey][i]);\n      sum += dataNameMap[mapKey][i];\n    }\n\n    var result;\n\n    if (statisticType === 'min') {\n      result = min;\n    } else if (statisticType === 'max') {\n      result = max;\n    } else if (statisticType === 'average') {\n      result = sum / len;\n    } else {\n      result = sum;\n    }\n\n    return len === 0 ? NaN : result;\n  });\n}\n\nfunction _default(ecModel) {\n  var seriesGroups = {};\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var hostGeoModel = seriesModel.getHostGeoModel();\n    var key = hostGeoModel ? 'o' + hostGeoModel.id : 'i' + seriesModel.getMapType();\n    (seriesGroups[key] = seriesGroups[key] || []).push(seriesModel);\n  });\n  zrUtil.each(seriesGroups, function (seriesList, key) {\n    var data = dataStatistics(zrUtil.map(seriesList, function (seriesModel) {\n      return seriesModel.getData();\n    }), seriesList[0].get('mapValueCalculation'));\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].originalData = seriesList[i].getData();\n    } // FIXME Put where?\n\n\n    for (var i = 0; i < seriesList.length; i++) {\n      seriesList[i].seriesGroup = seriesList;\n      seriesList[i].needsDrawMap = i === 0 && !seriesList[i].getHostGeoModel();\n      seriesList[i].setData(data.cloneShallow());\n      seriesList[i].mainSeries = seriesList[0];\n    }\n  });\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(ecModel) {\n  var processedMapType = {};\n  ecModel.eachSeriesByType('map', function (mapSeries) {\n    var mapType = mapSeries.getMapType();\n\n    if (mapSeries.getHostGeoModel() || processedMapType[mapType]) {\n      return;\n    }\n\n    var mapSymbolOffsets = {};\n    zrUtil.each(mapSeries.seriesGroup, function (subMapSeries) {\n      var geo = subMapSeries.coordinateSystem;\n      var data = subMapSeries.originalData;\n\n      if (subMapSeries.get('showLegendSymbol') && ecModel.getComponent('legend')) {\n        data.each('value', function (value, idx) {\n          var name = data.getName(idx);\n          var region = geo.getRegion(name); // If input series.data is [11, 22, '-'/null/undefined, 44],\n          // it will be filled with NaN: [11, 22, NaN, 44] and NaN will\n          // not be drawn. So here must validate if value is NaN.\n\n          if (!region || isNaN(value)) {\n            return;\n          }\n\n          var offset = mapSymbolOffsets[name] || 0;\n          var point = geo.dataToPoint(region.center);\n          mapSymbolOffsets[name] = offset + 1;\n          data.setItemLayout(idx, {\n            point: point,\n            offset: offset\n          });\n        });\n      }\n    }); // Show label of those region not has legendSymbol(which is offset 0)\n\n    var data = mapSeries.getData();\n    data.each(function (idx) {\n      var name = data.getName(idx);\n      var layout = data.getItemLayout(idx) || {};\n      layout.showLabel = !mapSymbolOffsets[name];\n      data.setItemLayout(idx, layout);\n    });\n    processedMapType[mapType] = true;\n  });\n}\n\nmodule.exports = _default;","function _default(ecModel) {\n  ecModel.eachSeriesByType('map', function (seriesModel) {\n    var colorList = seriesModel.get('color');\n    var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n    var areaColor = itemStyleModel.get('areaColor');\n    var color = itemStyleModel.get('color') || colorList[seriesModel.seriesIndex % colorList.length];\n    seriesModel.getData().setVisual({\n      'areaColor': areaColor,\n      'color': color\n    });\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nrequire(\"../component/parallel\");\n\nrequire(\"./parallel/ParallelSeries\");\n\nrequire(\"./parallel/ParallelView\");\n\nvar parallelVisual = require(\"./parallel/parallelVisual\");\n\necharts.registerVisual(parallelVisual);","var List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar _default = SeriesModel.extend({\n  type: 'series.parallel',\n  dependencies: ['parallel'],\n  visualColorAccessPath: 'lineStyle.normal.color',\n  getInitialData: function (option, ecModel) {\n    var parallelModel = ecModel.getComponent('parallel', this.get('parallelIndex'));\n    var parallelAxisIndices = parallelModel.parallelAxisIndex;\n    var rawData = option.data;\n    var modelDims = parallelModel.dimensions;\n    var dataDims = generateDataDims(modelDims, rawData);\n    var dataDimsInfo = zrUtil.map(dataDims, function (dim, dimIndex) {\n      var modelDimsIndex = zrUtil.indexOf(modelDims, dim);\n      var axisModel = modelDimsIndex >= 0 && ecModel.getComponent('parallelAxis', parallelAxisIndices[modelDimsIndex]);\n\n      if (axisModel && axisModel.get('type') === 'category') {\n        translateCategoryValue(axisModel, dim, rawData);\n        return {\n          name: dim,\n          type: 'ordinal'\n        };\n      } else if (modelDimsIndex < 0) {\n        return completeDimensions.guessOrdinal(rawData, dimIndex) ? {\n          name: dim,\n          type: 'ordinal'\n        } : dim;\n      } else {\n        return dim;\n      }\n    });\n    var list = new List(dataDimsInfo, this);\n    list.initData(rawData); // Anication is forbiden in progressive data mode.\n\n    if (this.option.progressive) {\n      this.option.animation = false;\n    }\n\n    return list;\n  },\n\n  /**\n   * User can get data raw indices on 'axisAreaSelected' event received.\n   *\n   * @public\n   * @param {string} activeState 'active' or 'inactive' or 'normal'\n   * @return {Array.<number>} Raw indices\n   */\n  getRawIndicesByActiveState: function (activeState) {\n    var coordSys = this.coordinateSystem;\n    var data = this.getData();\n    var indices = [];\n    coordSys.eachActiveState(data, function (theActiveState, dataIndex) {\n      if (activeState === theActiveState) {\n        indices.push(data.getRawIndex(dataIndex));\n      }\n    });\n    return indices;\n  },\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 2,\n    // 二级层叠\n    coordinateSystem: 'parallel',\n    parallelIndex: 0,\n    label: {\n      normal: {\n        show: false\n      },\n      emphasis: {\n        show: false\n      }\n    },\n    inactiveOpacity: 0.05,\n    activeOpacity: 1,\n    lineStyle: {\n      normal: {\n        width: 1,\n        opacity: 0.45,\n        type: 'solid'\n      }\n    },\n    progressive: false,\n    // 100\n    smooth: false,\n    animationEasing: 'linear'\n  }\n});\n\nfunction translateCategoryValue(axisModel, dim, rawData) {\n  var axisData = axisModel.get('data');\n  var numberDim = convertDimNameToNumber(dim);\n\n  if (axisData && axisData.length) {\n    zrUtil.each(rawData, function (dataItem) {\n      if (!dataItem) {\n        return;\n      } // FIXME\n      // time consuming, should use hash?\n\n\n      var index = zrUtil.indexOf(axisData, dataItem[numberDim]);\n      dataItem[numberDim] = index >= 0 ? index : NaN;\n    });\n  } // FIXME\n  // 如果没有设置axis data, 应自动算出，或者提示。\n\n}\n\nfunction convertDimNameToNumber(dimName) {\n  return +dimName.replace('dim', '');\n}\n\nfunction generateDataDims(modelDims, rawData) {\n  // parallelModel.dimension should not be regarded as data\n  // dimensions. Consider dimensions = ['dim4', 'dim2', 'dim6'];\n  // We detect max dim by parallelModel.dimensions and fist\n  // item in rawData arbitrarily.\n  var maxDimNum = 0;\n  zrUtil.each(modelDims, function (dimName) {\n    var numberDim = convertDimNameToNumber(dimName);\n    numberDim > maxDimNum && (maxDimNum = numberDim);\n  });\n  var firstItem = rawData[0];\n\n  if (firstItem && firstItem.length - 1 > maxDimNum) {\n    maxDimNum = firstItem.length - 1;\n  }\n\n  var dataDims = [];\n\n  for (var i = 0; i <= maxDimNum; i++) {\n    dataDims.push('dim' + i);\n  }\n\n  return dataDims;\n}\n\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar ChartView = require(\"../../view/Chart\");\n\nvar SMOOTH = 0.3;\nvar ParallelView = ChartView.extend({\n  type: 'parallel',\n  init: function () {\n    /**\n     * @type {module:zrender/container/Group}\n     * @private\n     */\n    this._dataGroup = new graphic.Group();\n    this.group.add(this._dataGroup);\n    /**\n     * @type {module:echarts/data/List}\n     */\n\n    this._data;\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    this._renderForNormal(seriesModel, payload); // this[\n    //     seriesModel.option.progressive\n    //         ? '_renderForProgressive'\n    //         : '_renderForNormal'\n    // ](seriesModel);\n\n  },\n  dispose: function () {},\n\n  /**\n   * @private\n   */\n  _renderForNormal: function (seriesModel, payload) {\n    var dataGroup = this._dataGroup;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n    var coordSys = seriesModel.coordinateSystem;\n    var dimensions = coordSys.dimensions;\n    var option = seriesModel.option;\n    var smooth = option.smooth ? SMOOTH : null; // Consider switch between progressive and not.\n    // oldData && oldData.__plProgressive && dataGroup.removeAll();\n\n    data.diff(oldData).add(add).update(update).remove(remove).execute(); // Update style\n\n    updateElCommon(data, smooth); // First create\n\n    if (!this._data) {\n      var clipPath = createGridClipShape(coordSys, seriesModel, function () {\n        // Callback will be invoked immediately if there is no animation\n        setTimeout(function () {\n          dataGroup.removeClipPath();\n        });\n      });\n      dataGroup.setClipPath(clipPath);\n    }\n\n    this._data = data;\n\n    function add(newDataIndex) {\n      addEl(data, dataGroup, newDataIndex, dimensions, coordSys, null, smooth);\n    }\n\n    function update(newDataIndex, oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      var points = createLinePoints(data, newDataIndex, dimensions, coordSys);\n      data.setItemGraphicEl(newDataIndex, line);\n      var animationModel = payload && payload.animation === false ? null : seriesModel;\n      graphic.updateProps(line, {\n        shape: {\n          points: points\n        }\n      }, animationModel, newDataIndex);\n    }\n\n    function remove(oldDataIndex) {\n      var line = oldData.getItemGraphicEl(oldDataIndex);\n      dataGroup.remove(line);\n    }\n  },\n\n  /**\n   * @private\n   */\n  // _renderForProgressive: function (seriesModel) {\n  //     var dataGroup = this._dataGroup;\n  //     var data = seriesModel.getData();\n  //     var oldData = this._data;\n  //     var coordSys = seriesModel.coordinateSystem;\n  //     var dimensions = coordSys.dimensions;\n  //     var option = seriesModel.option;\n  //     var progressive = option.progressive;\n  //     var smooth = option.smooth ? SMOOTH : null;\n  //     // In progressive animation is disabled, so use simple data diff,\n  //     // which effects performance less.\n  //     // (Typically performance for data with length 7000+ like:\n  //     // simpleDiff: 60ms, addEl: 184ms,\n  //     // in RMBP 2.4GHz intel i7, OSX 10.9 chrome 50.0.2661.102 (64-bit))\n  //     if (simpleDiff(oldData, data, dimensions)) {\n  //         dataGroup.removeAll();\n  //         data.each(function (dataIndex) {\n  //             addEl(data, dataGroup, dataIndex, dimensions, coordSys);\n  //         });\n  //     }\n  //     updateElCommon(data, progressive, smooth);\n  //     // Consider switch between progressive and not.\n  //     data.__plProgressive = true;\n  //     this._data = data;\n  // },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._dataGroup && this._dataGroup.removeAll();\n    this._data = null;\n  }\n});\n\nfunction createGridClipShape(coordSys, seriesModel, cb) {\n  var parallelModel = coordSys.model;\n  var rect = coordSys.getRect();\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    }\n  });\n  var dim = parallelModel.get('layout') === 'horizontal' ? 'width' : 'height';\n  rectEl.setShape(dim, 0);\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width,\n      height: rect.height\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nfunction createLinePoints(data, dataIndex, dimensions, coordSys) {\n  var points = [];\n\n  for (var i = 0; i < dimensions.length; i++) {\n    var dimName = dimensions[i];\n    var value = data.get(dimName, dataIndex);\n\n    if (!isEmptyValue(value, coordSys.getAxis(dimName).type)) {\n      points.push(coordSys.dataToPoint(value, dimName));\n    }\n  }\n\n  return points;\n}\n\nfunction addEl(data, dataGroup, dataIndex, dimensions, coordSys) {\n  var points = createLinePoints(data, dataIndex, dimensions, coordSys);\n  var line = new graphic.Polyline({\n    shape: {\n      points: points\n    },\n    silent: true,\n    z2: 10\n  });\n  dataGroup.add(line);\n  data.setItemGraphicEl(dataIndex, line);\n}\n\nfunction updateElCommon(data, smooth) {\n  var seriesStyleModel = data.hostModel.getModel('lineStyle.normal');\n  var lineStyle = seriesStyleModel.getLineStyle();\n  data.eachItemGraphicEl(function (line, dataIndex) {\n    if (data.hasItemOption) {\n      var itemModel = data.getItemModel(dataIndex);\n      var lineStyleModel = itemModel.getModel('lineStyle.normal', seriesStyleModel);\n      lineStyle = lineStyleModel.getLineStyle(['color', 'stroke']);\n    }\n\n    line.useStyle(zrUtil.extend(lineStyle, {\n      fill: null,\n      // lineStyle.color have been set to itemVisual in module:echarts/visual/seriesColor.\n      stroke: data.getItemVisual(dataIndex, 'color'),\n      // lineStyle.opacity have been set to itemVisual in parallelVisual.\n      opacity: data.getItemVisual(dataIndex, 'opacity')\n    }));\n    line.shape.smooth = smooth;\n  });\n} // function simpleDiff(oldData, newData, dimensions) {\n//     var oldLen;\n//     if (!oldData\n//         || !oldData.__plProgressive\n//         || (oldLen = oldData.count()) !== newData.count()\n//     ) {\n//         return true;\n//     }\n//     var dimLen = dimensions.length;\n//     for (var i = 0; i < oldLen; i++) {\n//         for (var j = 0; j < dimLen; j++) {\n//             if (oldData.get(dimensions[j], i) !== newData.get(dimensions[j], i)) {\n//                 return true;\n//             }\n//         }\n//     }\n//     return false;\n// }\n// FIXME\n// 公用方法?\n\n\nfunction isEmptyValue(val, axisType) {\n  return axisType === 'category' ? val == null : val == null || isNaN(val); // axisType === 'value'\n}\n\nvar _default = ParallelView;\nmodule.exports = _default;","var opacityAccessPath = ['lineStyle', 'normal', 'opacity'];\n\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('parallel', function (seriesModel) {\n    var itemStyleModel = seriesModel.getModel('itemStyle.normal');\n    var lineStyleModel = seriesModel.getModel('lineStyle.normal');\n    var globalColors = ecModel.get('color');\n    var color = lineStyleModel.get('color') || itemStyleModel.get('color') || globalColors[seriesModel.seriesIndex % globalColors.length];\n    var inactiveOpacity = seriesModel.get('inactiveOpacity');\n    var activeOpacity = seriesModel.get('activeOpacity');\n    var lineStyle = seriesModel.getModel('lineStyle.normal').getLineStyle();\n    var coordSys = seriesModel.coordinateSystem;\n    var data = seriesModel.getData();\n    var opacityMap = {\n      normal: lineStyle.opacity,\n      active: activeOpacity,\n      inactive: inactiveOpacity\n    };\n    coordSys.eachActiveState(data, function (activeState, dataIndex) {\n      var itemModel = data.getItemModel(dataIndex);\n      var opacity = opacityMap[activeState];\n\n      if (activeState === 'normal') {\n        var itemOpacity = itemModel.get(opacityAccessPath, true);\n        itemOpacity != null && (opacity = itemOpacity);\n      }\n\n      data.setItemVisual(dataIndex, 'opacity', opacity);\n    });\n    data.setVisual('color', color);\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../coord/cartesian/Grid\");\n\nrequire(\"./bar/PictorialBarSeries\");\n\nrequire(\"./bar/PictorialBarView\");\n\nvar barLayoutGrid = require(\"../layout/barGrid\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nrequire(\"../component/gridSimple\");\n\n// In case developer forget to include grid component\necharts.registerLayout(zrUtil.curry(barLayoutGrid, 'pictorialBar'));\necharts.registerVisual(zrUtil.curry(visualSymbol, 'pictorialBar', 'roundRect', null));","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../component/radar\");\n\nrequire(\"./radar/RadarSeries\");\n\nrequire(\"./radar/RadarView\");\n\nvar dataColor = require(\"../visual/dataColor\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar radarLayout = require(\"./radar/radarLayout\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\nvar backwardCompat = require(\"./radar/backwardCompat\");\n\n// Must use radar component\necharts.registerVisual(zrUtil.curry(dataColor, 'radar'));\necharts.registerVisual(zrUtil.curry(visualSymbol, 'radar', 'circle', null));\necharts.registerLayout(radarLayout);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'radar'));\necharts.registerPreprocessor(backwardCompat);","var SeriesModel = require(\"../../model/Series\");\n\nvar List = require(\"../../data/List\");\n\nvar completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar RadarSeries = SeriesModel.extend({\n  type: 'series.radar',\n  dependencies: ['radar'],\n  // Overwrite\n  init: function (option) {\n    RadarSeries.superApply(this, 'init', arguments); // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n  },\n  getInitialData: function (option, ecModel) {\n    var data = option.data || [];\n    var dimensions = completeDimensions([], data, {\n      extraPrefix: 'indicator_',\n      extraFromZero: true\n    });\n    var list = new List(dimensions, this);\n    list.initData(data);\n    return list;\n  },\n  formatTooltip: function (dataIndex) {\n    var value = this.getRawValue(dataIndex);\n    var coordSys = this.coordinateSystem;\n    var indicatorAxes = coordSys.getIndicatorAxes();\n    var name = this.getData().getName(dataIndex);\n    return encodeHTML(name === '' ? this.name : name) + '<br/>' + zrUtil.map(indicatorAxes, function (axis, idx) {\n      return encodeHTML(axis.name + ' : ' + value[idx]);\n    }).join('<br />');\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'radar',\n    legendHoverLink: true,\n    radarIndex: 0,\n    lineStyle: {\n      normal: {\n        width: 2,\n        type: 'solid'\n      }\n    },\n    label: {\n      normal: {\n        position: 'top'\n      }\n    },\n    // areaStyle: {\n    // },\n    // itemStyle: {}\n    symbol: 'emptyCircle',\n    symbolSize: 4 // symbolRotate: null\n\n  }\n});\nvar _default = RadarSeries;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar symbolUtil = require(\"../../util/symbol\");\n\nfunction normalizeSymbolSize(symbolSize) {\n  if (!zrUtil.isArray(symbolSize)) {\n    symbolSize = [+symbolSize, +symbolSize];\n  }\n\n  return symbolSize;\n}\n\nvar _default = echarts.extendChartView({\n  type: 'radar',\n  render: function (seriesModel, ecModel, api) {\n    var polar = seriesModel.coordinateSystem;\n    var group = this.group;\n    var data = seriesModel.getData();\n    var oldData = this._data;\n\n    function createSymbol(data, idx) {\n      var symbolType = data.getItemVisual(idx, 'symbol') || 'circle';\n      var color = data.getItemVisual(idx, 'color');\n\n      if (symbolType === 'none') {\n        return;\n      }\n\n      var symbolSize = normalizeSymbolSize(data.getItemVisual(idx, 'symbolSize'));\n      var symbolPath = symbolUtil.createSymbol(symbolType, -1, -1, 2, 2, color);\n      symbolPath.attr({\n        style: {\n          strokeNoScale: true\n        },\n        z2: 100,\n        scale: [symbolSize[0] / 2, symbolSize[1] / 2]\n      });\n      return symbolPath;\n    }\n\n    function updateSymbols(oldPoints, newPoints, symbolGroup, data, idx, isInit) {\n      // Simply rerender all\n      symbolGroup.removeAll();\n\n      for (var i = 0; i < newPoints.length - 1; i++) {\n        var symbolPath = createSymbol(data, idx);\n\n        if (symbolPath) {\n          symbolPath.__dimIdx = i;\n\n          if (oldPoints[i]) {\n            symbolPath.attr('position', oldPoints[i]);\n            graphic[isInit ? 'initProps' : 'updateProps'](symbolPath, {\n              position: newPoints[i]\n            }, seriesModel, idx);\n          } else {\n            symbolPath.attr('position', newPoints[i]);\n          }\n\n          symbolGroup.add(symbolPath);\n        }\n      }\n    }\n\n    function getInitialPoints(points) {\n      return zrUtil.map(points, function (pt) {\n        return [polar.cx, polar.cy];\n      });\n    }\n\n    data.diff(oldData).add(function (idx) {\n      var points = data.getItemLayout(idx);\n\n      if (!points) {\n        return;\n      }\n\n      var polygon = new graphic.Polygon();\n      var polyline = new graphic.Polyline();\n      var target = {\n        shape: {\n          points: points\n        }\n      };\n      polygon.shape.points = getInitialPoints(points);\n      polyline.shape.points = getInitialPoints(points);\n      graphic.initProps(polygon, target, seriesModel, idx);\n      graphic.initProps(polyline, target, seriesModel, idx);\n      var itemGroup = new graphic.Group();\n      var symbolGroup = new graphic.Group();\n      itemGroup.add(polyline);\n      itemGroup.add(polygon);\n      itemGroup.add(symbolGroup);\n      updateSymbols(polyline.shape.points, points, symbolGroup, data, idx, true);\n      data.setItemGraphicEl(idx, itemGroup);\n    }).update(function (newIdx, oldIdx) {\n      var itemGroup = oldData.getItemGraphicEl(oldIdx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var target = {\n        shape: {\n          points: data.getItemLayout(newIdx)\n        }\n      };\n\n      if (!target.shape.points) {\n        return;\n      }\n\n      updateSymbols(polyline.shape.points, target.shape.points, symbolGroup, data, newIdx, false);\n      graphic.updateProps(polyline, target, seriesModel);\n      graphic.updateProps(polygon, target, seriesModel);\n      data.setItemGraphicEl(newIdx, itemGroup);\n    }).remove(function (idx) {\n      group.remove(oldData.getItemGraphicEl(idx));\n    }).execute();\n    data.eachItemGraphicEl(function (itemGroup, idx) {\n      var itemModel = data.getItemModel(idx);\n      var polyline = itemGroup.childAt(0);\n      var polygon = itemGroup.childAt(1);\n      var symbolGroup = itemGroup.childAt(2);\n      var color = data.getItemVisual(idx, 'color');\n      group.add(itemGroup);\n      polyline.useStyle(zrUtil.defaults(itemModel.getModel('lineStyle.normal').getLineStyle(), {\n        fill: 'none',\n        stroke: color\n      }));\n      polyline.hoverStyle = itemModel.getModel('lineStyle.emphasis').getLineStyle();\n      var areaStyleModel = itemModel.getModel('areaStyle.normal');\n      var hoverAreaStyleModel = itemModel.getModel('areaStyle.emphasis');\n      var polygonIgnore = areaStyleModel.isEmpty() && areaStyleModel.parentModel.isEmpty();\n      var hoverPolygonIgnore = hoverAreaStyleModel.isEmpty() && hoverAreaStyleModel.parentModel.isEmpty();\n      hoverPolygonIgnore = hoverPolygonIgnore && polygonIgnore;\n      polygon.ignore = polygonIgnore;\n      polygon.useStyle(zrUtil.defaults(areaStyleModel.getAreaStyle(), {\n        fill: color,\n        opacity: 0.7\n      }));\n      polygon.hoverStyle = hoverAreaStyleModel.getAreaStyle();\n      var itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle(['color']);\n      var itemHoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      symbolGroup.eachChild(function (symbolPath) {\n        symbolPath.setStyle(itemStyle);\n        symbolPath.hoverStyle = zrUtil.clone(itemHoverStyle);\n        graphic.setLabelStyle(symbolPath.style, symbolPath.hoverStyle, labelModel, labelHoverModel, {\n          labelFetcher: data.hostModel,\n          labelDataIndex: idx,\n          labelDimIndex: symbolPath.__dimIdx,\n          defaultText: data.get(data.dimensions[symbolPath.__dimIdx], idx),\n          autoColor: color,\n          isRectText: true\n        });\n      });\n\n      function onEmphasis() {\n        polygon.attr('ignore', hoverPolygonIgnore);\n      }\n\n      function onNormal() {\n        polygon.attr('ignore', polygonIgnore);\n      }\n\n      itemGroup.off('mouseover').off('mouseout').off('normal').off('emphasis');\n      itemGroup.on('emphasis', onEmphasis).on('mouseover', onEmphasis).on('normal', onNormal).on('mouseout', onNormal);\n      graphic.setHoverStyle(itemGroup);\n    });\n    this._data = data;\n  },\n  remove: function () {\n    this.group.removeAll();\n    this._data = null;\n  },\n  dispose: function () {}\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\n// Backward compat for radar chart in 2\nfunction _default(option) {\n  var polarOptArr = option.polar;\n\n  if (polarOptArr) {\n    if (!zrUtil.isArray(polarOptArr)) {\n      polarOptArr = [polarOptArr];\n    }\n\n    var polarNotRadar = [];\n    zrUtil.each(polarOptArr, function (polarOpt, idx) {\n      if (polarOpt.indicator) {\n        if (polarOpt.type && !polarOpt.shape) {\n          polarOpt.shape = polarOpt.type;\n        }\n\n        option.radar = option.radar || [];\n\n        if (!zrUtil.isArray(option.radar)) {\n          option.radar = [option.radar];\n        }\n\n        option.radar.push(polarOpt);\n      } else {\n        polarNotRadar.push(polarOpt);\n      }\n    });\n    option.polar = polarNotRadar;\n  }\n\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'radar' && seriesOpt.polarIndex) {\n      seriesOpt.radarIndex = seriesOpt.polarIndex;\n    }\n  });\n}\n\nmodule.exports = _default;","function _default(ecModel) {\n  ecModel.eachSeriesByType('radar', function (seriesModel) {\n    var data = seriesModel.getData();\n    var points = [];\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (!coordSys) {\n      return;\n    }\n\n    function pointsConverter(val, idx) {\n      points[idx] = points[idx] || [];\n      points[idx][i] = coordSys.dataToPoint(val, i);\n    }\n\n    for (var i = 0; i < coordSys.getIndicatorAxes().length; i++) {\n      var dim = data.dimensions[i];\n      data.each(dim, pointsConverter);\n    }\n\n    data.each(function (idx) {\n      // Close polygon\n      points[idx][0] && points[idx].push(points[idx][0].slice());\n      data.setItemLayout(idx, points[idx]);\n    });\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nrequire(\"./sankey/SankeySeries\");\n\nrequire(\"./sankey/SankeyView\");\n\nvar sankeyLayout = require(\"./sankey/sankeyLayout\");\n\nvar sankeyVisual = require(\"./sankey/sankeyVisual\");\n\necharts.registerLayout(sankeyLayout);\necharts.registerVisual(sankeyVisual);","var SeriesModel = require(\"../../model/Series\");\n\nvar createGraphFromNodeEdge = require(\"../helper/createGraphFromNodeEdge\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\n/**\n * @file Get initial data and define sankey view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\nvar SankeySeries = SeriesModel.extend({\n  type: 'series.sankey',\n  layoutInfo: null,\n\n  /**\n   * Init a graph data structure from data in option series\n   *\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option) {\n    var links = option.edges || option.links;\n    var nodes = option.data || option.nodes;\n\n    if (nodes && links) {\n      var graph = createGraphFromNodeEdge(nodes, links, this, true);\n      return graph.data;\n    }\n  },\n\n  /**\n   * Return the graphic data structure\n   *\n   * @return {module:echarts/data/Graph} graphic data structure\n   */\n  getGraph: function () {\n    return this.getData().graph;\n  },\n\n  /**\n   * Get edge data of graphic data structure\n   *\n   * @return {module:echarts/data/List} data structure of list\n   */\n  getEdgeData: function () {\n    return this.getGraph().edgeData;\n  },\n\n  /**\n   * @override\n   */\n  formatTooltip: function (dataIndex, multipleSeries, dataType) {\n    // dataType === 'node' or empty do not show tooltip by default\n    if (dataType === 'edge') {\n      var params = this.getDataParams(dataIndex, dataType);\n      var rawDataOpt = params.data;\n      var html = rawDataOpt.source + ' -- ' + rawDataOpt.target;\n\n      if (params.value) {\n        html += ' : ' + params.value;\n      }\n\n      return encodeHTML(html);\n    }\n\n    return SankeySeries.superCall(this, 'formatTooltip', dataIndex, multipleSeries);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'view',\n    layout: null,\n    // the position of the whole view\n    left: '5%',\n    top: '5%',\n    right: '20%',\n    bottom: '5%',\n    // the dx of the node\n    nodeWidth: 20,\n    // the vertical distance between two nodes\n    nodeGap: 8,\n    // the number of iterations to change the position of the node\n    layoutIterations: 32,\n    label: {\n      normal: {\n        show: true,\n        position: 'right',\n        color: '#000',\n        fontSize: 12\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 1,\n        borderColor: '#333'\n      }\n    },\n    lineStyle: {\n      normal: {\n        color: '#314656',\n        opacity: 0.2,\n        curveness: 0.5\n      },\n      emphasis: {\n        opacity: 0.6\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 1000\n  }\n});\nvar _default = SankeySeries;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar echarts = require(\"../../echarts\");\n\n/**\n * @file  The file used to draw sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nvar SankeyShape = graphic.extendShape({\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    cpx2: 0,\n    cpy2: 0,\n    extent: 0\n  },\n  buildPath: function (ctx, shape) {\n    var halfExtent = shape.extent / 2;\n    ctx.moveTo(shape.x1, shape.y1 - halfExtent);\n    ctx.bezierCurveTo(shape.cpx1, shape.cpy1 - halfExtent, shape.cpx2, shape.cpy2 - halfExtent, shape.x2, shape.y2 - halfExtent);\n    ctx.lineTo(shape.x2, shape.y2 + halfExtent);\n    ctx.bezierCurveTo(shape.cpx2, shape.cpy2 + halfExtent, shape.cpx1, shape.cpy1 + halfExtent, shape.x1, shape.y1 + halfExtent);\n    ctx.closePath();\n  }\n});\n\nvar _default = echarts.extendChartView({\n  type: 'sankey',\n\n  /**\n   * @private\n   * @type {module:echarts/chart/sankey/SankeySeries}\n   */\n  _model: null,\n  render: function (seriesModel, ecModel, api) {\n    var graph = seriesModel.getGraph();\n    var group = this.group;\n    var layoutInfo = seriesModel.layoutInfo;\n    var nodeData = seriesModel.getData();\n    var edgeData = seriesModel.getData('edge');\n    this._model = seriesModel;\n    group.removeAll();\n    group.attr('position', [layoutInfo.x, layoutInfo.y]); // generate a bezire Curve for each edge\n\n    graph.eachEdge(function (edge) {\n      var curve = new SankeyShape();\n      curve.dataIndex = edge.dataIndex;\n      curve.seriesIndex = seriesModel.seriesIndex;\n      curve.dataType = 'edge';\n      var lineStyleModel = edge.getModel('lineStyle.normal');\n      var curvature = lineStyleModel.get('curveness');\n      var n1Layout = edge.node1.getLayout();\n      var n2Layout = edge.node2.getLayout();\n      var edgeLayout = edge.getLayout();\n      curve.shape.extent = Math.max(1, edgeLayout.dy);\n      var x1 = n1Layout.x + n1Layout.dx;\n      var y1 = n1Layout.y + edgeLayout.sy + edgeLayout.dy / 2;\n      var x2 = n2Layout.x;\n      var y2 = n2Layout.y + edgeLayout.ty + edgeLayout.dy / 2;\n      var cpx1 = x1 * (1 - curvature) + x2 * curvature;\n      var cpy1 = y1;\n      var cpx2 = x1 * curvature + x2 * (1 - curvature);\n      var cpy2 = y2;\n      curve.setShape({\n        x1: x1,\n        y1: y1,\n        x2: x2,\n        y2: y2,\n        cpx1: cpx1,\n        cpy1: cpy1,\n        cpx2: cpx2,\n        cpy2: cpy2\n      });\n      curve.setStyle(lineStyleModel.getItemStyle()); // Special color, use source node color or target node color\n\n      switch (curve.style.fill) {\n        case 'source':\n          curve.style.fill = edge.node1.getVisual('color');\n          break;\n\n        case 'target':\n          curve.style.fill = edge.node2.getVisual('color');\n          break;\n      }\n\n      graphic.setHoverStyle(curve, edge.getModel('lineStyle.emphasis').getItemStyle());\n      group.add(curve);\n      edgeData.setItemGraphicEl(edge.dataIndex, curve);\n    }); // generate a rect  for each node\n\n    graph.eachNode(function (node) {\n      var layout = node.getLayout();\n      var itemModel = node.getModel();\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      var rect = new graphic.Rect({\n        shape: {\n          x: layout.x,\n          y: layout.y,\n          width: node.getLayout().dx,\n          height: node.getLayout().dy\n        },\n        style: itemModel.getModel('itemStyle.normal').getItemStyle()\n      });\n      var hoverStyle = node.getModel('itemStyle.emphasis').getItemStyle();\n      graphic.setLabelStyle(rect.style, hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: seriesModel,\n        labelDataIndex: node.dataIndex,\n        defaultText: node.id,\n        isRectText: true\n      });\n      rect.setStyle('fill', node.getVisual('color'));\n      graphic.setHoverStyle(rect, hoverStyle);\n      group.add(rect);\n      nodeData.setItemGraphicEl(node.dataIndex, rect);\n      rect.dataType = 'node';\n    });\n\n    if (!this._data && seriesModel.get('animation')) {\n      group.setClipPath(createGridClipShape(group.getBoundingRect(), seriesModel, function () {\n        group.removeClipPath();\n      }));\n    }\n\n    this._data = seriesModel.getData();\n  },\n  dispose: function () {}\n}); // add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;","var layout = require(\"../../util/layout\");\n\nvar nest = require(\"../../util/array/nest\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @file The layout algorithm of sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, api, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var nodeWidth = seriesModel.get('nodeWidth');\n    var nodeGap = seriesModel.get('nodeGap');\n    var layoutInfo = getViewRect(seriesModel, api);\n    seriesModel.layoutInfo = layoutInfo;\n    var width = layoutInfo.width;\n    var height = layoutInfo.height;\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    var edges = graph.edges;\n    computeNodeValues(nodes);\n    var filteredNodes = zrUtil.filter(nodes, function (node) {\n      return node.getLayout().value === 0;\n    });\n    var iterations = filteredNodes.length !== 0 ? 0 : seriesModel.get('layoutIterations');\n    layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations);\n  });\n}\n/**\n * Get the layout position of the whole view\n *\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n\nfunction layoutSankey(nodes, edges, nodeWidth, nodeGap, width, height, iterations) {\n  computeNodeBreadths(nodes, nodeWidth, width);\n  computeNodeDepths(nodes, edges, height, nodeGap, iterations);\n  computeEdgeDepths(nodes);\n}\n/**\n * Compute the value of each node by summing the associated edge's value\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeNodeValues(nodes) {\n  zrUtil.each(nodes, function (node) {\n    var value1 = sum(node.outEdges, getEdgeValue);\n    var value2 = sum(node.inEdges, getEdgeValue);\n    var value = Math.max(value1, value2);\n    node.setLayout({\n      value: value\n    }, true);\n  });\n}\n/**\n * Compute the x-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param  {number} nodeWidth  the dx of the node\n * @param  {number} width  the whole width of the area to draw the view\n */\n\n\nfunction computeNodeBreadths(nodes, nodeWidth, width) {\n  var remainNodes = nodes;\n  var nextNode = null;\n  var x = 0;\n  var kx = 0;\n\n  while (remainNodes.length) {\n    nextNode = [];\n\n    for (var i = 0, len = remainNodes.length; i < len; i++) {\n      var node = remainNodes[i];\n      node.setLayout({\n        x: x\n      }, true);\n      node.setLayout({\n        dx: nodeWidth\n      }, true);\n\n      for (var j = 0, lenj = node.outEdges.length; j < lenj; j++) {\n        nextNode.push(node.outEdges[j].node2);\n      }\n    }\n\n    remainNodes = nextNode;\n    ++x;\n  }\n\n  moveSinksRight(nodes, x);\n  kx = (width - nodeWidth) / (x - 1);\n  scaleNodeBreadths(nodes, kx);\n}\n/**\n * All the node without outEgdes are assigned maximum x-position and\n *     be aligned in the last column.\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} x  value (x-1) use to assign to node without outEdges\n *     as x-position\n */\n\n\nfunction moveSinksRight(nodes, x) {\n  zrUtil.each(nodes, function (node) {\n    if (!node.outEdges.length) {\n      node.setLayout({\n        x: x - 1\n      }, true);\n    }\n  });\n}\n/**\n * Scale node x-position to the width\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {number} kx   multiple used to scale nodes\n */\n\n\nfunction scaleNodeBreadths(nodes, kx) {\n  zrUtil.each(nodes, function (node) {\n    var nodeX = node.getLayout().x * kx;\n    node.setLayout({\n      x: nodeX\n    }, true);\n  });\n}\n/**\n * Using Gauss-Seidel iterations method to compute the node depth(y-position)\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n *     in the same column.\n * @param {number} iterations  the number of iterations for the algorithm\n */\n\n\nfunction computeNodeDepths(nodes, edges, height, nodeGap, iterations) {\n  var nodesByBreadth = nest().key(function (d) {\n    return d.getLayout().x;\n  }).sortKeys(ascending).entries(nodes).map(function (d) {\n    return d.values;\n  });\n  initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap);\n  resolveCollisions(nodesByBreadth, nodeGap, height);\n\n  for (var alpha = 1; iterations > 0; iterations--) {\n    // 0.99 is a experience parameter, ensure that each iterations of\n    // changes as small as possible.\n    alpha *= 0.99;\n    relaxRightToLeft(nodesByBreadth, alpha);\n    resolveCollisions(nodesByBreadth, nodeGap, height);\n    relaxLeftToRight(nodesByBreadth, alpha);\n    resolveCollisions(nodesByBreadth, nodeGap, height);\n  }\n}\n/**\n * Compute the original y-position for each node\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {module:echarts/data/Graph~Edge} edges  edge of sankey view\n * @param {number} height  the whole height of the area to draw the view\n * @param {number} nodeGap  the vertical distance between two nodes\n */\n\n\nfunction initializeNodeDepth(nodes, nodesByBreadth, edges, height, nodeGap) {\n  var kyArray = [];\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var n = nodes.length;\n    var sum = 0;\n    zrUtil.each(nodes, function (node) {\n      sum += node.getLayout().value;\n    });\n    var ky = (height - (n - 1) * nodeGap) / sum;\n    kyArray.push(ky);\n  });\n  kyArray.sort(function (a, b) {\n    return a - b;\n  });\n  var ky0 = kyArray[0];\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node, i) {\n      node.setLayout({\n        y: i\n      }, true);\n      var nodeDy = node.getLayout().value * ky0;\n      node.setLayout({\n        dy: nodeDy\n      }, true);\n    });\n  });\n  zrUtil.each(edges, function (edge) {\n    var edgeDy = +edge.getValue() * ky0;\n    edge.setLayout({\n      dy: edgeDy\n    }, true);\n  });\n}\n/**\n * Resolve the collision of initialized depth (y-position)\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the nodes x-position.\n * @param {number} nodeGap  the vertical distance between two nodes\n * @param {number} height  the whole height of the area to draw the view\n */\n\n\nfunction resolveCollisions(nodesByBreadth, nodeGap, height) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    var node;\n    var dy;\n    var y0 = 0;\n    var n = nodes.length;\n    var i;\n    nodes.sort(ascendingDepth);\n\n    for (i = 0; i < n; i++) {\n      node = nodes[i];\n      dy = y0 - node.getLayout().y;\n\n      if (dy > 0) {\n        var nodeY = node.getLayout().y + dy;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n\n      y0 = node.getLayout().y + node.getLayout().dy + nodeGap;\n    } // if the bottommost node goes outside the bounds, push it back up\n\n\n    dy = y0 - nodeGap - height;\n\n    if (dy > 0) {\n      var nodeY = node.getLayout().y - dy;\n      node.setLayout({\n        y: nodeY\n      }, true);\n      y0 = node.getLayout().y;\n\n      for (i = n - 2; i >= 0; --i) {\n        node = nodes[i];\n        dy = node.getLayout().y + node.getLayout().dy + nodeGap - y0;\n\n        if (dy > 0) {\n          nodeY = node.getLayout().y - dy;\n          node.setLayout({\n            y: nodeY\n          }, true);\n        }\n\n        y0 = node.getLayout().y;\n      }\n    }\n  });\n}\n/**\n * Change the y-position of the nodes, except most the right side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxRightToLeft(nodesByBreadth, alpha) {\n  zrUtil.each(nodesByBreadth.slice().reverse(), function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.outEdges.length) {\n        var y = sum(node.outEdges, weightedTarget) / sum(node.outEdges, getEdgeValue);\n        var nodeY = node.getLayout().y + (y - center(node)) * alpha;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n    });\n  });\n}\n\nfunction weightedTarget(edge) {\n  return center(edge.node2) * edge.getValue();\n}\n/**\n * Change the y-position of the nodes, except most the left side nodes\n *\n * @param {Array.<Array.<module:echarts/data/Graph~Node>>} nodesByBreadth\n *     group by the array of all sankey nodes based on the node x-position.\n * @param {number} alpha  parameter used to adjust the nodes y-position\n */\n\n\nfunction relaxLeftToRight(nodesByBreadth, alpha) {\n  zrUtil.each(nodesByBreadth, function (nodes) {\n    zrUtil.each(nodes, function (node) {\n      if (node.inEdges.length) {\n        var y = sum(node.inEdges, weightedSource) / sum(node.inEdges, getEdgeValue);\n        var nodeY = node.getLayout().y + (y - center(node)) * alpha;\n        node.setLayout({\n          y: nodeY\n        }, true);\n      }\n    });\n  });\n}\n\nfunction weightedSource(edge) {\n  return center(edge.node1) * edge.getValue();\n}\n/**\n * Compute the depth(y-position) of each edge\n *\n * @param {module:echarts/data/Graph~Node} nodes  node of sankey view\n */\n\n\nfunction computeEdgeDepths(nodes) {\n  zrUtil.each(nodes, function (node) {\n    node.outEdges.sort(ascendingTargetDepth);\n    node.inEdges.sort(ascendingSourceDepth);\n  });\n  zrUtil.each(nodes, function (node) {\n    var sy = 0;\n    var ty = 0;\n    zrUtil.each(node.outEdges, function (edge) {\n      edge.setLayout({\n        sy: sy\n      }, true);\n      sy += edge.getLayout().dy;\n    });\n    zrUtil.each(node.inEdges, function (edge) {\n      edge.setLayout({\n        ty: ty\n      }, true);\n      ty += edge.getLayout().dy;\n    });\n  });\n}\n\nfunction ascendingTargetDepth(a, b) {\n  return a.node2.getLayout().y - b.node2.getLayout().y;\n}\n\nfunction ascendingSourceDepth(a, b) {\n  return a.node1.getLayout().y - b.node1.getLayout().y;\n}\n\nfunction sum(array, f) {\n  var sum = 0;\n  var len = array.length;\n  var i = -1;\n\n  while (++i < len) {\n    var value = +f.call(array, array[i], i);\n\n    if (!isNaN(value)) {\n      sum += value;\n    }\n  }\n\n  return sum;\n}\n\nfunction center(node) {\n  return node.getLayout().y + node.getLayout().dy / 2;\n}\n\nfunction ascendingDepth(a, b) {\n  return a.getLayout().y - b.getLayout().y;\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a === b ? 0 : NaN;\n}\n\nfunction getEdgeValue(edge) {\n  return edge.getValue();\n}\n\nmodule.exports = _default;","var VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @file Visual encoding for sankey view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, payload) {\n  ecModel.eachSeriesByType('sankey', function (seriesModel) {\n    var graph = seriesModel.getGraph();\n    var nodes = graph.nodes;\n    nodes.sort(function (a, b) {\n      return a.getLayout().value - b.getLayout().value;\n    });\n    var minValue = nodes[0].getLayout().value;\n    var maxValue = nodes[nodes.length - 1].getLayout().value;\n    zrUtil.each(nodes, function (node) {\n      var mapping = new VisualMapping({\n        type: 'color',\n        mappingMethod: 'linear',\n        dataExtent: [minValue, maxValue],\n        visual: seriesModel.get('color')\n      });\n      var mapValueToColor = mapping.mapValueToVisual(node.getLayout().value);\n      node.setVisual('color', mapValueToColor); // If set itemStyle.normal.color\n\n      var itemModel = node.getModel();\n      var customColor = itemModel.get('itemStyle.normal.color');\n\n      if (customColor != null) {\n        node.setVisual('color', customColor);\n      }\n    });\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./scatter/ScatterSeries\");\n\nrequire(\"./scatter/ScatterView\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar layoutPoints = require(\"../layout/points\");\n\nrequire(\"../component/gridSimple\");\n\n// In case developer forget to include grid component\necharts.registerVisual(zrUtil.curry(visualSymbol, 'scatter', 'circle', null));\necharts.registerLayout(zrUtil.curry(layoutPoints, 'scatter'));","var createListFromArray = require(\"../helper/createListFromArray\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar _default = SeriesModel.extend({\n  type: 'series.scatter',\n  dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'],\n  getInitialData: function (option, ecModel) {\n    return createListFromArray(option.data, this, ecModel);\n  },\n  brushSelector: 'point',\n  defaultOption: {\n    coordinateSystem: 'cartesian2d',\n    zlevel: 0,\n    z: 2,\n    legendHoverLink: true,\n    hoverAnimation: true,\n    // Cartesian coordinate system\n    // xAxisIndex: 0,\n    // yAxisIndex: 0,\n    // Polar coordinate system\n    // polarIndex: 0,\n    // Geo coordinate system\n    // geoIndex: 0,\n    // symbol: null,        // 图形类型\n    symbolSize: 10,\n    // 图形大小，半宽（半径）参数，当图形为方向或菱形则总宽度为symbolSize * 2\n    // symbolRotate: null,  // 图形旋转控制\n    large: false,\n    // Available when large is true\n    largeThreshold: 2000,\n    // cursor: null,\n    // label: {\n    // normal: {\n    // show: false\n    // distance: 5,\n    // formatter: 标签文本格式器，同Tooltip.formatter，不支持异步回调\n    // position: 默认自适应，水平布局为'top'，垂直布局为'right'，可选为\n    //           'inside'|'left'|'right'|'top'|'bottom'\n    // 默认使用全局文本样式，详见TEXTSTYLE\n    //     }\n    // },\n    itemStyle: {\n      normal: {\n        opacity: 0.8 // color: 各异\n\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar SymbolDraw = require(\"../helper/SymbolDraw\");\n\nvar LargeSymbolDraw = require(\"../helper/LargeSymbolDraw\");\n\necharts.extendChartView({\n  type: 'scatter',\n  init: function () {\n    this._normalSymbolDraw = new SymbolDraw();\n    this._largeSymbolDraw = new LargeSymbolDraw();\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var largeSymbolDraw = this._largeSymbolDraw;\n    var normalSymbolDraw = this._normalSymbolDraw;\n    var group = this.group;\n    var symbolDraw = seriesModel.get('large') && data.count() > seriesModel.get('largeThreshold') ? largeSymbolDraw : normalSymbolDraw;\n    this._symbolDraw = symbolDraw;\n    symbolDraw.updateData(data);\n    group.add(symbolDraw.group);\n    group.remove(symbolDraw === largeSymbolDraw ? normalSymbolDraw.group : largeSymbolDraw.group);\n  },\n  updateLayout: function (seriesModel) {\n    this._symbolDraw.updateLayout(seriesModel);\n  },\n  remove: function (ecModel, api) {\n    this._symbolDraw && this._symbolDraw.remove(api, true);\n  },\n  dispose: function () {}\n});","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../component/singleAxis\");\n\nrequire(\"./themeRiver/ThemeRiverSeries\");\n\nrequire(\"./themeRiver/ThemeRiverView\");\n\nvar themeRiverLayout = require(\"./themeRiver/themeRiverLayout\");\n\nvar themeRiverVisual = require(\"./themeRiver/themeRiverVisual\");\n\nvar dataFilter = require(\"../processor/dataFilter\");\n\necharts.registerLayout(themeRiverLayout);\necharts.registerVisual(themeRiverVisual);\necharts.registerProcessor(zrUtil.curry(dataFilter, 'themeRiver'));","var completeDimensions = require(\"../../data/helper/completeDimensions\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar List = require(\"../../data/List\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\nvar nest = require(\"../../util/array/nest\");\n\n/**\n * @file  Define the themeRiver view's series model\n * @author Deqing Li(annong035@gmail.com)\n */\nvar DATA_NAME_INDEX = 2;\nvar ThemeRiverSeries = SeriesModel.extend({\n  type: 'series.themeRiver',\n  dependencies: ['singleAxis'],\n\n  /**\n   * @readOnly\n   * @type {module:zrender/core/util#HashMap}\n   */\n  nameMap: null,\n\n  /**\n   * @override\n   */\n  init: function (option) {\n    ThemeRiverSeries.superApply(this, 'init', arguments); // Put this function here is for the sake of consistency of code style.\n    // Enable legend selection for each data item\n    // Use a function instead of direct access because data reference may changed\n\n    this.legendDataProvider = function () {\n      return this.getRawData();\n    };\n  },\n\n  /**\n   * If there is no value of a certain point in the time for some event,set it value to 0.\n   *\n   * @param {Array} data  initial data in the option\n   * @return {Array}\n   */\n  fixData: function (data) {\n    var rawDataLength = data.length; // grouped data by name\n\n    var dataByName = nest().key(function (dataItem) {\n      return dataItem[2];\n    }).entries(data); // data group in each layer\n\n    var layData = zrUtil.map(dataByName, function (d) {\n      return {\n        name: d.key,\n        dataList: d.values\n      };\n    });\n    var layerNum = layData.length;\n    var largestLayer = -1;\n    var index = -1;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var len = layData[i].dataList.length;\n\n      if (len > largestLayer) {\n        largestLayer = len;\n        index = i;\n      }\n    }\n\n    for (var k = 0; k < layerNum; ++k) {\n      if (k === index) {\n        continue;\n      }\n\n      var name = layData[k].name;\n\n      for (var j = 0; j < largestLayer; ++j) {\n        var timeValue = layData[index].dataList[j][0];\n        var length = layData[k].dataList.length;\n        var keyIndex = -1;\n\n        for (var l = 0; l < length; ++l) {\n          var value = layData[k].dataList[l][0];\n\n          if (value === timeValue) {\n            keyIndex = l;\n            break;\n          }\n        }\n\n        if (keyIndex === -1) {\n          data[rawDataLength] = [];\n          data[rawDataLength][0] = timeValue;\n          data[rawDataLength][1] = 0;\n          data[rawDataLength][2] = name;\n          rawDataLength++;\n        }\n      }\n    }\n\n    return data;\n  },\n\n  /**\n   * @override\n   * @param  {Object} option  the initial option that user gived\n   * @param  {module:echarts/model/Model} ecModel  the model object for themeRiver option\n   * @return {module:echarts/data/List}\n   */\n  getInitialData: function (option, ecModel) {\n    var dimensions = [];\n    var singleAxisModel = ecModel.queryComponents({\n      mainType: 'singleAxis',\n      index: this.get('singleAxisIndex'),\n      id: this.get('singleAxisId')\n    })[0];\n    var axisType = singleAxisModel.get('type');\n    dimensions = [{\n      name: 'time',\n      // FIXME common?\n      type: axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float'\n    }, {\n      name: 'value',\n      type: 'float'\n    }, {\n      name: 'name',\n      type: 'ordinal'\n    }]; // filter the data item with the value of label is undefined\n\n    var filterData = zrUtil.filter(option.data, function (dataItem) {\n      return dataItem[2] !== undefined;\n    });\n    var data = this.fixData(filterData || []);\n    var nameList = [];\n    var nameMap = this.nameMap = zrUtil.createHashMap();\n    var count = 0;\n\n    for (var i = 0; i < data.length; ++i) {\n      nameList.push(data[i][DATA_NAME_INDEX]);\n\n      if (!nameMap.get(data[i][DATA_NAME_INDEX])) {\n        nameMap.set(data[i][DATA_NAME_INDEX], count);\n        count++;\n      }\n    }\n\n    dimensions = completeDimensions(dimensions, data);\n    var list = new List(dimensions, this);\n    list.initData(data, nameList);\n    return list;\n  },\n\n  /**\n   * Used by single coordinate\n   *\n   * @param {string} axisDim  the dimension for single coordinate\n   * @return {Array.<string> } specified dimensions on the axis.\n   */\n  coordDimToDataDim: function (axisDim) {\n    return ['time'];\n  },\n\n  /**\n   * The raw data is divided into multiple layers and each layer\n   *     has same name.\n   *\n   * @return {Array.<Array.<number>>}\n   */\n  getLayerSeries: function () {\n    var data = this.getData();\n    var lenCount = data.count();\n    var indexArr = [];\n\n    for (var i = 0; i < lenCount; ++i) {\n      indexArr[i] = i;\n    } // data group by name\n\n\n    var dataByName = nest().key(function (index) {\n      return data.get('name', index);\n    }).entries(indexArr);\n    var layerSeries = zrUtil.map(dataByName, function (d) {\n      return {\n        name: d.key,\n        indices: d.values\n      };\n    });\n\n    for (var j = 0; j < layerSeries.length; ++j) {\n      layerSeries[j].indices.sort(comparer);\n    }\n\n    function comparer(index1, index2) {\n      return data.get('time', index1) - data.get('time', index2);\n    }\n\n    return layerSeries;\n  },\n\n  /**\n   * Get data indices for show tooltip content\n   *\n   * @param {Array.<string>|string} dim  single coordinate dimension\n   * @param {number} value axis value\n   * @param {module:echarts/coord/single/SingleAxis} baseAxis  single Axis used\n   *     the themeRiver.\n   * @return {Object} {dataIndices, nestestValue}\n   */\n  getAxisTooltipData: function (dim, value, baseAxis) {\n    if (!zrUtil.isArray(dim)) {\n      dim = dim ? [dim] : [];\n    }\n\n    var data = this.getData();\n    var layerSeries = this.getLayerSeries();\n    var indices = [];\n    var layerNum = layerSeries.length;\n    var nestestValue;\n\n    for (var i = 0; i < layerNum; ++i) {\n      var minDist = Number.MAX_VALUE;\n      var nearestIdx = -1;\n      var pointNum = layerSeries[i].indices.length;\n\n      for (var j = 0; j < pointNum; ++j) {\n        var theValue = data.get(dim[0], layerSeries[i].indices[j]);\n        var dist = Math.abs(theValue - value);\n\n        if (dist <= minDist) {\n          nestestValue = theValue;\n          minDist = dist;\n          nearestIdx = layerSeries[i].indices[j];\n        }\n      }\n\n      indices.push(nearestIdx);\n    }\n\n    return {\n      dataIndices: indices,\n      nestestValue: nestestValue\n    };\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex  index of data\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var htmlName = data.get('name', dataIndex);\n    var htmlValue = data.get('value', dataIndex);\n\n    if (isNaN(htmlValue) || htmlValue == null) {\n      htmlValue = '-';\n    }\n\n    return encodeHTML(htmlName + ' : ' + htmlValue);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    coordinateSystem: 'singleAxis',\n    // gap in axis's orthogonal orientation\n    boundaryGap: ['10%', '10%'],\n    // legendHoverLink: true,\n    singleAxisIndex: 0,\n    animationEasing: 'linear',\n    label: {\n      normal: {\n        margin: 4,\n        textAlign: 'right',\n        show: true,\n        position: 'left',\n        color: '#000',\n        fontSize: 11\n      },\n      emphasis: {\n        show: true\n      }\n    }\n  }\n});\nvar _default = ThemeRiverSeries;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar _poly = require(\"../line/poly\");\n\nvar Polygon = _poly.Polygon;\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar bind = _util.bind;\nvar extend = _util.extend;\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\n/**\n * @file  The file used to draw themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\nvar _default = echarts.extendChartView({\n  type: 'themeRiver',\n  init: function () {\n    this._layers = [];\n  },\n  render: function (seriesModel, ecModel, api) {\n    var data = seriesModel.getData();\n    var group = this.group;\n    var layerSeries = seriesModel.getLayerSeries();\n    var layoutInfo = data.getLayout('layoutInfo');\n    var rect = layoutInfo.rect;\n    var boundaryGap = layoutInfo.boundaryGap;\n    group.attr('position', [0, rect.y + boundaryGap[0]]);\n\n    function keyGetter(item) {\n      return item.name;\n    }\n\n    var dataDiffer = new DataDiffer(this._layersSeries || [], layerSeries, keyGetter, keyGetter);\n    var newLayersGroups = {};\n    dataDiffer.add(bind(process, this, 'add')).update(bind(process, this, 'update')).remove(bind(process, this, 'remove')).execute();\n\n    function process(status, idx, oldIdx) {\n      var oldLayersGroups = this._layers;\n\n      if (status === 'remove') {\n        group.remove(oldLayersGroups[idx]);\n        return;\n      }\n\n      var points0 = [];\n      var points1 = [];\n      var color;\n      var indices = layerSeries[idx].indices;\n\n      for (var j = 0; j < indices.length; j++) {\n        var layout = data.getItemLayout(indices[j]);\n        var x = layout.x;\n        var y0 = layout.y0;\n        var y = layout.y;\n        points0.push([x, y0]);\n        points1.push([x, y0 + y]);\n        color = data.getItemVisual(indices[j], 'color');\n      }\n\n      var polygon;\n      var text;\n      var textLayout = data.getItemLayout(indices[0]);\n      var itemModel = data.getItemModel(indices[j - 1]);\n      var labelModel = itemModel.getModel('label.normal');\n      var margin = labelModel.get('margin');\n\n      if (status === 'add') {\n        var layerGroup = newLayersGroups[idx] = new graphic.Group();\n        polygon = new Polygon({\n          shape: {\n            points: points0,\n            stackedOnPoints: points1,\n            smooth: 0.4,\n            stackedOnSmooth: 0.4,\n            smoothConstraint: false\n          },\n          z2: 0\n        });\n        text = new graphic.Text({\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        });\n        layerGroup.add(polygon);\n        layerGroup.add(text);\n        group.add(layerGroup);\n        polygon.setClipPath(createGridClipShape(polygon.getBoundingRect(), seriesModel, function () {\n          polygon.removeClipPath();\n        }));\n      } else {\n        var layerGroup = oldLayersGroups[oldIdx];\n        polygon = layerGroup.childAt(0);\n        text = layerGroup.childAt(1);\n        group.add(layerGroup);\n        newLayersGroups[idx] = layerGroup;\n        graphic.updateProps(polygon, {\n          shape: {\n            points: points0,\n            stackedOnPoints: points1\n          }\n        }, seriesModel);\n        graphic.updateProps(text, {\n          style: {\n            x: textLayout.x - margin,\n            y: textLayout.y0 + textLayout.y / 2\n          }\n        }, seriesModel);\n      }\n\n      var hoverItemStyleModel = itemModel.getModel('itemStyle.emphasis');\n      var itemStyleModel = itemModel.getModel('itemStyle.normal');\n      graphic.setTextStyle(text.style, labelModel, {\n        text: labelModel.get('show') ? seriesModel.getFormattedLabel(indices[j - 1], 'normal') || data.getName(indices[j - 1]) : null,\n        textVerticalAlign: 'middle'\n      });\n      polygon.setStyle(extend({\n        fill: color\n      }, itemStyleModel.getItemStyle(['color'])));\n      graphic.setHoverStyle(polygon, hoverItemStyleModel.getItemStyle());\n    }\n\n    this._layersSeries = layerSeries;\n    this._layers = newLayersGroups;\n  },\n  dispose: function () {}\n}); // add animation to the view\n\n\nfunction createGridClipShape(rect, seriesModel, cb) {\n  var rectEl = new graphic.Rect({\n    shape: {\n      x: rect.x - 10,\n      y: rect.y - 10,\n      width: 0,\n      height: rect.height + 20\n    }\n  });\n  graphic.initProps(rectEl, {\n    shape: {\n      width: rect.width + 20,\n      height: rect.height + 20\n    }\n  }, seriesModel, cb);\n  return rectEl;\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/**\n * @file  Using layout algorithm transform the raw data to layout information.\n * @author Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var single = seriesModel.coordinateSystem;\n    var layoutInfo = {}; // use the axis boundingRect for view\n\n    var rect = single.getRect();\n    layoutInfo.rect = rect;\n    var boundaryGap = seriesModel.get('boundaryGap');\n    var axis = single.getAxis();\n    layoutInfo.boundaryGap = boundaryGap;\n\n    if (axis.orient === 'horizontal') {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.height);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.height);\n      var height = rect.height - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, height);\n    } else {\n      boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], rect.width);\n      boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], rect.width);\n      var width = rect.width - boundaryGap[0] - boundaryGap[1];\n      themeRiverLayout(data, seriesModel, width);\n    }\n\n    data.setLayout('layoutInfo', layoutInfo);\n  });\n}\n/**\n * The layout information about themeriver\n *\n * @param {module:echarts/data/List} data  data in the series\n * @param {module:echarts/model/Series} seriesModel  the model object of themeRiver series\n * @param {number} height  value used to compute every series height\n */\n\n\nfunction themeRiverLayout(data, seriesModel, height) {\n  if (!data.count()) {\n    return;\n  }\n\n  var coordSys = seriesModel.coordinateSystem; // the data in each layer are organized into a series.\n\n  var layerSeries = seriesModel.getLayerSeries(); // the points in each layer.\n\n  var layerPoints = zrUtil.map(layerSeries, function (singleLayer) {\n    return zrUtil.map(singleLayer.indices, function (idx) {\n      var pt = coordSys.dataToPoint(data.get('time', idx));\n      pt[1] = data.get('value', idx);\n      return pt;\n    });\n  });\n  var base = computeBaseline(layerPoints);\n  var baseLine = base.y0;\n  var ky = height / base.max; // set layout information for each item.\n\n  var n = layerSeries.length;\n  var m = layerSeries[0].indices.length;\n  var baseY0;\n\n  for (var j = 0; j < m; ++j) {\n    baseY0 = baseLine[j] * ky;\n    data.setItemLayout(layerSeries[0].indices[j], {\n      layerIndex: 0,\n      x: layerPoints[0][j][0],\n      y0: baseY0,\n      y: layerPoints[0][j][1] * ky\n    });\n\n    for (var i = 1; i < n; ++i) {\n      baseY0 += layerPoints[i - 1][j][1] * ky;\n      data.setItemLayout(layerSeries[i].indices[j], {\n        layerIndex: i,\n        x: layerPoints[i][j][0],\n        y0: baseY0,\n        y: layerPoints[i][j][1] * ky\n      });\n    }\n  }\n}\n/**\n * Compute the baseLine of the rawdata\n * Inspired by Lee Byron's paper Stacked Graphs - Geometry & Aesthetics\n *\n * @param  {Array.<Array>} data  the points in each layer\n * @return {Object}\n */\n\n\nfunction computeBaseline(data) {\n  var layerNum = data.length;\n  var pointNum = data[0].length;\n  var sums = [];\n  var y0 = [];\n  var max = 0;\n  var temp;\n  var base = {};\n\n  for (var i = 0; i < pointNum; ++i) {\n    for (var j = 0, temp = 0; j < layerNum; ++j) {\n      temp += data[j][i][1];\n    }\n\n    if (temp > max) {\n      max = temp;\n    }\n\n    sums.push(temp);\n  }\n\n  for (var k = 0; k < pointNum; ++k) {\n    y0[k] = (max - sums[k]) / 2;\n  }\n\n  max = 0;\n\n  for (var l = 0; l < pointNum; ++l) {\n    var sum = sums[l] + y0[l];\n\n    if (sum > max) {\n      max = sum;\n    }\n  }\n\n  base.y0 = y0;\n  base.max = max;\n  return base;\n}\n\nmodule.exports = _default;","var _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\n\n/**\n * @file Visual encoding for themeRiver view\n * @author  Deqing Li(annong035@gmail.com)\n */\nfunction _default(ecModel) {\n  ecModel.eachSeriesByType('themeRiver', function (seriesModel) {\n    var data = seriesModel.getData();\n    var rawData = seriesModel.getRawData();\n    var colorList = seriesModel.get('color');\n    var idxMap = createHashMap();\n    data.each(function (idx) {\n      idxMap.set(data.getRawIndex(idx), idx);\n    });\n    rawData.each(function (rawIndex) {\n      var name = rawData.getName(rawIndex);\n      var color = colorList[(seriesModel.nameMap.get(name) - 1) % colorList.length];\n      rawData.setItemVisual(rawIndex, 'color', color);\n      var idx = idxMap.get(rawIndex);\n\n      if (idx != null) {\n        data.setItemVisual(idx, 'color', color);\n      }\n    });\n  });\n}\n\nmodule.exports = _default;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"./tree/TreeSeries\");\n\nrequire(\"./tree/TreeView\");\n\nrequire(\"./tree/treeAction\");\n\nvar visualSymbol = require(\"../visual/symbol\");\n\nvar orthogonalLayout = require(\"./tree/orthogonalLayout\");\n\nvar radialLayout = require(\"./tree/radialLayout\");\n\necharts.registerVisual(zrUtil.curry(visualSymbol, 'tree', 'circle', null));\necharts.registerLayout(orthogonalLayout);\necharts.registerLayout(radialLayout);","var SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\n\n/**\n * @file Create data struct and define tree view's series model\n */\nvar _default = SeriesModel.extend({\n  type: 'series.tree',\n  layoutInfo: null,\n  // can support the position parameters 'left', 'top','right','bottom', 'width',\n  // 'height' in the setOption() with 'merge' mode normal.\n  layoutMode: 'box',\n\n  /**\n   * Init a tree data structure from data in option series\n   * @param  {Object} option  the object used to config echarts view\n   * @return {module:echarts/data/List} storage initial data\n   */\n  getInitialData: function (option) {\n    //create an virtual root\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    var leaves = option.leaves || {};\n    var treeOption = {};\n    treeOption.leaves = leaves;\n    var tree = Tree.createTree(root, this, treeOption);\n    var treeDepth = 0;\n    tree.eachNode('preorder', function (node) {\n      if (node.depth > treeDepth) {\n        treeDepth = node.depth;\n      }\n    });\n    var expandAndCollapse = option.expandAndCollapse;\n    var expandTreeDepth = expandAndCollapse && option.initialTreeDepth >= 0 ? option.initialTreeDepth : treeDepth;\n    tree.root.eachNode('preorder', function (node) {\n      var item = node.hostTree.data.getRawDataItem(node.dataIndex);\n      node.isExpand = item && item.collapsed != null ? !item.collapsed : node.depth <= expandTreeDepth;\n    });\n    return tree.data;\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   */\n  formatTooltip: function (dataIndex) {\n    var tree = this.getData().tree;\n    var realRoot = tree.root.children[0];\n    var node = tree.getNodeByDataIndex(dataIndex);\n    var value = node.getValue();\n    var name = node.name;\n\n    while (node && node !== realRoot) {\n      name = node.parentNode.name + '.' + name;\n      node = node.parentNode;\n    }\n\n    return encodeHTML(name + (isNaN(value) || value == null ? '' : ' : ' + value));\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    // the position of the whole view\n    left: '12%',\n    top: '12%',\n    right: '12%',\n    bottom: '12%',\n    // the layout of the tree, two value can be selected, 'orthogonal' or 'radial'\n    layout: 'orthogonal',\n    // the orient of orthoginal layout, can be setted to 'horizontal' or 'vertical'\n    orient: 'horizontal',\n    symbol: 'emptyCircle',\n    symbolSize: 7,\n    expandAndCollapse: true,\n    initialTreeDepth: 2,\n    lineStyle: {\n      normal: {\n        color: '#ccc',\n        width: 1.5,\n        curveness: 0.5\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: 'lightsteelblue',\n        borderColor: '#c23531',\n        borderWidth: 1.5\n      }\n    },\n    label: {\n      normal: {\n        show: true,\n        color: '#555'\n      }\n    },\n    leaves: {\n      label: {\n        normal: {\n          show: true\n        }\n      }\n    },\n    animationEasing: 'linear',\n    animationDuration: 700,\n    animationDurationUpdate: 1000\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar SymbolClz = require(\"../helper/Symbol\");\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar radialCoordinate = _layoutHelper.radialCoordinate;\n\nvar echarts = require(\"../../echarts\");\n\n/**\n * @file  This file used to draw tree view\n */\nvar _default = echarts.extendChartView({\n  type: 'tree',\n\n  /**\n   * Init the chart\n   * @override\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup = new graphic.Group();\n    this.group.add(this._mainGroup);\n  },\n  render: function (seriesModel, ecModel, api, payload) {\n    var data = seriesModel.getData();\n    var layoutInfo = seriesModel.layoutInfo;\n    var group = this._mainGroup;\n    var layout = seriesModel.get('layout');\n\n    if (layout === 'radial') {\n      group.attr('position', [layoutInfo.x + layoutInfo.width / 2, layoutInfo.y + layoutInfo.height / 2]);\n    } else {\n      group.attr('position', [layoutInfo.x, layoutInfo.y]);\n    }\n\n    var oldData = this._data;\n    var seriesScope = {\n      expandAndCollapse: seriesModel.get('expandAndCollapse'),\n      layout: layout,\n      orient: seriesModel.get('orient'),\n      curvature: seriesModel.get('lineStyle.normal.curveness'),\n      symbolRotate: seriesModel.get('symbolRotate'),\n      symbolOffset: seriesModel.get('symbolOffset'),\n      hoverAnimation: seriesModel.get('hoverAnimation'),\n      useNameLabel: true,\n      fadeIn: true\n    };\n    data.diff(oldData).add(function (newIdx) {\n      if (symbolNeedsDraw(data, newIdx)) {\n        // create node and edge\n        updateNode(data, newIdx, null, group, seriesModel, seriesScope);\n      }\n    }).update(function (newIdx, oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n\n      if (!symbolNeedsDraw(data, newIdx)) {\n        symbolEl && removeNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n        return;\n      } // update  node and edge\n\n\n      updateNode(data, newIdx, symbolEl, group, seriesModel, seriesScope);\n    }).remove(function (oldIdx) {\n      var symbolEl = oldData.getItemGraphicEl(oldIdx);\n      removeNode(data, oldIdx, symbolEl, group, seriesModel, seriesScope);\n    }).execute();\n\n    if (seriesScope.expandAndCollapse === true) {\n      data.eachItemGraphicEl(function (el, dataIndex) {\n        el.off('click').on('click', function () {\n          api.dispatchAction({\n            type: 'treeExpandAndCollapse',\n            seriesId: seriesModel.id,\n            dataIndex: dataIndex\n          });\n        });\n      });\n    }\n\n    this._data = data;\n  },\n  dispose: function () {},\n  remove: function () {\n    this._mainGroup.removeAll();\n\n    this._data = null;\n  }\n});\n\nfunction symbolNeedsDraw(data, dataIndex) {\n  var layout = data.getItemLayout(dataIndex);\n  return layout && !isNaN(layout.x) && !isNaN(layout.y) && data.getItemVisual(dataIndex, 'symbol') !== 'none';\n}\n\nfunction getTreeNodeStyle(node, itemModel, seriesScope) {\n  seriesScope.itemModel = itemModel;\n  seriesScope.itemStyle = itemModel.getModel('itemStyle.normal').getItemStyle();\n  seriesScope.hoverItemStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n  seriesScope.lineStyle = itemModel.getModel('lineStyle.normal').getLineStyle();\n  seriesScope.labelModel = itemModel.getModel('label.normal');\n  seriesScope.hoverLabelModel = itemModel.getModel('label.emphasis');\n\n  if (node.isExpand === false && node.children.length !== 0) {\n    seriesScope.symbolInnerColor = seriesScope.itemStyle.fill;\n  } else {\n    seriesScope.symbolInnerColor = '#fff';\n  }\n\n  return seriesScope;\n}\n\nfunction updateNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var isInit = !symbolEl;\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var virtualRoot = data.tree.root;\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceSymbolEl = data.getItemGraphicEl(source.dataIndex);\n  var sourceLayout = source.getLayout();\n  var sourceOldLayout = sourceSymbolEl ? {\n    x: sourceSymbolEl.position[0],\n    y: sourceSymbolEl.position[1],\n    rawX: sourceSymbolEl.__radialOldRawX,\n    rawY: sourceSymbolEl.__radialOldRawY\n  } : sourceLayout;\n  var targetLayout = node.getLayout();\n\n  if (isInit) {\n    symbolEl = new SymbolClz(data, dataIndex, seriesScope);\n    symbolEl.attr('position', [sourceOldLayout.x, sourceOldLayout.y]);\n  } else {\n    symbolEl.updateData(data, dataIndex, seriesScope);\n  }\n\n  symbolEl.__radialOldRawX = symbolEl.__radialRawX;\n  symbolEl.__radialOldRawY = symbolEl.__radialRawY;\n  symbolEl.__radialRawX = targetLayout.rawX;\n  symbolEl.__radialRawY = targetLayout.rawY;\n  group.add(symbolEl);\n  data.setItemGraphicEl(dataIndex, symbolEl);\n  graphic.updateProps(symbolEl, {\n    position: [targetLayout.x, targetLayout.y]\n  }, seriesModel);\n  var symbolPath = symbolEl.getSymbolPath();\n\n  if (seriesScope.layout === 'radial') {\n    var realRoot = virtualRoot.children[0];\n    var rootLayout = realRoot.getLayout();\n    var length = realRoot.children.length;\n    var rad;\n    var isLeft;\n\n    if (targetLayout.x === rootLayout.x && node.isExpand === true) {\n      var center = {};\n      center.x = (realRoot.children[0].getLayout().x + realRoot.children[length - 1].getLayout().x) / 2;\n      center.y = (realRoot.children[0].getLayout().y + realRoot.children[length - 1].getLayout().y) / 2;\n      rad = Math.atan2(center.y - rootLayout.y, center.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      isLeft = center.x < rootLayout.x;\n\n      if (isLeft) {\n        rad = rad - Math.PI;\n      }\n    } else {\n      rad = Math.atan2(targetLayout.y - rootLayout.y, targetLayout.x - rootLayout.x);\n\n      if (rad < 0) {\n        rad = Math.PI * 2 + rad;\n      }\n\n      if (node.children.length === 0 || node.children.length !== 0 && node.isExpand === false) {\n        isLeft = targetLayout.x < rootLayout.x;\n\n        if (isLeft) {\n          rad = rad - Math.PI;\n        }\n      } else {\n        isLeft = targetLayout.x > rootLayout.x;\n\n        if (!isLeft) {\n          rad = rad - Math.PI;\n        }\n      }\n    }\n\n    var textPosition = isLeft ? 'left' : 'right';\n    symbolPath.setStyle({\n      textPosition: textPosition,\n      textRotation: -rad,\n      textOrigin: 'center',\n      verticalAlign: 'middle'\n    });\n  }\n\n  if (node.parentNode && node.parentNode !== virtualRoot) {\n    var edge = symbolEl.__edge;\n\n    if (!edge) {\n      edge = symbolEl.__edge = new graphic.BezierCurve({\n        shape: getEdgeShape(seriesScope, sourceOldLayout, sourceOldLayout),\n        style: zrUtil.defaults({\n          opacity: 0\n        }, seriesScope.lineStyle)\n      });\n    }\n\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, targetLayout),\n      style: {\n        opacity: 1\n      }\n    }, seriesModel);\n    group.add(edge);\n  }\n}\n\nfunction removeNode(data, dataIndex, symbolEl, group, seriesModel, seriesScope) {\n  var node = data.tree.getNodeByDataIndex(dataIndex);\n  var virtualRoot = data.tree.root;\n  var itemModel = node.getModel();\n  var seriesScope = getTreeNodeStyle(node, itemModel, seriesScope);\n  var source = node.parentNode === virtualRoot ? node : node.parentNode || node;\n  var sourceLayout;\n\n  while (sourceLayout = source.getLayout(), sourceLayout == null) {\n    source = source.parentNode === virtualRoot ? source : source.parentNode || source;\n  }\n\n  graphic.updateProps(symbolEl, {\n    position: [sourceLayout.x + 1, sourceLayout.y + 1]\n  }, seriesModel, function () {\n    group.remove(symbolEl);\n    data.setItemGraphicEl(dataIndex, null);\n  });\n  symbolEl.fadeOut(null, {\n    keepLabel: true\n  });\n  var edge = symbolEl.__edge;\n\n  if (edge) {\n    graphic.updateProps(edge, {\n      shape: getEdgeShape(seriesScope, sourceLayout, sourceLayout),\n      style: {\n        opacity: 0\n      }\n    }, seriesModel, function () {\n      group.remove(edge);\n    });\n  }\n}\n\nfunction getEdgeShape(seriesScope, sourceLayout, targetLayout) {\n  var cpx1;\n  var cpy1;\n  var cpx2;\n  var cpy2;\n  var orient = seriesScope.orient;\n\n  if (seriesScope.layout === 'radial') {\n    var x1 = sourceLayout.rawX;\n    var y1 = sourceLayout.rawY;\n    var x2 = targetLayout.rawX;\n    var y2 = targetLayout.rawY;\n    var radialCoor1 = radialCoordinate(x1, y1);\n    var radialCoor2 = radialCoordinate(x1, y1 + (y2 - y1) * seriesScope.curvature);\n    var radialCoor3 = radialCoordinate(x2, y2 + (y1 - y2) * seriesScope.curvature);\n    var radialCoor4 = radialCoordinate(x2, y2);\n    return {\n      x1: radialCoor1.x,\n      y1: radialCoor1.y,\n      x2: radialCoor4.x,\n      y2: radialCoor4.y,\n      cpx1: radialCoor2.x,\n      cpy1: radialCoor2.y,\n      cpx2: radialCoor3.x,\n      cpy2: radialCoor3.y\n    };\n  } else {\n    var x1 = sourceLayout.x;\n    var y1 = sourceLayout.y;\n    var x2 = targetLayout.x;\n    var y2 = targetLayout.y;\n\n    if (orient === 'horizontal') {\n      cpx1 = x1 + (x2 - x1) * seriesScope.curvature;\n      cpy1 = y1;\n      cpx2 = x2 + (x1 - x2) * seriesScope.curvature;\n      cpy2 = y2;\n    }\n\n    if (orient === 'vertical') {\n      cpx1 = x1;\n      cpy1 = y1 + (y2 - y1) * seriesScope.curvature;\n      cpx2 = x2;\n      cpy2 = y2 + (y1 - y2) * seriesScope.curvature;\n    }\n\n    return {\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2,\n      cpx1: cpx1,\n      cpy1: cpy1,\n      cpx2: cpx2,\n      cpy2: cpy2\n    };\n  }\n}\n\nmodule.exports = _default;","var _traversalHelper = require(\"./traversalHelper\");\n\nvar eachAfter = _traversalHelper.eachAfter;\nvar eachBefore = _traversalHelper.eachBefore;\n\nvar _layoutHelper = require(\"./layoutHelper\");\n\nvar init = _layoutHelper.init;\nvar firstWalk = _layoutHelper.firstWalk;\nvar secondWalk = _layoutHelper.secondWalk;\nvar sep = _layoutHelper.separation;\nvar radialCoordinate = _layoutHelper.radialCoordinate;\nvar getViewRect = _layoutHelper.getViewRect;\n\nfunction _default(seriesModel, api) {\n  var layoutInfo = getViewRect(seriesModel, api);\n  seriesModel.layoutInfo = layoutInfo;\n  var layout = seriesModel.get('layout');\n  var width = 0;\n  var height = 0;\n  var separation = null;\n\n  if (layout === 'radial') {\n    width = 2 * Math.PI;\n    height = Math.min(layoutInfo.height, layoutInfo.width) / 2;\n    separation = sep(function (node1, node2) {\n      return (node1.parentNode === node2.parentNode ? 1 : 2) / node1.depth;\n    });\n  } else {\n    width = layoutInfo.width;\n    height = layoutInfo.height;\n    separation = sep();\n  }\n\n  var virtualRoot = seriesModel.getData().tree.root;\n  var realRoot = virtualRoot.children[0];\n  init(virtualRoot);\n  eachAfter(realRoot, firstWalk, separation);\n  virtualRoot.hierNode.modifier = -realRoot.hierNode.prelim;\n  eachBefore(realRoot, secondWalk);\n  var left = realRoot;\n  var right = realRoot;\n  var bottom = realRoot;\n  eachBefore(realRoot, function (node) {\n    var x = node.getLayout().x;\n\n    if (x < left.getLayout().x) {\n      left = node;\n    }\n\n    if (x > right.getLayout().x) {\n      right = node;\n    }\n\n    if (node.depth > bottom.depth) {\n      bottom = node;\n    }\n  });\n  var delta = left === right ? 1 : separation(left, right) / 2;\n  var tx = delta - left.getLayout().x;\n  var kx = 0;\n  var ky = 0;\n  var coorX = 0;\n  var coorY = 0;\n\n  if (layout === 'radial') {\n    kx = width / (right.getLayout().x + delta + tx); // here we use (node.depth - 1), bucause the real root's depth is 1\n\n    ky = height / (bottom.depth - 1 || 1);\n    eachBefore(realRoot, function (node) {\n      coorX = (node.getLayout().x + tx) * kx;\n      coorY = (node.depth - 1) * ky;\n      var finalCoor = radialCoordinate(coorX, coorY);\n      node.setLayout({\n        x: finalCoor.x,\n        y: finalCoor.y,\n        rawX: coorX,\n        rawY: coorY\n      }, true);\n    });\n  } else {\n    if (seriesModel.get('orient') === 'horizontal') {\n      ky = height / (right.getLayout().x + delta + tx);\n      kx = width / (bottom.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorY = (node.getLayout().x + tx) * ky;\n        coorX = (node.depth - 1) * kx;\n        node.setLayout({\n          x: coorX,\n          y: coorY\n        }, true);\n      });\n    } else {\n      kx = width / (right.getLayout().x + delta + tx);\n      ky = height / (bottom.depth - 1 || 1);\n      eachBefore(realRoot, function (node) {\n        coorX = (node.getLayout().x + tx) * kx;\n        coorY = (node.depth - 1) * ky;\n        node.setLayout({\n          x: coorX,\n          y: coorY\n        }, true);\n      });\n    }\n  }\n}\n\nmodule.exports = _default;","var layout = require(\"../../util/layout\");\n\n/**\n * @file The layout algorithm of node-link tree diagrams. Here we using Reingold-Tilford algorithm to drawing\n *       the tree.\n * @see https://github.com/d3/d3-hierarchy\n */\n\n/**\n * Initialize all computational message for following algorithm\n * @param  {module:echarts/data/Tree~TreeNode} root   The virtual root of the tree\n */\nfunction init(root) {\n  root.hierNode = {\n    defaultAncestor: null,\n    ancestor: root,\n    prelim: 0,\n    modifier: 0,\n    change: 0,\n    shift: 0,\n    i: 0,\n    thread: null\n  };\n  var nodes = [root];\n  var node;\n  var children;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    children = node.children;\n\n    if (node.isExpand && children.length) {\n      var n = children.length;\n\n      for (var i = n - 1; i >= 0; i--) {\n        var child = children[i];\n        child.hierNode = {\n          defaultAncestor: null,\n          ancestor: child,\n          prelim: 0,\n          modifier: 0,\n          change: 0,\n          shift: 0,\n          i: i,\n          thread: null\n        };\n        nodes.push(child);\n      }\n    }\n  }\n}\n/**\n * Computes a preliminary x coordinate for node. Before that, this function is\n * applied recursively to the children of node, as well as the function\n * apportion(). After spacing out the children by calling executeShifts(), the\n * node is placed to the midpoint of its outermost children.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param {Function} separation\n */\n\n\nfunction firstWalk(node, separation) {\n  var children = node.isExpand ? node.children : [];\n  var siblings = node.parentNode.children;\n  var subtreeW = node.hierNode.i ? siblings[node.hierNode.i - 1] : null;\n\n  if (children.length) {\n    executeShifts(node);\n    var midPoint = (children[0].hierNode.prelim + children[children.length - 1].hierNode.prelim) / 2;\n\n    if (subtreeW) {\n      node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n      node.hierNode.modifier = node.hierNode.prelim - midPoint;\n    } else {\n      node.hierNode.prelim = midPoint;\n    }\n  } else if (subtreeW) {\n    node.hierNode.prelim = subtreeW.hierNode.prelim + separation(node, subtreeW);\n  }\n\n  node.parentNode.hierNode.defaultAncestor = apportion(node, subtreeW, node.parentNode.hierNode.defaultAncestor || siblings[0], separation);\n}\n/**\n * Computes all real x-coordinates by summing up the modifiers recursively.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction secondWalk(node) {\n  var nodeX = node.hierNode.prelim + node.parentNode.hierNode.modifier;\n  node.setLayout({\n    x: nodeX\n  }, true);\n  node.hierNode.modifier += node.parentNode.hierNode.modifier;\n}\n\nfunction separation(cb) {\n  return arguments.length ? cb : defaultSeparation;\n}\n/**\n * Transform the common coordinate to radial coordinate\n * @param  {number} x\n * @param  {number} y\n * @return {Object}\n */\n\n\nfunction radialCoordinate(x, y) {\n  var radialCoor = {};\n  x -= Math.PI / 2;\n  radialCoor.x = y * Math.cos(x);\n  radialCoor.y = y * Math.sin(x);\n  return radialCoor;\n}\n/**\n * Get the layout position of the whole view\n * @param {module:echarts/model/Series} seriesModel  the model object of sankey series\n * @param {module:echarts/ExtensionAPI} api  provide the API list that the developer can call\n * @return {module:zrender/core/BoundingRect}  size of rect to draw the sankey view\n */\n\n\nfunction getViewRect(seriesModel, api) {\n  return layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  });\n}\n/**\n * All other shifts, applied to the smaller subtrees between w- and w+, are\n * performed by this function.\n * @param  {module:echarts/data/Tree~TreeNode} node\n */\n\n\nfunction executeShifts(node) {\n  var children = node.children;\n  var n = children.length;\n  var shift = 0;\n  var change = 0;\n\n  while (--n >= 0) {\n    var child = children[n];\n    child.hierNode.prelim += shift;\n    child.hierNode.modifier += shift;\n    change += child.hierNode.change;\n    shift += child.hierNode.shift + change;\n  }\n}\n/**\n * The core of the algorithm. Here, a new subtree is combined with the\n * previous subtrees. Threads are used to traverse the inside and outside\n * contours of the left and right subtree up to the highest common level.\n * Whenever two nodes of the inside contours conflict, we compute the left\n * one of the greatest uncommon ancestors using the function nextAncestor()\n * and call moveSubtree() to shift the subtree and prepare the shifts of\n * smaller subtrees. Finally, we add a new thread (if necessary).\n * @param  {module:echarts/data/Tree~TreeNode} subtreeV\n * @param  {module:echarts/data/Tree~TreeNode} subtreeW\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @param  {Function} separation\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction apportion(subtreeV, subtreeW, ancestor, separation) {\n  if (subtreeW) {\n    var nodeOutRight = subtreeV;\n    var nodeInRight = subtreeV;\n    var nodeOutLeft = nodeInRight.parentNode.children[0];\n    var nodeInLeft = subtreeW;\n    var sumOutRight = nodeOutRight.hierNode.modifier;\n    var sumInRight = nodeInRight.hierNode.modifier;\n    var sumOutLeft = nodeOutLeft.hierNode.modifier;\n    var sumInLeft = nodeInLeft.hierNode.modifier;\n\n    while (nodeInLeft = nextRight(nodeInLeft), nodeInRight = nextLeft(nodeInRight), nodeInLeft && nodeInRight) {\n      nodeOutRight = nextRight(nodeOutRight);\n      nodeOutLeft = nextLeft(nodeOutLeft);\n      nodeOutRight.hierNode.ancestor = subtreeV;\n      var shift = nodeInLeft.hierNode.prelim + sumInLeft - nodeInRight.hierNode.prelim - sumInRight + separation(nodeInLeft, nodeInRight);\n\n      if (shift > 0) {\n        moveSubtree(nextAncestor(nodeInLeft, subtreeV, ancestor), subtreeV, shift);\n        sumInRight += shift;\n        sumOutRight += shift;\n      }\n\n      sumInLeft += nodeInLeft.hierNode.modifier;\n      sumInRight += nodeInRight.hierNode.modifier;\n      sumOutRight += nodeOutRight.hierNode.modifier;\n      sumOutLeft += nodeOutLeft.hierNode.modifier;\n    }\n\n    if (nodeInLeft && !nextRight(nodeOutRight)) {\n      nodeOutRight.hierNode.thread = nodeInLeft;\n      nodeOutRight.hierNode.modifier += sumInLeft - sumOutRight;\n    }\n\n    if (nodeInRight && !nextLeft(nodeOutLeft)) {\n      nodeOutLeft.hierNode.thread = nodeInRight;\n      nodeOutLeft.hierNode.modifier += sumInRight - sumOutLeft;\n      ancestor = subtreeV;\n    }\n  }\n\n  return ancestor;\n}\n/**\n * This function is used to traverse the right contour of a subtree.\n * It returns the rightmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextRight(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[children.length - 1] : node.hierNode.thread;\n}\n/**\n * This function is used to traverse the left contour of a subtree (or a subforest).\n * It returns the leftmost child of node or the thread of node. The function\n * returns null if and only if node is on the highest depth of its subtree.\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextLeft(node) {\n  var children = node.children;\n  return children.length && node.isExpand ? children[0] : node.hierNode.thread;\n}\n/**\n * If nodeInLeft’s ancestor is a sibling of node, returns nodeInLeft’s ancestor.\n * Otherwise, returns the specified ancestor.\n * @param  {module:echarts/data/Tree~TreeNode} nodeInLeft\n * @param  {module:echarts/data/Tree~TreeNode} node\n * @param  {module:echarts/data/Tree~TreeNode} ancestor\n * @return {module:echarts/data/Tree~TreeNode}\n */\n\n\nfunction nextAncestor(nodeInLeft, node, ancestor) {\n  return nodeInLeft.hierNode.ancestor.parentNode === node.parentNode ? nodeInLeft.hierNode.ancestor : ancestor;\n}\n/**\n * Shifts the current subtree rooted at wr. This is done by increasing prelim(w+) and modifier(w+) by shift.\n * @param  {module:echarts/data/Tree~TreeNode} wl\n * @param  {module:echarts/data/Tree~TreeNode} wr\n * @param  {number} shift [description]\n */\n\n\nfunction moveSubtree(wl, wr, shift) {\n  var change = shift / (wr.hierNode.i - wl.hierNode.i);\n  wr.hierNode.change -= change;\n  wr.hierNode.shift += shift;\n  wr.hierNode.modifier += shift;\n  wr.hierNode.prelim += shift;\n  wl.hierNode.change += change;\n}\n\nfunction defaultSeparation(node1, node2) {\n  return node1.parentNode === node2.parentNode ? 1 : 2;\n}\n\nexports.init = init;\nexports.firstWalk = firstWalk;\nexports.secondWalk = secondWalk;\nexports.separation = separation;\nexports.radialCoordinate = radialCoordinate;\nexports.getViewRect = getViewRect;","var commonLayout = require(\"./commonLayout\");\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nmodule.exports = _default;","var commonLayout = require(\"./commonLayout\");\n\nfunction _default(ecModel, api) {\n  ecModel.eachSeriesByType('tree', function (seriesModel) {\n    commonLayout(seriesModel, api);\n  });\n}\n\nmodule.exports = _default;","/**\n * Traverse the tree from bottom to top and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\nfunction eachAfter(root, callback, separation) {\n  var nodes = [root];\n  var next = [];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    next.push(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = 0; i < children.length; i++) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n\n  while (node = next.pop()) {\n    // jshint ignore:line\n    callback(node, separation);\n  }\n}\n/**\n * Traverse the tree from top to bottom and do something\n * @param  {module:echarts/data/Tree~TreeNode} root  The real root of the tree\n * @param  {Function} callback\n */\n\n\nfunction eachBefore(root, callback) {\n  var nodes = [root];\n  var node;\n\n  while (node = nodes.pop()) {\n    // jshint ignore:line\n    callback(node);\n\n    if (node.isExpand) {\n      var children = node.children;\n\n      if (children.length) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          nodes.push(children[i]);\n        }\n      }\n    }\n  }\n}\n\nexports.eachAfter = eachAfter;\nexports.eachBefore = eachBefore;","var echarts = require(\"../../echarts\");\n\necharts.registerAction({\n  type: 'treeExpandAndCollapse',\n  event: 'treeExpandAndCollapse',\n  update: 'update'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'tree',\n    query: payload\n  }, function (seriesModel) {\n    var dataIndex = payload.dataIndex;\n    var tree = seriesModel.getData().tree;\n    var node = tree.getNodeByDataIndex(dataIndex);\n    node.isExpand = !node.isExpand;\n  });\n});","var echarts = require(\"../echarts\");\n\nrequire(\"./treemap/TreemapSeries\");\n\nrequire(\"./treemap/TreemapView\");\n\nrequire(\"./treemap/treemapAction\");\n\nvar treemapVisual = require(\"./treemap/treemapVisual\");\n\nvar treemapLayout = require(\"./treemap/treemapLayout\");\n\necharts.registerVisual(treemapVisual);\necharts.registerLayout(treemapLayout);","var graphic = require(\"../../util/graphic\");\n\nvar layout = require(\"../../util/layout\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _helper = require(\"./helper\");\n\nvar wrapTreePathInfo = _helper.wrapTreePathInfo;\nvar TEXT_PADDING = 8;\nvar ITEM_GAP = 8;\nvar ARRAY_LENGTH = 5;\n\nfunction Breadcrumb(containerGroup) {\n  /**\n   * @private\n   * @type {module:zrender/container/Group}\n   */\n  this.group = new graphic.Group();\n  containerGroup.add(this.group);\n}\n\nBreadcrumb.prototype = {\n  constructor: Breadcrumb,\n  render: function (seriesModel, api, targetNode, onSelect) {\n    var model = seriesModel.getModel('breadcrumb');\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    if (!model.get('show') || !targetNode) {\n      return;\n    }\n\n    var normalStyleModel = model.getModel('itemStyle.normal'); // var emphasisStyleModel = model.getModel('itemStyle.emphasis');\n\n    var textStyleModel = normalStyleModel.getModel('textStyle');\n    var layoutParam = {\n      pos: {\n        left: model.get('left'),\n        right: model.get('right'),\n        top: model.get('top'),\n        bottom: model.get('bottom')\n      },\n      box: {\n        width: api.getWidth(),\n        height: api.getHeight()\n      },\n      emptyItemWidth: model.get('emptyItemWidth'),\n      totalWidth: 0,\n      renderList: []\n    };\n\n    this._prepare(targetNode, layoutParam, textStyleModel);\n\n    this._renderContent(seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect);\n\n    layout.positionElement(thisGroup, layoutParam.pos, layoutParam.box);\n  },\n\n  /**\n   * Prepare render list and total width\n   * @private\n   */\n  _prepare: function (targetNode, layoutParam, textStyleModel) {\n    for (var node = targetNode; node; node = node.parentNode) {\n      var text = node.getModel().get('name');\n      var textRect = textStyleModel.getTextRect(text);\n      var itemWidth = Math.max(textRect.width + TEXT_PADDING * 2, layoutParam.emptyItemWidth);\n      layoutParam.totalWidth += itemWidth + ITEM_GAP;\n      layoutParam.renderList.push({\n        node: node,\n        text: text,\n        width: itemWidth\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderContent: function (seriesModel, layoutParam, normalStyleModel, textStyleModel, onSelect) {\n    // Start rendering.\n    var lastX = 0;\n    var emptyItemWidth = layoutParam.emptyItemWidth;\n    var height = seriesModel.get('breadcrumb.height');\n    var availableSize = layout.getAvailableSize(layoutParam.pos, layoutParam.box);\n    var totalWidth = layoutParam.totalWidth;\n    var renderList = layoutParam.renderList;\n\n    for (var i = renderList.length - 1; i >= 0; i--) {\n      var item = renderList[i];\n      var itemNode = item.node;\n      var itemWidth = item.width;\n      var text = item.text; // Hdie text and shorten width if necessary.\n\n      if (totalWidth > availableSize.width) {\n        totalWidth -= itemWidth - emptyItemWidth;\n        itemWidth = emptyItemWidth;\n        text = null;\n      }\n\n      var el = new graphic.Polygon({\n        shape: {\n          points: makeItemPoints(lastX, 0, itemWidth, height, i === renderList.length - 1, i === 0)\n        },\n        style: zrUtil.defaults(normalStyleModel.getItemStyle(), {\n          lineJoin: 'bevel',\n          text: text,\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        }),\n        z: 10,\n        onclick: zrUtil.curry(onSelect, itemNode)\n      });\n      this.group.add(el);\n      packEventData(el, seriesModel, itemNode);\n      lastX += itemWidth + ITEM_GAP;\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this.group.removeAll();\n  }\n};\n\nfunction makeItemPoints(x, y, itemWidth, itemHeight, head, tail) {\n  var points = [[head ? x : x - ARRAY_LENGTH, y], [x + itemWidth, y], [x + itemWidth, y + itemHeight], [head ? x : x - ARRAY_LENGTH, y + itemHeight]];\n  !tail && points.splice(2, 0, [x + itemWidth + ARRAY_LENGTH, y + itemHeight / 2]);\n  !head && points.push([x, y + itemHeight / 2]);\n  return points;\n} // Package custom mouse event.\n\n\nfunction packEventData(el, seriesModel, itemNode) {\n  el.eventData = {\n    componentType: 'series',\n    componentSubType: 'treemap',\n    seriesIndex: seriesModel.componentIndex,\n    seriesName: seriesModel.name,\n    seriesType: 'treemap',\n    selfType: 'breadcrumb',\n    // Distinguish with click event on treemap node.\n    nodeData: {\n      dataIndex: itemNode && itemNode.dataIndex,\n      name: itemNode && itemNode.name\n    },\n    treePathInfo: itemNode && wrapTreePathInfo(itemNode, seriesModel)\n  };\n}\n\nvar _default = Breadcrumb;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar SeriesModel = require(\"../../model/Series\");\n\nvar Tree = require(\"../../data/Tree\");\n\nvar Model = require(\"../../model/Model\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\n\nvar _helper = require(\"./helper\");\n\nvar wrapTreePathInfo = _helper.wrapTreePathInfo;\n\nvar _default = SeriesModel.extend({\n  type: 'series.treemap',\n  layoutMode: 'box',\n  dependencies: ['grid', 'polar'],\n\n  /**\n   * @type {module:echarts/data/Tree~Node}\n   */\n  _viewRoot: null,\n  defaultOption: {\n    // Disable progressive rendering\n    progressive: 0,\n    hoverLayerThreshold: Infinity,\n    // center: ['50%', '50%'],          // not supported in ec3.\n    // size: ['80%', '80%'],            // deprecated, compatible with ec2.\n    left: 'center',\n    top: 'middle',\n    right: null,\n    bottom: null,\n    width: '80%',\n    height: '80%',\n    sort: true,\n    // Can be null or false or true\n    // (order by desc default, asc not supported yet (strange effect))\n    clipWindow: 'origin',\n    // Size of clipped window when zooming. 'origin' or 'fullscreen'\n    squareRatio: 0.5 * (1 + Math.sqrt(5)),\n    // golden ratio\n    leafDepth: null,\n    // Nodes on depth from root are regarded as leaves.\n    // Count from zero (zero represents only view root).\n    drillDownIcon: '▶',\n    // Use html character temporarily because it is complicated\n    // to align specialized icon. ▷▶❒❐▼✚\n    zoomToNodeRatio: 0.32 * 0.32,\n    // Be effective when using zoomToNode. Specify the proportion of the\n    // target node area in the view area.\n    roam: true,\n    // true, false, 'scale' or 'zoom', 'move'.\n    nodeClick: 'zoomToNode',\n    // Leaf node click behaviour: 'zoomToNode', 'link', false.\n    // If leafDepth is set and clicking a node which has children but\n    // be on left depth, the behaviour would be changing root. Otherwise\n    // use behavious defined above.\n    animation: true,\n    animationDurationUpdate: 900,\n    animationEasing: 'quinticInOut',\n    breadcrumb: {\n      show: true,\n      height: 22,\n      left: 'center',\n      top: 'bottom',\n      // right\n      // bottom\n      emptyItemWidth: 25,\n      // Width of empty node.\n      itemStyle: {\n        normal: {\n          color: 'rgba(0,0,0,0.7)',\n          //'#5793f3',\n          borderColor: 'rgba(255,255,255,0.7)',\n          borderWidth: 1,\n          shadowColor: 'rgba(150,150,150,1)',\n          shadowBlur: 3,\n          shadowOffsetX: 0,\n          shadowOffsetY: 0,\n          textStyle: {\n            color: '#fff'\n          }\n        },\n        emphasis: {\n          textStyle: {}\n        }\n      }\n    },\n    label: {\n      normal: {\n        show: true,\n        // Do not use textDistance, for ellipsis rect just the same as treemap node rect.\n        distance: 0,\n        padding: 5,\n        position: 'inside',\n        // Can be [5, '5%'] or position stirng like 'insideTopLeft', ...\n        // formatter: null,\n        color: '#fff',\n        ellipsis: true // align\n        // verticalAlign\n\n      }\n    },\n    upperLabel: {\n      // Label when node is parent.\n      normal: {\n        show: false,\n        position: [0, '50%'],\n        height: 20,\n        // formatter: null,\n        color: '#fff',\n        ellipsis: true,\n        // align: null,\n        verticalAlign: 'middle'\n      },\n      emphasis: {\n        show: true,\n        position: [0, '50%'],\n        color: '#fff',\n        ellipsis: true,\n        verticalAlign: 'middle'\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: null,\n        // Can be 'none' if not necessary.\n        colorAlpha: null,\n        // Can be 'none' if not necessary.\n        colorSaturation: null,\n        // Can be 'none' if not necessary.\n        borderWidth: 0,\n        gapWidth: 0,\n        borderColor: '#fff',\n        borderColorSaturation: null // If specified, borderColor will be ineffective, and the\n        // border color is evaluated by color of current node and\n        // borderColorSaturation.\n\n      },\n      emphasis: {}\n    },\n    visualDimension: 0,\n    // Can be 0, 1, 2, 3.\n    visualMin: null,\n    visualMax: null,\n    color: [],\n    // + treemapSeries.color should not be modified. Please only modified\n    // level[n].color (if necessary).\n    // + Specify color list of each level. level[0].color would be global\n    // color list if not specified. (see method `setDefault`).\n    // + But set as a empty array to forbid fetch color from global palette\n    // when using nodeModel.get('color'), otherwise nodes on deep level\n    // will always has color palette set and are not able to inherit color\n    // from parent node.\n    // + TreemapSeries.color can not be set as 'none', otherwise effect\n    // legend color fetching (see seriesColor.js).\n    colorAlpha: null,\n    // Array. Specify color alpha range of each level, like [0.2, 0.8]\n    colorSaturation: null,\n    // Array. Specify color saturation of each level, like [0.2, 0.5]\n    colorMappingBy: 'index',\n    // 'value' or 'index' or 'id'.\n    visibleMin: 10,\n    // If area less than this threshold (unit: pixel^2), node will not\n    // be rendered. Only works when sort is 'asc' or 'desc'.\n    childrenVisibleMin: null,\n    // If area of a node less than this threshold (unit: pixel^2),\n    // grandchildren will not show.\n    // Why grandchildren? If not grandchildren but children,\n    // some siblings show children and some not,\n    // the appearance may be mess and not consistent,\n    levels: [] // Each item: {\n    //     visibleMin, itemStyle, visualDimension, label\n    // }\n    // data: {\n    //      value: [],\n    //      children: [],\n    //      link: 'http://xxx.xxx.xxx',\n    //      target: 'blank' or 'self'\n    // }\n\n  },\n\n  /**\n   * @override\n   */\n  getInitialData: function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levels = option.levels || [];\n    levels = option.levels = setDefault(levels, ecModel);\n    var treeOption = {};\n    treeOption.levels = levels; // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    return Tree.createTree(root, this, treeOption).data;\n  },\n  optionUpdated: function () {\n    this.resetViewRoot();\n  },\n\n  /**\n   * @override\n   * @param {number} dataIndex\n   * @param {boolean} [mutipleSeries=false]\n   */\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? addCommas(value[0]) : addCommas(value);\n    var name = data.getName(dataIndex);\n    return encodeHTML(name + ': ' + formattedValue);\n  },\n\n  /**\n   * Add tree path to tooltip param\n   *\n   * @override\n   * @param {number} dataIndex\n   * @return {Object}\n   */\n  getDataParams: function (dataIndex) {\n    var params = SeriesModel.prototype.getDataParams.apply(this, arguments);\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  },\n\n  /**\n   * @public\n   * @param {Object} layoutInfo {\n   *                                x: containerGroup x\n   *                                y: containerGroup y\n   *                                width: containerGroup width\n   *                                height: containerGroup height\n   *                            }\n   */\n  setLayoutInfo: function (layoutInfo) {\n    /**\n     * @readOnly\n     * @type {Object}\n     */\n    this.layoutInfo = this.layoutInfo || {};\n    zrUtil.extend(this.layoutInfo, layoutInfo);\n  },\n\n  /**\n   * @param  {string} id\n   * @return {number} index\n   */\n  mapIdToIndex: function (id) {\n    // A feature is implemented:\n    // index is monotone increasing with the sequence of\n    // input id at the first time.\n    // This feature can make sure that each data item and its\n    // mapped color have the same index between data list and\n    // color list at the beginning, which is useful for user\n    // to adjust data-color mapping.\n\n    /**\n     * @private\n     * @type {Object}\n     */\n    var idIndexMap = this._idIndexMap;\n\n    if (!idIndexMap) {\n      idIndexMap = this._idIndexMap = zrUtil.createHashMap();\n      /**\n       * @private\n       * @type {number}\n       */\n\n      this._idIndexMapCount = 0;\n    }\n\n    var index = idIndexMap.get(id);\n\n    if (index == null) {\n      idIndexMap.set(id, index = this._idIndexMapCount++);\n    }\n\n    return index;\n  },\n  getViewRoot: function () {\n    return this._viewRoot;\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~Node} [viewRoot]\n   */\n  resetViewRoot: function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  }\n});\n/**\n * @param {Object} dataNode\n */\n\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value;\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n/**\n * set default to level configuration\n */\n\n\nfunction setDefault(levels, ecModel) {\n  var globalColorList = ecModel.get('color');\n\n  if (!globalColorList) {\n    return;\n  }\n\n  levels = levels || [];\n  var hasColorDefine;\n  zrUtil.each(levels, function (levelDefine) {\n    var model = new Model(levelDefine);\n    var modelColor = model.get('color');\n\n    if (model.get('itemStyle.normal.color') || modelColor && modelColor !== 'none') {\n      hasColorDefine = true;\n    }\n  });\n\n  if (!hasColorDefine) {\n    var level0 = levels[0] || (levels[0] = {});\n    level0.color = globalColorList.slice();\n  }\n\n  return levels;\n}\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar helper = require(\"./helper\");\n\nvar Breadcrumb = require(\"./Breadcrumb\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar animationUtil = require(\"../../util/animation\");\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\nvar bind = zrUtil.bind;\nvar Group = graphic.Group;\nvar Rect = graphic.Rect;\nvar each = zrUtil.each;\nvar DRAG_THRESHOLD = 3;\nvar PATH_LABEL_NOAMAL = ['label', 'normal'];\nvar PATH_LABEL_EMPHASIS = ['label', 'emphasis'];\nvar PATH_UPPERLABEL_NORMAL = ['upperLabel', 'normal'];\nvar PATH_UPPERLABEL_EMPHASIS = ['upperLabel', 'emphasis'];\nvar Z_BASE = 10; // Should bigger than every z.\n\nvar Z_BG = 1;\nvar Z_CONTENT = 2;\nvar getItemStyleEmphasis = makeStyleMapper([['fill', 'color'], // `borderColor` and `borderWidth` has been occupied,\n// so use `stroke` to indicate the stroke of the rect.\n['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n\nvar getItemStyleNormal = function (model) {\n  // Normal style props should include emphasis style props.\n  var itemStyle = getItemStyleEmphasis(model); // Clear styles set by emphasis.\n\n  itemStyle.stroke = itemStyle.fill = itemStyle.lineWidth = null;\n  return itemStyle;\n};\n\nvar _default = echarts.extendChartView({\n  type: 'treemap',\n\n  /**\n   * @override\n   */\n  init: function (o, api) {\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n    this._containerGroup;\n    /**\n     * @private\n     * @type {Object.<string, Array.<module:zrender/container/Group>>}\n     */\n\n    this._storage = createStorage();\n    /**\n     * @private\n     * @type {module:echarts/data/Tree}\n     */\n\n    this._oldTree;\n    /**\n     * @private\n     * @type {module:echarts/chart/treemap/Breadcrumb}\n     */\n\n    this._breadcrumb;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/RoamController}\n     */\n\n    this._controller;\n    /**\n     * 'ready', 'animating'\n     * @private\n     */\n\n    this._state = 'ready';\n  },\n\n  /**\n   * @override\n   */\n  render: function (seriesModel, ecModel, api, payload) {\n    var models = ecModel.findComponents({\n      mainType: 'series',\n      subType: 'treemap',\n      query: payload\n    });\n\n    if (zrUtil.indexOf(models, seriesModel) < 0) {\n      return;\n    }\n\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var targetInfo = helper.retrieveTargetInfo(payload, seriesModel);\n    var payloadType = payload && payload.type;\n    var layoutInfo = seriesModel.layoutInfo;\n    var isInit = !this._oldTree;\n    var thisStorage = this._storage; // Mark new root when action is treemapRootToNode.\n\n    var reRoot = payloadType === 'treemapRootToNode' && targetInfo && thisStorage ? {\n      rootNodeGroup: thisStorage.nodeGroup[targetInfo.node.getRawIndex()],\n      direction: payload.direction\n    } : null;\n\n    var containerGroup = this._giveContainerGroup(layoutInfo);\n\n    var renderResult = this._doRender(containerGroup, seriesModel, reRoot);\n\n    !isInit && (!payloadType || payloadType === 'treemapZoomToNode' || payloadType === 'treemapRootToNode') ? this._doAnimation(containerGroup, renderResult, seriesModel, reRoot) : renderResult.renderFinally();\n\n    this._resetController(api);\n\n    this._renderBreadcrumb(seriesModel, api, targetInfo);\n  },\n\n  /**\n   * @private\n   */\n  _giveContainerGroup: function (layoutInfo) {\n    var containerGroup = this._containerGroup;\n\n    if (!containerGroup) {\n      // FIXME\n      // 加一层containerGroup是为了clip，但是现在clip功能并没有实现。\n      containerGroup = this._containerGroup = new Group();\n\n      this._initEvents(containerGroup);\n\n      this.group.add(containerGroup);\n    }\n\n    containerGroup.attr('position', [layoutInfo.x, layoutInfo.y]);\n    return containerGroup;\n  },\n\n  /**\n   * @private\n   */\n  _doRender: function (containerGroup, seriesModel, reRoot) {\n    var thisTree = seriesModel.getData().tree;\n    var oldTree = this._oldTree; // Clear last shape records.\n\n    var lastsForAnimation = createStorage();\n    var thisStorage = createStorage();\n    var oldStorage = this._storage;\n    var willInvisibleEls = [];\n    var doRenderNode = zrUtil.curry(renderNode, seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls); // Notice: when thisTree and oldTree are the same tree (see list.cloneShallow),\n    // the oldTree is actually losted, so we can not find all of the old graphic\n    // elements from tree. So we use this stragegy: make element storage, move\n    // from old storage to new storage, clear old storage.\n\n    dualTravel(thisTree.root ? [thisTree.root] : [], oldTree && oldTree.root ? [oldTree.root] : [], containerGroup, thisTree === oldTree || !oldTree, 0); // Process all removing.\n\n    var willDeleteEls = clearStorage(oldStorage);\n    this._oldTree = thisTree;\n    this._storage = thisStorage;\n    return {\n      lastsForAnimation: lastsForAnimation,\n      willDeleteEls: willDeleteEls,\n      renderFinally: renderFinally\n    };\n\n    function dualTravel(thisViewChildren, oldViewChildren, parentGroup, sameTree, depth) {\n      // When 'render' is triggered by action,\n      // 'this' and 'old' may be the same tree,\n      // we use rawIndex in that case.\n      if (sameTree) {\n        oldViewChildren = thisViewChildren;\n        each(thisViewChildren, function (child, index) {\n          !child.isRemoved() && processNode(index, index);\n        });\n      } // Diff hierarchically (diff only in each subtree, but not whole).\n      // because, consistency of view is important.\n      else {\n          new DataDiffer(oldViewChildren, thisViewChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n        }\n\n      function getKey(node) {\n        // Identify by name or raw index.\n        return node.getId();\n      }\n\n      function processNode(newIndex, oldIndex) {\n        var thisNode = newIndex != null ? thisViewChildren[newIndex] : null;\n        var oldNode = oldIndex != null ? oldViewChildren[oldIndex] : null;\n        var group = doRenderNode(thisNode, oldNode, parentGroup, depth);\n        group && dualTravel(thisNode && thisNode.viewChildren || [], oldNode && oldNode.viewChildren || [], group, sameTree, depth + 1);\n      }\n    }\n\n    function clearStorage(storage) {\n      var willDeleteEls = createStorage();\n      storage && each(storage, function (store, storageName) {\n        var delEls = willDeleteEls[storageName];\n        each(store, function (el) {\n          el && (delEls.push(el), el.__tmWillDelete = 1);\n        });\n      });\n      return willDeleteEls;\n    }\n\n    function renderFinally() {\n      each(willDeleteEls, function (els) {\n        each(els, function (el) {\n          el.parent && el.parent.remove(el);\n        });\n      });\n      each(willInvisibleEls, function (el) {\n        el.invisible = true; // Setting invisible is for optimizing, so no need to set dirty,\n        // just mark as invisible.\n\n        el.dirty();\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doAnimation: function (containerGroup, renderResult, seriesModel, reRoot) {\n    if (!seriesModel.get('animation')) {\n      return;\n    }\n\n    var duration = seriesModel.get('animationDurationUpdate');\n    var easing = seriesModel.get('animationEasing');\n    var animationWrap = animationUtil.createWrap(); // Make delete animations.\n\n    each(renderResult.willDeleteEls, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        if (el.invisible) {\n          return;\n        }\n\n        var parent = el.parent; // Always has parent, and parent is nodeGroup.\n\n        var target;\n\n        if (reRoot && reRoot.direction === 'drillDown') {\n          target = parent === reRoot.rootNodeGroup // This is the content element of view root.\n          // Only `content` will enter this branch, because\n          // `background` and `nodeGroup` will not be deleted.\n          ? {\n            shape: {\n              x: 0,\n              y: 0,\n              width: parent.__tmNodeWidth,\n              height: parent.__tmNodeHeight\n            },\n            style: {\n              opacity: 0\n            } // Others.\n\n          } : {\n            style: {\n              opacity: 0\n            }\n          };\n        } else {\n          var targetX = 0;\n          var targetY = 0;\n\n          if (!parent.__tmWillDelete) {\n            // Let node animate to right-bottom corner, cooperating with fadeout,\n            // which is appropriate for user understanding.\n            // Divided by 2 for reRoot rolling up effect.\n            targetX = parent.__tmNodeWidth / 2;\n            targetY = parent.__tmNodeHeight / 2;\n          }\n\n          target = storageName === 'nodeGroup' ? {\n            position: [targetX, targetY],\n            style: {\n              opacity: 0\n            }\n          } : {\n            shape: {\n              x: targetX,\n              y: targetY,\n              width: 0,\n              height: 0\n            },\n            style: {\n              opacity: 0\n            }\n          };\n        }\n\n        target && animationWrap.add(el, target, duration, easing);\n      });\n    }); // Make other animations\n\n    each(this._storage, function (store, storageName) {\n      each(store, function (el, rawIndex) {\n        var last = renderResult.lastsForAnimation[storageName][rawIndex];\n        var target = {};\n\n        if (!last) {\n          return;\n        }\n\n        if (storageName === 'nodeGroup') {\n          if (last.old) {\n            target.position = el.position.slice();\n            el.attr('position', last.old);\n          }\n        } else {\n          if (last.old) {\n            target.shape = zrUtil.extend({}, el.shape);\n            el.setShape(last.old);\n          }\n\n          if (last.fadein) {\n            el.setStyle('opacity', 0);\n            target.style = {\n              opacity: 1\n            };\n          } // When animation is stopped for succedent animation starting,\n          // el.style.opacity might not be 1\n          else if (el.style.opacity !== 1) {\n              target.style = {\n                opacity: 1\n              };\n            }\n        }\n\n        animationWrap.add(el, target, duration, easing);\n      });\n    }, this);\n    this._state = 'animating';\n    animationWrap.done(bind(function () {\n      this._state = 'ready';\n      renderResult.renderFinally();\n    }, this)).start();\n  },\n\n  /**\n   * @private\n   */\n  _resetController: function (api) {\n    var controller = this._controller; // Init controller.\n\n    if (!controller) {\n      controller = this._controller = new RoamController(api.getZr());\n      controller.enable(this.seriesModel.get('roam'));\n      controller.on('pan', bind(this._onPan, this));\n      controller.on('zoom', bind(this._onZoom, this));\n    }\n\n    var rect = new BoundingRect(0, 0, api.getWidth(), api.getHeight());\n    controller.setPointerChecker(function (e, x, y) {\n      return rect.contain(x, y);\n    });\n  },\n\n  /**\n   * @private\n   */\n  _clearController: function () {\n    var controller = this._controller;\n\n    if (controller) {\n      controller.dispose();\n      controller = null;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onPan: function (dx, dy) {\n    if (this._state !== 'animating' && (Math.abs(dx) > DRAG_THRESHOLD || Math.abs(dy) > DRAG_THRESHOLD)) {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      this.api.dispatchAction({\n        type: 'treemapMove',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rootLayout.x + dx,\n          y: rootLayout.y + dy,\n          width: rootLayout.width,\n          height: rootLayout.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _onZoom: function (scale, mouseX, mouseY) {\n    if (this._state !== 'animating') {\n      // These param must not be cached.\n      var root = this.seriesModel.getData().tree.root;\n\n      if (!root) {\n        return;\n      }\n\n      var rootLayout = root.getLayout();\n\n      if (!rootLayout) {\n        return;\n      }\n\n      var rect = new BoundingRect(rootLayout.x, rootLayout.y, rootLayout.width, rootLayout.height);\n      var layoutInfo = this.seriesModel.layoutInfo; // Transform mouse coord from global to containerGroup.\n\n      mouseX -= layoutInfo.x;\n      mouseY -= layoutInfo.y; // Scale root bounding rect.\n\n      var m = matrix.create();\n      matrix.translate(m, m, [-mouseX, -mouseY]);\n      matrix.scale(m, m, [scale, scale]);\n      matrix.translate(m, m, [mouseX, mouseY]);\n      rect.applyTransform(m);\n      this.api.dispatchAction({\n        type: 'treemapRender',\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        rootRect: {\n          x: rect.x,\n          y: rect.y,\n          width: rect.width,\n          height: rect.height\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _initEvents: function (containerGroup) {\n    containerGroup.on('click', function (e) {\n      if (this._state !== 'ready') {\n        return;\n      }\n\n      var nodeClick = this.seriesModel.get('nodeClick', true);\n\n      if (!nodeClick) {\n        return;\n      }\n\n      var targetInfo = this.findTarget(e.offsetX, e.offsetY);\n\n      if (!targetInfo) {\n        return;\n      }\n\n      var node = targetInfo.node;\n\n      if (node.getLayout().isLeafRoot) {\n        this._rootToNode(targetInfo);\n      } else {\n        if (nodeClick === 'zoomToNode') {\n          this._zoomToNode(targetInfo);\n        } else if (nodeClick === 'link') {\n          var itemModel = node.hostTree.data.getItemModel(node.dataIndex);\n          var link = itemModel.get('link', true);\n          var linkTarget = itemModel.get('target', true) || 'blank';\n          link && window.open(link, linkTarget);\n        }\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderBreadcrumb: function (seriesModel, api, targetInfo) {\n    if (!targetInfo) {\n      targetInfo = seriesModel.get('leafDepth', true) != null ? {\n        node: seriesModel.getViewRoot() // FIXME\n        // better way?\n        // Find breadcrumb tail on center of containerGroup.\n\n      } : this.findTarget(api.getWidth() / 2, api.getHeight() / 2);\n\n      if (!targetInfo) {\n        targetInfo = {\n          node: seriesModel.getData().tree.root\n        };\n      }\n    }\n\n    (this._breadcrumb || (this._breadcrumb = new Breadcrumb(this.group))).render(seriesModel, api, targetInfo.node, bind(onSelect, this));\n\n    function onSelect(node) {\n      if (this._state !== 'animating') {\n        helper.aboveViewRoot(seriesModel.getViewRoot(), node) ? this._rootToNode({\n          node: node\n        }) : this._zoomToNode({\n          node: node\n        });\n      }\n    }\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearController();\n\n    this._containerGroup && this._containerGroup.removeAll();\n    this._storage = createStorage();\n    this._state = 'ready';\n    this._breadcrumb && this._breadcrumb.remove();\n  },\n  dispose: function () {\n    this._clearController();\n  },\n\n  /**\n   * @private\n   */\n  _zoomToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapZoomToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @private\n   */\n  _rootToNode: function (targetInfo) {\n    this.api.dispatchAction({\n      type: 'treemapRootToNode',\n      from: this.uid,\n      seriesId: this.seriesModel.id,\n      targetNode: targetInfo.node\n    });\n  },\n\n  /**\n   * @public\n   * @param {number} x Global coord x.\n   * @param {number} y Global coord y.\n   * @return {Object} info If not found, return undefined;\n   * @return {number} info.node Target node.\n   * @return {number} info.offsetX x refer to target node.\n   * @return {number} info.offsetY y refer to target node.\n   */\n  findTarget: function (x, y) {\n    var targetInfo;\n    var viewRoot = this.seriesModel.getViewRoot();\n    viewRoot.eachNode({\n      attr: 'viewChildren',\n      order: 'preorder'\n    }, function (node) {\n      var bgEl = this._storage.background[node.getRawIndex()]; // If invisible, there might be no element.\n\n\n      if (bgEl) {\n        var point = bgEl.transformCoordToLocal(x, y);\n        var shape = bgEl.shape; // For performance consideration, dont use 'getBoundingRect'.\n\n        if (shape.x <= point[0] && point[0] <= shape.x + shape.width && shape.y <= point[1] && point[1] <= shape.y + shape.height) {\n          targetInfo = {\n            node: node,\n            offsetX: point[0],\n            offsetY: point[1]\n          };\n        } else {\n          return false; // Suppress visit subtree.\n        }\n      }\n    }, this);\n    return targetInfo;\n  }\n});\n/**\n * @inner\n */\n\n\nfunction createStorage() {\n  return {\n    nodeGroup: [],\n    background: [],\n    content: []\n  };\n}\n/**\n * @inner\n * @return Return undefined means do not travel further.\n */\n\n\nfunction renderNode(seriesModel, thisStorage, oldStorage, reRoot, lastsForAnimation, willInvisibleEls, thisNode, oldNode, parentGroup, depth) {\n  // Whether under viewRoot.\n  if (!thisNode) {\n    // Deleting nodes will be performed finally. This method just find\n    // element from old storage, or create new element, set them to new\n    // storage, and set styles.\n    return;\n  } // -------------------------------------------------------------------\n  // Start of closure variables available in \"Procedures in renderNode\".\n\n\n  var thisLayout = thisNode.getLayout();\n\n  if (!thisLayout || !thisLayout.isInView) {\n    return;\n  }\n\n  var thisWidth = thisLayout.width;\n  var thisHeight = thisLayout.height;\n  var borderWidth = thisLayout.borderWidth;\n  var thisInvisible = thisLayout.invisible;\n  var thisRawIndex = thisNode.getRawIndex();\n  var oldRawIndex = oldNode && oldNode.getRawIndex();\n  var thisViewChildren = thisNode.viewChildren;\n  var upperHeight = thisLayout.upperHeight;\n  var isParent = thisViewChildren && thisViewChildren.length;\n  var itemStyleNormalModel = thisNode.getModel('itemStyle.normal');\n  var itemStyleEmphasisModel = thisNode.getModel('itemStyle.emphasis'); // End of closure ariables available in \"Procedures in renderNode\".\n  // -----------------------------------------------------------------\n  // Node group\n\n  var group = giveGraphic('nodeGroup', Group);\n\n  if (!group) {\n    return;\n  }\n\n  parentGroup.add(group); // x,y are not set when el is above view root.\n\n  group.attr('position', [thisLayout.x || 0, thisLayout.y || 0]);\n  group.__tmNodeWidth = thisWidth;\n  group.__tmNodeHeight = thisHeight;\n\n  if (thisLayout.isAboveViewRoot) {\n    return group;\n  } // Background\n\n\n  var bg = giveGraphic('background', Rect, depth, Z_BG);\n  bg && renderBackground(group, bg, isParent && thisLayout.upperHeight); // No children, render content.\n\n  if (!isParent) {\n    var content = giveGraphic('content', Rect, depth, Z_CONTENT);\n    content && renderContent(group, content);\n  }\n\n  return group; // ----------------------------\n  // | Procedures in renderNode |\n  // ----------------------------\n\n  function renderBackground(group, bg, useUpperLabel) {\n    // For tooltip.\n    bg.dataIndex = thisNode.dataIndex;\n    bg.seriesIndex = seriesModel.seriesIndex;\n    bg.setShape({\n      x: 0,\n      y: 0,\n      width: thisWidth,\n      height: thisHeight\n    });\n    var visualBorderColor = thisNode.getVisual('borderColor', true);\n    var emphasisBorderColor = itemStyleEmphasisModel.get('borderColor');\n    updateStyle(bg, function () {\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualBorderColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      emphasisStyle.fill = emphasisBorderColor;\n\n      if (useUpperLabel) {\n        var upperLabelWidth = thisWidth - 2 * borderWidth;\n        prepareText(normalStyle, emphasisStyle, visualBorderColor, upperLabelWidth, upperHeight, {\n          x: borderWidth,\n          y: 0,\n          width: upperLabelWidth,\n          height: upperHeight\n        });\n      } // For old bg.\n      else {\n          normalStyle.text = emphasisStyle.text = null;\n        }\n\n      bg.setStyle(normalStyle);\n      graphic.setHoverStyle(bg, emphasisStyle);\n    });\n    group.add(bg);\n  }\n\n  function renderContent(group, content) {\n    // For tooltip.\n    content.dataIndex = thisNode.dataIndex;\n    content.seriesIndex = seriesModel.seriesIndex;\n    var contentWidth = Math.max(thisWidth - 2 * borderWidth, 0);\n    var contentHeight = Math.max(thisHeight - 2 * borderWidth, 0);\n    content.culling = true;\n    content.setShape({\n      x: borderWidth,\n      y: borderWidth,\n      width: contentWidth,\n      height: contentHeight\n    });\n    var visualColor = thisNode.getVisual('color', true);\n    updateStyle(content, function () {\n      var normalStyle = getItemStyleNormal(itemStyleNormalModel);\n      normalStyle.fill = visualColor;\n      var emphasisStyle = getItemStyleEmphasis(itemStyleEmphasisModel);\n      prepareText(normalStyle, emphasisStyle, visualColor, contentWidth, contentHeight);\n      content.setStyle(normalStyle);\n      graphic.setHoverStyle(content, emphasisStyle);\n    });\n    group.add(content);\n  }\n\n  function updateStyle(element, cb) {\n    if (!thisInvisible) {\n      // If invisible, do not set visual, otherwise the element will\n      // change immediately before animation. We think it is OK to\n      // remain its origin color when moving out of the view window.\n      cb();\n\n      if (!element.__tmWillVisible) {\n        element.invisible = false;\n      }\n    } else {\n      // Delay invisible setting utill animation finished,\n      // avoid element vanish suddenly before animation.\n      !element.invisible && willInvisibleEls.push(element);\n    }\n  }\n\n  function prepareText(normalStyle, emphasisStyle, visualColor, width, height, upperLabelRect) {\n    var nodeModel = thisNode.getModel();\n    var text = zrUtil.retrieve(seriesModel.getFormattedLabel(thisNode.dataIndex, 'normal', null, null, upperLabelRect ? 'upperLabel' : 'label'), nodeModel.get('name'));\n\n    if (!upperLabelRect && thisLayout.isLeafRoot) {\n      var iconChar = seriesModel.get('drillDownIcon', true);\n      text = iconChar ? iconChar + ' ' + text : text;\n    }\n\n    var normalLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_NORMAL : PATH_LABEL_NOAMAL);\n    var emphasisLabelModel = nodeModel.getModel(upperLabelRect ? PATH_UPPERLABEL_EMPHASIS : PATH_LABEL_EMPHASIS);\n    var isShow = normalLabelModel.getShallow('show');\n    graphic.setLabelStyle(normalStyle, emphasisStyle, normalLabelModel, emphasisLabelModel, {\n      defaultText: isShow ? text : null,\n      autoColor: visualColor,\n      isRectText: true\n    });\n    upperLabelRect && (normalStyle.textRect = zrUtil.clone(upperLabelRect));\n    normalStyle.truncate = isShow && normalLabelModel.get('ellipsis') ? {\n      outerWidth: width,\n      outerHeight: height,\n      minChar: 2\n    } : null;\n  }\n\n  function giveGraphic(storageName, Ctor, depth, z) {\n    var element = oldRawIndex != null && oldStorage[storageName][oldRawIndex];\n    var lasts = lastsForAnimation[storageName];\n\n    if (element) {\n      // Remove from oldStorage\n      oldStorage[storageName][oldRawIndex] = null;\n      prepareAnimationWhenHasOld(lasts, element, storageName);\n    } // If invisible and no old element, do not create new element (for optimizing).\n    else if (!thisInvisible) {\n        element = new Ctor({\n          z: calculateZ(depth, z)\n        });\n        element.__tmDepth = depth;\n        element.__tmStorageName = storageName;\n        prepareAnimationWhenNoOld(lasts, element, storageName);\n      } // Set to thisStorage\n\n\n    return thisStorage[storageName][thisRawIndex] = element;\n  }\n\n  function prepareAnimationWhenHasOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    lastCfg.old = storageName === 'nodeGroup' ? element.position.slice() : zrUtil.extend({}, element.shape);\n  } // If a element is new, we need to find the animation start point carefully,\n  // otherwise it will looks strange when 'zoomToNode'.\n\n\n  function prepareAnimationWhenNoOld(lasts, element, storageName) {\n    var lastCfg = lasts[thisRawIndex] = {};\n    var parentNode = thisNode.parentNode;\n\n    if (parentNode && (!reRoot || reRoot.direction === 'drillDown')) {\n      var parentOldX = 0;\n      var parentOldY = 0; // New nodes appear from right-bottom corner in 'zoomToNode' animation.\n      // For convenience, get old bounding rect from background.\n\n      var parentOldBg = lastsForAnimation.background[parentNode.getRawIndex()];\n\n      if (!reRoot && parentOldBg && parentOldBg.old) {\n        parentOldX = parentOldBg.old.width;\n        parentOldY = parentOldBg.old.height;\n      } // When no parent old shape found, its parent is new too,\n      // so we can just use {x:0, y:0}.\n\n\n      lastCfg.old = storageName === 'nodeGroup' ? [0, parentOldY] : {\n        x: parentOldX,\n        y: parentOldY,\n        width: 0,\n        height: 0\n      };\n    } // Fade in, user can be aware that these nodes are new.\n\n\n    lastCfg.fadein = storageName !== 'nodeGroup';\n  }\n} // We can not set all backgroud with the same z, Because the behaviour of\n// drill down and roll up differ background creation sequence from tree\n// hierarchy sequence, which cause that lowser background element overlap\n// upper ones. So we calculate z based on depth.\n// Moreover, we try to shrink down z interval to [0, 1] to avoid that\n// treemap with large z overlaps other components.\n\n\nfunction calculateZ(depth, zInLevel) {\n  var zb = depth * Z_BASE + zInLevel;\n  return (zb - 1) / zb;\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction retrieveTargetInfo(payload, seriesModel) {\n  if (payload && (payload.type === 'treemapZoomToNode' || payload.type === 'treemapRootToNode')) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\n\nfunction getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\n\nfunction aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\n\nfunction wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}\n\nexports.retrieveTargetInfo = retrieveTargetInfo;\nexports.getPathToRoot = getPathToRoot;\nexports.aboveViewRoot = aboveViewRoot;\nexports.wrapTreePathInfo = wrapTreePathInfo;","var echarts = require(\"../../echarts\");\n\nvar helper = require(\"./helper\");\n\n/**\n * @file Treemap action\n */\nvar noop = function () {};\n\nvar actionTypes = ['treemapZoomToNode', 'treemapRender', 'treemapMove'];\n\nfor (var i = 0; i < actionTypes.length; i++) {\n  echarts.registerAction({\n    type: actionTypes[i],\n    update: 'updateView'\n  }, noop);\n}\n\necharts.registerAction({\n  type: 'treemapRootToNode',\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  }, handleRootToNode);\n\n  function handleRootToNode(model, index) {\n    var targetInfo = helper.retrieveTargetInfo(payload, model);\n\n    if (targetInfo) {\n      var originViewRoot = model.getViewRoot();\n\n      if (originViewRoot) {\n        payload.direction = helper.aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n      }\n\n      model.resetViewRoot(targetInfo.node);\n    }\n  }\n});","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar MAX_SAFE_INTEGER = _number.MAX_SAFE_INTEGER;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"./helper\");\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar retrieveValue = zrUtil.retrieve;\nvar each = zrUtil.each;\nvar PATH_BORDER_WIDTH = ['itemStyle', 'normal', 'borderWidth'];\nvar PATH_GAP_WIDTH = ['itemStyle', 'normal', 'gapWidth'];\nvar PATH_UPPER_LABEL_SHOW = ['upperLabel', 'normal', 'show'];\nvar PATH_UPPER_LABEL_HEIGHT = ['upperLabel', 'normal', 'height'];\n/**\n * @public\n */\n\nfunction _default(ecModel, api, payload) {\n  // Layout result in each node:\n  // {x, y, width, height, area, borderWidth}\n  var condition = {\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  };\n  ecModel.eachComponent(condition, function (seriesModel) {\n    var ecWidth = api.getWidth();\n    var ecHeight = api.getHeight();\n    var seriesOption = seriesModel.option;\n    var layoutInfo = layout.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var size = seriesOption.size || []; // Compatible with ec2.\n\n    var containerWidth = parsePercent(retrieveValue(layoutInfo.width, size[0]), ecWidth);\n    var containerHeight = parsePercent(retrieveValue(layoutInfo.height, size[1]), ecHeight); // Fetch payload info.\n\n    var payloadType = payload && payload.type;\n    var targetInfo = helper.retrieveTargetInfo(payload, seriesModel);\n    var rootRect = payloadType === 'treemapRender' || payloadType === 'treemapMove' ? payload.rootRect : null;\n    var viewRoot = seriesModel.getViewRoot();\n    var viewAbovePath = helper.getPathToRoot(viewRoot);\n\n    if (payloadType !== 'treemapMove') {\n      var rootSize = payloadType === 'treemapZoomToNode' ? estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) : rootRect ? [rootRect.width, rootRect.height] : [containerWidth, containerHeight];\n      var sort = seriesOption.sort;\n\n      if (sort && sort !== 'asc' && sort !== 'desc') {\n        sort = 'desc';\n      }\n\n      var options = {\n        squareRatio: seriesOption.squareRatio,\n        sort: sort,\n        leafDepth: seriesOption.leafDepth\n      }; // layout should be cleared because using updateView but not update.\n\n      viewRoot.hostTree.clearLayouts(); // TODO\n      // optimize: if out of view clip, do not layout.\n      // But take care that if do not render node out of view clip,\n      // how to calculate start po\n\n      var viewRootLayout = {\n        x: 0,\n        y: 0,\n        width: rootSize[0],\n        height: rootSize[1],\n        area: rootSize[0] * rootSize[1]\n      };\n      viewRoot.setLayout(viewRootLayout);\n      squarify(viewRoot, options, false, 0); // Supplement layout.\n\n      var viewRootLayout = viewRoot.getLayout();\n      each(viewAbovePath, function (node, index) {\n        var childValue = (viewAbovePath[index + 1] || viewRoot).getValue();\n        node.setLayout(zrUtil.extend({\n          dataExtent: [childValue, childValue],\n          borderWidth: 0,\n          upperHeight: 0\n        }, viewRootLayout));\n      });\n    }\n\n    var treeRoot = seriesModel.getData().tree.root;\n    treeRoot.setLayout(calculateRootPosition(layoutInfo, rootRect, targetInfo), true);\n    seriesModel.setLayoutInfo(layoutInfo); // FIXME\n    // 现在没有clip功能，暂时取ec高宽。\n\n    prunning(treeRoot, // Transform to base element coordinate system.\n    new BoundingRect(-layoutInfo.x, -layoutInfo.y, ecWidth, ecHeight), viewAbovePath, viewRoot, 0);\n  });\n}\n/**\n * Layout treemap with squarify algorithm.\n * @see https://graphics.ethz.ch/teaching/scivis_common/Literature/squarifiedTreeMaps.pdf\n * @see https://github.com/mbostock/d3/blob/master/src/layout/treemap.js\n *\n * @protected\n * @param {module:echarts/data/Tree~TreeNode} node\n * @param {Object} options\n * @param {string} options.sort 'asc' or 'desc'\n * @param {number} options.squareRatio\n * @param {boolean} hideChildren\n * @param {number} depth\n */\n\n\nfunction squarify(node, options, hideChildren, depth) {\n  var width;\n  var height;\n\n  if (node.isRemoved()) {\n    return;\n  }\n\n  var thisLayout = node.getLayout();\n  width = thisLayout.width;\n  height = thisLayout.height; // Considering border and gap\n\n  var nodeModel = node.getModel();\n  var borderWidth = nodeModel.get(PATH_BORDER_WIDTH);\n  var halfGapWidth = nodeModel.get(PATH_GAP_WIDTH) / 2;\n  var upperLabelHeight = getUpperLabelHeight(nodeModel);\n  var upperHeight = Math.max(borderWidth, upperLabelHeight);\n  var layoutOffset = borderWidth - halfGapWidth;\n  var layoutOffsetUpper = upperHeight - halfGapWidth;\n  var nodeModel = node.getModel();\n  node.setLayout({\n    borderWidth: borderWidth,\n    upperHeight: upperHeight,\n    upperLabelHeight: upperLabelHeight\n  }, true);\n  width = mathMax(width - 2 * layoutOffset, 0);\n  height = mathMax(height - layoutOffset - layoutOffsetUpper, 0);\n  var totalArea = width * height;\n  var viewChildren = initChildren(node, nodeModel, totalArea, options, hideChildren, depth);\n\n  if (!viewChildren.length) {\n    return;\n  }\n\n  var rect = {\n    x: layoutOffset,\n    y: layoutOffsetUpper,\n    width: width,\n    height: height\n  };\n  var rowFixedLength = mathMin(width, height);\n  var best = Infinity; // the best row score so far\n\n  var row = [];\n  row.area = 0;\n\n  for (var i = 0, len = viewChildren.length; i < len;) {\n    var child = viewChildren[i];\n    row.push(child);\n    row.area += child.getLayout().area;\n    var score = worst(row, rowFixedLength, options.squareRatio); // continue with this orientation\n\n    if (score <= best) {\n      i++;\n      best = score;\n    } // abort, and try a different orientation\n    else {\n        row.area -= row.pop().getLayout().area;\n        position(row, rowFixedLength, rect, halfGapWidth, false);\n        rowFixedLength = mathMin(rect.width, rect.height);\n        row.length = row.area = 0;\n        best = Infinity;\n      }\n  }\n\n  if (row.length) {\n    position(row, rowFixedLength, rect, halfGapWidth, true);\n  }\n\n  if (!hideChildren) {\n    var childrenVisibleMin = nodeModel.get('childrenVisibleMin');\n\n    if (childrenVisibleMin != null && totalArea < childrenVisibleMin) {\n      hideChildren = true;\n    }\n  }\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    squarify(viewChildren[i], options, hideChildren, depth + 1);\n  }\n}\n/**\n * Set area to each child, and calculate data extent for visual coding.\n */\n\n\nfunction initChildren(node, nodeModel, totalArea, options, hideChildren, depth) {\n  var viewChildren = node.children || [];\n  var orderBy = options.sort;\n  orderBy !== 'asc' && orderBy !== 'desc' && (orderBy = null);\n  var overLeafDepth = options.leafDepth != null && options.leafDepth <= depth; // leafDepth has higher priority.\n\n  if (hideChildren && !overLeafDepth) {\n    return node.viewChildren = [];\n  } // Sort children, order by desc.\n\n\n  viewChildren = zrUtil.filter(viewChildren, function (child) {\n    return !child.isRemoved();\n  });\n  sort(viewChildren, orderBy);\n  var info = statistic(nodeModel, viewChildren, orderBy);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  }\n\n  info.sum = filterByThreshold(nodeModel, totalArea, info.sum, orderBy, viewChildren);\n\n  if (info.sum === 0) {\n    return node.viewChildren = [];\n  } // Set area to each child.\n\n\n  for (var i = 0, len = viewChildren.length; i < len; i++) {\n    var area = viewChildren[i].getValue() / info.sum * totalArea; // Do not use setLayout({...}, true), because it is needed to clear last layout.\n\n    viewChildren[i].setLayout({\n      area: area\n    });\n  }\n\n  if (overLeafDepth) {\n    viewChildren.length && node.setLayout({\n      isLeafRoot: true\n    }, true);\n    viewChildren.length = 0;\n  }\n\n  node.viewChildren = viewChildren;\n  node.setLayout({\n    dataExtent: info.dataExtent\n  }, true);\n  return viewChildren;\n}\n/**\n * Consider 'visibleMin'. Modify viewChildren and get new sum.\n */\n\n\nfunction filterByThreshold(nodeModel, totalArea, sum, orderBy, orderedChildren) {\n  // visibleMin is not supported yet when no option.sort.\n  if (!orderBy) {\n    return sum;\n  }\n\n  var visibleMin = nodeModel.get('visibleMin');\n  var len = orderedChildren.length;\n  var deletePoint = len; // Always travel from little value to big value.\n\n  for (var i = len - 1; i >= 0; i--) {\n    var value = orderedChildren[orderBy === 'asc' ? len - i - 1 : i].getValue();\n\n    if (value / sum * totalArea < visibleMin) {\n      deletePoint = i;\n      sum -= value;\n    }\n  }\n\n  orderBy === 'asc' ? orderedChildren.splice(0, len - deletePoint) : orderedChildren.splice(deletePoint, len - deletePoint);\n  return sum;\n}\n/**\n * Sort\n */\n\n\nfunction sort(viewChildren, orderBy) {\n  if (orderBy) {\n    viewChildren.sort(function (a, b) {\n      var diff = orderBy === 'asc' ? a.getValue() - b.getValue() : b.getValue() - a.getValue();\n      return diff === 0 ? orderBy === 'asc' ? a.dataIndex - b.dataIndex : b.dataIndex - a.dataIndex : diff;\n    });\n  }\n\n  return viewChildren;\n}\n/**\n * Statistic\n */\n\n\nfunction statistic(nodeModel, children, orderBy) {\n  // Calculate sum.\n  var sum = 0;\n\n  for (var i = 0, len = children.length; i < len; i++) {\n    sum += children[i].getValue();\n  } // Statistic data extent for latter visual coding.\n  // Notice: data extent should be calculate based on raw children\n  // but not filtered view children, otherwise visual mapping will not\n  // be stable when zoom (where children is filtered by visibleMin).\n\n\n  var dimension = nodeModel.get('visualDimension');\n  var dataExtent; // The same as area dimension.\n\n  if (!children || !children.length) {\n    dataExtent = [NaN, NaN];\n  } else if (dimension === 'value' && orderBy) {\n    dataExtent = [children[children.length - 1].getValue(), children[0].getValue()];\n    orderBy === 'asc' && dataExtent.reverse();\n  } // Other dimension.\n  else {\n      var dataExtent = [Infinity, -Infinity];\n      each(children, function (child) {\n        var value = child.getValue(dimension);\n        value < dataExtent[0] && (dataExtent[0] = value);\n        value > dataExtent[1] && (dataExtent[1] = value);\n      });\n    }\n\n  return {\n    sum: sum,\n    dataExtent: dataExtent\n  };\n}\n/**\n * Computes the score for the specified row,\n * as the worst aspect ratio.\n */\n\n\nfunction worst(row, rowFixedLength, ratio) {\n  var areaMax = 0;\n  var areaMin = Infinity;\n\n  for (var i = 0, area, len = row.length; i < len; i++) {\n    area = row[i].getLayout().area;\n\n    if (area) {\n      area < areaMin && (areaMin = area);\n      area > areaMax && (areaMax = area);\n    }\n  }\n\n  var squareArea = row.area * row.area;\n  var f = rowFixedLength * rowFixedLength * ratio;\n  return squareArea ? mathMax(f * areaMax / squareArea, squareArea / (f * areaMin)) : Infinity;\n}\n/**\n * Positions the specified row of nodes. Modifies `rect`.\n */\n\n\nfunction position(row, rowFixedLength, rect, halfGapWidth, flush) {\n  // When rowFixedLength === rect.width,\n  // it is horizontal subdivision,\n  // rowFixedLength is the width of the subdivision,\n  // rowOtherLength is the height of the subdivision,\n  // and nodes will be positioned from left to right.\n  // wh[idx0WhenH] means: when horizontal,\n  //      wh[idx0WhenH] => wh[0] => 'width'.\n  //      xy[idx1WhenH] => xy[1] => 'y'.\n  var idx0WhenH = rowFixedLength === rect.width ? 0 : 1;\n  var idx1WhenH = 1 - idx0WhenH;\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  var last = rect[xy[idx0WhenH]];\n  var rowOtherLength = rowFixedLength ? row.area / rowFixedLength : 0;\n\n  if (flush || rowOtherLength > rect[wh[idx1WhenH]]) {\n    rowOtherLength = rect[wh[idx1WhenH]]; // over+underflow\n  }\n\n  for (var i = 0, rowLen = row.length; i < rowLen; i++) {\n    var node = row[i];\n    var nodeLayout = {};\n    var step = rowOtherLength ? node.getLayout().area / rowOtherLength : 0;\n    var wh1 = nodeLayout[wh[idx1WhenH]] = mathMax(rowOtherLength - 2 * halfGapWidth, 0); // We use Math.max/min to avoid negative width/height when considering gap width.\n\n    var remain = rect[xy[idx0WhenH]] + rect[wh[idx0WhenH]] - last;\n    var modWH = i === rowLen - 1 || remain < step ? remain : step;\n    var wh0 = nodeLayout[wh[idx0WhenH]] = mathMax(modWH - 2 * halfGapWidth, 0);\n    nodeLayout[xy[idx1WhenH]] = rect[xy[idx1WhenH]] + mathMin(halfGapWidth, wh1 / 2);\n    nodeLayout[xy[idx0WhenH]] = last + mathMin(halfGapWidth, wh0 / 2);\n    last += modWH;\n    node.setLayout(nodeLayout, true);\n  }\n\n  rect[xy[idx1WhenH]] += rowOtherLength;\n  rect[wh[idx1WhenH]] -= rowOtherLength;\n} // Return [containerWidth, containerHeight] as defualt.\n\n\nfunction estimateRootSize(seriesModel, targetInfo, viewRoot, containerWidth, containerHeight) {\n  // If targetInfo.node exists, we zoom to the node,\n  // so estimate whold width and heigth by target node.\n  var currNode = (targetInfo || {}).node;\n  var defaultSize = [containerWidth, containerHeight];\n\n  if (!currNode || currNode === viewRoot) {\n    return defaultSize;\n  }\n\n  var parent;\n  var viewArea = containerWidth * containerHeight;\n  var area = viewArea * seriesModel.option.zoomToNodeRatio;\n\n  while (parent = currNode.parentNode) {\n    // jshint ignore:line\n    var sum = 0;\n    var siblings = parent.children;\n\n    for (var i = 0, len = siblings.length; i < len; i++) {\n      sum += siblings[i].getValue();\n    }\n\n    var currNodeValue = currNode.getValue();\n\n    if (currNodeValue === 0) {\n      return defaultSize;\n    }\n\n    area *= sum / currNodeValue; // Considering border, suppose aspect ratio is 1.\n\n    var parentModel = parent.getModel();\n    var borderWidth = parentModel.get(PATH_BORDER_WIDTH);\n    var upperHeight = Math.max(borderWidth, getUpperLabelHeight(parentModel, borderWidth));\n    area += 4 * borderWidth * borderWidth + (3 * borderWidth + upperHeight) * Math.pow(area, 0.5);\n    area > MAX_SAFE_INTEGER && (area = MAX_SAFE_INTEGER);\n    currNode = parent;\n  }\n\n  area < viewArea && (area = viewArea);\n  var scale = Math.pow(area / viewArea, 0.5);\n  return [containerWidth * scale, containerHeight * scale];\n} // Root postion base on coord of containerGroup\n\n\nfunction calculateRootPosition(layoutInfo, rootRect, targetInfo) {\n  if (rootRect) {\n    return {\n      x: rootRect.x,\n      y: rootRect.y\n    };\n  }\n\n  var defaultPosition = {\n    x: 0,\n    y: 0\n  };\n\n  if (!targetInfo) {\n    return defaultPosition;\n  } // If targetInfo is fetched by 'retrieveTargetInfo',\n  // old tree and new tree are the same tree,\n  // so the node still exists and we can visit it.\n\n\n  var targetNode = targetInfo.node;\n  var layout = targetNode.getLayout();\n\n  if (!layout) {\n    return defaultPosition;\n  } // Transform coord from local to container.\n\n\n  var targetCenter = [layout.width / 2, layout.height / 2];\n  var node = targetNode;\n\n  while (node) {\n    var nodeLayout = node.getLayout();\n    targetCenter[0] += nodeLayout.x;\n    targetCenter[1] += nodeLayout.y;\n    node = node.parentNode;\n  }\n\n  return {\n    x: layoutInfo.width / 2 - targetCenter[0],\n    y: layoutInfo.height / 2 - targetCenter[1]\n  };\n} // Mark nodes visible for prunning when visual coding and rendering.\n// Prunning depends on layout and root position, so we have to do it after layout.\n\n\nfunction prunning(node, clipRect, viewAbovePath, viewRoot, depth) {\n  var nodeLayout = node.getLayout();\n  var nodeInViewAbovePath = viewAbovePath[depth];\n  var isAboveViewRoot = nodeInViewAbovePath && nodeInViewAbovePath === node;\n\n  if (nodeInViewAbovePath && !isAboveViewRoot || depth === viewAbovePath.length && node !== viewRoot) {\n    return;\n  }\n\n  node.setLayout({\n    // isInView means: viewRoot sub tree + viewAbovePath\n    isInView: true,\n    // invisible only means: outside view clip so that the node can not\n    // see but still layout for animation preparation but not render.\n    invisible: !isAboveViewRoot && !clipRect.intersect(nodeLayout),\n    isAboveViewRoot: isAboveViewRoot\n  }, true); // Transform to child coordinate.\n\n  var childClipRect = new BoundingRect(clipRect.x - nodeLayout.x, clipRect.y - nodeLayout.y, clipRect.width, clipRect.height);\n  each(node.viewChildren || [], function (child) {\n    prunning(child, childClipRect, viewAbovePath, viewRoot, depth + 1);\n  });\n}\n\nfunction getUpperLabelHeight(model) {\n  return model.get(PATH_UPPER_LABEL_SHOW) ? model.get(PATH_UPPER_LABEL_HEIGHT) : 0;\n}\n\nmodule.exports = _default;","var VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar isArray = zrUtil.isArray;\nvar ITEM_STYLE_NORMAL = 'itemStyle.normal';\n\nfunction _default(ecModel, api, payload) {\n  var condition = {\n    mainType: 'series',\n    subType: 'treemap',\n    query: payload\n  };\n  ecModel.eachComponent(condition, function (seriesModel) {\n    var tree = seriesModel.getData().tree;\n    var root = tree.root;\n    var seriesItemStyleModel = seriesModel.getModel(ITEM_STYLE_NORMAL);\n\n    if (root.isRemoved()) {\n      return;\n    }\n\n    var levelItemStyles = zrUtil.map(tree.levelModels, function (levelModel) {\n      return levelModel ? levelModel.get(ITEM_STYLE_NORMAL) : null;\n    });\n    travelTree(root, // Visual should calculate from tree root but not view root.\n    {}, levelItemStyles, seriesItemStyleModel, seriesModel.getViewRoot().getAncestors(), seriesModel);\n  });\n}\n\nfunction travelTree(node, designatedVisual, levelItemStyles, seriesItemStyleModel, viewRootAncestors, seriesModel) {\n  var nodeModel = node.getModel();\n  var nodeLayout = node.getLayout(); // Optimize\n\n  if (!nodeLayout || nodeLayout.invisible || !nodeLayout.isInView) {\n    return;\n  }\n\n  var nodeItemStyleModel = node.getModel(ITEM_STYLE_NORMAL);\n  var levelItemStyle = levelItemStyles[node.depth];\n  var visuals = buildVisuals(nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel); // calculate border color\n\n  var borderColor = nodeItemStyleModel.get('borderColor');\n  var borderColorSaturation = nodeItemStyleModel.get('borderColorSaturation');\n  var thisNodeColor;\n\n  if (borderColorSaturation != null) {\n    // For performance, do not always execute 'calculateColor'.\n    thisNodeColor = calculateColor(visuals, node);\n    borderColor = calculateBorderColor(borderColorSaturation, thisNodeColor);\n  }\n\n  node.setVisual('borderColor', borderColor);\n  var viewChildren = node.viewChildren;\n\n  if (!viewChildren || !viewChildren.length) {\n    thisNodeColor = calculateColor(visuals, node); // Apply visual to this node.\n\n    node.setVisual('color', thisNodeColor);\n  } else {\n    var mapping = buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren); // Designate visual to children.\n\n    zrUtil.each(viewChildren, function (child, index) {\n      // If higher than viewRoot, only ancestors of viewRoot is needed to visit.\n      if (child.depth >= viewRootAncestors.length || child === viewRootAncestors[child.depth]) {\n        var childVisual = mapVisual(nodeModel, visuals, child, index, mapping, seriesModel);\n        travelTree(child, childVisual, levelItemStyles, seriesItemStyleModel, viewRootAncestors, seriesModel);\n      }\n    });\n  }\n}\n\nfunction buildVisuals(nodeItemStyleModel, designatedVisual, levelItemStyle, seriesItemStyleModel) {\n  var visuals = zrUtil.extend({}, designatedVisual);\n  zrUtil.each(['color', 'colorAlpha', 'colorSaturation'], function (visualName) {\n    // Priority: thisNode > thisLevel > parentNodeDesignated > seriesModel\n    var val = nodeItemStyleModel.get(visualName, true); // Ignore parent\n\n    val == null && levelItemStyle && (val = levelItemStyle[visualName]);\n    val == null && (val = designatedVisual[visualName]);\n    val == null && (val = seriesItemStyleModel.get(visualName));\n    val != null && (visuals[visualName] = val);\n  });\n  return visuals;\n}\n\nfunction calculateColor(visuals) {\n  var color = getValueVisualDefine(visuals, 'color');\n\n  if (color) {\n    var colorAlpha = getValueVisualDefine(visuals, 'colorAlpha');\n    var colorSaturation = getValueVisualDefine(visuals, 'colorSaturation');\n\n    if (colorSaturation) {\n      color = zrColor.modifyHSL(color, null, null, colorSaturation);\n    }\n\n    if (colorAlpha) {\n      color = zrColor.modifyAlpha(color, colorAlpha);\n    }\n\n    return color;\n  }\n}\n\nfunction calculateBorderColor(borderColorSaturation, thisNodeColor) {\n  return thisNodeColor != null ? zrColor.modifyHSL(thisNodeColor, null, null, borderColorSaturation) : null;\n}\n\nfunction getValueVisualDefine(visuals, name) {\n  var value = visuals[name];\n\n  if (value != null && value !== 'none') {\n    return value;\n  }\n}\n\nfunction buildVisualMapping(node, nodeModel, nodeLayout, nodeItemStyleModel, visuals, viewChildren) {\n  if (!viewChildren || !viewChildren.length) {\n    return;\n  }\n\n  var rangeVisual = getRangeVisual(nodeModel, 'color') || visuals.color != null && visuals.color !== 'none' && (getRangeVisual(nodeModel, 'colorAlpha') || getRangeVisual(nodeModel, 'colorSaturation'));\n\n  if (!rangeVisual) {\n    return;\n  }\n\n  var visualMin = nodeModel.get('visualMin');\n  var visualMax = nodeModel.get('visualMax');\n  var dataExtent = nodeLayout.dataExtent.slice();\n  visualMin != null && visualMin < dataExtent[0] && (dataExtent[0] = visualMin);\n  visualMax != null && visualMax > dataExtent[1] && (dataExtent[1] = visualMax);\n  var colorMappingBy = nodeModel.get('colorMappingBy');\n  var opt = {\n    type: rangeVisual.name,\n    dataExtent: dataExtent,\n    visual: rangeVisual.range\n  };\n\n  if (opt.type === 'color' && (colorMappingBy === 'index' || colorMappingBy === 'id')) {\n    opt.mappingMethod = 'category';\n    opt.loop = true; // categories is ordinal, so do not set opt.categories.\n  } else {\n    opt.mappingMethod = 'linear';\n  }\n\n  var mapping = new VisualMapping(opt);\n  mapping.__drColorMappingBy = colorMappingBy;\n  return mapping;\n} // Notice: If we dont have the attribute 'colorRange', but only use\n// attribute 'color' to represent both concepts of 'colorRange' and 'color',\n// (It means 'colorRange' when 'color' is Array, means 'color' when not array),\n// this problem will be encountered:\n// If a level-1 node dont have children, and its siblings has children,\n// and colorRange is set on level-1, then the node can not be colored.\n// So we separate 'colorRange' and 'color' to different attributes.\n\n\nfunction getRangeVisual(nodeModel, name) {\n  // 'colorRange', 'colorARange', 'colorSRange'.\n  // If not exsits on this node, fetch from levels and series.\n  var range = nodeModel.get(name);\n  return isArray(range) && range.length ? {\n    name: name,\n    range: range\n  } : null;\n}\n\nfunction mapVisual(nodeModel, visuals, child, index, mapping, seriesModel) {\n  var childVisuals = zrUtil.extend({}, visuals);\n\n  if (mapping) {\n    var mappingType = mapping.type;\n    var colorMappingBy = mappingType === 'color' && mapping.__drColorMappingBy;\n    var value = colorMappingBy === 'index' ? index : colorMappingBy === 'id' ? seriesModel.mapIdToIndex(child.getId()) : child.getValue(nodeModel.get('visualDimension'));\n    childVisuals[mappingType] = mapping.mapValueToVisual(value);\n  }\n\n  return childVisuals;\n}\n\nmodule.exports = _default;","require(\"../coord/polar/polarCreator\");\n\nrequire(\"./axis/AngleAxisView\");","var formatUtil = require(\"../../util/format\");\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\nvar PolarAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n\n    if (axis.dim === 'angle') {\n      this.animationThreshold = Math.PI / 18;\n    }\n\n    var polar = axis.polar;\n    var otherAxis = polar.getOtherAxis(axis);\n    var otherExtent = otherAxis.getExtent();\n    var coordValue;\n    coordValue = axis['dataTo' + formatUtil.capitalFirst(axis.dim)](value);\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, polar, coordValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var labelMargin = axisPointerModel.get('label.margin');\n    var labelPos = getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin);\n    viewHelper.buildLabelElOption(elOption, axisModel, axisPointerModel, api, labelPos);\n  } // Do not support handle, utill any user requires it.\n\n});\n\nfunction getLabelPosition(value, axisModel, axisPointerModel, polar, labelMargin) {\n  var axis = axisModel.axis;\n  var coord = axis.dataToCoord(value);\n  var axisAngle = polar.getAngleAxis().getExtent()[0];\n  axisAngle = axisAngle / 180 * Math.PI;\n  var radiusExtent = polar.getRadiusAxis().getExtent();\n  var position;\n  var align;\n  var verticalAlign;\n\n  if (axis.dim === 'radius') {\n    var transform = matrix.create();\n    matrix.rotate(transform, transform, axisAngle);\n    matrix.translate(transform, transform, [polar.cx, polar.cy]);\n    position = graphic.applyTransform([coord, -labelMargin], transform);\n    var labelRotation = axisModel.getModel('axisLabel').get('rotate') || 0;\n    var labelLayout = AxisBuilder.innerTextLayout(axisAngle, labelRotation * Math.PI / 180, -1);\n    align = labelLayout.textAlign;\n    verticalAlign = labelLayout.textVerticalAlign;\n  } else {\n    // angle axis\n    var r = radiusExtent[1];\n    position = polar.coordToPoint([r + labelMargin, coord]);\n    var cx = polar.cx;\n    var cy = polar.cy;\n    align = Math.abs(position[0] - cx) / r < 0.3 ? 'center' : position[0] > cx ? 'left' : 'right';\n    verticalAlign = Math.abs(position[1] - cy) / r < 0.3 ? 'middle' : position[1] > cy ? 'top' : 'bottom';\n  }\n\n  return {\n    position: position,\n    align: align,\n    verticalAlign: verticalAlign\n  };\n}\n\nvar pointerShapeBuilder = {\n  line: function (axis, polar, coordValue, otherExtent, elStyle) {\n    return axis.dim === 'angle' ? {\n      type: 'Line',\n      shape: viewHelper.makeLineShape(polar.coordToPoint([otherExtent[0], coordValue]), polar.coordToPoint([otherExtent[1], coordValue]))\n    } : {\n      type: 'Circle',\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: coordValue\n      }\n    };\n  },\n  shadow: function (axis, polar, coordValue, otherExtent, elStyle) {\n    var bandWidth = axis.getBandWidth();\n    var radian = Math.PI / 180;\n    return axis.dim === 'angle' ? {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, otherExtent[0], otherExtent[1], // In ECharts y is negative if angle is positive\n      (-coordValue - bandWidth / 2) * radian, (-coordValue + bandWidth / 2) * radian)\n    } : {\n      type: 'Sector',\n      shape: viewHelper.makeSectorShape(polar.cx, polar.cy, coordValue - bandWidth / 2, coordValue + bandWidth / 2, 0, Math.PI * 2)\n    };\n  }\n};\nAxisView.registerAxisPointerClass('PolarAxisPointer', PolarAxisPointer);\nvar _default = PolarAxisPointer;\nmodule.exports = _default;","var graphic = require(\"../../util/graphic\");\n\nvar BaseAxisPointer = require(\"./BaseAxisPointer\");\n\nvar viewHelper = require(\"./viewHelper\");\n\nvar singleAxisHelper = require(\"../axis/singleAxisHelper\");\n\nvar AxisView = require(\"../axis/AxisView\");\n\nvar XY = ['x', 'y'];\nvar WH = ['width', 'height'];\nvar SingleAxisPointer = BaseAxisPointer.extend({\n  /**\n   * @override\n   */\n  makeElOption: function (elOption, value, axisModel, axisPointerModel, api) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var otherExtent = getGlobalExtent(coordSys, 1 - getPointDimIndex(axis));\n    var pixelValue = coordSys.dataToPoint(value)[0];\n    var axisPointerType = axisPointerModel.get('type');\n\n    if (axisPointerType && axisPointerType !== 'none') {\n      var elStyle = viewHelper.buildElStyle(axisPointerModel);\n      var pointerOption = pointerShapeBuilder[axisPointerType](axis, pixelValue, otherExtent, elStyle);\n      pointerOption.style = elStyle;\n      elOption.graphicKey = pointerOption.type;\n      elOption.pointer = pointerOption;\n    }\n\n    var layoutInfo = singleAxisHelper.layout(axisModel);\n    viewHelper.buildCartesianSingleLabelElOption(value, elOption, layoutInfo, axisModel, axisPointerModel, api);\n  },\n\n  /**\n   * @override\n   */\n  getHandleTransform: function (value, axisModel, axisPointerModel) {\n    var layoutInfo = singleAxisHelper.layout(axisModel, {\n      labelInside: false\n    });\n    layoutInfo.labelMargin = axisPointerModel.get('handle.margin');\n    return {\n      position: viewHelper.getTransformedPosition(axisModel.axis, value, layoutInfo),\n      rotation: layoutInfo.rotation + (layoutInfo.labelDirection < 0 ? Math.PI : 0)\n    };\n  },\n\n  /**\n   * @override\n   */\n  updateHandleTransform: function (transform, delta, axisModel, axisPointerModel) {\n    var axis = axisModel.axis;\n    var coordSys = axis.coordinateSystem;\n    var dimIndex = getPointDimIndex(axis);\n    var axisExtent = getGlobalExtent(coordSys, dimIndex);\n    var currPosition = transform.position;\n    currPosition[dimIndex] += delta[dimIndex];\n    currPosition[dimIndex] = Math.min(axisExtent[1], currPosition[dimIndex]);\n    currPosition[dimIndex] = Math.max(axisExtent[0], currPosition[dimIndex]);\n    var otherExtent = getGlobalExtent(coordSys, 1 - dimIndex);\n    var cursorOtherValue = (otherExtent[1] + otherExtent[0]) / 2;\n    var cursorPoint = [cursorOtherValue, cursorOtherValue];\n    cursorPoint[dimIndex] = currPosition[dimIndex];\n    return {\n      position: currPosition,\n      rotation: transform.rotation,\n      cursorPoint: cursorPoint,\n      tooltipOption: {\n        verticalAlign: 'middle'\n      }\n    };\n  }\n});\nvar pointerShapeBuilder = {\n  line: function (axis, pixelValue, otherExtent, elStyle) {\n    var targetShape = viewHelper.makeLineShape([pixelValue, otherExtent[0]], [pixelValue, otherExtent[1]], getPointDimIndex(axis));\n    graphic.subPixelOptimizeLine({\n      shape: targetShape,\n      style: elStyle\n    });\n    return {\n      type: 'Line',\n      shape: targetShape\n    };\n  },\n  shadow: function (axis, pixelValue, otherExtent, elStyle) {\n    var bandWidth = axis.getBandWidth();\n    var span = otherExtent[1] - otherExtent[0];\n    return {\n      type: 'Rect',\n      shape: viewHelper.makeRectShape([pixelValue - bandWidth / 2, otherExtent[0]], [bandWidth, span], getPointDimIndex(axis))\n    };\n  }\n};\n\nfunction getPointDimIndex(axis) {\n  return axis.isHorizontal() ? 0 : 1;\n}\n\nfunction getGlobalExtent(coordSys, dimIndex) {\n  var rect = coordSys.getRect();\n  return [rect[XY[dimIndex]], rect[XY[dimIndex]] + rect[WH[dimIndex]]];\n}\n\nAxisView.registerAxisPointerClass('SingleAxisPointer', SingleAxisPointer);\nvar _default = SingleAxisPointer;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar elementList = ['axisLine', 'axisLabel', 'axisTick', 'splitLine', 'splitArea'];\n\nfunction getAxisLineShape(polar, rExtent, angle) {\n  rExtent[1] > rExtent[0] && (rExtent = rExtent.slice().reverse());\n  var start = polar.coordToPoint([rExtent[0], angle]);\n  var end = polar.coordToPoint([rExtent[1], angle]);\n  return {\n    x1: start[0],\n    y1: start[1],\n    x2: end[0],\n    y2: end[1]\n  };\n}\n\nfunction getRadiusIdx(polar) {\n  var radiusAxis = polar.getRadiusAxis();\n  return radiusAxis.inverse ? 0 : 1;\n}\n\nvar _default = AxisView.extend({\n  type: 'angleAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (angleAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!angleAxisModel.get('show')) {\n      return;\n    }\n\n    var angleAxis = angleAxisModel.axis;\n    var polar = angleAxis.polar;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var ticksAngles = angleAxis.getTicksCoords();\n\n    if (angleAxis.type !== 'category') {\n      // Remove the last tick which will overlap the first tick\n      ticksAngles.pop();\n    }\n\n    zrUtil.each(elementList, function (name) {\n      if (angleAxisModel.get(name + '.show') && (!angleAxis.scale.isBlank() || name === 'axisLine')) {\n        this['_' + name](angleAxisModel, polar, ticksAngles, radiusExtent);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _axisLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var lineStyleModel = angleAxisModel.getModel('axisLine.lineStyle');\n    var circle = new graphic.Circle({\n      shape: {\n        cx: polar.cx,\n        cy: polar.cy,\n        r: radiusExtent[getRadiusIdx(polar)]\n      },\n      style: lineStyleModel.getLineStyle(),\n      z2: 1,\n      silent: true\n    });\n    circle.style.fill = null;\n    this.group.add(circle);\n  },\n\n  /**\n   * @private\n   */\n  _axisTick: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var tickModel = angleAxisModel.getModel('axisTick');\n    var tickLen = (tickModel.get('inside') ? -1 : 1) * tickModel.get('length');\n    var radius = radiusExtent[getRadiusIdx(polar)];\n    var lines = zrUtil.map(ticksAngles, function (tickAngle) {\n      return new graphic.Line({\n        shape: getAxisLineShape(polar, [radius, radius + tickLen], tickAngle)\n      });\n    });\n    this.group.add(graphic.mergePath(lines, {\n      style: zrUtil.defaults(tickModel.getModel('lineStyle').getLineStyle(), {\n        stroke: angleAxisModel.get('axisLine.lineStyle.color')\n      })\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _axisLabel: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var axis = angleAxisModel.axis;\n    var categoryData = angleAxisModel.get('data');\n    var labelModel = angleAxisModel.getModel('axisLabel');\n    var labels = angleAxisModel.getFormattedLabels();\n    var labelMargin = labelModel.get('margin');\n    var labelsAngles = axis.getLabelsCoords(); // Use length of ticksAngles because it may remove the last tick to avoid overlapping\n\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var r = radiusExtent[getRadiusIdx(polar)];\n      var p = polar.coordToPoint([r + labelMargin, labelsAngles[i]]);\n      var cx = polar.cx;\n      var cy = polar.cy;\n      var labelTextAlign = Math.abs(p[0] - cx) / r < 0.3 ? 'center' : p[0] > cx ? 'left' : 'right';\n      var labelTextVerticalAlign = Math.abs(p[1] - cy) / r < 0.3 ? 'middle' : p[1] > cy ? 'top' : 'bottom';\n\n      if (categoryData && categoryData[i] && categoryData[i].textStyle) {\n        labelModel = new Model(categoryData[i].textStyle, labelModel, labelModel.ecModel);\n      }\n\n      var textEl = new graphic.Text({\n        silent: true\n      });\n      this.group.add(textEl);\n      graphic.setTextStyle(textEl.style, labelModel, {\n        x: p[0],\n        y: p[1],\n        textFill: labelModel.getTextColor() || angleAxisModel.get('axisLine.lineStyle.color'),\n        text: labels[i],\n        textAlign: labelTextAlign,\n        textVerticalAlign: labelTextVerticalAlign\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var splitLineModel = angleAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line({\n        shape: getAxisLineShape(polar, radiusExtent, ticksAngles[i])\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length]\n        }, lineStyleModel.getLineStyle()),\n        silent: true,\n        z: angleAxisModel.get('z')\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (angleAxisModel, polar, ticksAngles, radiusExtent) {\n    var splitAreaModel = angleAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var RADIAN = Math.PI / 180;\n    var prevAngle = -ticksAngles[0] * RADIAN;\n    var r0 = Math.min(radiusExtent[0], radiusExtent[1]);\n    var r1 = Math.max(radiusExtent[0], radiusExtent[1]);\n    var clockwise = angleAxisModel.get('clockwise');\n\n    for (var i = 1; i < ticksAngles.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: r0,\n          r: r1,\n          startAngle: prevAngle,\n          endAngle: -ticksAngles[i] * RADIAN,\n          clockwise: clockwise\n        },\n        silent: true\n      }));\n      prevAngle = -ticksAngles[i] * RADIAN;\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar BrushController = require(\"../helper/BrushController\");\n\nvar brushHelper = require(\"../helper/brushHelper\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar elementList = ['axisLine', 'axisTickLabel', 'axisName'];\nvar AxisView = echarts.extendComponentView({\n  type: 'parallelAxis',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    AxisView.superApply(this, 'init', arguments);\n    /**\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this));\n  },\n\n  /**\n   * @override\n   */\n  render: function (axisModel, ecModel, api, payload) {\n    if (fromAxisAreaSelect(axisModel, ecModel, payload)) {\n      return;\n    }\n\n    this.axisModel = axisModel;\n    this.api = api;\n    this.group.removeAll();\n    var oldAxisGroup = this._axisGroup;\n    this._axisGroup = new graphic.Group();\n    this.group.add(this._axisGroup);\n\n    if (!axisModel.get('show')) {\n      return;\n    }\n\n    var coordSysModel = getCoordSysModel(axisModel, ecModel);\n    var coordSys = coordSysModel.coordinateSystem;\n    var areaSelectStyle = axisModel.getAreaSelectStyle();\n    var areaWidth = areaSelectStyle.width;\n    var dim = axisModel.axis.dim;\n    var axisLayout = coordSys.getAxisLayout(dim);\n    var builderOpt = zrUtil.extend({\n      strokeContainThreshold: areaWidth\n    }, axisLayout);\n    var axisBuilder = new AxisBuilder(axisModel, builderOpt);\n    zrUtil.each(elementList, axisBuilder.add, axisBuilder);\n\n    this._axisGroup.add(axisBuilder.getGroup());\n\n    this._refreshBrushController(builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api);\n\n    var animationModel = payload && payload.animation === false ? null : axisModel;\n    graphic.groupTransition(oldAxisGroup, this._axisGroup, animationModel);\n  },\n\n  /**\n   * @override\n   */\n  updateVisual: function (axisModel, ecModel, api, payload) {\n    this._brushController && this._brushController.updateCovers(getCoverInfoList(axisModel));\n  },\n  _refreshBrushController: function (builderOpt, areaSelectStyle, axisModel, coordSysModel, areaWidth, api) {\n    // After filtering, axis may change, select area needs to be update.\n    var extent = axisModel.axis.getExtent();\n    var extentLen = extent[1] - extent[0];\n    var extra = Math.min(30, Math.abs(extentLen) * 0.1); // Arbitrary value.\n    // width/height might be negative, which will be\n    // normalized in BoundingRect.\n\n    var rect = graphic.BoundingRect.create({\n      x: extent[0],\n      y: -areaWidth / 2,\n      width: extentLen,\n      height: areaWidth\n    });\n    rect.x -= extra;\n    rect.width += 2 * extra;\n\n    this._brushController.mount({\n      enableGlobalPan: true,\n      rotation: builderOpt.rotation,\n      position: builderOpt.position\n    }).setPanels([{\n      panelId: 'pl',\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect, 0)\n    }]).enableBrush({\n      brushType: 'lineX',\n      brushStyle: areaSelectStyle,\n      removeOnClick: true\n    }).updateCovers(getCoverInfoList(axisModel));\n  },\n  _onBrush: function (coverInfoList, opt) {\n    // Do not cache these object, because the mey be changed.\n    var axisModel = this.axisModel;\n    var axis = axisModel.axis;\n    var intervals = zrUtil.map(coverInfoList, function (coverInfo) {\n      return [axis.coordToData(coverInfo.range[0], true), axis.coordToData(coverInfo.range[1], true)];\n    }); // If realtime is true, action is not dispatched on drag end, because\n    // the drag end emits the same params with the last drag move event,\n    // and may have some delay when using touch pad.\n\n    if (!axisModel.option.realtime === opt.isEnd || opt.removeOnClick) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'axisAreaSelect',\n        parallelAxisId: axisModel.id,\n        intervals: intervals\n      });\n    }\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  }\n});\n\nfunction fromAxisAreaSelect(axisModel, ecModel, payload) {\n  return payload && payload.type === 'axisAreaSelect' && ecModel.findComponents({\n    mainType: 'parallelAxis',\n    query: payload\n  })[0] === axisModel;\n}\n\nfunction getCoverInfoList(axisModel) {\n  var axis = axisModel.axis;\n  return zrUtil.map(axisModel.activeIntervals, function (interval) {\n    return {\n      brushType: 'lineX',\n      panelId: 'pl',\n      range: [axis.dataToCoord(interval[0], true), axis.dataToCoord(interval[1], true)]\n    };\n  });\n}\n\nfunction getCoordSysModel(axisModel, ecModel) {\n  return ecModel.getComponent('parallel', axisModel.get('parallelIndex'));\n}\n\nvar _default = AxisView;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttrs = ['splitLine', 'splitArea'];\n\nvar _default = AxisView.extend({\n  type: 'radiusAxis',\n  axisPointerClass: 'PolarAxisPointer',\n  render: function (radiusAxisModel, ecModel) {\n    this.group.removeAll();\n\n    if (!radiusAxisModel.get('show')) {\n      return;\n    }\n\n    var radiusAxis = radiusAxisModel.axis;\n    var polar = radiusAxis.polar;\n    var angleAxis = polar.getAngleAxis();\n    var ticksCoords = radiusAxis.getTicksCoords();\n    var axisAngle = angleAxis.getExtent()[0];\n    var radiusExtent = radiusAxis.getExtent();\n    var layout = layoutAxis(polar, radiusAxisModel, axisAngle);\n    var axisBuilder = new AxisBuilder(radiusAxisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    this.group.add(axisBuilder.getGroup());\n    zrUtil.each(selfBuilderAttrs, function (name) {\n      if (radiusAxisModel.get(name + '.show') && !radiusAxis.scale.isBlank()) {\n        this['_' + name](radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords);\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _splitLine: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitLineModel = radiusAxisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineColors = lineStyleModel.get('color');\n    var lineCount = 0;\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var splitLines = [];\n\n    for (var i = 0; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Circle({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r: ticksCoords[i]\n        },\n        silent: true\n      }));\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitLines.length; i++) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: zrUtil.defaults({\n          stroke: lineColors[i % lineColors.length],\n          fill: null\n        }, lineStyleModel.getLineStyle()),\n        silent: true\n      }));\n    }\n  },\n\n  /**\n   * @private\n   */\n  _splitArea: function (radiusAxisModel, polar, axisAngle, radiusExtent, ticksCoords) {\n    var splitAreaModel = radiusAxisModel.getModel('splitArea');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var areaColors = areaStyleModel.get('color');\n    var lineCount = 0;\n    areaColors = areaColors instanceof Array ? areaColors : [areaColors];\n    var splitAreas = [];\n    var prevRadius = ticksCoords[0];\n\n    for (var i = 1; i < ticksCoords.length; i++) {\n      var colorIndex = lineCount++ % areaColors.length;\n      splitAreas[colorIndex] = splitAreas[colorIndex] || [];\n      splitAreas[colorIndex].push(new graphic.Sector({\n        shape: {\n          cx: polar.cx,\n          cy: polar.cy,\n          r0: prevRadius,\n          r: ticksCoords[i],\n          startAngle: 0,\n          endAngle: Math.PI * 2\n        },\n        silent: true\n      }));\n      prevRadius = ticksCoords[i];\n    } // Simple optimization\n    // Batching the lines if color are the same\n\n\n    for (var i = 0; i < splitAreas.length; i++) {\n      this.group.add(graphic.mergePath(splitAreas[i], {\n        style: zrUtil.defaults({\n          fill: areaColors[i % areaColors.length]\n        }, areaStyleModel.getAreaStyle()),\n        silent: true\n      }));\n    }\n  }\n});\n/**\n * @inner\n */\n\n\nfunction layoutAxis(polar, radiusAxisModel, axisAngle) {\n  return {\n    position: [polar.cx, polar.cy],\n    rotation: axisAngle / 180 * Math.PI,\n    labelDirection: -1,\n    tickDirection: -1,\n    nameDirection: 1,\n    labelRotate: radiusAxisModel.getModel('axisLabel').get('rotate'),\n    // Over splitLine and splitArea\n    z2: 1\n  };\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"./AxisBuilder\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar singleAxisHelper = require(\"./singleAxisHelper\");\n\nvar AxisView = require(\"./AxisView\");\n\nvar getInterval = AxisBuilder.getInterval;\nvar ifIgnoreOnTick = AxisBuilder.ifIgnoreOnTick;\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\nvar selfBuilderAttr = 'splitLine';\nvar SingleAxisView = AxisView.extend({\n  type: 'singleAxis',\n  axisPointerClass: 'SingleAxisPointer',\n  render: function (axisModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n    var layout = singleAxisHelper.layout(axisModel);\n    var axisBuilder = new AxisBuilder(axisModel, layout);\n    zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n    group.add(axisBuilder.getGroup());\n\n    if (axisModel.get(selfBuilderAttr + '.show')) {\n      this['_' + selfBuilderAttr](axisModel, layout.labelInterval);\n    }\n\n    SingleAxisView.superCall(this, 'render', axisModel, ecModel, api, payload);\n  },\n  _splitLine: function (axisModel, labelInterval) {\n    var axis = axisModel.axis;\n\n    if (axis.scale.isBlank()) {\n      return;\n    }\n\n    var splitLineModel = axisModel.getModel('splitLine');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var lineWidth = lineStyleModel.get('width');\n    var lineColors = lineStyleModel.get('color');\n    var lineInterval = getInterval(splitLineModel, labelInterval);\n    lineColors = lineColors instanceof Array ? lineColors : [lineColors];\n    var gridRect = axisModel.coordinateSystem.getRect();\n    var isHorizontal = axis.isHorizontal();\n    var splitLines = [];\n    var lineCount = 0;\n    var ticksCoords = axis.getTicksCoords();\n    var p1 = [];\n    var p2 = [];\n    var showMinLabel = axisModel.get('axisLabel.showMinLabel');\n    var showMaxLabel = axisModel.get('axisLabel.showMaxLabel');\n\n    for (var i = 0; i < ticksCoords.length; ++i) {\n      if (ifIgnoreOnTick(axis, i, lineInterval, ticksCoords.length, showMinLabel, showMaxLabel)) {\n        continue;\n      }\n\n      var tickCoord = axis.toGlobalCoord(ticksCoords[i]);\n\n      if (isHorizontal) {\n        p1[0] = tickCoord;\n        p1[1] = gridRect.y;\n        p2[0] = tickCoord;\n        p2[1] = gridRect.y + gridRect.height;\n      } else {\n        p1[0] = gridRect.x;\n        p1[1] = tickCoord;\n        p2[0] = gridRect.x + gridRect.width;\n        p2[1] = tickCoord;\n      }\n\n      var colorIndex = lineCount++ % lineColors.length;\n      splitLines[colorIndex] = splitLines[colorIndex] || [];\n      splitLines[colorIndex].push(new graphic.Line(graphic.subPixelOptimizeLine({\n        shape: {\n          x1: p1[0],\n          y1: p1[1],\n          x2: p2[0],\n          y2: p2[1]\n        },\n        style: {\n          lineWidth: lineWidth\n        },\n        silent: true\n      })));\n    }\n\n    for (var i = 0; i < splitLines.length; ++i) {\n      this.group.add(graphic.mergePath(splitLines[i], {\n        style: {\n          stroke: lineColors[i % lineColors.length],\n          lineDash: lineStyleModel.getLineDash(lineWidth),\n          lineWidth: lineWidth\n        },\n        silent: true\n      }));\n    }\n  }\n});\nvar _default = SingleAxisView;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\n/**\n * @payload\n * @property {string} parallelAxisId\n * @property {Array.<Array.<number>>} intervals\n */\nvar actionInfo = {\n  type: 'axisAreaSelect',\n  event: 'axisAreaSelected',\n  update: 'updateVisual'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallelAxis',\n    query: payload\n  }, function (parallelAxisModel) {\n    parallelAxisModel.axis.model.setActiveIntervals(payload.intervals);\n  });\n});\n/**\n * @payload\n */\n\necharts.registerAction('parallelAxisExpand', function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'parallel',\n    query: payload\n  }, function (parallelModel) {\n    parallelModel.setAxisExpand(payload);\n  });\n});","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @param {Object} opt {labelInside}\n * @return {Object} {\n *  position, rotation, labelDirection, labelOffset,\n *  tickDirection, labelRotate, labelInterval, z2\n * }\n */\nfunction layout(axisModel, opt) {\n  opt = opt || {};\n  var single = axisModel.coordinateSystem;\n  var axis = axisModel.axis;\n  var layout = {};\n  var axisPosition = axis.position;\n  var orient = axis.orient;\n  var rect = single.getRect();\n  var rectBound = [rect.x, rect.x + rect.width, rect.y, rect.y + rect.height];\n  var positionMap = {\n    horizontal: {\n      top: rectBound[2],\n      bottom: rectBound[3]\n    },\n    vertical: {\n      left: rectBound[0],\n      right: rectBound[1]\n    }\n  };\n  layout.position = [orient === 'vertical' ? positionMap.vertical[axisPosition] : rectBound[0], orient === 'horizontal' ? positionMap.horizontal[axisPosition] : rectBound[3]];\n  var r = {\n    horizontal: 0,\n    vertical: 1\n  };\n  layout.rotation = Math.PI / 2 * r[orient];\n  var directionMap = {\n    top: -1,\n    bottom: 1,\n    right: 1,\n    left: -1\n  };\n  layout.labelDirection = layout.tickDirection = layout.nameDirection = directionMap[axisPosition];\n\n  if (axisModel.get('axisTick.inside')) {\n    layout.tickDirection = -layout.tickDirection;\n  }\n\n  if (zrUtil.retrieve(opt.labelInside, axisModel.get('axisLabel.inside'))) {\n    layout.labelDirection = -layout.labelDirection;\n  }\n\n  var labelRotation = opt.rotate;\n  labelRotation == null && (labelRotation = axisModel.get('axisLabel.rotate'));\n  layout.labelRotation = axisPosition === 'top' ? -labelRotation : labelRotation;\n  layout.labelInterval = axis.getLabelInterval();\n  layout.z2 = 1;\n  return layout;\n}\n\nexports.layout = layout;","var echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./brush/preprocessor\");\n\nrequire(\"./brush/visualEncoding\");\n\nrequire(\"./brush/BrushModel\");\n\nrequire(\"./brush/BrushView\");\n\nrequire(\"./brush/brushAction\");\n\nrequire(\"./toolbox/feature/Brush\");\n\n/**\n * Brush component entry\n */\necharts.registerPreprocessor(preprocessor);","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DEFAULT_OUT_OF_BRUSH_COLOR = ['#ddd'];\nvar BrushModel = echarts.extendComponentModel({\n  type: 'brush',\n  dependencies: ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    // inBrush: null,\n    // outOfBrush: null,\n    toolbox: null,\n    // Default value see preprocessor.\n    brushLink: null,\n    // Series indices array, broadcast using dataIndex.\n    // or 'all', which means all series. 'none' or null means no series.\n    seriesIndex: 'all',\n    // seriesIndex array, specify series controlled by this brush component.\n    geoIndex: null,\n    //\n    xAxisIndex: null,\n    yAxisIndex: null,\n    brushType: 'rect',\n    // Default brushType, see BrushController.\n    brushMode: 'single',\n    // Default brushMode, 'single' or 'multiple'\n    transformable: true,\n    // Default transformable.\n    brushStyle: {\n      // Default brushStyle\n      borderWidth: 1,\n      color: 'rgba(120,140,180,0.3)',\n      borderColor: 'rgba(120,140,180,0.8)'\n    },\n    throttleType: 'fixRate',\n    // Throttle in brushSelected event. 'fixRate' or 'debounce'.\n    // If null, no throttle. Valid only in the first brush component\n    throttleDelay: 0,\n    // Unit: ms, 0 means every event will be triggered.\n    // FIXME\n    // 试验效果\n    removeOnClick: true,\n    z: 10000\n  },\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  areas: [],\n\n  /**\n   * Current activated brush type.\n   * If null, brush is inactived.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {string}\n   */\n  brushType: null,\n\n  /**\n   * Current brush opt.\n   * see module:echarts/component/helper/BrushController\n   * @readOnly\n   * @type {Object}\n   */\n  brushOption: {},\n\n  /**\n   * @readOnly\n   * @type {Array.<Object>}\n   */\n  coordInfoList: [],\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, ['inBrush', 'outOfBrush']);\n    thisOption.inBrush = thisOption.inBrush || {}; // Always give default visual, consider setOption at the second time.\n\n    thisOption.outOfBrush = thisOption.outOfBrush || {\n      color: DEFAULT_OUT_OF_BRUSH_COLOR\n    };\n  },\n\n  /**\n   * If ranges is null/undefined, range state remain.\n   *\n   * @param {Array.<Object>} [ranges]\n   */\n  setAreas: function (areas) {\n    // If ranges is null/undefined, range state remain.\n    // This helps user to dispatchAction({type: 'brush'}) with no areas\n    // set but just want to get the current brush select info from a `brush` event.\n    if (!areas) {\n      return;\n    }\n\n    this.areas = zrUtil.map(areas, function (area) {\n      return generateBrushOption(this.option, area);\n    }, this);\n  },\n\n  /**\n   * see module:echarts/component/helper/BrushController\n   * @param {Object} brushOption\n   */\n  setBrushOption: function (brushOption) {\n    this.brushOption = generateBrushOption(this.option, brushOption);\n    this.brushType = this.brushOption.brushType;\n  }\n});\n\nfunction generateBrushOption(option, brushOption) {\n  return zrUtil.merge({\n    brushType: option.brushType,\n    brushMode: option.brushMode,\n    transformable: option.transformable,\n    brushStyle: new Model(option.brushStyle).getItemStyle(),\n    removeOnClick: option.removeOnClick,\n    z: option.z\n  }, brushOption, true);\n}\n\nvar _default = BrushModel;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../helper/BrushController\");\n\nvar _default = echarts.extendComponentView({\n  type: 'brush',\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/brush/BrushModel}\n     */\n\n    this.model;\n    /**\n     * @private\n     * @type {module:echarts/component/helper/BrushController}\n     */\n\n    (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  },\n\n  /**\n   * @override\n   */\n  render: function (brushModel) {\n    this.model = brushModel;\n    return updateController.apply(this, arguments);\n  },\n\n  /**\n   * @override\n   */\n  updateView: updateController,\n\n  /**\n   * @override\n   */\n  updateLayout: updateController,\n\n  /**\n   * @override\n   */\n  updateVisual: updateController,\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._brushController.dispose();\n  },\n\n  /**\n   * @private\n   */\n  _onBrush: function (areas, opt) {\n    var modelId = this.model.id;\n    this.model.brushTargetManager.setOutputRanges(areas, this.ecModel); // Action is not dispatched on drag end, because the drag end\n    // emits the same params with the last drag move event, and\n    // may have some delay when using touch pad, which makes\n    // animation not smooth (when using debounce).\n\n    (!opt.isEnd || opt.removeOnClick) && this.api.dispatchAction({\n      type: 'brush',\n      brushId: modelId,\n      areas: zrUtil.clone(areas),\n      $from: modelId\n    });\n  }\n});\n\nfunction updateController(brushModel, ecModel, api, payload) {\n  // Do not update controller when drawing.\n  (!payload || payload.$from !== brushModel.id) && this._brushController.setPanels(brushModel.brushTargetManager.makePanelOpts(api)).enableBrush(brushModel.brushOption).updateCovers(brushModel.areas.slice());\n}\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\n/**\n * payload: {\n *      brushIndex: number, or,\n *      brushId: string, or,\n *      brushName: string,\n *      globalRanges: Array\n * }\n */\necharts.registerAction({\n  type: 'brush',\n  event: 'brush',\n  update: 'updateView'\n}, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'brush',\n    query: payload\n  }, function (brushModel) {\n    brushModel.setAreas(payload.areas);\n  });\n});\n/**\n * payload: {\n *      brushComponents: [\n *          {\n *              brushId,\n *              brushIndex,\n *              brushName,\n *              series: [\n *                  {\n *                      seriesId,\n *                      seriesIndex,\n *                      seriesName,\n *                      rawIndices: [21, 34, ...]\n *                  },\n *                  ...\n *              ]\n *          },\n *          ...\n *      ]\n * }\n */\n\necharts.registerAction({\n  type: 'brushSelect',\n  event: 'brushSelected',\n  update: 'none'\n}, function () {});","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar DEFAULT_TOOLBOX_BTNS = ['rect', 'polygon', 'keep', 'clear'];\n\nfunction _default(option, isNew) {\n  var brushComponents = option && option.brush;\n\n  if (!zrUtil.isArray(brushComponents)) {\n    brushComponents = brushComponents ? [brushComponents] : [];\n  }\n\n  if (!brushComponents.length) {\n    return;\n  }\n\n  var brushComponentSpecifiedBtns = [];\n  zrUtil.each(brushComponents, function (brushOpt) {\n    var tbs = brushOpt.hasOwnProperty('toolbox') ? brushOpt.toolbox : [];\n\n    if (tbs instanceof Array) {\n      brushComponentSpecifiedBtns = brushComponentSpecifiedBtns.concat(tbs);\n    }\n  });\n  var toolbox = option && option.toolbox;\n\n  if (zrUtil.isArray(toolbox)) {\n    toolbox = toolbox[0];\n  }\n\n  if (!toolbox) {\n    toolbox = {\n      feature: {}\n    };\n    option.toolbox = [toolbox];\n  }\n\n  var toolboxFeature = toolbox.feature || (toolbox.feature = {});\n  var toolboxBrush = toolboxFeature.brush || (toolboxFeature.brush = {});\n  var brushTypes = toolboxBrush.type || (toolboxBrush.type = []);\n  brushTypes.push.apply(brushTypes, brushComponentSpecifiedBtns);\n  removeDuplicate(brushTypes);\n\n  if (isNew && !brushTypes.length) {\n    brushTypes.push.apply(brushTypes, DEFAULT_TOOLBOX_BTNS);\n  }\n}\n\nfunction removeDuplicate(arr) {\n  var map = {};\n  zrUtil.each(arr, function (val) {\n    map[val] = 1;\n  });\n  arr.length = 0;\n  zrUtil.each(map, function (flag, val) {\n    arr.push(val);\n  });\n}\n\nmodule.exports = _default;","var polygonContain = require(\"zrender/lib/contain/polygon\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\n// Key of the first level is brushType: `line`, `rect`, `polygon`.\n// Key of the second level is chart element type: `point`, `rect`.\n// See moudule:echarts/component/helper/BrushController\n// function param:\n//      {Object} itemLayout fetch from data.getItemLayout(dataIndex)\n//      {Object} selectors {point: selector, rect: selector, ...}\n//      {Object} area {range: [[], [], ..], boudingRect}\n// function return:\n//      {boolean} Whether in the given brush.\nvar selector = {\n  lineX: getLineSelectors(0),\n  lineY: getLineSelectors(1),\n  rect: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.intersect(itemLayout);\n    }\n  },\n  polygon: {\n    point: function (itemLayout, selectors, area) {\n      return itemLayout && area.boundingRect.contain(itemLayout[0], itemLayout[1]) && polygonContain.contain(area.range, itemLayout[0], itemLayout[1]);\n    },\n    rect: function (itemLayout, selectors, area) {\n      var points = area.range;\n\n      if (!itemLayout || points.length <= 1) {\n        return false;\n      }\n\n      var x = itemLayout.x;\n      var y = itemLayout.y;\n      var width = itemLayout.width;\n      var height = itemLayout.height;\n      var p = points[0];\n\n      if (polygonContain.contain(points, x, y) || polygonContain.contain(points, x + width, y) || polygonContain.contain(points, x, y + height) || polygonContain.contain(points, x + width, y + height) || BoundingRect.create(itemLayout).contain(p[0], p[1]) || lineIntersectPolygon(x, y, x + width, y, points) || lineIntersectPolygon(x, y, x, y + height, points) || lineIntersectPolygon(x + width, y, x + width, y + height, points) || lineIntersectPolygon(x, y + height, x + width, y + height, points)) {\n        return true;\n      }\n    }\n  }\n};\n\nfunction getLineSelectors(xyIndex) {\n  var xy = ['x', 'y'];\n  var wh = ['width', 'height'];\n  return {\n    point: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var p = itemLayout[xyIndex];\n        return inLineRange(p, range);\n      }\n    },\n    rect: function (itemLayout, selectors, area) {\n      if (itemLayout) {\n        var range = area.range;\n        var layoutRange = [itemLayout[xy[xyIndex]], itemLayout[xy[xyIndex]] + itemLayout[wh[xyIndex]]];\n        layoutRange[1] < layoutRange[0] && layoutRange.reverse();\n        return inLineRange(layoutRange[0], range) || inLineRange(layoutRange[1], range) || inLineRange(range[0], layoutRange) || inLineRange(range[1], layoutRange);\n      }\n    }\n  };\n}\n\nfunction inLineRange(p, range) {\n  return range[0] <= p && p <= range[1];\n}\n\nfunction lineIntersectPolygon(lx, ly, l2x, l2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineIntersect(lx, ly, l2x, l2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n} // Code from <http://blog.csdn.net/rickliuxiao/article/details/6259322> with some fix.\n// See <https://en.wikipedia.org/wiki/Line%E2%80%93line_intersection>\n\n\nfunction lineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  var delta = determinant(a2x - a1x, b1x - b2x, a2y - a1y, b1y - b2y);\n\n  if (nearZero(delta)) {\n    // parallel\n    return false;\n  }\n\n  var namenda = determinant(b1x - a1x, b1x - b2x, b1y - a1y, b1y - b2y) / delta;\n\n  if (namenda < 0 || namenda > 1) {\n    return false;\n  }\n\n  var miu = determinant(a2x - a1x, b1x - a1x, a2y - a1y, b1y - a1y) / delta;\n\n  if (miu < 0 || miu > 1) {\n    return false;\n  }\n\n  return true;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n}\n\nfunction determinant(v1, v2, v3, v4) {\n  return v1 * v4 - v2 * v3;\n}\n\nvar _default = selector;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar selector = require(\"./selector\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\nvar BrushTargetManager = require(\"../helper/BrushTargetManager\");\n\nvar STATE_LIST = ['inBrush', 'outOfBrush'];\nvar DISPATCH_METHOD = '__ecBrushSelect';\nvar DISPATCH_FLAG = '__ecInBrushSelectEvent';\nvar PRIORITY_BRUSH = echarts.PRIORITY.VISUAL.BRUSH;\n/**\n * Layout for visual, the priority higher than other layout, and before brush visual.\n */\n\necharts.registerLayout(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    payload && payload.type === 'takeGlobalCursor' && brushModel.setBrushOption(payload.key === 'brush' ? payload.brushOption : {\n      brushType: false\n    });\n    var brushTargetManager = brushModel.brushTargetManager = new BrushTargetManager(brushModel.option, ecModel);\n    brushTargetManager.setInputRanges(brushModel.areas, ecModel);\n  });\n});\n/**\n * Register the visual encoding if this modules required.\n */\n\necharts.registerVisual(PRIORITY_BRUSH, function (ecModel, api, payload) {\n  var brushSelected = [];\n  var throttleType;\n  var throttleDelay;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel, brushIndex) {\n    var thisBrushSelected = {\n      brushId: brushModel.id,\n      brushIndex: brushIndex,\n      brushName: brushModel.name,\n      areas: zrUtil.clone(brushModel.areas),\n      selected: []\n    }; // Every brush component exists in event params, convenient\n    // for user to find by index.\n\n    brushSelected.push(thisBrushSelected);\n    var brushOption = brushModel.option;\n    var brushLink = brushOption.brushLink;\n    var linkedSeriesMap = [];\n    var selectedDataIndexForLink = [];\n    var rangeInfoBySeries = [];\n    var hasBrushExists = 0;\n\n    if (!brushIndex) {\n      // Only the first throttle setting works.\n      throttleType = brushOption.throttleType;\n      throttleDelay = brushOption.throttleDelay;\n    } // Add boundingRect and selectors to range.\n\n\n    var areas = zrUtil.map(brushModel.areas, function (area) {\n      return bindSelector(zrUtil.defaults({\n        boundingRect: boundingRectBuilders[area.brushType](area)\n      }, area));\n    });\n    var visualMappings = visualSolution.createVisualMappings(brushModel.option, STATE_LIST, function (mappingOption) {\n      mappingOption.mappingMethod = 'fixed';\n    });\n    zrUtil.isArray(brushLink) && zrUtil.each(brushLink, function (seriesIndex) {\n      linkedSeriesMap[seriesIndex] = 1;\n    });\n\n    function linkOthers(seriesIndex) {\n      return brushLink === 'all' || linkedSeriesMap[seriesIndex];\n    } // If no supported brush or no brush on the series,\n    // all visuals should be in original state.\n\n\n    function brushed(rangeInfoList) {\n      return !!rangeInfoList.length;\n    }\n    /**\n     * Logic for each series: (If the logic has to be modified one day, do it carefully!)\n     *\n     * ( brushed ┬ && ┬hasBrushExist ┬ && linkOthers  ) => StepA: ┬record, ┬ StepB: ┬visualByRecord.\n     *   !brushed┘    ├hasBrushExist ┤                            └nothing,┘        ├visualByRecord.\n     *                └!hasBrushExist┘                                              └nothing.\n     * ( !brushed  && ┬hasBrushExist ┬ && linkOthers  ) => StepA:  nothing,  StepB: ┬visualByRecord.\n     *                └!hasBrushExist┘                                              └nothing.\n     * ( brushed ┬ &&                     !linkOthers ) => StepA:  nothing,  StepB: ┬visualByCheck.\n     *   !brushed┘                                                                  └nothing.\n     * ( !brushed  &&                     !linkOthers ) => StepA:  nothing,  StepB:  nothing.\n     */\n    // Step A\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var rangeInfoList = rangeInfoBySeries[seriesIndex] = [];\n      seriesModel.subType === 'parallel' ? stepAParallel(seriesModel, seriesIndex, rangeInfoList) : stepAOthers(seriesModel, seriesIndex, rangeInfoList);\n    });\n\n    function stepAParallel(seriesModel, seriesIndex) {\n      var coordSys = seriesModel.coordinateSystem;\n      hasBrushExists |= coordSys.hasAxisBrushed();\n      linkOthers(seriesIndex) && coordSys.eachActiveState(seriesModel.getData(), function (activeState, dataIndex) {\n        activeState === 'active' && (selectedDataIndexForLink[dataIndex] = 1);\n      });\n    }\n\n    function stepAOthers(seriesModel, seriesIndex, rangeInfoList) {\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n\n      if (!selectorsByBrushType || brushModelNotControll(brushModel, seriesIndex)) {\n        return;\n      }\n\n      zrUtil.each(areas, function (area) {\n        selectorsByBrushType[area.brushType] && brushModel.brushTargetManager.controlSeries(area, seriesModel, ecModel) && rangeInfoList.push(area);\n        hasBrushExists |= brushed(rangeInfoList);\n      });\n\n      if (linkOthers(seriesIndex) && brushed(rangeInfoList)) {\n        var data = seriesModel.getData();\n        data.each(function (dataIndex) {\n          if (checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex)) {\n            selectedDataIndexForLink[dataIndex] = 1;\n          }\n        });\n      }\n    } // Step B\n\n\n    ecModel.eachSeries(function (seriesModel, seriesIndex) {\n      var seriesBrushSelected = {\n        seriesId: seriesModel.id,\n        seriesIndex: seriesIndex,\n        seriesName: seriesModel.name,\n        dataIndex: []\n      }; // Every series exists in event params, convenient\n      // for user to find series by seriesIndex.\n\n      thisBrushSelected.selected.push(seriesBrushSelected);\n      var selectorsByBrushType = getSelectorsByBrushType(seriesModel);\n      var rangeInfoList = rangeInfoBySeries[seriesIndex];\n      var data = seriesModel.getData();\n      var getValueState = linkOthers(seriesIndex) ? function (dataIndex) {\n        return selectedDataIndexForLink[dataIndex] ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      } : function (dataIndex) {\n        return checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) ? (seriesBrushSelected.dataIndex.push(data.getRawIndex(dataIndex)), 'inBrush') : 'outOfBrush';\n      }; // If no supported brush or no brush, all visuals are in original state.\n\n      (linkOthers(seriesIndex) ? hasBrushExists : brushed(rangeInfoList)) && visualSolution.applyVisual(STATE_LIST, visualMappings, data, getValueState);\n    });\n  });\n  dispatchAction(api, throttleType, throttleDelay, brushSelected, payload);\n});\n\nfunction dispatchAction(api, throttleType, throttleDelay, brushSelected, payload) {\n  // This event will not be triggered when `setOpion`, otherwise dead lock may\n  // triggered when do `setOption` in event listener, which we do not find\n  // satisfactory way to solve yet. Some considered resolutions:\n  // (a) Diff with prevoius selected data ant only trigger event when changed.\n  // But store previous data and diff precisely (i.e., not only by dataIndex, but\n  // also detect value changes in selected data) might bring complexity or fragility.\n  // (b) Use spectial param like `silent` to suppress event triggering.\n  // But such kind of volatile param may be weird in `setOption`.\n  if (!payload) {\n    return;\n  }\n\n  var zr = api.getZr();\n\n  if (zr[DISPATCH_FLAG]) {\n    return;\n  }\n\n  if (!zr[DISPATCH_METHOD]) {\n    zr[DISPATCH_METHOD] = doDispatch;\n  }\n\n  var fn = throttleUtil.createOrUpdate(zr, DISPATCH_METHOD, throttleDelay, throttleType);\n  fn(api, brushSelected);\n}\n\nfunction doDispatch(api, brushSelected) {\n  if (!api.isDisposed()) {\n    var zr = api.getZr();\n    zr[DISPATCH_FLAG] = true;\n    api.dispatchAction({\n      type: 'brushSelect',\n      batch: brushSelected\n    });\n    zr[DISPATCH_FLAG] = false;\n  }\n}\n\nfunction checkInRange(selectorsByBrushType, rangeInfoList, data, dataIndex) {\n  for (var i = 0, len = rangeInfoList.length; i < len; i++) {\n    var area = rangeInfoList[i];\n\n    if (selectorsByBrushType[area.brushType](dataIndex, data, area.selectors, area)) {\n      return true;\n    }\n  }\n}\n\nfunction getSelectorsByBrushType(seriesModel) {\n  var brushSelector = seriesModel.brushSelector;\n\n  if (zrUtil.isString(brushSelector)) {\n    var sels = [];\n    zrUtil.each(selector, function (selectorsByElementType, brushType) {\n      sels[brushType] = function (dataIndex, data, selectors, area) {\n        var itemLayout = data.getItemLayout(dataIndex);\n        return selectorsByElementType[brushSelector](itemLayout, selectors, area);\n      };\n    });\n    return sels;\n  } else if (zrUtil.isFunction(brushSelector)) {\n    var bSelector = {};\n    zrUtil.each(selector, function (sel, brushType) {\n      bSelector[brushType] = brushSelector;\n    });\n    return bSelector;\n  }\n\n  return brushSelector;\n}\n\nfunction brushModelNotControll(brushModel, seriesIndex) {\n  var seriesIndices = brushModel.option.seriesIndex;\n  return seriesIndices != null && seriesIndices !== 'all' && (zrUtil.isArray(seriesIndices) ? zrUtil.indexOf(seriesIndices, seriesIndex) < 0 : seriesIndex !== seriesIndices);\n}\n\nfunction bindSelector(area) {\n  var selectors = area.selectors = {};\n  zrUtil.each(selector[area.brushType], function (selFn, elType) {\n    // Do not use function binding or curry for performance.\n    selectors[elType] = function (itemLayout) {\n      return selFn(itemLayout, selectors, area);\n    };\n  });\n  return area;\n}\n\nvar boundingRectBuilders = {\n  lineX: zrUtil.noop,\n  lineY: zrUtil.noop,\n  rect: function (area) {\n    return getBoundingRectFromMinMax(area.range);\n  },\n  polygon: function (area) {\n    var minMax;\n    var range = area.range;\n\n    for (var i = 0, len = range.length; i < len; i++) {\n      minMax = minMax || [[Infinity, -Infinity], [Infinity, -Infinity]];\n      var rg = range[i];\n      rg[0] < minMax[0][0] && (minMax[0][0] = rg[0]);\n      rg[0] > minMax[0][1] && (minMax[0][1] = rg[0]);\n      rg[1] < minMax[1][0] && (minMax[1][0] = rg[1]);\n      rg[1] > minMax[1][1] && (minMax[1][1] = rg[1]);\n    }\n\n    return minMax && getBoundingRectFromMinMax(minMax);\n  }\n};\n\nfunction getBoundingRectFromMinMax(minMax) {\n  return new BoundingRect(minMax[0][0], minMax[1][0], minMax[0][1] - minMax[0][0], minMax[1][1] - minMax[1][0]);\n}","require(\"../coord/calendar/Calendar\");\n\nrequire(\"../coord/calendar/CalendarModel\");\n\nrequire(\"./calendar/CalendarView\");","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar MONTH_TEXT = {\n  EN: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n  CN: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月']\n};\nvar WEEK_TEXT = {\n  EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],\n  CN: ['日', '一', '二', '三', '四', '五', '六']\n};\n\nvar _default = echarts.extendComponentView({\n  type: 'calendar',\n\n  /**\n   * top/left line points\n   *  @private\n   */\n  _tlpoints: null,\n\n  /**\n   * bottom/right line points\n   *  @private\n   */\n  _blpoints: null,\n\n  /**\n   * first day of month\n   *  @private\n   */\n  _firstDayOfMonth: null,\n\n  /**\n   * first day point of month\n   *  @private\n   */\n  _firstDayPoints: null,\n  render: function (calendarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var coordSys = calendarModel.coordinateSystem; // range info\n\n    var rangeData = coordSys.getRangeInfo();\n    var orient = coordSys.getOrient();\n\n    this._renderDayRect(calendarModel, rangeData, group); // _renderLines must be called prior to following function\n\n\n    this._renderLines(calendarModel, rangeData, orient, group);\n\n    this._renderYearText(calendarModel, rangeData, orient, group);\n\n    this._renderMonthText(calendarModel, orient, group);\n\n    this._renderWeekText(calendarModel, rangeData, orient, group);\n  },\n  // render day rect\n  _renderDayRect: function (calendarModel, rangeData, group) {\n    var coordSys = calendarModel.coordinateSystem;\n    var itemRectStyleModel = calendarModel.getModel('itemStyle.normal').getItemStyle();\n    var sw = coordSys.getCellWidth();\n    var sh = coordSys.getCellHeight();\n\n    for (var i = rangeData.start.time; i <= rangeData.end.time; i = coordSys.getNextNDay(i, 1).time) {\n      var point = coordSys.dataToRect([i], false).tl; // every rect\n\n      var rect = new graphic.Rect({\n        shape: {\n          x: point[0],\n          y: point[1],\n          width: sw,\n          height: sh\n        },\n        cursor: 'default',\n        style: itemRectStyleModel\n      });\n      group.add(rect);\n    }\n  },\n  // render separate line\n  _renderLines: function (calendarModel, rangeData, orient, group) {\n    var self = this;\n    var coordSys = calendarModel.coordinateSystem;\n    var lineStyleModel = calendarModel.getModel('splitLine.lineStyle').getLineStyle();\n    var show = calendarModel.get('splitLine.show');\n    var lineWidth = lineStyleModel.lineWidth;\n    this._tlpoints = [];\n    this._blpoints = [];\n    this._firstDayOfMonth = [];\n    this._firstDayPoints = [];\n    var firstDay = rangeData.start;\n\n    for (var i = 0; firstDay.time <= rangeData.end.time; i++) {\n      addPoints(firstDay.formatedDate);\n\n      if (i === 0) {\n        firstDay = coordSys.getDateInfo(rangeData.start.y + '-' + rangeData.start.m);\n      }\n\n      var date = firstDay.date;\n      date.setMonth(date.getMonth() + 1);\n      firstDay = coordSys.getDateInfo(date);\n    }\n\n    addPoints(coordSys.getNextNDay(rangeData.end.time, 1).formatedDate);\n\n    function addPoints(date) {\n      self._firstDayOfMonth.push(coordSys.getDateInfo(date));\n\n      self._firstDayPoints.push(coordSys.dataToRect([date], false).tl);\n\n      var points = self._getLinePointsOfOneWeek(calendarModel, date, orient);\n\n      self._tlpoints.push(points[0]);\n\n      self._blpoints.push(points[points.length - 1]);\n\n      show && self._drawSplitline(points, lineStyleModel, group);\n    } // render top/left line\n\n\n    show && this._drawSplitline(self._getEdgesPoints(self._tlpoints, lineWidth, orient), lineStyleModel, group); // render bottom/right line\n\n    show && this._drawSplitline(self._getEdgesPoints(self._blpoints, lineWidth, orient), lineStyleModel, group);\n  },\n  // get points at both ends\n  _getEdgesPoints: function (points, lineWidth, orient) {\n    var rs = [points[0].slice(), points[points.length - 1].slice()];\n    var idx = orient === 'horizontal' ? 0 : 1; // both ends of the line are extend half lineWidth\n\n    rs[0][idx] = rs[0][idx] - lineWidth / 2;\n    rs[1][idx] = rs[1][idx] + lineWidth / 2;\n    return rs;\n  },\n  // render split line\n  _drawSplitline: function (points, lineStyleModel, group) {\n    var poyline = new graphic.Polyline({\n      z2: 20,\n      shape: {\n        points: points\n      },\n      style: lineStyleModel\n    });\n    group.add(poyline);\n  },\n  // render month line of one week points\n  _getLinePointsOfOneWeek: function (calendarModel, date, orient) {\n    var coordSys = calendarModel.coordinateSystem;\n    date = coordSys.getDateInfo(date);\n    var points = [];\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(date.time, i);\n      var point = coordSys.dataToRect([tmpD.time], false);\n      points[2 * tmpD.day] = point.tl;\n      points[2 * tmpD.day + 1] = point[orient === 'horizontal' ? 'bl' : 'tr'];\n    }\n\n    return points;\n  },\n  _formatterLabel: function (formatter, params) {\n    if (typeof formatter === 'string' && formatter) {\n      return formatUtil.formatTplSimple(formatter, params);\n    }\n\n    if (typeof formatter === 'function') {\n      return formatter(params);\n    }\n\n    return params.nameMap;\n  },\n  _yearTextPositionControl: function (textEl, point, orient, position, margin) {\n    point = point.slice();\n    var aligns = ['center', 'bottom'];\n\n    if (position === 'bottom') {\n      point[1] += margin;\n      aligns = ['center', 'top'];\n    } else if (position === 'left') {\n      point[0] -= margin;\n    } else if (position === 'right') {\n      point[0] += margin;\n      aligns = ['center', 'top'];\n    } else {\n      // top\n      point[1] -= margin;\n    }\n\n    var rotate = 0;\n\n    if (position === 'left' || position === 'right') {\n      rotate = Math.PI / 2;\n    }\n\n    return {\n      rotation: rotate,\n      position: point,\n      style: {\n        textAlign: aligns[0],\n        textVerticalAlign: aligns[1]\n      }\n    };\n  },\n  // render year\n  _renderYearText: function (calendarModel, rangeData, orient, group) {\n    var yearLabel = calendarModel.getModel('yearLabel');\n\n    if (!yearLabel.get('show')) {\n      return;\n    }\n\n    var margin = yearLabel.get('margin');\n    var pos = yearLabel.get('position');\n\n    if (!pos) {\n      pos = orient !== 'horizontal' ? 'top' : 'left';\n    }\n\n    var points = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]];\n    var xc = (points[0][0] + points[1][0]) / 2;\n    var yc = (points[0][1] + points[1][1]) / 2;\n    var idx = orient === 'horizontal' ? 0 : 1;\n    var posPoints = {\n      top: [xc, points[idx][1]],\n      bottom: [xc, points[1 - idx][1]],\n      left: [points[1 - idx][0], yc],\n      right: [points[idx][0], yc]\n    };\n    var name = rangeData.start.y;\n\n    if (+rangeData.end.y > +rangeData.start.y) {\n      name = name + '-' + rangeData.end.y;\n    }\n\n    var formatter = yearLabel.get('formatter');\n    var params = {\n      start: rangeData.start.y,\n      end: rangeData.end.y,\n      nameMap: name\n    };\n\n    var content = this._formatterLabel(formatter, params);\n\n    var yearText = new graphic.Text({\n      z2: 30\n    });\n    graphic.setTextStyle(yearText.style, yearLabel, {\n      text: content\n    }), yearText.attr(this._yearTextPositionControl(yearText, posPoints[pos], orient, pos, margin));\n    group.add(yearText);\n  },\n  _monthTextPositionControl: function (point, isCenter, orient, position, margin) {\n    var align = 'left';\n    var vAlign = 'top';\n    var x = point[0];\n    var y = point[1];\n\n    if (orient === 'horizontal') {\n      y = y + margin;\n\n      if (isCenter) {\n        align = 'center';\n      }\n\n      if (position === 'start') {\n        vAlign = 'bottom';\n      }\n    } else {\n      x = x + margin;\n\n      if (isCenter) {\n        vAlign = 'middle';\n      }\n\n      if (position === 'start') {\n        align = 'right';\n      }\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render month and year text\n  _renderMonthText: function (calendarModel, orient, group) {\n    var monthLabel = calendarModel.getModel('monthLabel');\n\n    if (!monthLabel.get('show')) {\n      return;\n    }\n\n    var nameMap = monthLabel.get('nameMap');\n    var margin = monthLabel.get('margin');\n    var pos = monthLabel.get('position');\n    var align = monthLabel.get('align');\n    var termPoints = [this._tlpoints, this._blpoints];\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = MONTH_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var idx = pos === 'start' ? 0 : 1;\n    var axis = orient === 'horizontal' ? 0 : 1;\n    margin = pos === 'start' ? -margin : margin;\n    var isCenter = align === 'center';\n\n    for (var i = 0; i < termPoints[idx].length - 1; i++) {\n      var tmp = termPoints[idx][i].slice();\n      var firstDay = this._firstDayOfMonth[i];\n\n      if (isCenter) {\n        var firstDayPoints = this._firstDayPoints[i];\n        tmp[axis] = (firstDayPoints[axis] + termPoints[0][i + 1][axis]) / 2;\n      }\n\n      var formatter = monthLabel.get('formatter');\n      var name = nameMap[+firstDay.m - 1];\n      var params = {\n        yyyy: firstDay.y,\n        yy: (firstDay.y + '').slice(2),\n        MM: firstDay.m,\n        M: +firstDay.m,\n        nameMap: name\n      };\n\n      var content = this._formatterLabel(formatter, params);\n\n      var monthText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(monthText.style, monthLabel, {\n        text: content\n      }), this._monthTextPositionControl(tmp, isCenter, orient, pos, margin));\n      group.add(monthText);\n    }\n  },\n  _weekTextPositionControl: function (point, orient, position, margin, cellSize) {\n    var align = 'center';\n    var vAlign = 'middle';\n    var x = point[0];\n    var y = point[1];\n    var isStart = position === 'start';\n\n    if (orient === 'horizontal') {\n      x = x + margin + (isStart ? 1 : -1) * cellSize[0] / 2;\n      align = isStart ? 'right' : 'left';\n    } else {\n      y = y + margin + (isStart ? 1 : -1) * cellSize[1] / 2;\n      vAlign = isStart ? 'bottom' : 'top';\n    }\n\n    return {\n      x: x,\n      y: y,\n      textAlign: align,\n      textVerticalAlign: vAlign\n    };\n  },\n  // render weeks\n  _renderWeekText: function (calendarModel, rangeData, orient, group) {\n    var dayLabel = calendarModel.getModel('dayLabel');\n\n    if (!dayLabel.get('show')) {\n      return;\n    }\n\n    var coordSys = calendarModel.coordinateSystem;\n    var pos = dayLabel.get('position');\n    var nameMap = dayLabel.get('nameMap');\n    var margin = dayLabel.get('margin');\n    var firstDayOfWeek = coordSys.getFirstDayOfWeek();\n\n    if (zrUtil.isString(nameMap)) {\n      nameMap = WEEK_TEXT[nameMap.toUpperCase()] || [];\n    }\n\n    var start = coordSys.getNextNDay(rangeData.end.time, 7 - rangeData.lweek).time;\n    var cellSize = [coordSys.getCellWidth(), coordSys.getCellHeight()];\n    margin = numberUtil.parsePercent(margin, cellSize[orient === 'horizontal' ? 0 : 1]);\n\n    if (pos === 'start') {\n      start = coordSys.getNextNDay(rangeData.start.time, -(7 + rangeData.fweek)).time;\n      margin = -margin;\n    }\n\n    for (var i = 0; i < 7; i++) {\n      var tmpD = coordSys.getNextNDay(start, i);\n      var point = coordSys.dataToRect([tmpD.time], false).center;\n      var day = i;\n      day = Math.abs((i + firstDayOfWeek) % 7);\n      var weekText = new graphic.Text({\n        z2: 30\n      });\n      zrUtil.extend(graphic.setTextStyle(weekText.style, dayLabel, {\n        text: nameMap[day]\n      }), this._weekTextPositionControl(point, orient, pos, margin, cellSize));\n      group.add(weekText);\n    }\n  }\n});\n\nmodule.exports = _default;","require(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SliderZoomModel\");\n\nrequire(\"./dataZoom/SliderZoomView\");\n\nrequire(\"./dataZoom/InsideZoomModel\");\n\nrequire(\"./dataZoom/InsideZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","require(\"./dataZoom/typeDefaulter\");\n\nrequire(\"./dataZoom/DataZoomModel\");\n\nrequire(\"./dataZoom/DataZoomView\");\n\nrequire(\"./dataZoom/SelectZoomModel\");\n\nrequire(\"./dataZoom/SelectZoomView\");\n\nrequire(\"./dataZoom/dataZoomProcessor\");\n\nrequire(\"./dataZoom/dataZoomAction\");","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar helper = require(\"./helper\");\n\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\n/**\n * Operate single axis.\n * One axis can only operated by one axis operator.\n * Different dataZoomModels may be defined to operate the same axis.\n * (i.e. 'inside' data zoom and 'slider' data zoom components)\n * So dataZoomModels share one axisProxy in that case.\n *\n * @class\n */\n\nvar AxisProxy = function (dimName, axisIndex, dataZoomModel, ecModel) {\n  /**\n   * @private\n   * @type {string}\n   */\n  this._dimName = dimName;\n  /**\n   * @private\n   */\n\n  this._axisIndex = axisIndex;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._valueWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._percentWindow;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._dataExtent;\n  /**\n   * {minSpan, maxSpan, minValueSpan, maxValueSpan}\n   * @private\n   * @type {Object}\n   */\n\n  this._minMaxSpan;\n  /**\n   * @readOnly\n   * @type {module: echarts/model/Global}\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @private\n   * @type {module: echarts/component/dataZoom/DataZoomModel}\n   */\n\n  this._dataZoomModel = dataZoomModel;\n};\n\nAxisProxy.prototype = {\n  constructor: AxisProxy,\n\n  /**\n   * Whether the axisProxy is hosted by dataZoomModel.\n   *\n   * @public\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   * @return {boolean}\n   */\n  hostedBy: function (dataZoomModel) {\n    return this._dataZoomModel === dataZoomModel;\n  },\n\n  /**\n   * @return {Array.<number>} Value can only be NaN or finite value.\n   */\n  getDataValueWindow: function () {\n    return this._valueWindow.slice();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getDataPercentWindow: function () {\n    return this._percentWindow.slice();\n  },\n\n  /**\n   * @public\n   * @param {number} axisIndex\n   * @return {Array} seriesModels\n   */\n  getTargetSeriesModels: function () {\n    var seriesModels = [];\n    var ecModel = this.ecModel;\n    ecModel.eachSeries(function (seriesModel) {\n      if (helper.isCoordSupported(seriesModel.get('coordinateSystem'))) {\n        var dimName = this._dimName;\n        var axisModel = ecModel.queryComponents({\n          mainType: dimName + 'Axis',\n          index: seriesModel.get(dimName + 'AxisIndex'),\n          id: seriesModel.get(dimName + 'AxisId')\n        })[0];\n\n        if (this._axisIndex === (axisModel && axisModel.componentIndex)) {\n          seriesModels.push(seriesModel);\n        }\n      }\n    }, this);\n    return seriesModels;\n  },\n  getAxisModel: function () {\n    return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex);\n  },\n  getOtherAxisModel: function () {\n    var axisDim = this._dimName;\n    var ecModel = this.ecModel;\n    var axisModel = this.getAxisModel();\n    var isCartesian = axisDim === 'x' || axisDim === 'y';\n    var otherAxisDim;\n    var coordSysIndexName;\n\n    if (isCartesian) {\n      coordSysIndexName = 'gridIndex';\n      otherAxisDim = axisDim === 'x' ? 'y' : 'x';\n    } else {\n      coordSysIndexName = 'polarIndex';\n      otherAxisDim = axisDim === 'angle' ? 'radius' : 'angle';\n    }\n\n    var foundOtherAxisModel;\n    ecModel.eachComponent(otherAxisDim + 'Axis', function (otherAxisModel) {\n      if ((otherAxisModel.get(coordSysIndexName) || 0) === (axisModel.get(coordSysIndexName) || 0)) {\n        foundOtherAxisModel = otherAxisModel;\n      }\n    });\n    return foundOtherAxisModel;\n  },\n  getMinMaxSpan: function () {\n    return zrUtil.clone(this._minMaxSpan);\n  },\n\n  /**\n   * Only calculate by given range and this._dataExtent, do not change anything.\n   *\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   */\n  calculateDataWindow: function (opt) {\n    var dataExtent = this._dataExtent;\n    var axisModel = this.getAxisModel();\n    var scale = axisModel.axis.scale;\n\n    var rangePropMode = this._dataZoomModel.getRangePropMode();\n\n    var percentExtent = [0, 100];\n    var percentWindow = [opt.start, opt.end];\n    var valueWindow = [];\n    each(['startValue', 'endValue'], function (prop) {\n      valueWindow.push(opt[prop] != null ? scale.parse(opt[prop]) : null);\n    }); // Normalize bound.\n\n    each([0, 1], function (idx) {\n      var boundValue = valueWindow[idx];\n      var boundPercent = percentWindow[idx]; // Notice: dataZoom is based either on `percentProp` ('start', 'end') or\n      // on `valueProp` ('startValue', 'endValue'). The former one is suitable\n      // for cases that a dataZoom component controls multiple axes with different\n      // unit or extent, and the latter one is suitable for accurate zoom by pixel\n      // (e.g., in dataZoomSelect). `valueProp` can be calculated from `percentProp`,\n      // but it is awkward that `percentProp` can not be obtained from `valueProp`\n      // accurately (because all of values that are overflow the `dataExtent` will\n      // be calculated to percent '100%'). So we have to use\n      // `dataZoom.getRangePropMode()` to mark which prop is used.\n      // `rangePropMode` is updated only when setOption or dispatchAction, otherwise\n      // it remains its original value.\n\n      if (rangePropMode[idx] === 'percent') {\n        if (boundPercent == null) {\n          boundPercent = percentExtent[idx];\n        } // Use scale.parse to math round for category or time axis.\n\n\n        boundValue = scale.parse(numberUtil.linearMap(boundPercent, percentExtent, dataExtent, true));\n      } else {\n        // Calculating `percent` from `value` may be not accurate, because\n        // This calculation can not be inversed, because all of values that\n        // are overflow the `dataExtent` will be calculated to percent '100%'\n        boundPercent = numberUtil.linearMap(boundValue, dataExtent, percentExtent, true);\n      } // valueWindow[idx] = round(boundValue);\n      // percentWindow[idx] = round(boundPercent);\n\n\n      valueWindow[idx] = boundValue;\n      percentWindow[idx] = boundPercent;\n    });\n    return {\n      valueWindow: asc(valueWindow),\n      percentWindow: asc(percentWindow)\n    };\n  },\n\n  /**\n   * Notice: reset should not be called before series.restoreData() called,\n   * so it is recommanded to be called in \"process stage\" but not \"model init\n   * stage\".\n   *\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  reset: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    } // Culculate data window and data extent, and record them.\n\n\n    this._dataExtent = calculateDataExtent(this, this._dimName, this.getTargetSeriesModels());\n    var dataWindow = this.calculateDataWindow(dataZoomModel.option);\n    this._valueWindow = dataWindow.valueWindow;\n    this._percentWindow = dataWindow.percentWindow;\n    setMinMaxSpan(this); // Update axis setting then.\n\n    setAxisModel(this);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  restore: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    this._valueWindow = this._percentWindow = null;\n    setAxisModel(this, true);\n  },\n\n  /**\n   * @param {module: echarts/component/dataZoom/DataZoomModel} dataZoomModel\n   */\n  filterData: function (dataZoomModel) {\n    if (dataZoomModel !== this._dataZoomModel) {\n      return;\n    }\n\n    var axisDim = this._dimName;\n    var seriesModels = this.getTargetSeriesModels();\n    var filterMode = dataZoomModel.get('filterMode');\n    var valueWindow = this._valueWindow;\n\n    if (filterMode === 'none') {\n      return;\n    } // FIXME\n    // Toolbox may has dataZoom injected. And if there are stacked bar chart\n    // with NaN data, NaN will be filtered and stack will be wrong.\n    // So we need to force the mode to be set empty.\n    // In fect, it is not a big deal that do not support filterMode-'filter'\n    // when using toolbox#dataZoom, utill tooltip#dataZoom support \"single axis\n    // selection\" some day, which might need \"adapt to data extent on the\n    // otherAxis\", which is disabled by filterMode-'empty'.\n\n\n    var otherAxisModel = this.getOtherAxisModel();\n\n    if (dataZoomModel.get('$fromToolbox') && otherAxisModel && otherAxisModel.get('type') === 'category') {\n      filterMode = 'empty';\n    } // Process series data\n\n\n    each(seriesModels, function (seriesModel) {\n      var seriesData = seriesModel.getData();\n      var dataDims = seriesModel.coordDimToDataDim(axisDim);\n\n      if (filterMode === 'weakFilter') {\n        seriesData && seriesData.filterSelf(function (dataIndex) {\n          var leftOut;\n          var rightOut;\n          var hasValue;\n\n          for (var i = 0; i < dataDims.length; i++) {\n            var value = seriesData.get(dataDims[i], dataIndex);\n            var thisHasValue = !isNaN(value);\n            var thisLeftOut = value < valueWindow[0];\n            var thisRightOut = value > valueWindow[1];\n\n            if (thisHasValue && !thisLeftOut && !thisRightOut) {\n              return true;\n            }\n\n            thisHasValue && (hasValue = true);\n            thisLeftOut && (leftOut = true);\n            thisRightOut && (rightOut = true);\n          } // If both left out and right out, do not filter.\n\n\n          return hasValue && leftOut && rightOut;\n        });\n      } else {\n        seriesData && each(dataDims, function (dim) {\n          if (filterMode === 'empty') {\n            seriesModel.setData(seriesData.map(dim, function (value) {\n              return !isInWindow(value) ? NaN : value;\n            }));\n          } else {\n            seriesData.filterSelf(dim, isInWindow);\n          }\n        });\n      }\n    });\n\n    function isInWindow(value) {\n      return value >= valueWindow[0] && value <= valueWindow[1];\n    }\n  }\n};\n\nfunction calculateDataExtent(axisProxy, axisDim, seriesModels) {\n  var dataExtent = [Infinity, -Infinity];\n  each(seriesModels, function (seriesModel) {\n    var seriesData = seriesModel.getData();\n\n    if (seriesData) {\n      each(seriesModel.coordDimToDataDim(axisDim), function (dim) {\n        var seriesExtent = seriesData.getDataExtent(dim);\n        seriesExtent[0] < dataExtent[0] && (dataExtent[0] = seriesExtent[0]);\n        seriesExtent[1] > dataExtent[1] && (dataExtent[1] = seriesExtent[1]);\n      });\n    }\n  });\n\n  if (dataExtent[1] < dataExtent[0]) {\n    dataExtent = [NaN, NaN];\n  } // It is important to get \"consistent\" extent when more then one axes is\n  // controlled by a `dataZoom`, otherwise those axes will not be synchronized\n  // when zooming. But it is difficult to know what is \"consistent\", considering\n  // axes have different type or even different meanings (For example, two\n  // time axes are used to compare data of the same date in different years).\n  // So basically dataZoom just obtains extent by series.data (in category axis\n  // extent can be obtained from axis.data).\n  // Nevertheless, user can set min/max/scale on axes to make extent of axes\n  // consistent.\n\n\n  fixExtentByAxis(axisProxy, dataExtent);\n  return dataExtent;\n}\n\nfunction fixExtentByAxis(axisProxy, dataExtent) {\n  var axisModel = axisProxy.getAxisModel();\n  var min = axisModel.getMin(true); // For category axis, if min/max/scale are not set, extent is determined\n  // by axis.data by default.\n\n  var isCategoryAxis = axisModel.get('type') === 'category';\n  var axisDataLen = isCategoryAxis && (axisModel.get('data') || []).length;\n\n  if (min != null && min !== 'dataMin' && typeof min !== 'function') {\n    dataExtent[0] = min;\n  } else if (isCategoryAxis) {\n    dataExtent[0] = axisDataLen > 0 ? 0 : NaN;\n  }\n\n  var max = axisModel.getMax(true);\n\n  if (max != null && max !== 'dataMax' && typeof max !== 'function') {\n    dataExtent[1] = max;\n  } else if (isCategoryAxis) {\n    dataExtent[1] = axisDataLen > 0 ? axisDataLen - 1 : NaN;\n  }\n\n  if (!axisModel.get('scale', true)) {\n    dataExtent[0] > 0 && (dataExtent[0] = 0);\n    dataExtent[1] < 0 && (dataExtent[1] = 0);\n  } // For value axis, if min/max/scale are not set, we just use the extent obtained\n  // by series data, which may be a little different from the extent calculated by\n  // `axisHelper.getScaleExtent`. But the different just affects the experience a\n  // little when zooming. So it will not be fixed until some users require it strongly.\n\n\n  return dataExtent;\n}\n\nfunction setAxisModel(axisProxy, isRestore) {\n  var axisModel = axisProxy.getAxisModel();\n  var percentWindow = axisProxy._percentWindow;\n  var valueWindow = axisProxy._valueWindow;\n\n  if (!percentWindow) {\n    return;\n  } // [0, 500]: arbitrary value, guess axis extent.\n\n\n  var precision = numberUtil.getPixelPrecision(valueWindow, [0, 500]);\n  precision = Math.min(precision, 20); // isRestore or isFull\n\n  var useOrigin = isRestore || percentWindow[0] === 0 && percentWindow[1] === 100;\n  axisModel.setRange(useOrigin ? null : +valueWindow[0].toFixed(precision), useOrigin ? null : +valueWindow[1].toFixed(precision));\n}\n\nfunction setMinMaxSpan(axisProxy) {\n  var minMaxSpan = axisProxy._minMaxSpan = {};\n  var dataZoomModel = axisProxy._dataZoomModel;\n  each(['min', 'max'], function (minMax) {\n    minMaxSpan[minMax + 'Span'] = dataZoomModel.get(minMax + 'Span'); // minValueSpan and maxValueSpan has higher priority than minSpan and maxSpan\n\n    var valueSpan = dataZoomModel.get(minMax + 'ValueSpan');\n\n    if (valueSpan != null) {\n      minMaxSpan[minMax + 'ValueSpan'] = valueSpan;\n      valueSpan = axisProxy.getAxisModel().axis.scale.parse(valueSpan);\n\n      if (valueSpan != null) {\n        var dataExtent = axisProxy._dataExtent;\n        minMaxSpan[minMax + 'Span'] = numberUtil.linearMap(dataExtent[0] + valueSpan, dataExtent, [0, 100], true);\n      }\n    }\n  });\n}\n\nvar _default = AxisProxy;\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar helper = require(\"./helper\");\n\nvar AxisProxy = require(\"./AxisProxy\");\n\nvar each = zrUtil.each;\nvar eachAxisDim = helper.eachAxisDim;\nvar DataZoomModel = echarts.extendComponentModel({\n  type: 'dataZoom',\n  dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'],\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    z: 4,\n    // Higher than normal component (z: 2).\n    orient: null,\n    // Default auto by axisIndex. Possible value: 'horizontal', 'vertical'.\n    xAxisIndex: null,\n    // Default the first horizontal category axis.\n    yAxisIndex: null,\n    // Default the first vertical category axis.\n    filterMode: 'filter',\n    // Possible values: 'filter' or 'empty' or 'weakFilter'.\n    // 'filter': data items which are out of window will be removed. This option is\n    //          applicable when filtering outliers. For each data item, it will be\n    //          filtered if one of the relevant dimensions is out of the window.\n    // 'weakFilter': data items which are out of window will be removed. This option\n    //          is applicable when filtering outliers. For each data item, it will be\n    //          filtered only if all  of the relevant dimensions are out of the same\n    //          side of the window.\n    // 'empty': data items which are out of window will be set to empty.\n    //          This option is applicable when user should not neglect\n    //          that there are some data items out of window.\n    // 'none': Do not filter.\n    // Taking line chart as an example, line will be broken in\n    // the filtered points when filterModel is set to 'empty', but\n    // be connected when set to 'filter'.\n    throttle: null,\n    // Dispatch action by the fixed rate, avoid frequency.\n    // default 100. Do not throttle when use null/undefined.\n    // If animation === true and animationDurationUpdate > 0,\n    // default value is 100, otherwise 20.\n    start: 0,\n    // Start percent. 0 ~ 100\n    end: 100,\n    // End percent. 0 ~ 100\n    startValue: null,\n    // Start value. If startValue specified, start is ignored.\n    endValue: null,\n    // End value. If endValue specified, end is ignored.\n    minSpan: null,\n    // 0 ~ 100\n    maxSpan: null,\n    // 0 ~ 100\n    minValueSpan: null,\n    // The range of dataZoom can not be smaller than that.\n    maxValueSpan: null,\n    // The range of dataZoom can not be larger than that.\n    rangeMode: null // Array, can be 'value' or 'percent'.\n\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * key like x_0, y_1\n     * @private\n     * @type {Object}\n     */\n    this._dataIntervalByAxis = {};\n    /**\n     * @private\n     */\n\n    this._dataInfo = {};\n    /**\n     * key like x_0, y_1\n     * @private\n     */\n\n    this._axisProxies = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * @private\n     */\n\n    this._autoThrottle = true;\n    /**\n     * 'percent' or 'value'\n     * @private\n     */\n\n    this._rangePropMode = ['percent', 'percent'];\n    var rawOption = retrieveRaw(option);\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.doInit(rawOption);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var rawOption = retrieveRaw(newOption); //FIX #2591\n\n    zrUtil.merge(this.option, newOption, true);\n    this.doInit(rawOption);\n  },\n\n  /**\n   * @protected\n   */\n  doInit: function (rawOption) {\n    var thisOption = this.option; // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    this._setDefaultThrottle(rawOption);\n\n    updateRangeUse(this, rawOption);\n    each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n      // start/end has higher priority over startValue/endValue if they\n      // both set, but we should make chart.setOption({endValue: 1000})\n      // effective, rather than chart.setOption({endValue: 1000, end: null}).\n      if (this._rangePropMode[index] === 'value') {\n        thisOption[names[0]] = null;\n      } // Otherwise do nothing and use the merge result.\n\n    }, this);\n    this.textStyleModel = this.getModel('textStyle');\n\n    this._resetTarget();\n\n    this._giveAxisProxies();\n  },\n\n  /**\n   * @private\n   */\n  _giveAxisProxies: function () {\n    var axisProxies = this._axisProxies;\n    this.eachTargetAxis(function (dimNames, axisIndex, dataZoomModel, ecModel) {\n      var axisModel = this.dependentModels[dimNames.axis][axisIndex]; // If exists, share axisProxy with other dataZoomModels.\n\n      var axisProxy = axisModel.__dzAxisProxy || ( // Use the first dataZoomModel as the main model of axisProxy.\n      axisModel.__dzAxisProxy = new AxisProxy(dimNames.name, axisIndex, this, ecModel)); // FIXME\n      // dispose __dzAxisProxy\n\n      axisProxies[dimNames.name + '_' + axisIndex] = axisProxy;\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetTarget: function () {\n    var thisOption = this.option;\n\n    var autoMode = this._judgeAutoMode();\n\n    eachAxisDim(function (dimNames) {\n      var axisIndexName = dimNames.axisIndex;\n      thisOption[axisIndexName] = modelUtil.normalizeToArray(thisOption[axisIndexName]);\n    }, this);\n\n    if (autoMode === 'axisIndex') {\n      this._autoSetAxisIndex();\n    } else if (autoMode === 'orient') {\n      this._autoSetOrient();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _judgeAutoMode: function () {\n    // Auto set only works for setOption at the first time.\n    // The following is user's reponsibility. So using merged\n    // option is OK.\n    var thisOption = this.option;\n    var hasIndexSpecified = false;\n    eachAxisDim(function (dimNames) {\n      // When user set axisIndex as a empty array, we think that user specify axisIndex\n      // but do not want use auto mode. Because empty array may be encountered when\n      // some error occured.\n      if (thisOption[dimNames.axisIndex] != null) {\n        hasIndexSpecified = true;\n      }\n    }, this);\n    var orient = thisOption.orient;\n\n    if (orient == null && hasIndexSpecified) {\n      return 'orient';\n    } else if (!hasIndexSpecified) {\n      if (orient == null) {\n        thisOption.orient = 'horizontal';\n      }\n\n      return 'axisIndex';\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetAxisIndex: function () {\n    var autoAxisIndex = true;\n    var orient = this.get('orient', true);\n    var thisOption = this.option;\n    var dependentModels = this.dependentModels;\n\n    if (autoAxisIndex) {\n      // Find axis that parallel to dataZoom as default.\n      var dimName = orient === 'vertical' ? 'y' : 'x';\n\n      if (dependentModels[dimName + 'Axis'].length) {\n        thisOption[dimName + 'AxisIndex'] = [0];\n        autoAxisIndex = false;\n      } else {\n        each(dependentModels.singleAxis, function (singleAxisModel) {\n          if (autoAxisIndex && singleAxisModel.get('orient', true) === orient) {\n            thisOption.singleAxisIndex = [singleAxisModel.componentIndex];\n            autoAxisIndex = false;\n          }\n        });\n      }\n    }\n\n    if (autoAxisIndex) {\n      // Find the first category axis as default. (consider polar)\n      eachAxisDim(function (dimNames) {\n        if (!autoAxisIndex) {\n          return;\n        }\n\n        var axisIndices = [];\n        var axisModels = this.dependentModels[dimNames.axis];\n\n        if (axisModels.length && !axisIndices.length) {\n          for (var i = 0, len = axisModels.length; i < len; i++) {\n            if (axisModels[i].get('type') === 'category') {\n              axisIndices.push(i);\n            }\n          }\n        }\n\n        thisOption[dimNames.axisIndex] = axisIndices;\n\n        if (axisIndices.length) {\n          autoAxisIndex = false;\n        }\n      }, this);\n    }\n\n    if (autoAxisIndex) {\n      // FIXME\n      // 这里是兼容ec2的写法（没指定xAxisIndex和yAxisIndex时把scatter和双数值轴折柱纳入dataZoom控制），\n      // 但是实际是否需要Grid.js#getScaleByOption来判断（考虑time，log等axis type）？\n      // If both dataZoom.xAxisIndex and dataZoom.yAxisIndex is not specified,\n      // dataZoom component auto adopts series that reference to\n      // both xAxis and yAxis which type is 'value'.\n      this.ecModel.eachSeries(function (seriesModel) {\n        if (this._isSeriesHasAllAxesTypeOf(seriesModel, 'value')) {\n          eachAxisDim(function (dimNames) {\n            var axisIndices = thisOption[dimNames.axisIndex];\n            var axisIndex = seriesModel.get(dimNames.axisIndex);\n            var axisId = seriesModel.get(dimNames.axisId);\n            var axisModel = seriesModel.ecModel.queryComponents({\n              mainType: dimNames.axis,\n              index: axisIndex,\n              id: axisId\n            })[0];\n            axisIndex = axisModel.componentIndex;\n\n            if (zrUtil.indexOf(axisIndices, axisIndex) < 0) {\n              axisIndices.push(axisIndex);\n            }\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _autoSetOrient: function () {\n    var dim; // Find the first axis\n\n    this.eachTargetAxis(function (dimNames) {\n      !dim && (dim = dimNames.name);\n    }, this);\n    this.option.orient = dim === 'y' ? 'vertical' : 'horizontal';\n  },\n\n  /**\n   * @private\n   */\n  _isSeriesHasAllAxesTypeOf: function (seriesModel, axisType) {\n    // FIXME\n    // 需要series的xAxisIndex和yAxisIndex都首先自动设置上。\n    // 例如series.type === scatter时。\n    var is = true;\n    eachAxisDim(function (dimNames) {\n      var seriesAxisIndex = seriesModel.get(dimNames.axisIndex);\n      var axisModel = this.dependentModels[dimNames.axis][seriesAxisIndex];\n\n      if (!axisModel || axisModel.get('type') !== axisType) {\n        is = false;\n      }\n    }, this);\n    return is;\n  },\n\n  /**\n   * @private\n   */\n  _setDefaultThrottle: function (rawOption) {\n    // When first time user set throttle, auto throttle ends.\n    if (rawOption.hasOwnProperty('throttle')) {\n      this._autoThrottle = false;\n    }\n\n    if (this._autoThrottle) {\n      var globalOption = this.ecModel.option;\n      this.option.throttle = globalOption.animation && globalOption.animationDurationUpdate > 0 ? 100 : 20;\n    }\n  },\n\n  /**\n   * @public\n   */\n  getFirstTargetAxisModel: function () {\n    var firstAxisModel;\n    eachAxisDim(function (dimNames) {\n      if (firstAxisModel == null) {\n        var indices = this.get(dimNames.axisIndex);\n\n        if (indices.length) {\n          firstAxisModel = this.dependentModels[dimNames.axis][indices[0]];\n        }\n      }\n    }, this);\n    return firstAxisModel;\n  },\n\n  /**\n   * @public\n   * @param {Function} callback param: axisModel, dimNames, axisIndex, dataZoomModel, ecModel\n   */\n  eachTargetAxis: function (callback, context) {\n    var ecModel = this.ecModel;\n    eachAxisDim(function (dimNames) {\n      each(this.get(dimNames.axisIndex), function (axisIndex) {\n        callback.call(context, dimNames, axisIndex, this, ecModel);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/component/dataZoom/AxisProxy} If not found, return null/undefined.\n   */\n  getAxisProxy: function (dimName, axisIndex) {\n    return this._axisProxies[dimName + '_' + axisIndex];\n  },\n\n  /**\n   * @param {string} dimName\n   * @param {number} axisIndex\n   * @return {module:echarts/model/Model} If not found, return null/undefined.\n   */\n  getAxisModel: function (dimName, axisIndex) {\n    var axisProxy = this.getAxisProxy(dimName, axisIndex);\n    return axisProxy && axisProxy.getAxisModel();\n  },\n\n  /**\n   * If not specified, set to undefined.\n   *\n   * @public\n   * @param {Object} opt\n   * @param {number} [opt.start]\n   * @param {number} [opt.end]\n   * @param {number} [opt.startValue]\n   * @param {number} [opt.endValue]\n   * @param {boolean} [ignoreUpdateRangeUsg=false]\n   */\n  setRawRange: function (opt, ignoreUpdateRangeUsg) {\n    var option = this.option;\n    each([['start', 'startValue'], ['end', 'endValue']], function (names) {\n      // If only one of 'start' and 'startValue' is not null/undefined, the other\n      // should be cleared, which enable clear the option.\n      // If both of them are not set, keep option with the original value, which\n      // enable use only set start but not set end when calling `dispatchAction`.\n      // The same as 'end' and 'endValue'.\n      if (opt[names[0]] != null || opt[names[1]] != null) {\n        option[names[0]] = opt[names[0]];\n        option[names[1]] = opt[names[1]];\n      }\n    }, this);\n    !ignoreUpdateRangeUsg && updateRangeUse(this, opt);\n  },\n\n  /**\n   * @public\n   * @return {Array.<number>} [startPercent, endPercent]\n   */\n  getPercentRange: function () {\n    var axisProxy = this.findRepresentativeAxisProxy();\n\n    if (axisProxy) {\n      return axisProxy.getDataPercentWindow();\n    }\n  },\n\n  /**\n   * @public\n   * For example, chart.getModel().getComponent('dataZoom').getValueRange('y', 0);\n   *\n   * @param {string} [axisDimName]\n   * @param {number} [axisIndex]\n   * @return {Array.<number>} [startValue, endValue] value can only be '-' or finite number.\n   */\n  getValueRange: function (axisDimName, axisIndex) {\n    if (axisDimName == null && axisIndex == null) {\n      var axisProxy = this.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        return axisProxy.getDataValueWindow();\n      }\n    } else {\n      return this.getAxisProxy(axisDimName, axisIndex).getDataValueWindow();\n    }\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/model/Model} [axisModel] If axisModel given, find axisProxy\n   *      corresponding to the axisModel\n   * @return {module:echarts/component/dataZoom/AxisProxy}\n   */\n  findRepresentativeAxisProxy: function (axisModel) {\n    if (axisModel) {\n      return axisModel.__dzAxisProxy;\n    } // Find the first hosted axisProxy\n\n\n    var axisProxies = this._axisProxies;\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    } // If no hosted axis find not hosted axisProxy.\n    // Consider this case: dataZoomModel1 and dataZoomModel2 control the same axis,\n    // and the option.start or option.end settings are different. The percentRange\n    // should follow axisProxy.\n    // (We encounter this problem in toolbox data zoom.)\n\n\n    for (var key in axisProxies) {\n      if (axisProxies.hasOwnProperty(key) && !axisProxies[key].hostedBy(this)) {\n        return axisProxies[key];\n      }\n    }\n  },\n\n  /**\n   * @return {Array.<string>}\n   */\n  getRangePropMode: function () {\n    return this._rangePropMode.slice();\n  }\n});\n\nfunction retrieveRaw(option) {\n  var ret = {};\n  each(['start', 'end', 'startValue', 'endValue', 'throttle'], function (name) {\n    option.hasOwnProperty(name) && (ret[name] = option[name]);\n  });\n  return ret;\n}\n\nfunction updateRangeUse(dataZoomModel, rawOption) {\n  var rangePropMode = dataZoomModel._rangePropMode;\n  var rangeModeInOption = dataZoomModel.get('rangeMode');\n  each([['start', 'startValue'], ['end', 'endValue']], function (names, index) {\n    var percentSpecified = rawOption[names[0]] != null;\n    var valueSpecified = rawOption[names[1]] != null;\n\n    if (percentSpecified && !valueSpecified) {\n      rangePropMode[index] = 'percent';\n    } else if (!percentSpecified && valueSpecified) {\n      rangePropMode[index] = 'value';\n    } else if (rangeModeInOption) {\n      rangePropMode[index] = rangeModeInOption[index];\n    } else if (percentSpecified) {\n      // percentSpecified && valueSpecified\n      rangePropMode[index] = 'percent';\n    } // else remain its original setting.\n\n  });\n}\n\nvar _default = DataZoomModel;\nmodule.exports = _default;","var ComponentView = require(\"../../view/Component\");\n\nvar _default = ComponentView.extend({\n  type: 'dataZoom',\n  render: function (dataZoomModel, ecModel, api, payload) {\n    this.dataZoomModel = dataZoomModel;\n    this.ecModel = ecModel;\n    this.api = api;\n  },\n\n  /**\n   * Find the first target coordinate system.\n   *\n   * @protected\n   * @return {Object} {\n   *                   grid: [\n   *                       {model: coord0, axisModels: [axis1, axis3], coordIndex: 1},\n   *                       {model: coord1, axisModels: [axis0, axis2], coordIndex: 0},\n   *                       ...\n   *                   ],  // cartesians must not be null/undefined.\n   *                   polar: [\n   *                       {model: coord0, axisModels: [axis4], coordIndex: 0},\n   *                       ...\n   *                   ],  // polars must not be null/undefined.\n   *                   singleAxis: [\n   *                       {model: coord0, axisModels: [], coordIndex: 0}\n   *                   ]\n   */\n  getTargetCoordInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var ecModel = this.ecModel;\n    var coordSysLists = {};\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var axisModel = ecModel.getComponent(dimNames.axis, axisIndex);\n\n      if (axisModel) {\n        var coordModel = axisModel.getCoordSysModel();\n        coordModel && save(coordModel, axisModel, coordSysLists[coordModel.mainType] || (coordSysLists[coordModel.mainType] = []), coordModel.componentIndex);\n      }\n    }, this);\n\n    function save(coordModel, axisModel, store, coordIndex) {\n      var item;\n\n      for (var i = 0; i < store.length; i++) {\n        if (store[i].model === coordModel) {\n          item = store[i];\n          break;\n        }\n      }\n\n      if (!item) {\n        store.push(item = {\n          model: coordModel,\n          axisModels: [],\n          coordIndex: coordIndex\n        });\n      }\n\n      item.axisModels.push(axisModel);\n    }\n\n    return coordSysLists;\n  }\n});\n\nmodule.exports = _default;","var DataZoomModel = require(\"./DataZoomModel\");\n\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    disabled: false,\n    // Whether disable this inside zoom.\n    zoomLock: false,\n    // Whether disable zoom but only pan.\n    zoomOnMouseWheel: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    moveOnMouseMove: true,\n    // Can be: true / false / 'shift' / 'ctrl' / 'alt'.\n    preventDefaultMouseMove: true\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar DataZoomView = require(\"./DataZoomView\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar roams = require(\"./roams\");\n\nvar bind = zrUtil.bind;\nvar InsideZoomView = DataZoomView.extend({\n  type: 'dataZoom.inside',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * 'throttle' is used in this.dispatchAction, so we save range\n     * to avoid missing some 'pan' info.\n     * @private\n     * @type {Array.<number>}\n     */\n    this._range;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    InsideZoomView.superApply(this, 'render', arguments); // Notice: origin this._range should be maintained, and should not be re-fetched\n    // from dataZoomModel when payload.type is 'dataZoom', otherwise 'pan' or 'zoom'\n    // info will be missed because of 'throttle' of this.dispatchAction.\n\n    if (roams.shouldRecordRange(payload, dataZoomModel.id)) {\n      this._range = dataZoomModel.getPercentRange();\n    } // Reset controllers.\n\n\n    zrUtil.each(this.getTargetCoordInfo(), function (coordInfoList, coordSysName) {\n      var allCoordIds = zrUtil.map(coordInfoList, function (coordInfo) {\n        return roams.generateCoordId(coordInfo.model);\n      });\n      zrUtil.each(coordInfoList, function (coordInfo) {\n        var coordModel = coordInfo.model;\n        var dataZoomOption = dataZoomModel.option;\n        roams.register(api, {\n          coordId: roams.generateCoordId(coordModel),\n          allCoordIds: allCoordIds,\n          containsPoint: function (e, x, y) {\n            return coordModel.coordinateSystem.containPoint([x, y]);\n          },\n          dataZoomId: dataZoomModel.id,\n          throttleRate: dataZoomModel.get('throttle', true),\n          panGetRange: bind(this._onPan, this, coordInfo, coordSysName),\n          zoomGetRange: bind(this._onZoom, this, coordInfo, coordSysName),\n          zoomLock: dataZoomOption.zoomLock,\n          disabled: dataZoomOption.disabled,\n          roamControllerOpt: {\n            zoomOnMouseWheel: dataZoomOption.zoomOnMouseWheel,\n            moveOnMouseMove: dataZoomOption.moveOnMouseMove,\n            preventDefaultMouseMove: dataZoomOption.preventDefaultMouseMove\n          }\n        });\n      }, this);\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    roams.unregister(this.api, this.dataZoomModel.id);\n    InsideZoomView.superApply(this, 'dispose', arguments);\n    this._range = null;\n  },\n\n  /**\n   * @private\n   */\n  _onPan: function (coordInfo, coordSysName, controller, dx, dy, oldX, oldY, newX, newY) {\n    var range = this._range.slice(); // Calculate transform by the first axis.\n\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysName]([oldX, oldY], [newX, newY], axisModel, controller, coordInfo);\n    var percentDelta = directionInfo.signal * (range[1] - range[0]) * directionInfo.pixel / directionInfo.pixelLength;\n    sliderMove(percentDelta, range, [0, 100], 'all');\n    return this._range = range;\n  },\n\n  /**\n   * @private\n   */\n  _onZoom: function (coordInfo, coordSysName, controller, scale, mouseX, mouseY) {\n    var range = this._range.slice(); // Calculate transform by the first axis.\n\n\n    var axisModel = coordInfo.axisModels[0];\n\n    if (!axisModel) {\n      return;\n    }\n\n    var directionInfo = getDirectionInfo[coordSysName](null, [mouseX, mouseY], axisModel, controller, coordInfo);\n    var percentPoint = (directionInfo.signal > 0 ? directionInfo.pixelStart + directionInfo.pixelLength - directionInfo.pixel : directionInfo.pixel - directionInfo.pixelStart) / directionInfo.pixelLength * (range[1] - range[0]) + range[0];\n    scale = Math.max(1 / scale, 0);\n    range[0] = (range[0] - percentPoint) * scale + percentPoint;\n    range[1] = (range[1] - percentPoint) * scale + percentPoint; // Restrict range.\n\n    var minMaxSpan = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    sliderMove(0, range, [0, 100], 0, minMaxSpan.minSpan, minMaxSpan.maxSpan);\n    return this._range = range;\n  }\n});\nvar getDirectionInfo = {\n  grid: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.dim === 'x') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // axis.dim === 'y'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  polar: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var ret = {};\n    var polar = coordInfo.model.coordinateSystem;\n    var radiusExtent = polar.getRadiusAxis().getExtent();\n    var angleExtent = polar.getAngleAxis().getExtent();\n    oldPoint = oldPoint ? polar.pointToCoord(oldPoint) : [0, 0];\n    newPoint = polar.pointToCoord(newPoint);\n\n    if (axisModel.mainType === 'radiusAxis') {\n      ret.pixel = newPoint[0] - oldPoint[0]; // ret.pixelLength = Math.abs(radiusExtent[1] - radiusExtent[0]);\n      // ret.pixelStart = Math.min(radiusExtent[0], radiusExtent[1]);\n\n      ret.pixelLength = radiusExtent[1] - radiusExtent[0];\n      ret.pixelStart = radiusExtent[0];\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'angleAxis'\n      ret.pixel = newPoint[1] - oldPoint[1]; // ret.pixelLength = Math.abs(angleExtent[1] - angleExtent[0]);\n      // ret.pixelStart = Math.min(angleExtent[0], angleExtent[1]);\n\n      ret.pixelLength = angleExtent[1] - angleExtent[0];\n      ret.pixelStart = angleExtent[0];\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  },\n  singleAxis: function (oldPoint, newPoint, axisModel, controller, coordInfo) {\n    var axis = axisModel.axis;\n    var rect = coordInfo.model.coordinateSystem.getRect();\n    var ret = {};\n    oldPoint = oldPoint || [0, 0];\n\n    if (axis.orient === 'horizontal') {\n      ret.pixel = newPoint[0] - oldPoint[0];\n      ret.pixelLength = rect.width;\n      ret.pixelStart = rect.x;\n      ret.signal = axis.inverse ? 1 : -1;\n    } else {\n      // 'vertical'\n      ret.pixel = newPoint[1] - oldPoint[1];\n      ret.pixelLength = rect.height;\n      ret.pixelStart = rect.y;\n      ret.signal = axis.inverse ? -1 : 1;\n    }\n\n    return ret;\n  }\n};\nvar _default = InsideZoomView;\nmodule.exports = _default;","var DataZoomModel = require(\"./DataZoomModel\");\n\nvar _default = DataZoomModel.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","var DataZoomView = require(\"./DataZoomView\");\n\nvar _default = DataZoomView.extend({\n  type: 'dataZoom.select'\n});\n\nmodule.exports = _default;","var DataZoomModel = require(\"./DataZoomModel\");\n\nvar SliderZoomModel = DataZoomModel.extend({\n  type: 'dataZoom.slider',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    // ph => placeholder. Using placehoder here because\n    // deault value can only be drived in view stage.\n    right: 'ph',\n    // Default align to grid rect.\n    top: 'ph',\n    // Default align to grid rect.\n    width: 'ph',\n    // Default align to grid rect.\n    height: 'ph',\n    // Default align to grid rect.\n    left: null,\n    // Default align to grid rect.\n    bottom: null,\n    // Default align to grid rect.\n    backgroundColor: 'rgba(47,69,84,0)',\n    // Background of slider zoom component.\n    // dataBackgroundColor: '#ddd',         // Background coor of data shadow and border of box,\n    // highest priority, remain for compatibility of\n    // previous version, but not recommended any more.\n    dataBackground: {\n      lineStyle: {\n        color: '#2f4554',\n        width: 0.5,\n        opacity: 0.3\n      },\n      areaStyle: {\n        color: 'rgba(47,69,84,0.3)',\n        opacity: 0.3\n      }\n    },\n    borderColor: '#ddd',\n    // border color of the box. For compatibility,\n    // if dataBackgroundColor is set, borderColor\n    // is ignored.\n    fillerColor: 'rgba(167,183,204,0.4)',\n    // Color of selected area.\n    // handleColor: 'rgba(89,170,216,0.95)',     // Color of handle.\n    // handleIcon: 'path://M4.9,17.8c0-1.4,4.5-10.5,5.5-12.4c0-0.1,0.6-1.1,0.9-1.1c0.4,0,0.9,1,0.9,1.1c1.1,2.2,5.4,11,5.4,12.4v17.8c0,1.5-0.6,2.1-1.3,2.1H6.1c-0.7,0-1.3-0.6-1.3-2.1V17.8z',\n    handleIcon: 'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z',\n    // Percent of the slider height\n    handleSize: '100%',\n    handleStyle: {\n      color: '#a7b7cc'\n    },\n    labelPrecision: null,\n    labelFormatter: null,\n    showDetail: true,\n    showDataShadow: 'auto',\n    // Default auto decision.\n    realtime: true,\n    zoomLock: false,\n    // Whether disable zoom.\n    textStyle: {\n      color: '#333'\n    }\n  }\n});\nvar _default = SliderZoomModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar throttle = require(\"../../util/throttle\");\n\nvar DataZoomView = require(\"./DataZoomView\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar layout = require(\"../../util/layout\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar Rect = graphic.Rect;\nvar linearMap = numberUtil.linearMap;\nvar asc = numberUtil.asc;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each; // Constants\n\nvar DEFAULT_LOCATION_EDGE_GAP = 7;\nvar DEFAULT_FRAME_BORDER_WIDTH = 1;\nvar DEFAULT_FILLER_SIZE = 30;\nvar HORIZONTAL = 'horizontal';\nvar VERTICAL = 'vertical';\nvar LABEL_GAP = 5;\nvar SHOW_DATA_SHADOW_SERIES_TYPE = ['line', 'bar', 'candlestick', 'scatter'];\nvar SliderZoomView = DataZoomView.extend({\n  type: 'dataZoom.slider',\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {Object}\n     */\n    this._displayables = {};\n    /**\n     * @private\n     * @type {string}\n     */\n\n    this._orient;\n    /**\n     * [0, 100]\n     * @private\n     */\n\n    this._range;\n    /**\n     * [coord of the first handle, coord of the second handle]\n     * @private\n     */\n\n    this._handleEnds;\n    /**\n     * [length, thick]\n     * @private\n     * @type {Array.<number>}\n     */\n\n    this._size;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleWidth;\n    /**\n     * @private\n     * @type {number}\n     */\n\n    this._handleHeight;\n    /**\n     * @private\n     */\n\n    this._location;\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._dataShadowInfo;\n    this.api = api;\n  },\n\n  /**\n   * @override\n   */\n  render: function (dataZoomModel, ecModel, api, payload) {\n    SliderZoomView.superApply(this, 'render', arguments);\n    throttle.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate');\n    this._orient = dataZoomModel.get('orient');\n\n    if (this.dataZoomModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    } // Notice: this._resetInterval() should not be executed when payload.type\n    // is 'dataZoom', origin this._range should be maintained, otherwise 'pan'\n    // or 'zoom' info will be missed because of 'throttle' of this.dispatchAction,\n\n\n    if (!payload || payload.type !== 'dataZoom' || payload.from !== this.uid) {\n      this._buildView();\n    }\n\n    this._updateView();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    SliderZoomView.superApply(this, 'remove', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    SliderZoomView.superApply(this, 'dispose', arguments);\n    throttle.clear(this, '_dispatchZoomAction');\n  },\n  _buildView: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n\n    this._resetLocation();\n\n    this._resetInterval();\n\n    var barGroup = this._displayables.barGroup = new graphic.Group();\n\n    this._renderBackground();\n\n    this._renderHandle();\n\n    this._renderDataShadow();\n\n    thisGroup.add(barGroup);\n\n    this._positionGroup();\n  },\n\n  /**\n   * @private\n   */\n  _resetLocation: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var api = this.api; // If some of x/y/width/height are not specified,\n    // auto-adapt according to target grid.\n\n    var coordRect = this._findCoordRect();\n\n    var ecSize = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }; // Default align by coordinate system rect.\n\n    var positionInfo = this._orient === HORIZONTAL ? {\n      // Why using 'right', because right should be used in vertical,\n      // and it is better to be consistent for dealing with position param merge.\n      right: ecSize.width - coordRect.x - coordRect.width,\n      top: ecSize.height - DEFAULT_FILLER_SIZE - DEFAULT_LOCATION_EDGE_GAP,\n      width: coordRect.width,\n      height: DEFAULT_FILLER_SIZE\n    } : {\n      // vertical\n      right: DEFAULT_LOCATION_EDGE_GAP,\n      top: coordRect.y,\n      width: DEFAULT_FILLER_SIZE,\n      height: coordRect.height\n    }; // Do not write back to option and replace value 'ph', because\n    // the 'ph' value should be recalculated when resize.\n\n    var layoutParams = layout.getLayoutParams(dataZoomModel.option); // Replace the placeholder value.\n\n    zrUtil.each(['right', 'top', 'width', 'height'], function (name) {\n      if (layoutParams[name] === 'ph') {\n        layoutParams[name] = positionInfo[name];\n      }\n    });\n    var layoutRect = layout.getLayoutRect(layoutParams, ecSize, dataZoomModel.padding);\n    this._location = {\n      x: layoutRect.x,\n      y: layoutRect.y\n    };\n    this._size = [layoutRect.width, layoutRect.height];\n    this._orient === VERTICAL && this._size.reverse();\n  },\n\n  /**\n   * @private\n   */\n  _positionGroup: function () {\n    var thisGroup = this.group;\n    var location = this._location;\n    var orient = this._orient; // Just use the first axis to determine mapping.\n\n    var targetAxisModel = this.dataZoomModel.getFirstTargetAxisModel();\n    var inverse = targetAxisModel && targetAxisModel.get('inverse');\n    var barGroup = this._displayables.barGroup;\n    var otherAxisInverse = (this._dataShadowInfo || {}).otherAxisInverse; // Transform barGroup.\n\n    barGroup.attr(orient === HORIZONTAL && !inverse ? {\n      scale: otherAxisInverse ? [1, 1] : [1, -1]\n    } : orient === HORIZONTAL && inverse ? {\n      scale: otherAxisInverse ? [-1, 1] : [-1, -1]\n    } : orient === VERTICAL && !inverse ? {\n      scale: otherAxisInverse ? [1, -1] : [1, 1],\n      rotation: Math.PI / 2 // Dont use Math.PI, considering shadow direction.\n\n    } : {\n      scale: otherAxisInverse ? [-1, -1] : [-1, 1],\n      rotation: Math.PI / 2\n    }); // Position barGroup\n\n    var rect = thisGroup.getBoundingRect([barGroup]);\n    thisGroup.attr('position', [location.x - rect.x, location.y - rect.y]);\n  },\n\n  /**\n   * @private\n   */\n  _getViewExtent: function () {\n    return [0, this._size[0]];\n  },\n  _renderBackground: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var size = this._size;\n    var barGroup = this._displayables.barGroup;\n    barGroup.add(new Rect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: dataZoomModel.get('backgroundColor')\n      },\n      z2: -40\n    })); // Click panel, over shadow, below handles.\n\n    barGroup.add(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        fill: 'transparent'\n      },\n      z2: 0,\n      onclick: zrUtil.bind(this._onClickPanelClick, this)\n    }));\n  },\n  _renderDataShadow: function () {\n    var info = this._dataShadowInfo = this._prepareDataShadowInfo();\n\n    if (!info) {\n      return;\n    }\n\n    var size = this._size;\n    var seriesModel = info.series;\n    var data = seriesModel.getRawData();\n    var otherDim = seriesModel.getShadowDim ? seriesModel.getShadowDim() // @see candlestick\n    : info.otherDim;\n\n    if (otherDim == null) {\n      return;\n    }\n\n    var otherDataExtent = data.getDataExtent(otherDim); // Nice extent.\n\n    var otherOffset = (otherDataExtent[1] - otherDataExtent[0]) * 0.3;\n    otherDataExtent = [otherDataExtent[0] - otherOffset, otherDataExtent[1] + otherOffset];\n    var otherShadowExtent = [0, size[1]];\n    var thisShadowExtent = [0, size[0]];\n    var areaPoints = [[size[0], 0], [0, 0]];\n    var linePoints = [];\n    var step = thisShadowExtent[1] / (data.count() - 1);\n    var thisCoord = 0; // Optimize for large data shadow\n\n    var stride = Math.round(data.count() / size[0]);\n    var lastIsEmpty;\n    data.each([otherDim], function (value, index) {\n      if (stride > 0 && index % stride) {\n        thisCoord += step;\n        return;\n      } // FIXME\n      // Should consider axis.min/axis.max when drawing dataShadow.\n      // FIXME\n      // 应该使用统一的空判断？还是在list里进行空判断？\n\n\n      var isEmpty = value == null || isNaN(value) || value === ''; // See #4235.\n\n      var otherCoord = isEmpty ? 0 : linearMap(value, otherDataExtent, otherShadowExtent, true); // Attempt to draw data shadow precisely when there are empty value.\n\n      if (isEmpty && !lastIsEmpty && index) {\n        areaPoints.push([areaPoints[areaPoints.length - 1][0], 0]);\n        linePoints.push([linePoints[linePoints.length - 1][0], 0]);\n      } else if (!isEmpty && lastIsEmpty) {\n        areaPoints.push([thisCoord, 0]);\n        linePoints.push([thisCoord, 0]);\n      }\n\n      areaPoints.push([thisCoord, otherCoord]);\n      linePoints.push([thisCoord, otherCoord]);\n      thisCoord += step;\n      lastIsEmpty = isEmpty;\n    });\n    var dataZoomModel = this.dataZoomModel; // var dataBackgroundModel = dataZoomModel.getModel('dataBackground');\n\n    this._displayables.barGroup.add(new graphic.Polygon({\n      shape: {\n        points: areaPoints\n      },\n      style: zrUtil.defaults({\n        fill: dataZoomModel.get('dataBackgroundColor')\n      }, dataZoomModel.getModel('dataBackground.areaStyle').getAreaStyle()),\n      silent: true,\n      z2: -20\n    }));\n\n    this._displayables.barGroup.add(new graphic.Polyline({\n      shape: {\n        points: linePoints\n      },\n      style: dataZoomModel.getModel('dataBackground.lineStyle').getLineStyle(),\n      silent: true,\n      z2: -19\n    }));\n  },\n  _prepareDataShadowInfo: function () {\n    var dataZoomModel = this.dataZoomModel;\n    var showDataShadow = dataZoomModel.get('showDataShadow');\n\n    if (showDataShadow === false) {\n      return;\n    } // Find a representative series.\n\n\n    var result;\n    var ecModel = this.ecModel;\n    dataZoomModel.eachTargetAxis(function (dimNames, axisIndex) {\n      var seriesModels = dataZoomModel.getAxisProxy(dimNames.name, axisIndex).getTargetSeriesModels();\n      zrUtil.each(seriesModels, function (seriesModel) {\n        if (result) {\n          return;\n        }\n\n        if (showDataShadow !== true && zrUtil.indexOf(SHOW_DATA_SHADOW_SERIES_TYPE, seriesModel.get('type')) < 0) {\n          return;\n        }\n\n        var thisAxis = ecModel.getComponent(dimNames.axis, axisIndex).axis;\n        var otherDim = getOtherDim(dimNames.name);\n        var otherAxisInverse;\n        var coordSys = seriesModel.coordinateSystem;\n\n        if (otherDim != null && coordSys.getOtherAxis) {\n          otherAxisInverse = coordSys.getOtherAxis(thisAxis).inverse;\n        }\n\n        result = {\n          thisAxis: thisAxis,\n          series: seriesModel,\n          thisDim: dimNames.name,\n          otherDim: otherDim,\n          otherAxisInverse: otherAxisInverse\n        };\n      }, this);\n    }, this);\n    return result;\n  },\n  _renderHandle: function () {\n    var displaybles = this._displayables;\n    var handles = displaybles.handles = [];\n    var handleLabels = displaybles.handleLabels = [];\n    var barGroup = this._displayables.barGroup;\n    var size = this._size;\n    var dataZoomModel = this.dataZoomModel;\n    barGroup.add(displaybles.filler = new Rect({\n      draggable: true,\n      cursor: getCursor(this._orient),\n      drift: bind(this._onDragMove, this, 'all'),\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragstart: bind(this._showDataInfo, this, true),\n      ondragend: bind(this._onDragEnd, this),\n      onmouseover: bind(this._showDataInfo, this, true),\n      onmouseout: bind(this._showDataInfo, this, false),\n      style: {\n        fill: dataZoomModel.get('fillerColor'),\n        textPosition: 'inside'\n      }\n    })); // Frame border.\n\n    barGroup.add(new Rect(graphic.subPixelOptimizeRect({\n      silent: true,\n      shape: {\n        x: 0,\n        y: 0,\n        width: size[0],\n        height: size[1]\n      },\n      style: {\n        stroke: dataZoomModel.get('dataBackgroundColor') || dataZoomModel.get('borderColor'),\n        lineWidth: DEFAULT_FRAME_BORDER_WIDTH,\n        fill: 'rgba(0,0,0,0)'\n      }\n    })));\n    each([0, 1], function (handleIndex) {\n      var path = graphic.createIcon(dataZoomModel.get('handleIcon'), {\n        cursor: getCursor(this._orient),\n        draggable: true,\n        drift: bind(this._onDragMove, this, handleIndex),\n        onmousemove: function (e) {\n          // Fot mobile devicem, prevent screen slider on the button.\n          eventTool.stop(e.event);\n        },\n        ondragend: bind(this._onDragEnd, this),\n        onmouseover: bind(this._showDataInfo, this, true),\n        onmouseout: bind(this._showDataInfo, this, false)\n      }, {\n        x: -1,\n        y: 0,\n        width: 2,\n        height: 2\n      });\n      var bRect = path.getBoundingRect();\n      this._handleHeight = numberUtil.parsePercent(dataZoomModel.get('handleSize'), this._size[1]);\n      this._handleWidth = bRect.width / bRect.height * this._handleHeight;\n      path.setStyle(dataZoomModel.getModel('handleStyle').getItemStyle());\n      var handleColor = dataZoomModel.get('handleColor'); // Compatitable with previous version\n\n      if (handleColor != null) {\n        path.style.fill = handleColor;\n      }\n\n      barGroup.add(handles[handleIndex] = path);\n      var textStyleModel = dataZoomModel.textStyleModel;\n      this.group.add(handleLabels[handleIndex] = new graphic.Text({\n        silent: true,\n        invisible: true,\n        style: {\n          x: 0,\n          y: 0,\n          text: '',\n          textVerticalAlign: 'middle',\n          textAlign: 'center',\n          textFill: textStyleModel.getTextColor(),\n          textFont: textStyleModel.getFont()\n        },\n        z2: 10\n      }));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var range = this._range = this.dataZoomModel.getPercentRange();\n\n    var viewExtent = this._getViewExtent();\n\n    this._handleEnds = [linearMap(range[0], [0, 100], viewExtent, true), linearMap(range[1], [0, 100], viewExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} delta\n   */\n  _updateInterval: function (handleIndex, delta) {\n    var dataZoomModel = this.dataZoomModel;\n    var handleEnds = this._handleEnds;\n\n    var viewExtend = this._getViewExtent();\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();\n    var percentExtent = [0, 100];\n    sliderMove(delta, handleEnds, viewExtend, dataZoomModel.get('zoomLock') ? 'all' : handleIndex, minMaxSpan.minSpan != null ? linearMap(minMaxSpan.minSpan, percentExtent, viewExtend, true) : null, minMaxSpan.maxSpan != null ? linearMap(minMaxSpan.maxSpan, percentExtent, viewExtend, true) : null);\n    this._range = asc([linearMap(handleEnds[0], viewExtend, percentExtent, true), linearMap(handleEnds[1], viewExtend, percentExtent, true)]);\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (nonRealtime) {\n    var displaybles = this._displayables;\n    var handleEnds = this._handleEnds;\n    var handleInterval = asc(handleEnds.slice());\n    var size = this._size;\n    each([0, 1], function (handleIndex) {\n      // Handles\n      var handle = displaybles.handles[handleIndex];\n      var handleHeight = this._handleHeight;\n      handle.attr({\n        scale: [handleHeight / 2, handleHeight / 2],\n        position: [handleEnds[handleIndex], size[1] / 2 - handleHeight / 2]\n      });\n    }, this); // Filler\n\n    displaybles.filler.setShape({\n      x: handleInterval[0],\n      y: 0,\n      width: handleInterval[1] - handleInterval[0],\n      height: size[1]\n    });\n\n    this._updateDataInfo(nonRealtime);\n  },\n\n  /**\n   * @private\n   */\n  _updateDataInfo: function (nonRealtime) {\n    var dataZoomModel = this.dataZoomModel;\n    var displaybles = this._displayables;\n    var handleLabels = displaybles.handleLabels;\n    var orient = this._orient;\n    var labelTexts = ['', '']; // FIXME\n    // date型，支持formatter，autoformatter（ec2 date.getAutoFormatter）\n\n    if (dataZoomModel.get('showDetail')) {\n      var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n\n      if (axisProxy) {\n        var axis = axisProxy.getAxisModel().axis;\n        var range = this._range;\n        var dataInterval = nonRealtime // See #4434, data and axis are not processed and reset yet in non-realtime mode.\n        ? axisProxy.calculateDataWindow({\n          start: range[0],\n          end: range[1]\n        }).valueWindow : axisProxy.getDataValueWindow();\n        labelTexts = [this._formatLabel(dataInterval[0], axis), this._formatLabel(dataInterval[1], axis)];\n      }\n    }\n\n    var orderedHandleEnds = asc(this._handleEnds.slice());\n    setLabel.call(this, 0);\n    setLabel.call(this, 1);\n\n    function setLabel(handleIndex) {\n      // Label\n      // Text should not transform by barGroup.\n      // Ignore handlers transform\n      var barTransform = graphic.getTransform(displaybles.handles[handleIndex].parent, this.group);\n      var direction = graphic.transformDirection(handleIndex === 0 ? 'right' : 'left', barTransform);\n      var offset = this._handleWidth / 2 + LABEL_GAP;\n      var textPoint = graphic.applyTransform([orderedHandleEnds[handleIndex] + (handleIndex === 0 ? -offset : offset), this._size[1] / 2], barTransform);\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        textVerticalAlign: orient === HORIZONTAL ? 'middle' : direction,\n        textAlign: orient === HORIZONTAL ? direction : 'center',\n        text: labelTexts[handleIndex]\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _formatLabel: function (value, axis) {\n    var dataZoomModel = this.dataZoomModel;\n    var labelFormatter = dataZoomModel.get('labelFormatter');\n    var labelPrecision = dataZoomModel.get('labelPrecision');\n\n    if (labelPrecision == null || labelPrecision === 'auto') {\n      labelPrecision = axis.getPixelPrecision();\n    }\n\n    var valueStr = value == null || isNaN(value) ? '' // FIXME Glue code\n    : axis.type === 'category' || axis.type === 'time' ? axis.scale.getLabel(Math.round(value)) // param of toFixed should less then 20.\n    : value.toFixed(Math.min(labelPrecision, 20));\n    return zrUtil.isFunction(labelFormatter) ? labelFormatter(value, valueStr) : zrUtil.isString(labelFormatter) ? labelFormatter.replace('{value}', valueStr) : valueStr;\n  },\n\n  /**\n   * @private\n   * @param {boolean} showOrHide true: show, false: hide\n   */\n  _showDataInfo: function (showOrHide) {\n    // Always show when drgging.\n    showOrHide = this._dragging || showOrHide;\n    var handleLabels = this._displayables.handleLabels;\n    handleLabels[0].attr('invisible', !showOrHide);\n    handleLabels[1].attr('invisible', !showOrHide);\n  },\n  _onDragMove: function (handleIndex, dx, dy) {\n    this._dragging = true; // Transform dx, dy to bar coordination.\n\n    var barTransform = this._displayables.barGroup.getLocalTransform();\n\n    var vertex = graphic.applyTransform([dx, dy], barTransform, true);\n\n    this._updateInterval(handleIndex, vertex[0]);\n\n    var realtime = this.dataZoomModel.get('realtime');\n\n    this._updateView(!realtime);\n\n    if (realtime) {\n      realtime && this._dispatchZoomAction();\n    }\n  },\n  _onDragEnd: function () {\n    this._dragging = false;\n\n    this._showDataInfo(false);\n\n    this._dispatchZoomAction();\n  },\n  _onClickPanelClick: function (e) {\n    var size = this._size;\n\n    var localPoint = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY);\n\n    if (localPoint[0] < 0 || localPoint[0] > size[0] || localPoint[1] < 0 || localPoint[1] > size[1]) {\n      return;\n    }\n\n    var handleEnds = this._handleEnds;\n    var center = (handleEnds[0] + handleEnds[1]) / 2;\n\n    this._updateInterval('all', localPoint[0] - center);\n\n    this._updateView();\n\n    this._dispatchZoomAction();\n  },\n\n  /**\n   * This action will be throttled.\n   * @private\n   */\n  _dispatchZoomAction: function () {\n    var range = this._range;\n    this.api.dispatchAction({\n      type: 'dataZoom',\n      from: this.uid,\n      dataZoomId: this.dataZoomModel.id,\n      start: range[0],\n      end: range[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _findCoordRect: function () {\n    // Find the grid coresponding to the first axis referred by dataZoom.\n    var rect;\n    each(this.getTargetCoordInfo(), function (coordInfoList) {\n      if (!rect && coordInfoList.length) {\n        var coordSys = coordInfoList[0].model.coordinateSystem;\n        rect = coordSys.getRect && coordSys.getRect();\n      }\n    });\n\n    if (!rect) {\n      var width = this.api.getWidth();\n      var height = this.api.getHeight();\n      rect = {\n        x: width * 0.2,\n        y: height * 0.2,\n        width: width * 0.6,\n        height: height * 0.6\n      };\n    }\n\n    return rect;\n  }\n});\n\nfunction getOtherDim(thisDim) {\n  // FIXME\n  // 这个逻辑和getOtherAxis里一致，但是写在这里是否不好\n  var map = {\n    x: 'y',\n    y: 'x',\n    radius: 'angle',\n    angle: 'radius'\n  };\n  return map[thisDim];\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = SliderZoomView;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar helper = require(\"./helper\");\n\necharts.registerAction('dataZoom', function (payload, ecModel) {\n  var linkedNodesFinder = helper.createLinkedNodesFinder(zrUtil.bind(ecModel.eachComponent, ecModel, 'dataZoom'), helper.eachAxisDim, function (model, dimNames) {\n    return model.get(dimNames.axisIndex);\n  });\n  var effectedModels = [];\n  ecModel.eachComponent({\n    mainType: 'dataZoom',\n    query: payload\n  }, function (model, index) {\n    effectedModels.push.apply(effectedModels, linkedNodesFinder(model).nodes);\n  });\n  zrUtil.each(effectedModels, function (dataZoomModel, index) {\n    dataZoomModel.setRawRange({\n      start: payload.start,\n      end: payload.end,\n      startValue: payload.startValue,\n      endValue: payload.endValue\n    });\n  });\n});","var echarts = require(\"../../echarts\");\n\necharts.registerProcessor(function (ecModel, api) {\n  ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n    // We calculate window and reset axis here but not in model\n    // init stage and not after action dispatch handler, because\n    // reset should be called after seriesData.restoreData.\n    dataZoomModel.eachTargetAxis(resetSingleAxis); // Caution: data zoom filtering is order sensitive when using\n    // percent range and no min/max/scale set on axis.\n    // For example, we have dataZoom definition:\n    // [\n    //      {xAxisIndex: 0, start: 30, end: 70},\n    //      {yAxisIndex: 0, start: 20, end: 80}\n    // ]\n    // In this case, [20, 80] of y-dataZoom should be based on data\n    // that have filtered by x-dataZoom using range of [30, 70],\n    // but should not be based on full raw data. Thus sliding\n    // x-dataZoom will change both ranges of xAxis and yAxis,\n    // while sliding y-dataZoom will only change the range of yAxis.\n    // So we should filter x-axis after reset x-axis immediately,\n    // and then reset y-axis and filter y-axis.\n\n    dataZoomModel.eachTargetAxis(filterSingleAxis);\n  });\n  ecModel.eachComponent('dataZoom', function (dataZoomModel) {\n    // Fullfill all of the range props so that user\n    // is able to get them from chart.getOption().\n    var axisProxy = dataZoomModel.findRepresentativeAxisProxy();\n    var percentRange = axisProxy.getDataPercentWindow();\n    var valueRange = axisProxy.getDataValueWindow();\n    dataZoomModel.setRawRange({\n      start: percentRange[0],\n      end: percentRange[1],\n      startValue: valueRange[0],\n      endValue: valueRange[1]\n    }, true);\n  });\n});\n\nfunction resetSingleAxis(dimNames, axisIndex, dataZoomModel) {\n  dataZoomModel.getAxisProxy(dimNames.name, axisIndex).reset(dataZoomModel);\n}\n\nfunction filterSingleAxis(dimNames, axisIndex, dataZoomModel) {\n  dataZoomModel.getAxisProxy(dimNames.name, axisIndex).filterData(dataZoomModel);\n}","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar AXIS_DIMS = ['x', 'y', 'z', 'radius', 'angle', 'single']; // Supported coords.\n\nvar COORDS = ['cartesian2d', 'polar', 'singleAxis'];\n/**\n * @param {string} coordType\n * @return {boolean}\n */\n\nfunction isCoordSupported(coordType) {\n  return zrUtil.indexOf(COORDS, coordType) >= 0;\n}\n/**\n * Create \"each\" method to iterate names.\n *\n * @pubilc\n * @param  {Array.<string>} names\n * @param  {Array.<string>=} attrs\n * @return {Function}\n */\n\n\nfunction createNameEach(names, attrs) {\n  names = names.slice();\n  var capitalNames = zrUtil.map(names, formatUtil.capitalFirst);\n  attrs = (attrs || []).slice();\n  var capitalAttrs = zrUtil.map(attrs, formatUtil.capitalFirst);\n  return function (callback, context) {\n    zrUtil.each(names, function (name, index) {\n      var nameObj = {\n        name: name,\n        capital: capitalNames[index]\n      };\n\n      for (var j = 0; j < attrs.length; j++) {\n        nameObj[attrs[j]] = name + capitalAttrs[j];\n      }\n\n      callback.call(context, nameObj);\n    });\n  };\n}\n/**\n * Iterate each dimension name.\n *\n * @public\n * @param {Function} callback The parameter is like:\n *                            {\n *                                name: 'angle',\n *                                capital: 'Angle',\n *                                axis: 'angleAxis',\n *                                axisIndex: 'angleAixs',\n *                                index: 'angleIndex'\n *                            }\n * @param {Object} context\n */\n\n\nvar eachAxisDim = createNameEach(AXIS_DIMS, ['axisIndex', 'axis', 'index', 'id']);\n/**\n * If tow dataZoomModels has the same axis controlled, we say that they are 'linked'.\n * dataZoomModels and 'links' make up one or more graphics.\n * This function finds the graphic where the source dataZoomModel is in.\n *\n * @public\n * @param {Function} forEachNode Node iterator.\n * @param {Function} forEachEdgeType edgeType iterator\n * @param {Function} edgeIdGetter Giving node and edgeType, return an array of edge id.\n * @return {Function} Input: sourceNode, Output: Like {nodes: [], dims: {}}\n */\n\nfunction createLinkedNodesFinder(forEachNode, forEachEdgeType, edgeIdGetter) {\n  return function (sourceNode) {\n    var result = {\n      nodes: [],\n      records: {} // key: edgeType.name, value: Object (key: edge id, value: boolean).\n\n    };\n    forEachEdgeType(function (edgeType) {\n      result.records[edgeType.name] = {};\n    });\n\n    if (!sourceNode) {\n      return result;\n    }\n\n    absorb(sourceNode, result);\n    var existsLink;\n\n    do {\n      existsLink = false;\n      forEachNode(processSingleNode);\n    } while (existsLink);\n\n    function processSingleNode(node) {\n      if (!isNodeAbsorded(node, result) && isLinked(node, result)) {\n        absorb(node, result);\n        existsLink = true;\n      }\n    }\n\n    return result;\n  };\n\n  function isNodeAbsorded(node, result) {\n    return zrUtil.indexOf(result.nodes, node) >= 0;\n  }\n\n  function isLinked(node, result) {\n    var hasLink = false;\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] && (hasLink = true);\n      });\n    });\n    return hasLink;\n  }\n\n  function absorb(node, result) {\n    result.nodes.push(node);\n    forEachEdgeType(function (edgeType) {\n      zrUtil.each(edgeIdGetter(node, edgeType) || [], function (edgeId) {\n        result.records[edgeType.name][edgeId] = true;\n      });\n    });\n  }\n}\n\nexports.isCoordSupported = isCoordSupported;\nexports.createNameEach = createNameEach;\nexports.eachAxisDim = eachAxisDim;\nexports.createLinkedNodesFinder = createLinkedNodesFinder;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar each = zrUtil.each;\nvar ATTR = '\\0_ec_hist_store';\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} newSnapshot {dataZoomId, batch: [payloadInfo, ...]}\n */\n\nfunction push(ecModel, newSnapshot) {\n  var store = giveStore(ecModel); // If previous dataZoom can not be found,\n  // complete an range with current range.\n\n  each(newSnapshot, function (batchItem, dataZoomId) {\n    var i = store.length - 1;\n\n    for (; i >= 0; i--) {\n      var snapshot = store[i];\n\n      if (snapshot[dataZoomId]) {\n        break;\n      }\n    }\n\n    if (i < 0) {\n      // No origin range set, create one by current range.\n      var dataZoomModel = ecModel.queryComponents({\n        mainType: 'dataZoom',\n        subType: 'select',\n        id: dataZoomId\n      })[0];\n\n      if (dataZoomModel) {\n        var percentRange = dataZoomModel.getPercentRange();\n        store[0][dataZoomId] = {\n          dataZoomId: dataZoomId,\n          start: percentRange[0],\n          end: percentRange[1]\n        };\n      }\n    }\n  });\n  store.push(newSnapshot);\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {Object} snapshot\n */\n\n\nfunction pop(ecModel) {\n  var store = giveStore(ecModel);\n  var head = store[store.length - 1];\n  store.length > 1 && store.pop(); // Find top for all dataZoom.\n\n  var snapshot = {};\n  each(head, function (batchItem, dataZoomId) {\n    for (var i = store.length - 1; i >= 0; i--) {\n      var batchItem = store[i][dataZoomId];\n\n      if (batchItem) {\n        snapshot[dataZoomId] = batchItem;\n        break;\n      }\n    }\n  });\n  return snapshot;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction clear(ecModel) {\n  ecModel[ATTR] = null;\n}\n/**\n * @param {module:echarts/model/Global} ecModel\n * @return {number} records. always >= 1.\n */\n\n\nfunction count(ecModel) {\n  return giveStore(ecModel).length;\n}\n/**\n * [{key: dataZoomId, value: {dataZoomId, range}}, ...]\n * History length of each dataZoom may be different.\n * this._history[0] is used to store origin range.\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(ecModel) {\n  var store = ecModel[ATTR];\n\n  if (!store) {\n    store = ecModel[ATTR] = [{}];\n  }\n\n  return store;\n}\n\nexports.push = push;\nexports.pop = pop;\nexports.clear = clear;\nexports.count = count;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar RoamController = require(\"../../component/helper/RoamController\");\n\nvar throttleUtil = require(\"../../util/throttle\");\n\n// Only create one roam controller for each coordinate system.\n// one roam controller might be refered by two inside data zoom\n// components (for example, one for x and one for y). When user\n// pan or zoom, only dispatch one action for those data zoom\n// components.\nvar curry = zrUtil.curry;\nvar ATTR = '\\0_ec_dataZoom_roams';\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} dataZoomInfo\n * @param {string} dataZoomInfo.coordId\n * @param {Function} dataZoomInfo.containsPoint\n * @param {Array.<string>} dataZoomInfo.allCoordIds\n * @param {string} dataZoomInfo.dataZoomId\n * @param {number} dataZoomInfo.throttleRate\n * @param {Function} dataZoomInfo.panGetRange\n * @param {Function} dataZoomInfo.zoomGetRange\n * @param {boolean} [dataZoomInfo.zoomLock]\n * @param {boolean} [dataZoomInfo.disabled]\n */\n\nfunction register(api, dataZoomInfo) {\n  var store = giveStore(api);\n  var theDataZoomId = dataZoomInfo.dataZoomId;\n  var theCoordId = dataZoomInfo.coordId; // Do clean when a dataZoom changes its target coordnate system.\n  // Avoid memory leak, dispose all not-used-registered.\n\n  zrUtil.each(store, function (record, coordId) {\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[theDataZoomId] && zrUtil.indexOf(dataZoomInfo.allCoordIds, theCoordId) < 0) {\n      delete dataZoomInfos[theDataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n  var record = store[theCoordId]; // Create if needed.\n\n  if (!record) {\n    record = store[theCoordId] = {\n      coordId: theCoordId,\n      dataZoomInfos: {},\n      count: 0\n    };\n    record.controller = createController(api, record);\n    record.dispatchAction = zrUtil.curry(dispatchAction, api);\n  } // Update reference of dataZoom.\n\n\n  !record.dataZoomInfos[theDataZoomId] && record.count++;\n  record.dataZoomInfos[theDataZoomId] = dataZoomInfo;\n  var controllerParams = mergeControllerParams(record.dataZoomInfos);\n  record.controller.enable(controllerParams.controlType, controllerParams.opt); // Consider resize, area should be always updated.\n\n  record.controller.setPointerChecker(dataZoomInfo.containsPoint); // Update throttle.\n\n  throttleUtil.createOrUpdate(record, 'dispatchAction', dataZoomInfo.throttleRate, 'fixRate');\n}\n/**\n * @public\n * @param {module:echarts/ExtensionAPI} api\n * @param {string} dataZoomId\n */\n\n\nfunction unregister(api, dataZoomId) {\n  var store = giveStore(api);\n  zrUtil.each(store, function (record) {\n    record.controller.dispose();\n    var dataZoomInfos = record.dataZoomInfos;\n\n    if (dataZoomInfos[dataZoomId]) {\n      delete dataZoomInfos[dataZoomId];\n      record.count--;\n    }\n  });\n  cleanStore(store);\n}\n/**\n * @public\n */\n\n\nfunction shouldRecordRange(payload, dataZoomId) {\n  if (payload && payload.type === 'dataZoom' && payload.batch) {\n    for (var i = 0, len = payload.batch.length; i < len; i++) {\n      if (payload.batch[i].dataZoomId === dataZoomId) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * @public\n */\n\n\nfunction generateCoordId(coordModel) {\n  return coordModel.type + '\\0_' + coordModel.id;\n}\n/**\n * Key: coordId, value: {dataZoomInfos: [], count, controller}\n * @type {Array.<Object>}\n */\n\n\nfunction giveStore(api) {\n  // Mount store on zrender instance, so that we do not\n  // need to worry about dispose.\n  var zr = api.getZr();\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n\nfunction createController(api, newRecord) {\n  var controller = new RoamController(api.getZr());\n  controller.on('pan', curry(onPan, newRecord));\n  controller.on('zoom', curry(onZoom, newRecord));\n  return controller;\n}\n\nfunction cleanStore(store) {\n  zrUtil.each(store, function (record, coordId) {\n    if (!record.count) {\n      record.controller.dispose();\n      delete store[coordId];\n    }\n  });\n}\n\nfunction onPan(record, dx, dy, oldX, oldY, newX, newY) {\n  wrapAndDispatch(record, function (info) {\n    return info.panGetRange(record.controller, dx, dy, oldX, oldY, newX, newY);\n  });\n}\n\nfunction onZoom(record, scale, mouseX, mouseY) {\n  wrapAndDispatch(record, function (info) {\n    return info.zoomGetRange(record.controller, scale, mouseX, mouseY);\n  });\n}\n\nfunction wrapAndDispatch(record, getRange) {\n  var batch = [];\n  zrUtil.each(record.dataZoomInfos, function (info) {\n    var range = getRange(info);\n    !info.disabled && range && batch.push({\n      dataZoomId: info.dataZoomId,\n      start: range[0],\n      end: range[1]\n    });\n  });\n  record.dispatchAction(batch);\n}\n/**\n * This action will be throttled.\n */\n\n\nfunction dispatchAction(api, batch) {\n  api.dispatchAction({\n    type: 'dataZoom',\n    batch: batch\n  });\n}\n/**\n * Merge roamController settings when multiple dataZooms share one roamController.\n */\n\n\nfunction mergeControllerParams(dataZoomInfos) {\n  var controlType;\n  var opt = {};\n  var typePriority = {\n    'true': 2,\n    'move': 1,\n    'false': 0,\n    'undefined': -1\n  };\n  zrUtil.each(dataZoomInfos, function (dataZoomInfo) {\n    var oneType = dataZoomInfo.disabled ? false : dataZoomInfo.zoomLock ? 'move' : true;\n    typePriority[oneType] > typePriority[controlType] && (controlType = oneType); // Do not support that different 'shift'/'ctrl'/'alt' setting used in one coord sys.\n\n    zrUtil.extend(opt, dataZoomInfo.roamControllerOpt);\n  });\n  return {\n    controlType: controlType,\n    opt: opt\n  };\n}\n\nexports.register = register;\nexports.unregister = unregister;\nexports.shouldRecordRange = shouldRecordRange;\nexports.generateCoordId = generateCoordId;","var Component = require(\"../../model/Component\");\n\nComponent.registerSubTypeDefaulter('dataZoom', function () {\n  // Default 'slider' when no type specified.\n  return 'slider';\n});","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nrequire(\"../coord/geo/GeoModel\");\n\nrequire(\"../coord/geo/geoCreator\");\n\nrequire(\"./geo/GeoView\");\n\nrequire(\"../action/geoRoam\");\n\nfunction makeAction(method, actionInfo) {\n  actionInfo.update = 'updateView';\n  echarts.registerAction(actionInfo, function (payload, ecModel) {\n    var selected = {};\n    ecModel.eachComponent({\n      mainType: 'geo',\n      query: payload\n    }, function (geoModel) {\n      geoModel[method](payload.name);\n      var geo = geoModel.coordinateSystem;\n      zrUtil.each(geo.regions, function (region) {\n        selected[region.name] = geoModel.isSelected(region.name) || false;\n      });\n    });\n    return {\n      selected: selected,\n      name: payload.name\n    };\n  });\n}\n\nmakeAction('toggleSelected', {\n  type: 'geoToggleSelect',\n  event: 'geoselectchanged'\n});\nmakeAction('select', {\n  type: 'geoSelect',\n  event: 'geoselected'\n});\nmakeAction('unSelect', {\n  type: 'geoUnSelect',\n  event: 'geounselected'\n});","var MapDraw = require(\"../helper/MapDraw\");\n\nvar echarts = require(\"../../echarts\");\n\nvar _default = echarts.extendComponentView({\n  type: 'geo',\n  init: function (ecModel, api) {\n    var mapDraw = new MapDraw(api, true);\n    this._mapDraw = mapDraw;\n    this.group.add(mapDraw.group);\n  },\n  render: function (geoModel, ecModel, api, payload) {\n    // Not render if it is an toggleSelect action from self\n    if (payload && payload.type === 'geoToggleSelect' && payload.from === this.uid) {\n      return;\n    }\n\n    var mapDraw = this._mapDraw;\n\n    if (geoModel.get('show')) {\n      mapDraw.draw(geoModel, ecModel, api, this, payload);\n    } else {\n      this._mapDraw.group.removeAll();\n    }\n\n    this.group.silent = geoModel.get('silent');\n  },\n  dispose: function () {\n    this._mapDraw && this._mapDraw.remove();\n  }\n});\n\nmodule.exports = _default;","var _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../util/model\");\n\nvar graphicUtil = require(\"../util/graphic\");\n\nvar layoutUtil = require(\"../util/layout\");\n\n// -------------\n// Preprocessor\n// -------------\necharts.registerPreprocessor(function (option) {\n  var graphicOption = option.graphic; // Convert\n  // {graphic: [{left: 10, type: 'circle'}, ...]}\n  // or\n  // {graphic: {left: 10, type: 'circle'}}\n  // to\n  // {graphic: [{elements: [{left: 10, type: 'circle'}, ...]}]}\n\n  if (zrUtil.isArray(graphicOption)) {\n    if (!graphicOption[0] || !graphicOption[0].elements) {\n      option.graphic = [{\n        elements: graphicOption\n      }];\n    } else {\n      // Only one graphic instance can be instantiated. (We dont\n      // want that too many views are created in echarts._viewMap)\n      option.graphic = [option.graphic[0]];\n    }\n  } else if (graphicOption && !graphicOption.elements) {\n    option.graphic = [{\n      elements: [graphicOption]\n    }];\n  }\n}); // ------\n// Model\n// ------\n\nvar GraphicModel = echarts.extendComponentModel({\n  type: 'graphic',\n  defaultOption: {\n    // Extra properties for each elements:\n    //\n    // left/right/top/bottom: (like 12, '22%', 'center', default undefined)\n    //      If left/rigth is set, shape.x/shape.cx/position will not be used.\n    //      If top/bottom is set, shape.y/shape.cy/position will not be used.\n    //      This mechanism is useful when you want to position a group/element\n    //      against the right side or the center of this container.\n    //\n    // width/height: (can only be pixel value, default 0)\n    //      Only be used to specify contianer(group) size, if needed. And\n    //      can not be percentage value (like '33%'). See the reason in the\n    //      layout algorithm below.\n    //\n    // bounding: (enum: 'all' (default) | 'raw')\n    //      Specify how to calculate boundingRect when locating.\n    //      'all': Get uioned and transformed boundingRect\n    //          from both itself and its descendants.\n    //          This mode simplies confining a group of elements in the bounding\n    //          of their ancester container (e.g., using 'right: 0').\n    //      'raw': Only use the boundingRect of itself and before transformed.\n    //          This mode is similar to css behavior, which is useful when you\n    //          want an element to be able to overflow its container. (Consider\n    //          a rotated circle needs to be located in a corner.)\n    // Note: elements is always behind its ancestors in this elements array.\n    elements: [],\n    parentId: null\n  },\n\n  /**\n   * Save el options for the sake of the performance (only update modified graphics).\n   * The order is the same as those in option. (ancesters -> descendants)\n   *\n   * @private\n   * @type {Array.<Object>}\n   */\n  _elOptionsToUpdate: null,\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    // Prevent default merge to elements\n    var elements = this.option.elements;\n    this.option.elements = null;\n    GraphicModel.superApply(this, 'mergeOption', arguments);\n    this.option.elements = elements;\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option;\n    var newList = (isInit ? thisOption : newOption).elements;\n    var existList = thisOption.elements = isInit ? [] : thisOption.elements;\n    var flattenedList = [];\n\n    this._flatten(newList, flattenedList);\n\n    var mappingResult = modelUtil.mappingToExists(existList, flattenedList);\n    modelUtil.makeIdAndName(mappingResult); // Clear elOptionsToUpdate\n\n    var elOptionsToUpdate = this._elOptionsToUpdate = [];\n    zrUtil.each(mappingResult, function (resultItem, index) {\n      var newElOption = resultItem.option;\n\n      if (!newElOption) {\n        return;\n      }\n\n      elOptionsToUpdate.push(newElOption);\n      setKeyInfoToNewElOption(resultItem, newElOption);\n      mergeNewElOptionToExist(existList, index, newElOption);\n      setLayoutInfoToExist(existList[index], newElOption);\n    }, this); // Clean\n\n    for (var i = existList.length - 1; i >= 0; i--) {\n      if (existList[i] == null) {\n        existList.splice(i, 1);\n      } else {\n        // $action should be volatile, otherwise option gotten from\n        // `getOption` will contain unexpected $action.\n        delete existList[i].$action;\n      }\n    }\n  },\n\n  /**\n   * Convert\n   * [{\n   *  type: 'group',\n   *  id: 'xx',\n   *  children: [{type: 'circle'}, {type: 'polygon'}]\n   * }]\n   * to\n   * [\n   *  {type: 'group', id: 'xx'},\n   *  {type: 'circle', parentId: 'xx'},\n   *  {type: 'polygon', parentId: 'xx'}\n   * ]\n   *\n   * @private\n   * @param {Array.<Object>} optionList option list\n   * @param {Array.<Object>} result result of flatten\n   * @param {Object} parentOption parent option\n   */\n  _flatten: function (optionList, result, parentOption) {\n    zrUtil.each(optionList, function (option) {\n      if (!option) {\n        return;\n      }\n\n      if (parentOption) {\n        option.parentOption = parentOption;\n      }\n\n      result.push(option);\n      var children = option.children;\n\n      if (option.type === 'group' && children) {\n        this._flatten(children, result, option);\n      } // Deleting for JSON output, and for not affecting group creation.\n\n\n      delete option.children;\n    }, this);\n  },\n  // FIXME\n  // Pass to view using payload? setOption has a payload?\n  useElOptionsToUpdate: function () {\n    var els = this._elOptionsToUpdate; // Clear to avoid render duplicately when zooming.\n\n    this._elOptionsToUpdate = null;\n    return els;\n  }\n}); // -----\n// View\n// -----\n\necharts.extendComponentView({\n  type: 'graphic',\n\n  /**\n   * @override\n   */\n  init: function (ecModel, api) {\n    /**\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this._elMap = zrUtil.createHashMap();\n    /**\n     * @private\n     * @type {module:echarts/graphic/GraphicModel}\n     */\n\n    this._lastGraphicModel;\n  },\n\n  /**\n   * @override\n   */\n  render: function (graphicModel, ecModel, api) {\n    // Having leveraged between use cases and algorithm complexity, a very\n    // simple layout mechanism is used:\n    // The size(width/height) can be determined by itself or its parent (not\n    // implemented yet), but can not by its children. (Top-down travel)\n    // The location(x/y) can be determined by the bounding rect of itself\n    // (can including its descendants or not) and the size of its parent.\n    // (Bottom-up travel)\n    // When `chart.clear()` or `chart.setOption({...}, true)` with the same id,\n    // view will be reused.\n    if (graphicModel !== this._lastGraphicModel) {\n      this._clear();\n    }\n\n    this._lastGraphicModel = graphicModel;\n\n    this._updateElements(graphicModel, api);\n\n    this._relocate(graphicModel, api);\n  },\n\n  /**\n   * Update graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   * @param {module:echarts/ExtensionAPI} api extension API\n   */\n  _updateElements: function (graphicModel, api) {\n    var elOptionsToUpdate = graphicModel.useElOptionsToUpdate();\n\n    if (!elOptionsToUpdate) {\n      return;\n    }\n\n    var elMap = this._elMap;\n    var rootGroup = this.group; // Top-down tranverse to assign graphic settings to each elements.\n\n    zrUtil.each(elOptionsToUpdate, function (elOption) {\n      var $action = elOption.$action;\n      var id = elOption.id;\n      var existEl = elMap.get(id);\n      var parentId = elOption.parentId;\n      var targetElParent = parentId != null ? elMap.get(parentId) : rootGroup;\n\n      if (elOption.type === 'text') {\n        var elOptionStyle = elOption.style; // In top/bottom mode, textVerticalAlign should not be used, which cause\n        // inaccurately locating.\n\n        if (elOption.hv && elOption.hv[1]) {\n          elOptionStyle.textVerticalAlign = elOptionStyle.textBaseline = null;\n        } // Compatible with previous setting: both support fill and textFill,\n        // stroke and textStroke.\n\n\n        !elOptionStyle.hasOwnProperty('textFill') && elOptionStyle.fill && (elOptionStyle.textFill = elOptionStyle.fill);\n        !elOptionStyle.hasOwnProperty('textStroke') && elOptionStyle.stroke && (elOptionStyle.textStroke = elOptionStyle.stroke);\n      } // Remove unnecessary props to avoid potential problems.\n\n\n      var elOptionCleaned = getCleanedElOption(elOption); // For simple, do not support parent change, otherwise reorder is needed.\n\n      if (!$action || $action === 'merge') {\n        existEl ? existEl.attr(elOptionCleaned) : createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'replace') {\n        removeEl(existEl, elMap);\n        createEl(id, targetElParent, elOptionCleaned, elMap);\n      } else if ($action === 'remove') {\n        removeEl(existEl, elMap);\n      }\n\n      var el = elMap.get(id);\n\n      if (el) {\n        el.__ecGraphicWidth = elOption.width;\n        el.__ecGraphicHeight = elOption.height;\n      }\n    });\n  },\n\n  /**\n   * Locate graphic elements.\n   *\n   * @private\n   * @param {Object} graphicModel graphic model\n   * @param {module:echarts/ExtensionAPI} api extension API\n   */\n  _relocate: function (graphicModel, api) {\n    var elOptions = graphicModel.option.elements;\n    var rootGroup = this.group;\n    var elMap = this._elMap; // Bottom-up tranvese all elements (consider ec resize) to locate elements.\n\n    for (var i = elOptions.length - 1; i >= 0; i--) {\n      var elOption = elOptions[i];\n      var el = elMap.get(elOption.id);\n\n      if (!el) {\n        continue;\n      }\n\n      var parentEl = el.parent;\n      var containerInfo = parentEl === rootGroup ? {\n        width: api.getWidth(),\n        height: api.getHeight()\n      } : {\n        // Like 'position:absolut' in css, default 0.\n        width: parentEl.__ecGraphicWidth || 0,\n        height: parentEl.__ecGraphicHeight || 0\n      };\n      layoutUtil.positionElement(el, elOption, containerInfo, null, {\n        hv: elOption.hv,\n        boundingMode: elOption.bounding\n      });\n    }\n  },\n\n  /**\n   * Clear all elements.\n   *\n   * @private\n   */\n  _clear: function () {\n    var elMap = this._elMap;\n    elMap.each(function (el) {\n      removeEl(el, elMap);\n    });\n    this._elMap = zrUtil.createHashMap();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clear();\n  }\n});\n\nfunction createEl(id, targetElParent, elOption, elMap) {\n  var graphicType = elOption.type;\n  var Clz = graphicUtil[graphicType.charAt(0).toUpperCase() + graphicType.slice(1)];\n  var el = new Clz(elOption);\n  targetElParent.add(el);\n  elMap.set(id, el);\n  el.__ecGraphicId = id;\n}\n\nfunction removeEl(existEl, elMap) {\n  var existElParent = existEl && existEl.parent;\n\n  if (existElParent) {\n    existEl.type === 'group' && existEl.traverse(function (el) {\n      removeEl(el, elMap);\n    });\n    elMap.removeKey(existEl.__ecGraphicId);\n    existElParent.remove(existEl);\n  }\n} // Remove unnecessary props to avoid potential problems.\n\n\nfunction getCleanedElOption(elOption) {\n  elOption = zrUtil.extend({}, elOption);\n  zrUtil.each(['id', 'parentId', '$action', 'hv', 'bounding'].concat(layoutUtil.LOCATION_PARAMS), function (name) {\n    delete elOption[name];\n  });\n  return elOption;\n}\n\nfunction isSetLoc(obj, props) {\n  var isSet;\n  zrUtil.each(props, function (prop) {\n    obj[prop] != null && obj[prop] !== 'auto' && (isSet = true);\n  });\n  return isSet;\n}\n\nfunction setKeyInfoToNewElOption(resultItem, newElOption) {\n  var existElOption = resultItem.exist; // Set id and type after id assigned.\n\n  newElOption.id = resultItem.keyInfo.id;\n  !newElOption.type && existElOption && (newElOption.type = existElOption.type); // Set parent id if not specified\n\n  if (newElOption.parentId == null) {\n    var newElParentOption = newElOption.parentOption;\n\n    if (newElParentOption) {\n      newElOption.parentId = newElParentOption.id;\n    } else if (existElOption) {\n      newElOption.parentId = existElOption.parentId;\n    }\n  } // Clear\n\n\n  newElOption.parentOption = null;\n}\n\nfunction mergeNewElOptionToExist(existList, index, newElOption) {\n  // Update existing options, for `getOption` feature.\n  var newElOptCopy = zrUtil.extend({}, newElOption);\n  var existElOption = existList[index];\n  var $action = newElOption.$action || 'merge';\n\n  if ($action === 'merge') {\n    if (existElOption) {\n      // We can ensure that newElOptCopy and existElOption are not\n      // the same object, so `merge` will not change newElOptCopy.\n      zrUtil.merge(existElOption, newElOptCopy, true); // Rigid body, use ignoreSize.\n\n      layoutUtil.mergeLayoutParam(existElOption, newElOptCopy, {\n        ignoreSize: true\n      }); // Will be used in render.\n\n      layoutUtil.copyLayoutParams(newElOption, existElOption);\n    } else {\n      existList[index] = newElOptCopy;\n    }\n  } else if ($action === 'replace') {\n    existList[index] = newElOptCopy;\n  } else if ($action === 'remove') {\n    // null will be cleaned later.\n    existElOption && (existList[index] = null);\n  }\n}\n\nfunction setLayoutInfoToExist(existItem, newElOption) {\n  if (!existItem) {\n    return;\n  }\n\n  existItem.hv = newElOption.hv = [// Rigid body, dont care `width`.\n  isSetLoc(newElOption, ['left', 'right']), // Rigid body, dont care `height`.\n  isSetLoc(newElOption, ['top', 'bottom'])]; // Give default group size. Otherwise layout error may occur.\n\n  if (existItem.type === 'group') {\n    existItem.width == null && (existItem.width = newElOption.width = 0);\n    existItem.height == null && (existItem.height = newElOption.height = 0);\n  }\n}","require(\"./gridSimple\");\n\nrequire(\"./axisPointer/CartesianAxisPointer\");\n\nrequire(\"./axisPointer\");","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar curry = zrUtil.curry;\nvar each = zrUtil.each;\nvar map = zrUtil.map;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathPow = Math.pow;\nvar COVER_Z = 10000;\nvar UNSELECT_THRESHOLD = 6;\nvar MIN_RESIZE_LINE_WIDTH = 6;\nvar MUTEX_RESOURCE_KEY = 'globalPan';\nvar DIRECTION_MAP = {\n  w: [0, 0],\n  e: [0, 1],\n  n: [1, 0],\n  s: [1, 1]\n};\nvar CURSOR_MAP = {\n  w: 'ew',\n  e: 'ew',\n  n: 'ns',\n  s: 'ns',\n  ne: 'nesw',\n  sw: 'nesw',\n  nw: 'nwse',\n  se: 'nwse'\n};\nvar DEFAULT_BRUSH_OPT = {\n  brushStyle: {\n    lineWidth: 2,\n    stroke: 'rgba(0,0,0,0.3)',\n    fill: 'rgba(0,0,0,0.1)'\n  },\n  transformable: true,\n  brushMode: 'single',\n  removeOnClick: false\n};\nvar baseUID = 0;\n/**\n * @alias module:echarts/component/helper/BrushController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n * @event module:echarts/component/helper/BrushController#brush\n *        params:\n *            areas: Array.<Array>, coord relates to container group,\n *                                    If no container specified, to global.\n *            opt {\n *                isEnd: boolean,\n *                removeOnClick: boolean\n *            }\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\n\nfunction BrushController(zr) {\n  Eventful.call(this);\n  /**\n   * @type {module:zrender/zrender~ZRender}\n   * @private\n   */\n\n  this._zr = zr;\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = new graphic.Group();\n  /**\n   * Only for drawing (after enabledBrush).\n   *     'line', 'rect', 'polygon' or false\n   *     If passing false/null/undefined, disable brush.\n   *     If passing 'auto', determined by panel.defaultBrushType\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * Only for drawing (after enabledBrush).\n   *\n   * @private\n   * @type {Object}\n   */\n\n  this._brushOption;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._panels;\n  /**\n   * @private\n   * @type {Array.<nubmer>}\n   */\n\n  this._track = [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._dragging;\n  /**\n   * @private\n   * @type {Array}\n   */\n\n  this._covers = [];\n  /**\n   * @private\n   * @type {moudule:zrender/container/Group}\n   */\n\n  this._creatingCover;\n  /**\n   * `true` means global panel\n   * @private\n   * @type {module:zrender/container/Group|boolean}\n   */\n\n  this._creatingPanel;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._enableGlobalPan;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  /**\n   * @private\n   * @type {string}\n   */\n  this._uid = 'brushController_' + baseUID++;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._handlers = {};\n  each(mouseHandlers, function (handler, eventName) {\n    this._handlers[eventName] = zrUtil.bind(handler, this);\n  }, this);\n}\n\nBrushController.prototype = {\n  constructor: BrushController,\n\n  /**\n   * If set to null/undefined/false, select disabled.\n   * @param {Object} brushOption\n   * @param {string|boolean} brushOption.brushType 'line', 'rect', 'polygon' or false\n   *                          If passing false/null/undefined, disable brush.\n   *                          If passing 'auto', determined by panel.defaultBrushType.\n   *                              ('auto' can not be used in global panel)\n   * @param {number} [brushOption.brushMode='single'] 'single' or 'multiple'\n   * @param {boolean} [brushOption.transformable=true]\n   * @param {boolean} [brushOption.removeOnClick=false]\n   * @param {Object} [brushOption.brushStyle]\n   * @param {number} [brushOption.brushStyle.width]\n   * @param {number} [brushOption.brushStyle.lineWidth]\n   * @param {string} [brushOption.brushStyle.stroke]\n   * @param {string} [brushOption.brushStyle.fill]\n   * @param {number} [brushOption.z]\n   */\n  enableBrush: function (brushOption) {\n    this._brushType && doDisableBrush(this);\n    brushOption.brushType && doEnableBrush(this, brushOption);\n    return this;\n  },\n\n  /**\n   * @param {Array.<Object>} panelOpts If not pass, it is global brush.\n   *        Each items: {\n   *            panelId, // mandatory.\n   *            clipPath, // mandatory. function.\n   *            isTargetByCursor, // mandatory. function.\n   *            defaultBrushType, // optional, only used when brushType is 'auto'.\n   *            getLinearBrushOtherExtent, // optional. function.\n   *        }\n   */\n  setPanels: function (panelOpts) {\n    if (panelOpts && panelOpts.length) {\n      var panels = this._panels = {};\n      zrUtil.each(panelOpts, function (panelOpts) {\n        panels[panelOpts.panelId] = zrUtil.clone(panelOpts);\n      });\n    } else {\n      this._panels = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param {Object} [opt]\n   * @return {boolean} [opt.enableGlobalPan=false]\n   */\n  mount: function (opt) {\n    opt = opt || {};\n    this._enableGlobalPan = opt.enableGlobalPan;\n    var thisGroup = this.group;\n\n    this._zr.add(thisGroup);\n\n    thisGroup.attr({\n      position: opt.position || [0, 0],\n      rotation: opt.rotation || 0,\n      scale: opt.scale || [1, 1]\n    });\n    this._transform = thisGroup.getLocalTransform();\n    return this;\n  },\n  eachCover: function (cb, context) {\n    each(this._covers, cb, context);\n  },\n\n  /**\n   * Update covers.\n   * @param {Array.<Object>} brushOptionList Like:\n   *        [\n   *            {id: 'xx', brushType: 'line', range: [23, 44], brushStyle, transformable},\n   *            {id: 'yy', brushType: 'rect', range: [[23, 44], [23, 54]]},\n   *            ...\n   *        ]\n   *        `brushType` is required in each cover info. (can not be 'auto')\n   *        `id` is not mandatory.\n   *        `brushStyle`, `transformable` is not mandatory, use DEFAULT_BRUSH_OPT by default.\n   *        If brushOptionList is null/undefined, all covers removed.\n   */\n  updateCovers: function (brushOptionList) {\n    brushOptionList = zrUtil.map(brushOptionList, function (brushOption) {\n      return zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n    });\n    var tmpIdPrefix = '\\0-brush-index-';\n    var oldCovers = this._covers;\n    var newCovers = this._covers = [];\n    var controller = this;\n    var creatingCover = this._creatingCover;\n    new DataDiffer(oldCovers, brushOptionList, oldGetKey, getKey).add(addOrUpdate).update(addOrUpdate).remove(remove).execute();\n    return this;\n\n    function getKey(brushOption, index) {\n      return (brushOption.id != null ? brushOption.id : tmpIdPrefix + index) + '-' + brushOption.brushType;\n    }\n\n    function oldGetKey(cover, index) {\n      return getKey(cover.__brushOption, index);\n    }\n\n    function addOrUpdate(newIndex, oldIndex) {\n      var newBrushOption = brushOptionList[newIndex]; // Consider setOption in event listener of brushSelect,\n      // where updating cover when creating should be forbiden.\n\n      if (oldIndex != null && oldCovers[oldIndex] === creatingCover) {\n        newCovers[newIndex] = oldCovers[oldIndex];\n      } else {\n        var cover = newCovers[newIndex] = oldIndex != null ? (oldCovers[oldIndex].__brushOption = newBrushOption, oldCovers[oldIndex]) : endCreating(controller, createCover(controller, newBrushOption));\n        updateCoverAfterCreation(controller, cover);\n      }\n    }\n\n    function remove(oldIndex) {\n      if (oldCovers[oldIndex] !== creatingCover) {\n        controller.group.remove(oldCovers[oldIndex]);\n      }\n    }\n  },\n  unmount: function () {\n    this.enableBrush(false); // container may 'removeAll' outside.\n\n    clearCovers(this);\n\n    this._zr.remove(this.group);\n\n    return this;\n  },\n  dispose: function () {\n    this.unmount();\n    this.off();\n  }\n};\nzrUtil.mixin(BrushController, Eventful);\n\nfunction doEnableBrush(controller, brushOption) {\n  var zr = controller._zr; // Consider roam, which takes globalPan too.\n\n  if (!controller._enableGlobalPan) {\n    interactionMutex.take(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  }\n\n  each(controller._handlers, function (handler, eventName) {\n    zr.on(eventName, handler);\n  });\n  controller._brushType = brushOption.brushType;\n  controller._brushOption = zrUtil.merge(zrUtil.clone(DEFAULT_BRUSH_OPT), brushOption, true);\n}\n\nfunction doDisableBrush(controller) {\n  var zr = controller._zr;\n  interactionMutex.release(zr, MUTEX_RESOURCE_KEY, controller._uid);\n  each(controller._handlers, function (handler, eventName) {\n    zr.off(eventName, handler);\n  });\n  controller._brushType = controller._brushOption = null;\n}\n\nfunction createCover(controller, brushOption) {\n  var cover = coverRenderers[brushOption.brushType].createCover(controller, brushOption);\n  cover.__brushOption = brushOption;\n  updateZ(cover, brushOption);\n  controller.group.add(cover);\n  return cover;\n}\n\nfunction endCreating(controller, creatingCover) {\n  var coverRenderer = getCoverRenderer(creatingCover);\n\n  if (coverRenderer.endCreating) {\n    coverRenderer.endCreating(controller, creatingCover);\n    updateZ(creatingCover, creatingCover.__brushOption);\n  }\n\n  return creatingCover;\n}\n\nfunction updateCoverShape(controller, cover) {\n  var brushOption = cover.__brushOption;\n  getCoverRenderer(cover).updateCoverShape(controller, cover, brushOption.range, brushOption);\n}\n\nfunction updateZ(cover, brushOption) {\n  var z = brushOption.z;\n  z == null && (z = COVER_Z);\n  cover.traverse(function (el) {\n    el.z = z;\n    el.z2 = z; // Consider in given container.\n  });\n}\n\nfunction updateCoverAfterCreation(controller, cover) {\n  getCoverRenderer(cover).updateCommon(controller, cover);\n  updateCoverShape(controller, cover);\n}\n\nfunction getCoverRenderer(cover) {\n  return coverRenderers[cover.__brushOption.brushType];\n} // return target panel or `true` (means global panel)\n\n\nfunction getPanelByPoint(controller, e, localCursorPoint) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panel;\n  var transform = controller._transform;\n  each(panels, function (pn) {\n    pn.isTargetByCursor(e, localCursorPoint, transform) && (panel = pn);\n  });\n  return panel;\n} // Return a panel or true\n\n\nfunction getPanelByCover(controller, cover) {\n  var panels = controller._panels;\n\n  if (!panels) {\n    return true; // Global panel\n  }\n\n  var panelId = cover.__brushOption.panelId; // User may give cover without coord sys info,\n  // which is then treated as global panel.\n\n  return panelId != null ? panels[panelId] : true;\n}\n\nfunction clearCovers(controller) {\n  var covers = controller._covers;\n  var originalLength = covers.length;\n  each(covers, function (cover) {\n    controller.group.remove(cover);\n  }, controller);\n  covers.length = 0;\n  return !!originalLength;\n}\n\nfunction trigger(controller, opt) {\n  var areas = map(controller._covers, function (cover) {\n    var brushOption = cover.__brushOption;\n    var range = zrUtil.clone(brushOption.range);\n    return {\n      brushType: brushOption.brushType,\n      panelId: brushOption.panelId,\n      range: range\n    };\n  });\n  controller.trigger('brush', areas, {\n    isEnd: !!opt.isEnd,\n    removeOnClick: !!opt.removeOnClick\n  });\n}\n\nfunction shouldShowCover(controller) {\n  var track = controller._track;\n\n  if (!track.length) {\n    return false;\n  }\n\n  var p2 = track[track.length - 1];\n  var p1 = track[0];\n  var dx = p2[0] - p1[0];\n  var dy = p2[1] - p1[1];\n  var dist = mathPow(dx * dx + dy * dy, 0.5);\n  return dist > UNSELECT_THRESHOLD;\n}\n\nfunction getTrackEnds(track) {\n  var tail = track.length - 1;\n  tail < 0 && (tail = 0);\n  return [track[0], track[tail]];\n}\n\nfunction createBaseRectCover(doDrift, controller, brushOption, edgeNames) {\n  var cover = new graphic.Group();\n  cover.add(new graphic.Rect({\n    name: 'main',\n    style: makeStyle(brushOption),\n    silent: true,\n    draggable: true,\n    cursor: 'move',\n    drift: curry(doDrift, controller, cover, 'nswe'),\n    ondragend: curry(trigger, controller, {\n      isEnd: true\n    })\n  }));\n  each(edgeNames, function (name) {\n    cover.add(new graphic.Rect({\n      name: name,\n      style: {\n        opacity: 0\n      },\n      draggable: true,\n      silent: true,\n      invisible: true,\n      drift: curry(doDrift, controller, cover, name),\n      ondragend: curry(trigger, controller, {\n        isEnd: true\n      })\n    }));\n  });\n  return cover;\n}\n\nfunction updateBaseRect(controller, cover, localRange, brushOption) {\n  var lineWidth = brushOption.brushStyle.lineWidth || 0;\n  var handleSize = mathMax(lineWidth, MIN_RESIZE_LINE_WIDTH);\n  var x = localRange[0][0];\n  var y = localRange[1][0];\n  var xa = x - lineWidth / 2;\n  var ya = y - lineWidth / 2;\n  var x2 = localRange[0][1];\n  var y2 = localRange[1][1];\n  var x2a = x2 - handleSize + lineWidth / 2;\n  var y2a = y2 - handleSize + lineWidth / 2;\n  var width = x2 - x;\n  var height = y2 - y;\n  var widtha = width + lineWidth;\n  var heighta = height + lineWidth;\n  updateRectShape(controller, cover, 'main', x, y, width, height);\n\n  if (brushOption.transformable) {\n    updateRectShape(controller, cover, 'w', xa, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'e', x2a, ya, handleSize, heighta);\n    updateRectShape(controller, cover, 'n', xa, ya, widtha, handleSize);\n    updateRectShape(controller, cover, 's', xa, y2a, widtha, handleSize);\n    updateRectShape(controller, cover, 'nw', xa, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'ne', x2a, ya, handleSize, handleSize);\n    updateRectShape(controller, cover, 'sw', xa, y2a, handleSize, handleSize);\n    updateRectShape(controller, cover, 'se', x2a, y2a, handleSize, handleSize);\n  }\n}\n\nfunction updateCommon(controller, cover) {\n  var brushOption = cover.__brushOption;\n  var transformable = brushOption.transformable;\n  var mainEl = cover.childAt(0);\n  mainEl.useStyle(makeStyle(brushOption));\n  mainEl.attr({\n    silent: !transformable,\n    cursor: transformable ? 'move' : 'default'\n  });\n  each(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (name) {\n    var el = cover.childOfName(name);\n    var globalDir = getGlobalDirection(controller, name);\n    el && el.attr({\n      silent: !transformable,\n      invisible: !transformable,\n      cursor: transformable ? CURSOR_MAP[globalDir] + '-resize' : null\n    });\n  });\n}\n\nfunction updateRectShape(controller, cover, name, x, y, w, h) {\n  var el = cover.childOfName(name);\n  el && el.setShape(pointsToRect(clipByPanel(controller, cover, [[x, y], [x + w, y + h]])));\n}\n\nfunction makeStyle(brushOption) {\n  return zrUtil.defaults({\n    strokeNoScale: true\n  }, brushOption.brushStyle);\n}\n\nfunction formatRectRange(x, y, x2, y2) {\n  var min = [mathMin(x, x2), mathMin(y, y2)];\n  var max = [mathMax(x, x2), mathMax(y, y2)];\n  return [[min[0], max[0]], // x range\n  [min[1], max[1]] // y range\n  ];\n}\n\nfunction getTransform(controller) {\n  return graphic.getTransform(controller.group);\n}\n\nfunction getGlobalDirection(controller, localDirection) {\n  if (localDirection.length > 1) {\n    localDirection = localDirection.split('');\n    var globalDir = [getGlobalDirection(controller, localDirection[0]), getGlobalDirection(controller, localDirection[1])];\n    (globalDir[0] === 'e' || globalDir[0] === 'w') && globalDir.reverse();\n    return globalDir.join('');\n  } else {\n    var map = {\n      w: 'left',\n      e: 'right',\n      n: 'top',\n      s: 'bottom'\n    };\n    var inverseMap = {\n      left: 'w',\n      right: 'e',\n      top: 'n',\n      bottom: 's'\n    };\n    var globalDir = graphic.transformDirection(map[localDirection], getTransform(controller));\n    return inverseMap[globalDir];\n  }\n}\n\nfunction driftRect(toRectRange, fromRectRange, controller, cover, name, dx, dy, e) {\n  var brushOption = cover.__brushOption;\n  var rectRange = toRectRange(brushOption.range);\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(name.split(''), function (namePart) {\n    var ind = DIRECTION_MAP[namePart];\n    rectRange[ind[0]][ind[1]] += localDelta[ind[0]];\n  });\n  brushOption.range = fromRectRange(formatRectRange(rectRange[0][0], rectRange[1][0], rectRange[0][1], rectRange[1][1]));\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction driftPolygon(controller, cover, dx, dy, e) {\n  var range = cover.__brushOption.range;\n  var localDelta = toLocalDelta(controller, dx, dy);\n  each(range, function (point) {\n    point[0] += localDelta[0];\n    point[1] += localDelta[1];\n  });\n  updateCoverAfterCreation(controller, cover);\n  trigger(controller, {\n    isEnd: false\n  });\n}\n\nfunction toLocalDelta(controller, dx, dy) {\n  var thisGroup = controller.group;\n  var localD = thisGroup.transformCoordToLocal(dx, dy);\n  var localZero = thisGroup.transformCoordToLocal(0, 0);\n  return [localD[0] - localZero[0], localD[1] - localZero[1]];\n}\n\nfunction clipByPanel(controller, cover, data) {\n  var panel = getPanelByCover(controller, cover);\n  return panel && panel !== true ? panel.clipPath(data, controller._transform) : zrUtil.clone(data);\n}\n\nfunction pointsToRect(points) {\n  var xmin = mathMin(points[0][0], points[1][0]);\n  var ymin = mathMin(points[0][1], points[1][1]);\n  var xmax = mathMax(points[0][0], points[1][0]);\n  var ymax = mathMax(points[0][1], points[1][1]);\n  return {\n    x: xmin,\n    y: ymin,\n    width: xmax - xmin,\n    height: ymax - ymin\n  };\n}\n\nfunction resetCursor(controller, e, localCursorPoint) {\n  // Check active\n  if (!controller._brushType) {\n    return;\n  }\n\n  var zr = controller._zr;\n  var covers = controller._covers;\n  var currPanel = getPanelByPoint(controller, e, localCursorPoint); // Check whether in covers.\n\n  if (!controller._dragging) {\n    for (var i = 0; i < covers.length; i++) {\n      var brushOption = covers[i].__brushOption;\n\n      if (currPanel && (currPanel === true || brushOption.panelId === currPanel.panelId) && coverRenderers[brushOption.brushType].contain(covers[i], localCursorPoint[0], localCursorPoint[1])) {\n        // Use cursor style set on cover.\n        return;\n      }\n    }\n  }\n\n  currPanel && zr.setCursorStyle('crosshair');\n}\n\nfunction preventDefault(e) {\n  var rawE = e.event;\n  rawE.preventDefault && rawE.preventDefault();\n}\n\nfunction mainShapeContain(cover, x, y) {\n  return cover.childOfName('main').contain(x, y);\n}\n\nfunction updateCoverByMouse(controller, e, localCursorPoint, isEnd) {\n  var creatingCover = controller._creatingCover;\n  var panel = controller._creatingPanel;\n  var thisBrushOption = controller._brushOption;\n  var eventParams;\n\n  controller._track.push(localCursorPoint.slice());\n\n  if (shouldShowCover(controller) || creatingCover) {\n    if (panel && !creatingCover) {\n      thisBrushOption.brushMode === 'single' && clearCovers(controller);\n      var brushOption = zrUtil.clone(thisBrushOption);\n      brushOption.brushType = determineBrushType(brushOption.brushType, panel);\n      brushOption.panelId = panel === true ? null : panel.panelId;\n      creatingCover = controller._creatingCover = createCover(controller, brushOption);\n\n      controller._covers.push(creatingCover);\n    }\n\n    if (creatingCover) {\n      var coverRenderer = coverRenderers[determineBrushType(controller._brushType, panel)];\n      var coverBrushOption = creatingCover.__brushOption;\n      coverBrushOption.range = coverRenderer.getCreatingRange(clipByPanel(controller, creatingCover, controller._track));\n\n      if (isEnd) {\n        endCreating(controller, creatingCover);\n        coverRenderer.updateCommon(controller, creatingCover);\n      }\n\n      updateCoverShape(controller, creatingCover);\n      eventParams = {\n        isEnd: isEnd\n      };\n    }\n  } else if (isEnd && thisBrushOption.brushMode === 'single' && thisBrushOption.removeOnClick) {\n    // Help user to remove covers easily, only by a tiny drag, in 'single' mode.\n    // But a single click do not clear covers, because user may have casual\n    // clicks (for example, click on other component and do not expect covers\n    // disappear).\n    // Only some cover removed, trigger action, but not every click trigger action.\n    if (getPanelByPoint(controller, e, localCursorPoint) && clearCovers(controller)) {\n      eventParams = {\n        isEnd: isEnd,\n        removeOnClick: true\n      };\n    }\n  }\n\n  return eventParams;\n}\n\nfunction determineBrushType(brushType, panel) {\n  if (brushType === 'auto') {\n    return panel.defaultBrushType;\n  }\n\n  return brushType;\n}\n\nvar mouseHandlers = {\n  mousedown: function (e) {\n    if (this._dragging) {\n      // In case some browser do not support globalOut,\n      // and release mose out side the browser.\n      handleDragEnd.call(this, e);\n    } else if (!e.target || !e.target.draggable) {\n      preventDefault(e);\n      var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n      this._creatingCover = null;\n      var panel = this._creatingPanel = getPanelByPoint(this, e, localCursorPoint);\n\n      if (panel) {\n        this._dragging = true;\n        this._track = [localCursorPoint.slice()];\n      }\n    }\n  },\n  mousemove: function (e) {\n    var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n    resetCursor(this, e, localCursorPoint);\n\n    if (this._dragging) {\n      preventDefault(e);\n      var eventParams = updateCoverByMouse(this, e, localCursorPoint, false);\n      eventParams && trigger(this, eventParams);\n    }\n  },\n  mouseup: handleDragEnd //,\n  // FIXME\n  // in tooltip, globalout should not be triggered.\n  // globalout: handleDragEnd\n\n};\n\nfunction handleDragEnd(e) {\n  if (this._dragging) {\n    preventDefault(e);\n    var localCursorPoint = this.group.transformCoordToLocal(e.offsetX, e.offsetY);\n    var eventParams = updateCoverByMouse(this, e, localCursorPoint, true);\n    this._dragging = false;\n    this._track = [];\n    this._creatingCover = null; // trigger event shoule be at final, after procedure will be nested.\n\n    eventParams && trigger(this, eventParams);\n  }\n}\n/**\n * key: brushType\n * @type {Object}\n */\n\n\nvar coverRenderers = {\n  lineX: getLineRenderer(0),\n  lineY: getLineRenderer(1),\n  rect: {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        return range;\n      }, function (range) {\n        return range;\n      }), controller, brushOption, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      return formatRectRange(ends[1][0], ends[1][1], ends[0][0], ends[0][1]);\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      updateBaseRect(controller, cover, localRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  },\n  polygon: {\n    createCover: function (controller, brushOption) {\n      var cover = new graphic.Group(); // Do not use graphic.Polygon because graphic.Polyline do not close the\n      // border of the shape when drawing, which is a better experience for user.\n\n      cover.add(new graphic.Polyline({\n        name: 'main',\n        style: makeStyle(brushOption),\n        silent: true\n      }));\n      return cover;\n    },\n    getCreatingRange: function (localTrack) {\n      return localTrack;\n    },\n    endCreating: function (controller, cover) {\n      cover.remove(cover.childAt(0)); // Use graphic.Polygon close the shape.\n\n      cover.add(new graphic.Polygon({\n        name: 'main',\n        draggable: true,\n        drift: curry(driftPolygon, controller, cover),\n        ondragend: curry(trigger, controller, {\n          isEnd: true\n        })\n      }));\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      cover.childAt(0).setShape({\n        points: clipByPanel(controller, cover, localRange)\n      });\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  }\n};\n\nfunction getLineRenderer(xyIndex) {\n  return {\n    createCover: function (controller, brushOption) {\n      return createBaseRectCover(curry(driftRect, function (range) {\n        var rectRange = [range, [0, 100]];\n        xyIndex && rectRange.reverse();\n        return rectRange;\n      }, function (rectRange) {\n        return rectRange[xyIndex];\n      }), controller, brushOption, [['w', 'e'], ['n', 's']][xyIndex]);\n    },\n    getCreatingRange: function (localTrack) {\n      var ends = getTrackEnds(localTrack);\n      var min = mathMin(ends[0][xyIndex], ends[1][xyIndex]);\n      var max = mathMax(ends[0][xyIndex], ends[1][xyIndex]);\n      return [min, max];\n    },\n    updateCoverShape: function (controller, cover, localRange, brushOption) {\n      var otherExtent; // If brushWidth not specified, fit the panel.\n\n      var panel = getPanelByCover(controller, cover);\n\n      if (panel !== true && panel.getLinearBrushOtherExtent) {\n        otherExtent = panel.getLinearBrushOtherExtent(xyIndex, controller._transform);\n      } else {\n        var zr = controller._zr;\n        otherExtent = [0, [zr.getWidth(), zr.getHeight()][1 - xyIndex]];\n      }\n\n      var rectRange = [localRange, otherExtent];\n      xyIndex && rectRange.reverse();\n      updateBaseRect(controller, cover, rectRange, brushOption);\n    },\n    updateCommon: updateCommon,\n    contain: mainShapeContain\n  };\n}\n\nvar _default = BrushController;\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar brushHelper = require(\"./brushHelper\");\n\nvar each = zrUtil.each;\nvar indexOf = zrUtil.indexOf;\nvar curry = zrUtil.curry;\nvar COORD_CONVERTS = ['dataToPoint', 'pointToData']; // FIXME\n// how to genarialize to more coordinate systems.\n\nvar INCLUDE_FINDER_MAIN_TYPES = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap'];\n/**\n * [option in constructor]:\n * {\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n * }\n *\n *\n * [targetInfo]:\n *\n * There can be multiple axes in a single targetInfo. Consider the case\n * of `grid` component, a targetInfo represents a grid which contains one or more\n * cartesian and one or more axes. And consider the case of parallel system,\n * which has multiple axes in a coordinate system.\n * Can be {\n *     panelId: ...,\n *     coordSys: <a representitive cartesian in grid (first cartesian by default)>,\n *     coordSyses: all cartesians.\n *     gridModel: <grid component>\n *     xAxes: correspond to coordSyses on index\n *     yAxes: correspond to coordSyses on index\n * }\n * or {\n *     panelId: ...,\n *     coordSys: <geo coord sys>\n *     coordSyses: [<geo coord sys>]\n *     geoModel: <geo component>\n * }\n *\n *\n * [panelOpt]:\n *\n * Make from targetInfo. Input to BrushController.\n * {\n *     panelId: ...,\n *     rect: ...\n * }\n *\n *\n * [area]:\n *\n * Generated by BrushController or user input.\n * {\n *     panelId: Used to locate coordInfo directly. If user inpput, no panelId.\n *     brushType: determine how to convert to/from coord('rect' or 'polygon' or 'lineX/Y').\n *     Index/Id/Name of geo, xAxis, yAxis, grid: See util/model#parseFinder.\n *     range: pixel range.\n *     coordRange: representitive coord range (the first one of coordRanges).\n *     coordRanges: <Array> coord ranges, used in multiple cartesian in one grid.\n * }\n */\n\n/**\n * @param {Object} option contains Index/Id/Name of xAxis/yAxis/geo/grid\n *        Each can be {number|Array.<number>}. like: {xAxisIndex: [3, 4]}\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} [opt]\n * @param {Array.<string>} [opt.include] include coordinate system types.\n */\n\nfunction BrushTargetManager(option, ecModel, opt) {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  var targetInfoList = this._targetInfoList = [];\n  var info = {};\n  var foundCpts = parseFinder(ecModel, option);\n  each(targetInfoBuilders, function (builder, type) {\n    if (!opt || !opt.include || indexOf(opt.include, type) >= 0) {\n      builder(foundCpts, targetInfoList, info);\n    }\n  });\n}\n\nvar proto = BrushTargetManager.prototype;\n\nproto.setOutputRanges = function (areas, ecModel) {\n  this.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    (area.coordRanges || (area.coordRanges = [])).push(coordRange); // area.coordRange is the first of area.coordRanges\n\n    if (!area.coordRange) {\n      area.coordRange = coordRange; // In 'category' axis, coord to pixel is not reversible, so we can not\n      // rebuild range by coordRange accrately, which may bring trouble when\n      // brushing only one item. So we use __rangeOffset to rebuilding range\n      // by coordRange. And this it only used in brush component so it is no\n      // need to be adapted to coordRanges.\n\n      var result = coordConvert[area.brushType](0, coordSys, coordRange);\n      area.__rangeOffset = {\n        offset: diffProcessor[area.brushType](result.values, area.range, [1, 1]),\n        xyMinMax: result.xyMinMax\n      };\n    }\n  });\n};\n\nproto.matchOutputRanges = function (areas, ecModel, cb) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n\n    if (targetInfo && targetInfo !== true) {\n      zrUtil.each(targetInfo.coordSyses, function (coordSys) {\n        var result = coordConvert[area.brushType](1, coordSys, area.range);\n        cb(area, result.values, coordSys, ecModel);\n      });\n    }\n  }, this);\n};\n\nproto.setInputRanges = function (areas, ecModel) {\n  each(areas, function (area) {\n    var targetInfo = this.findTargetInfo(area, ecModel);\n    area.range = area.range || []; // convert coordRange to global range and set panelId.\n\n    if (targetInfo && targetInfo !== true) {\n      area.panelId = targetInfo.panelId; // (1) area.range shoule always be calculate from coordRange but does\n      // not keep its original value, for the sake of the dataZoom scenario,\n      // where area.coordRange remains unchanged but area.range may be changed.\n      // (2) Only support converting one coordRange to pixel range in brush\n      // component. So do not consider `coordRanges`.\n      // (3) About __rangeOffset, see comment above.\n\n      var result = coordConvert[area.brushType](0, targetInfo.coordSys, area.coordRange);\n      var rangeOffset = area.__rangeOffset;\n      area.range = rangeOffset ? diffProcessor[area.brushType](result.values, rangeOffset.offset, getScales(result.xyMinMax, rangeOffset.xyMinMax)) : result.values;\n    }\n  }, this);\n};\n\nproto.makePanelOpts = function (api, getDefaultBrushType) {\n  return zrUtil.map(this._targetInfoList, function (targetInfo) {\n    var rect = targetInfo.getPanelRect();\n    return {\n      panelId: targetInfo.panelId,\n      defaultBrushType: getDefaultBrushType && getDefaultBrushType(targetInfo),\n      clipPath: brushHelper.makeRectPanelClipPath(rect),\n      isTargetByCursor: brushHelper.makeRectIsTargetByCursor(rect, api, targetInfo.coordSysModel),\n      getLinearBrushOtherExtent: brushHelper.makeLinearBrushOtherExtent(rect)\n    };\n  });\n};\n\nproto.controlSeries = function (area, seriesModel, ecModel) {\n  // Check whether area is bound in coord, and series do not belong to that coord.\n  // If do not do this check, some brush (like lineX) will controll all axes.\n  var targetInfo = this.findTargetInfo(area, ecModel);\n  return targetInfo === true || targetInfo && indexOf(targetInfo.coordSyses, seriesModel.coordinateSystem) >= 0;\n};\n/**\n * If return Object, a coord found.\n * If reutrn true, global found.\n * Otherwise nothing found.\n *\n * @param {Object} area\n * @param {Array} targetInfoList\n * @return {Object|boolean}\n */\n\n\nproto.findTargetInfo = function (area, ecModel) {\n  var targetInfoList = this._targetInfoList;\n  var foundCpts = parseFinder(ecModel, area);\n\n  for (var i = 0; i < targetInfoList.length; i++) {\n    var targetInfo = targetInfoList[i];\n    var areaPanelId = area.panelId;\n\n    if (areaPanelId) {\n      if (targetInfo.panelId === areaPanelId) {\n        return targetInfo;\n      }\n    } else {\n      for (var i = 0; i < targetInfoMatchers.length; i++) {\n        if (targetInfoMatchers[i](foundCpts, targetInfo)) {\n          return targetInfo;\n        }\n      }\n    }\n  }\n\n  return true;\n};\n\nfunction formatMinMax(minMax) {\n  minMax[0] > minMax[1] && minMax.reverse();\n  return minMax;\n}\n\nfunction parseFinder(ecModel, option) {\n  return modelUtil.parseFinder(ecModel, option, {\n    includeMainTypes: INCLUDE_FINDER_MAIN_TYPES\n  });\n}\n\nvar targetInfoBuilders = {\n  grid: function (foundCpts, targetInfoList) {\n    var xAxisModels = foundCpts.xAxisModels;\n    var yAxisModels = foundCpts.yAxisModels;\n    var gridModels = foundCpts.gridModels; // Remove duplicated.\n\n    var gridModelMap = zrUtil.createHashMap();\n    var xAxesHas = {};\n    var yAxesHas = {};\n\n    if (!xAxisModels && !yAxisModels && !gridModels) {\n      return;\n    }\n\n    each(xAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n    });\n    each(yAxisModels, function (axisModel) {\n      var gridModel = axisModel.axis.grid.model;\n      gridModelMap.set(gridModel.id, gridModel);\n      yAxesHas[gridModel.id] = true;\n    });\n    each(gridModels, function (gridModel) {\n      gridModelMap.set(gridModel.id, gridModel);\n      xAxesHas[gridModel.id] = true;\n      yAxesHas[gridModel.id] = true;\n    });\n    gridModelMap.each(function (gridModel) {\n      var grid = gridModel.coordinateSystem;\n      var cartesians = [];\n      each(grid.getCartesians(), function (cartesian, index) {\n        if (indexOf(xAxisModels, cartesian.getAxis('x').model) >= 0 || indexOf(yAxisModels, cartesian.getAxis('y').model) >= 0) {\n          cartesians.push(cartesian);\n        }\n      });\n      targetInfoList.push({\n        panelId: 'grid--' + gridModel.id,\n        gridModel: gridModel,\n        coordSysModel: gridModel,\n        // Use the first one as the representitive coordSys.\n        coordSys: cartesians[0],\n        coordSyses: cartesians,\n        getPanelRect: panelRectBuilder.grid,\n        xAxisDeclared: xAxesHas[gridModel.id],\n        yAxisDeclared: yAxesHas[gridModel.id]\n      });\n    });\n  },\n  geo: function (foundCpts, targetInfoList) {\n    each(foundCpts.geoModels, function (geoModel) {\n      var coordSys = geoModel.coordinateSystem;\n      targetInfoList.push({\n        panelId: 'geo--' + geoModel.id,\n        geoModel: geoModel,\n        coordSysModel: geoModel,\n        coordSys: coordSys,\n        coordSyses: [coordSys],\n        getPanelRect: panelRectBuilder.geo\n      });\n    });\n  }\n};\nvar targetInfoMatchers = [// grid\nfunction (foundCpts, targetInfo) {\n  var xAxisModel = foundCpts.xAxisModel;\n  var yAxisModel = foundCpts.yAxisModel;\n  var gridModel = foundCpts.gridModel;\n  !gridModel && xAxisModel && (gridModel = xAxisModel.axis.grid.model);\n  !gridModel && yAxisModel && (gridModel = yAxisModel.axis.grid.model);\n  return gridModel && gridModel === targetInfo.gridModel;\n}, // geo\nfunction (foundCpts, targetInfo) {\n  var geoModel = foundCpts.geoModel;\n  return geoModel && geoModel === targetInfo.geoModel;\n}];\nvar panelRectBuilder = {\n  grid: function () {\n    // grid is not Transformable.\n    return this.coordSys.grid.getRect().clone();\n  },\n  geo: function () {\n    var coordSys = this.coordSys;\n    var rect = coordSys.getBoundingRect().clone(); // geo roam and zoom transform\n\n    rect.applyTransform(graphic.getTransform(coordSys));\n    return rect;\n  }\n};\nvar coordConvert = {\n  lineX: curry(axisConvert, 0),\n  lineY: curry(axisConvert, 1),\n  rect: function (to, coordSys, rangeOrCoordRange) {\n    var xminymin = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][0], rangeOrCoordRange[1][0]]);\n    var xmaxymax = coordSys[COORD_CONVERTS[to]]([rangeOrCoordRange[0][1], rangeOrCoordRange[1][1]]);\n    var values = [formatMinMax([xminymin[0], xmaxymax[0]]), formatMinMax([xminymin[1], xmaxymax[1]])];\n    return {\n      values: values,\n      xyMinMax: values\n    };\n  },\n  polygon: function (to, coordSys, rangeOrCoordRange) {\n    var xyMinMax = [[Infinity, -Infinity], [Infinity, -Infinity]];\n    var values = zrUtil.map(rangeOrCoordRange, function (item) {\n      var p = coordSys[COORD_CONVERTS[to]](item);\n      xyMinMax[0][0] = Math.min(xyMinMax[0][0], p[0]);\n      xyMinMax[1][0] = Math.min(xyMinMax[1][0], p[1]);\n      xyMinMax[0][1] = Math.max(xyMinMax[0][1], p[0]);\n      xyMinMax[1][1] = Math.max(xyMinMax[1][1], p[1]);\n      return p;\n    });\n    return {\n      values: values,\n      xyMinMax: xyMinMax\n    };\n  }\n};\n\nfunction axisConvert(axisNameIndex, to, coordSys, rangeOrCoordRange) {\n  var axis = coordSys.getAxis(['x', 'y'][axisNameIndex]);\n  var values = formatMinMax(zrUtil.map([0, 1], function (i) {\n    return to ? axis.coordToData(axis.toLocalCoord(rangeOrCoordRange[i])) : axis.toGlobalCoord(axis.dataToCoord(rangeOrCoordRange[i]));\n  }));\n  var xyMinMax = [];\n  xyMinMax[axisNameIndex] = values;\n  xyMinMax[1 - axisNameIndex] = [NaN, NaN];\n  return {\n    values: values,\n    xyMinMax: xyMinMax\n  };\n}\n\nvar diffProcessor = {\n  lineX: curry(axisDiffProcessor, 0),\n  lineY: curry(axisDiffProcessor, 1),\n  rect: function (values, refer, scales) {\n    return [[values[0][0] - scales[0] * refer[0][0], values[0][1] - scales[0] * refer[0][1]], [values[1][0] - scales[1] * refer[1][0], values[1][1] - scales[1] * refer[1][1]]];\n  },\n  polygon: function (values, refer, scales) {\n    return zrUtil.map(values, function (item, idx) {\n      return [item[0] - scales[0] * refer[idx][0], item[1] - scales[1] * refer[idx][1]];\n    });\n  }\n};\n\nfunction axisDiffProcessor(axisNameIndex, values, refer, scales) {\n  return [values[0] - scales[axisNameIndex] * refer[0], values[1] - scales[axisNameIndex] * refer[1]];\n} // We have to process scale caused by dataZoom manually,\n// although it might be not accurate.\n\n\nfunction getScales(xyMinMaxCurr, xyMinMaxOrigin) {\n  var sizeCurr = getSize(xyMinMaxCurr);\n  var sizeOrigin = getSize(xyMinMaxOrigin);\n  var scales = [sizeCurr[0] / sizeOrigin[0], sizeCurr[1] / sizeOrigin[1]];\n  isNaN(scales[0]) && (scales[0] = 1);\n  isNaN(scales[1]) && (scales[1] = 1);\n  return scales;\n}\n\nfunction getSize(xyMinMax) {\n  return xyMinMax ? [xyMinMax[0][1] - xyMinMax[0][0], xyMinMax[1][1] - xyMinMax[1][0]] : [NaN, NaN];\n}\n\nvar _default = BrushTargetManager;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar RoamController = require(\"./RoamController\");\n\nvar roamHelper = require(\"../../component/helper/roamHelper\");\n\nvar _cursorHelper = require(\"../../component/helper/cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphic = require(\"../../util/graphic\");\n\nfunction getFixedItemStyle(model, scale) {\n  var itemStyle = model.getItemStyle();\n  var areaColor = model.get('areaColor'); // If user want the color not to be changed when hover,\n  // they should both set areaColor and color to be null.\n\n  if (areaColor != null) {\n    itemStyle.fill = areaColor;\n  }\n\n  return itemStyle;\n}\n\nfunction updateMapSelectHandler(mapDraw, mapOrGeoModel, group, api, fromView) {\n  group.off('click');\n  group.off('mousedown');\n\n  if (mapOrGeoModel.get('selectedMode')) {\n    group.on('mousedown', function () {\n      mapDraw._mouseDownFlag = true;\n    });\n    group.on('click', function (e) {\n      if (!mapDraw._mouseDownFlag) {\n        return;\n      }\n\n      mapDraw._mouseDownFlag = false;\n      var el = e.target;\n\n      while (!el.__regions) {\n        el = el.parent;\n      }\n\n      if (!el) {\n        return;\n      }\n\n      var action = {\n        type: (mapOrGeoModel.mainType === 'geo' ? 'geo' : 'map') + 'ToggleSelect',\n        batch: zrUtil.map(el.__regions, function (region) {\n          return {\n            name: region.name,\n            from: fromView.uid\n          };\n        })\n      };\n      action[mapOrGeoModel.mainType + 'Id'] = mapOrGeoModel.id;\n      api.dispatchAction(action);\n      updateMapSelected(mapOrGeoModel, group);\n    });\n  }\n}\n\nfunction updateMapSelected(mapOrGeoModel, group) {\n  // FIXME\n  group.eachChild(function (otherRegionEl) {\n    zrUtil.each(otherRegionEl.__regions, function (region) {\n      otherRegionEl.trigger(mapOrGeoModel.isSelected(region.name) ? 'emphasis' : 'normal');\n    });\n  });\n}\n/**\n * @alias module:echarts/component/helper/MapDraw\n * @param {module:echarts/ExtensionAPI} api\n * @param {boolean} updateGroup\n */\n\n\nfunction MapDraw(api, updateGroup) {\n  var group = new graphic.Group();\n  /**\n   * @type {module:echarts/component/helper/RoamController}\n   * @private\n   */\n\n  this._controller = new RoamController(api.getZr());\n  /**\n   * @type {Object} {target, zoom, zoomLimit}\n   * @private\n   */\n\n  this._controllerHost = {\n    target: updateGroup ? group : null\n  };\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n\n  this.group = group;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._updateGroup = updateGroup;\n  /**\n   * This flag is used to make sure that only one among\n   * `pan`, `zoom`, `click` can occurs, otherwise 'selected'\n   * action may be triggered when `pan`, which is unexpected.\n   * @type {booelan}\n   */\n\n  this._mouseDownFlag;\n}\n\nMapDraw.prototype = {\n  constructor: MapDraw,\n  draw: function (mapOrGeoModel, ecModel, api, fromView, payload) {\n    var isGeo = mapOrGeoModel.mainType === 'geo'; // Map series has data. GEO model that controlled by map series\n    // will be assigned with map data. Other GEO model has no data.\n\n    var data = mapOrGeoModel.getData && mapOrGeoModel.getData();\n    isGeo && ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'map'\n    }, function (mapSeries) {\n      if (!data && mapSeries.getHostGeoModel() === mapOrGeoModel) {\n        data = mapSeries.getData();\n      }\n    });\n    var geo = mapOrGeoModel.coordinateSystem;\n    var group = this.group;\n    var scale = geo.scale;\n    var groupNewProp = {\n      position: geo.position,\n      scale: scale\n    }; // No animation when first draw or in action\n\n    if (!group.childAt(0) || payload) {\n      group.attr(groupNewProp);\n    } else {\n      graphic.updateProps(group, groupNewProp, mapOrGeoModel);\n    }\n\n    group.removeAll();\n    var itemStyleAccessPath = ['itemStyle', 'normal'];\n    var hoverItemStyleAccessPath = ['itemStyle', 'emphasis'];\n    var labelAccessPath = ['label', 'normal'];\n    var hoverLabelAccessPath = ['label', 'emphasis'];\n    var nameMap = zrUtil.createHashMap();\n    zrUtil.each(geo.regions, function (region) {\n      // Consider in GeoJson properties.name may be duplicated, for example,\n      // there is multiple region named \"United Kindom\" or \"France\" (so many\n      // colonies). And it is not appropriate to merge them in geo, which\n      // will make them share the same label and bring trouble in label\n      // location calculation.\n      var regionGroup = nameMap.get(region.name) || nameMap.set(region.name, new graphic.Group());\n      var compoundPath = new graphic.CompoundPath({\n        shape: {\n          paths: []\n        }\n      });\n      regionGroup.add(compoundPath);\n      var regionModel = mapOrGeoModel.getRegionModel(region.name) || mapOrGeoModel;\n      var itemStyleModel = regionModel.getModel(itemStyleAccessPath);\n      var hoverItemStyleModel = regionModel.getModel(hoverItemStyleAccessPath);\n      var itemStyle = getFixedItemStyle(itemStyleModel, scale);\n      var hoverItemStyle = getFixedItemStyle(hoverItemStyleModel, scale);\n      var labelModel = regionModel.getModel(labelAccessPath);\n      var hoverLabelModel = regionModel.getModel(hoverLabelAccessPath);\n      var dataIdx; // Use the itemStyle in data if has data\n\n      if (data) {\n        dataIdx = data.indexOfName(region.name); // Only visual color of each item will be used. It can be encoded by dataRange\n        // But visual color of series is used in symbol drawing\n        //\n        // Visual color for each series is for the symbol draw\n\n        var visualColor = data.getItemVisual(dataIdx, 'color', true);\n\n        if (visualColor) {\n          itemStyle.fill = visualColor;\n        }\n      }\n\n      zrUtil.each(region.geometries, function (geometry) {\n        if (geometry.type !== 'polygon') {\n          return;\n        }\n\n        compoundPath.shape.paths.push(new graphic.Polygon({\n          shape: {\n            points: geometry.exterior\n          }\n        }));\n\n        for (var i = 0; i < (geometry.interiors ? geometry.interiors.length : 0); i++) {\n          compoundPath.shape.paths.push(new graphic.Polygon({\n            shape: {\n              points: geometry.interiors[i]\n            }\n          }));\n        }\n      });\n      compoundPath.setStyle(itemStyle);\n      compoundPath.style.strokeNoScale = true;\n      compoundPath.culling = true; // Label\n\n      var showLabel = labelModel.get('show');\n      var hoverShowLabel = hoverLabelModel.get('show');\n      var isDataNaN = data && isNaN(data.get('value', dataIdx));\n      var itemLayout = data && data.getItemLayout(dataIdx); // In the following cases label will be drawn\n      // 1. In map series and data value is NaN\n      // 2. In geo component\n      // 4. Region has no series legendSymbol, which will be add a showLabel flag in mapSymbolLayout\n\n      if (isGeo || isDataNaN && (showLabel || hoverShowLabel) || itemLayout && itemLayout.showLabel) {\n        var query = !isGeo ? dataIdx : region.name;\n        var labelFetcher; // Consider dataIdx not found.\n\n        if (!data || dataIdx >= 0) {\n          labelFetcher = mapOrGeoModel;\n        }\n\n        var textEl = new graphic.Text({\n          position: region.center.slice(),\n          scale: [1 / scale[0], 1 / scale[1]],\n          z2: 10,\n          silent: true\n        });\n        graphic.setLabelStyle(textEl.style, textEl.hoverStyle = {}, labelModel, hoverLabelModel, {\n          labelFetcher: labelFetcher,\n          labelDataIndex: query,\n          defaultText: region.name,\n          useInsideStyle: false\n        }, {\n          textAlign: 'center',\n          textVerticalAlign: 'middle'\n        });\n        regionGroup.add(textEl);\n      } // setItemGraphicEl, setHoverStyle after all polygons and labels\n      // are added to the rigionGroup\n\n\n      if (data) {\n        data.setItemGraphicEl(dataIdx, regionGroup);\n      } else {\n        var regionModel = mapOrGeoModel.getRegionModel(region.name); // Package custom mouse event for geo component\n\n        compoundPath.eventData = {\n          componentType: 'geo',\n          geoIndex: mapOrGeoModel.componentIndex,\n          name: region.name,\n          region: regionModel && regionModel.option || {}\n        };\n      }\n\n      var groupRegions = regionGroup.__regions || (regionGroup.__regions = []);\n      groupRegions.push(region);\n      graphic.setHoverStyle(regionGroup, hoverItemStyle, {\n        hoverSilentOnTouch: !!mapOrGeoModel.get('selectedMode')\n      });\n      group.add(regionGroup);\n    });\n\n    this._updateController(mapOrGeoModel, ecModel, api);\n\n    updateMapSelectHandler(this, mapOrGeoModel, group, api, fromView);\n    updateMapSelected(mapOrGeoModel, group);\n  },\n  remove: function () {\n    this.group.removeAll();\n\n    this._controller.dispose();\n\n    this._controllerHost = {};\n  },\n  _updateController: function (mapOrGeoModel, ecModel, api) {\n    var geo = mapOrGeoModel.coordinateSystem;\n    var controller = this._controller;\n    var controllerHost = this._controllerHost;\n    controllerHost.zoomLimit = mapOrGeoModel.get('scaleLimit');\n    controllerHost.zoom = geo.getZoom(); // roamType is will be set default true if it is null\n\n    controller.enable(mapOrGeoModel.get('roam') || false);\n    var mainType = mapOrGeoModel.mainType;\n\n    function makeActionBase() {\n      var action = {\n        type: 'geoRoam',\n        componentType: mainType\n      };\n      action[mainType + 'Id'] = mapOrGeoModel.id;\n      return action;\n    }\n\n    controller.off('pan').on('pan', function (dx, dy) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnPan(controllerHost, dx, dy);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        dx: dx,\n        dy: dy\n      }));\n    }, this);\n    controller.off('zoom').on('zoom', function (zoom, mouseX, mouseY) {\n      this._mouseDownFlag = false;\n      roamHelper.updateViewOnZoom(controllerHost, zoom, mouseX, mouseY);\n      api.dispatchAction(zrUtil.extend(makeActionBase(), {\n        zoom: zoom,\n        originX: mouseX,\n        originY: mouseY\n      }));\n\n      if (this._updateGroup) {\n        var group = this.group;\n        var scale = group.scale;\n        group.traverse(function (el) {\n          if (el.type === 'text') {\n            el.attr('scale', [1 / scale[0], 1 / scale[1]]);\n          }\n        });\n      }\n    }, this);\n    controller.setPointerChecker(function (e, x, y) {\n      return geo.getViewRectAfterRoam().contain(x, y) && !onIrrelevantElement(e, api, mapOrGeoModel);\n    });\n  }\n};\nvar _default = MapDraw;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar interactionMutex = require(\"./interactionMutex\");\n\n/**\n * @alias module:echarts/component/helper/RoamController\n * @constructor\n * @mixin {module:zrender/mixin/Eventful}\n *\n * @param {module:zrender/zrender~ZRender} zr\n */\nfunction RoamController(zr) {\n  /**\n   * @type {Function}\n   */\n  this.pointerChecker;\n  /**\n   * @type {module:zrender}\n   */\n\n  this._zr = zr;\n  /**\n   * @type {Object}\n   */\n\n  this._opt = {}; // Avoid two roamController bind the same handler\n\n  var bind = zrUtil.bind;\n  var mousedownHandler = bind(mousedown, this);\n  var mousemoveHandler = bind(mousemove, this);\n  var mouseupHandler = bind(mouseup, this);\n  var mousewheelHandler = bind(mousewheel, this);\n  var pinchHandler = bind(pinch, this);\n  Eventful.call(this);\n  /**\n   * @param {Function} pointerChecker\n   *                   input: x, y\n   *                   output: boolean\n   */\n\n  this.setPointerChecker = function (pointerChecker) {\n    this.pointerChecker = pointerChecker;\n  };\n  /**\n   * Notice: only enable needed types. For example, if 'zoom'\n   * is not needed, 'zoom' should not be enabled, otherwise\n   * default mousewheel behaviour (scroll page) will be disabled.\n   *\n   * @param  {boolean|string} [controlType=true] Specify the control type,\n   *                          which can be null/undefined or true/false\n   *                          or 'pan/move' or 'zoom'/'scale'\n   * @param {Object} [opt]\n   * @param {Object} [opt.zoomOnMouseWheel=true]\n   * @param {Object} [opt.moveOnMouseMove=true]\n   * @param {Object} [opt.preventDefaultMouseMove=true] When pan.\n   */\n\n\n  this.enable = function (controlType, opt) {\n    // Disable previous first\n    this.disable();\n    this._opt = zrUtil.defaults(zrUtil.clone(opt) || {}, {\n      zoomOnMouseWheel: true,\n      moveOnMouseMove: true,\n      preventDefaultMouseMove: true\n    });\n\n    if (controlType == null) {\n      controlType = true;\n    }\n\n    if (controlType === true || controlType === 'move' || controlType === 'pan') {\n      zr.on('mousedown', mousedownHandler);\n      zr.on('mousemove', mousemoveHandler);\n      zr.on('mouseup', mouseupHandler);\n    }\n\n    if (controlType === true || controlType === 'scale' || controlType === 'zoom') {\n      zr.on('mousewheel', mousewheelHandler);\n      zr.on('pinch', pinchHandler);\n    }\n  };\n\n  this.disable = function () {\n    zr.off('mousedown', mousedownHandler);\n    zr.off('mousemove', mousemoveHandler);\n    zr.off('mouseup', mouseupHandler);\n    zr.off('mousewheel', mousewheelHandler);\n    zr.off('pinch', pinchHandler);\n  };\n\n  this.dispose = this.disable;\n\n  this.isDragging = function () {\n    return this._dragging;\n  };\n\n  this.isPinching = function () {\n    return this._pinching;\n  };\n}\n\nzrUtil.mixin(RoamController, Eventful);\n\nfunction mousedown(e) {\n  if (eventTool.notLeftMouse(e) || e.target && e.target.draggable) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY; // Only check on mosedown, but not mousemove.\n  // Mouse can be out of target when mouse moving.\n\n  if (this.pointerChecker && this.pointerChecker(e, x, y)) {\n    this._x = x;\n    this._y = y;\n    this._dragging = true;\n  }\n}\n\nfunction mousemove(e) {\n  if (eventTool.notLeftMouse(e) || !checkKeyBinding(this, 'moveOnMouseMove', e) || !this._dragging || e.gestureEvent === 'pinch' || interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var x = e.offsetX;\n  var y = e.offsetY;\n  var oldX = this._x;\n  var oldY = this._y;\n  var dx = x - oldX;\n  var dy = y - oldY;\n  this._x = x;\n  this._y = y;\n  this._opt.preventDefaultMouseMove && eventTool.stop(e.event);\n  this.trigger('pan', dx, dy, oldX, oldY, x, y);\n}\n\nfunction mouseup(e) {\n  if (!eventTool.notLeftMouse(e)) {\n    this._dragging = false;\n  }\n}\n\nfunction mousewheel(e) {\n  // wheelDelta maybe -0 in chrome mac.\n  if (!checkKeyBinding(this, 'zoomOnMouseWheel', e) || e.wheelDelta === 0) {\n    return;\n  } // Convenience:\n  // Mac and VM Windows on Mac: scroll up: zoom out.\n  // Windows: scroll up: zoom in.\n\n\n  var zoomDelta = e.wheelDelta > 0 ? 1.1 : 1 / 1.1;\n  zoom.call(this, e, zoomDelta, e.offsetX, e.offsetY);\n}\n\nfunction pinch(e) {\n  if (interactionMutex.isTaken(this._zr, 'globalPan')) {\n    return;\n  }\n\n  var zoomDelta = e.pinchScale > 1 ? 1.1 : 1 / 1.1;\n  zoom.call(this, e, zoomDelta, e.pinchX, e.pinchY);\n}\n\nfunction zoom(e, zoomDelta, zoomX, zoomY) {\n  if (this.pointerChecker && this.pointerChecker(e, zoomX, zoomY)) {\n    // When mouse is out of roamController rect,\n    // default befavoius should not be be disabled, otherwise\n    // page sliding is disabled, contrary to expectation.\n    eventTool.stop(e.event);\n    this.trigger('zoom', zoomDelta, zoomX, zoomY);\n  }\n}\n\nfunction checkKeyBinding(roamController, prop, e) {\n  var setting = roamController._opt[prop];\n  return setting && (!zrUtil.isString(setting) || e.event[setting + 'Key']);\n}\n\nvar _default = RoamController;\nmodule.exports = _default;","var BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _cursorHelper = require(\"./cursorHelper\");\n\nvar onIrrelevantElement = _cursorHelper.onIrrelevantElement;\n\nvar graphicUtil = require(\"../../util/graphic\");\n\nfunction makeRectPanelClipPath(rect) {\n  rect = normalizeRect(rect);\n  return function (localPoints, transform) {\n    return graphicUtil.clipPointsByRect(localPoints, rect);\n  };\n}\n\nfunction makeLinearBrushOtherExtent(rect, specifiedXYIndex) {\n  rect = normalizeRect(rect);\n  return function (xyIndex) {\n    var idx = specifiedXYIndex != null ? specifiedXYIndex : xyIndex;\n    var brushWidth = idx ? rect.width : rect.height;\n    var base = idx ? rect.x : rect.y;\n    return [base, base + (brushWidth || 0)];\n  };\n}\n\nfunction makeRectIsTargetByCursor(rect, api, targetModel) {\n  rect = normalizeRect(rect);\n  return function (e, localCursorPoint, transform) {\n    return rect.contain(localCursorPoint[0], localCursorPoint[1]) && !onIrrelevantElement(e, api, targetModel);\n  };\n} // Consider width/height is negative.\n\n\nfunction normalizeRect(rect) {\n  return BoundingRect.create(rect);\n}\n\nexports.makeRectPanelClipPath = makeRectPanelClipPath;\nexports.makeLinearBrushOtherExtent = makeLinearBrushOtherExtent;\nexports.makeRectIsTargetByCursor = makeRectIsTargetByCursor;","var IRRELEVANT_EXCLUDES = {\n  'axisPointer': 1,\n  'tooltip': 1,\n  'brush': 1\n};\n/**\n * Avoid that: mouse click on a elements that is over geo or graph,\n * but roam is triggered.\n */\n\nfunction onIrrelevantElement(e, api, targetCoordSysModel) {\n  var model = api.getComponentByElement(e.topTarget); // If model is axisModel, it works only if it is injected with coordinateSystem.\n\n  var coordSys = model && model.coordinateSystem;\n  return model && model !== targetCoordSysModel && !IRRELEVANT_EXCLUDES[model.mainType] && coordSys && coordSys.model !== targetCoordSysModel;\n}\n\nexports.onIrrelevantElement = onIrrelevantElement;","var echarts = require(\"../../echarts\");\n\nvar ATTR = '\\0_ec_interaction_mutex';\n\nfunction take(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  store[resourceKey] = userKey;\n}\n\nfunction release(zr, resourceKey, userKey) {\n  var store = getStore(zr);\n  var uKey = store[resourceKey];\n\n  if (uKey === userKey) {\n    store[resourceKey] = null;\n  }\n}\n\nfunction isTaken(zr, resourceKey) {\n  return !!getStore(zr)[resourceKey];\n}\n\nfunction getStore(zr) {\n  return zr[ATTR] || (zr[ATTR] = {});\n}\n/**\n * payload: {\n *     type: 'takeGlobalCursor',\n *     key: 'dataZoomSelect', or 'brush', or ...,\n *         If no userKey, release global cursor.\n * }\n */\n\n\necharts.registerAction({\n  type: 'takeGlobalCursor',\n  event: 'globalCursorTaken',\n  update: 'update'\n}, function () {});\nexports.take = take;\nexports.release = release;\nexports.isTaken = isTaken;","/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n */\nfunction updateViewOnPan(controllerHost, dx, dy) {\n  var target = controllerHost.target;\n  var pos = target.position;\n  pos[0] += dx;\n  pos[1] += dy;\n  target.dirty();\n}\n/**\n * For geo and graph.\n *\n * @param {Object} controllerHost\n * @param {module:zrender/Element} controllerHost.target\n * @param {number} controllerHost.zoom\n * @param {number} controllerHost.zoomLimit like: {min: 1, max: 2}\n */\n\n\nfunction updateViewOnZoom(controllerHost, zoomDelta, zoomX, zoomY) {\n  var target = controllerHost.target;\n  var zoomLimit = controllerHost.zoomLimit;\n  var pos = target.position;\n  var scale = target.scale;\n  var newZoom = controllerHost.zoom = controllerHost.zoom || 1;\n  newZoom *= zoomDelta;\n\n  if (zoomLimit) {\n    var zoomMin = zoomLimit.min || 0;\n    var zoomMax = zoomLimit.max || Infinity;\n    newZoom = Math.max(Math.min(zoomMax, newZoom), zoomMin);\n  }\n\n  var zoomScale = newZoom / controllerHost.zoom;\n  controllerHost.zoom = newZoom; // Keep the mouse center when scaling\n\n  pos[0] -= (zoomX - pos[0]) * (zoomScale - 1);\n  pos[1] -= (zoomY - pos[1]) * (zoomScale - 1);\n  scale[0] *= zoomScale;\n  scale[1] *= zoomScale;\n  target.dirty();\n}\n\nexports.updateViewOnPan = updateViewOnPan;\nexports.updateViewOnZoom = updateViewOnZoom;","/**\n * Calculate slider move result.\n * Usage:\n * (1) If both handle0 and handle1 are needed to be moved, set minSpan the same as\n * maxSpan and the same as `Math.abs(handleEnd[1] - handleEnds[0])`.\n * (2) If handle0 is forbidden to cross handle1, set minSpan as `0`.\n *\n * @param {number} delta Move length.\n * @param {Array.<number>} handleEnds handleEnds[0] can be bigger then handleEnds[1].\n *              handleEnds will be modified in this method.\n * @param {Array.<number>} extent handleEnds is restricted by extent.\n *              extent[0] should less or equals than extent[1].\n * @param {number|string} handleIndex Can be 'all', means that both move the two handleEnds,\n *              where the input minSpan and maxSpan will not work.\n * @param {number} [minSpan] The range of dataZoom can not be smaller than that.\n *              If not set, handle0 and cross handle1. If set as a non-negative\n *              number (including `0`), handles will push each other when reaching\n *              the minSpan.\n * @param {number} [maxSpan] The range of dataZoom can not be larger than that.\n * @return {Array.<number>} The input handleEnds.\n */\nfunction _default(delta, handleEnds, extent, handleIndex, minSpan, maxSpan) {\n  // Normalize firstly.\n  handleEnds[0] = restrict(handleEnds[0], extent);\n  handleEnds[1] = restrict(handleEnds[1], extent);\n  delta = delta || 0;\n  var extentSpan = extent[1] - extent[0]; // Notice maxSpan and minSpan can be null/undefined.\n\n  if (minSpan != null) {\n    minSpan = restrict(minSpan, [0, extentSpan]);\n  }\n\n  if (maxSpan != null) {\n    maxSpan = Math.max(maxSpan, minSpan != null ? minSpan : 0);\n  }\n\n  if (handleIndex === 'all') {\n    minSpan = maxSpan = Math.abs(handleEnds[1] - handleEnds[0]);\n    handleIndex = 0;\n  }\n\n  var originalDistSign = getSpanSign(handleEnds, handleIndex);\n  handleEnds[handleIndex] += delta; // Restrict in extent.\n\n  var extentMinSpan = minSpan || 0;\n  var realExtent = extent.slice();\n  originalDistSign.sign < 0 ? realExtent[0] += extentMinSpan : realExtent[1] -= extentMinSpan;\n  handleEnds[handleIndex] = restrict(handleEnds[handleIndex], realExtent); // Expand span.\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (minSpan != null && (currDistSign.sign !== originalDistSign.sign || currDistSign.span < minSpan)) {\n    // If minSpan exists, 'cross' is forbinden.\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + originalDistSign.sign * minSpan;\n  } // Shrink span.\n\n\n  var currDistSign = getSpanSign(handleEnds, handleIndex);\n\n  if (maxSpan != null && currDistSign.span > maxSpan) {\n    handleEnds[1 - handleIndex] = handleEnds[handleIndex] + currDistSign.sign * maxSpan;\n  }\n\n  return handleEnds;\n}\n\nfunction getSpanSign(handleEnds, handleIndex) {\n  var dist = handleEnds[handleIndex] - handleEnds[1 - handleIndex]; // If `handleEnds[0] === handleEnds[1]`, always believe that handleEnd[0]\n  // is at left of handleEnds[1] for non-cross case.\n\n  return {\n    span: Math.abs(dist),\n    sign: dist > 0 ? -1 : dist < 0 ? 1 : handleIndex ? -1 : 1\n  };\n}\n\nfunction restrict(value, extend) {\n  return Math.min(extend[1], Math.max(extend[0], value));\n}\n\nmodule.exports = _default;","require(\"./legend\");\n\nrequire(\"./legend/ScrollableLegendModel\");\n\nrequire(\"./legend/ScrollableLegendView\");\n\nrequire(\"./legend/scrollableLegendAction\");","var LegendModel = require(\"./LegendModel\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar getLayoutParams = _layout.getLayoutParams;\nvar ScrollableLegendModel = LegendModel.extend({\n  type: 'legend.scroll',\n\n  /**\n   * @param {number} scrollDataIndex\n   */\n  setScrollDataIndex: function (scrollDataIndex) {\n    this.option.scrollDataIndex = scrollDataIndex;\n  },\n  defaultOption: {\n    scrollDataIndex: 0,\n    pageButtonItemGap: 5,\n    pageButtonGap: null,\n    pageButtonPosition: 'end',\n    // 'start' or 'end'\n    pageFormatter: '{current}/{total}',\n    // If null/undefined, do not show page.\n    pageIcons: {\n      horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'],\n      vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z']\n    },\n    pageIconColor: '#2f4554',\n    pageIconInactiveColor: '#aaa',\n    pageIconSize: 15,\n    // Can be [10, 3], which represents [width, height]\n    pageTextStyle: {\n      color: '#333'\n    },\n    animationDurationUpdate: 800\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    ScrollableLegendModel.superCall(this, 'init', option, parentModel, ecModel, extraOpt);\n    mergeAndNormalizeLayoutParams(this, option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    ScrollableLegendModel.superCall(this, 'mergeOption', option, extraOpt);\n    mergeAndNormalizeLayoutParams(this, this.option, option);\n  },\n  getOrient: function () {\n    return this.get('orient') === 'vertical' ? {\n      index: 1,\n      name: 'vertical'\n    } : {\n      index: 0,\n      name: 'horizontal'\n    };\n  }\n}); // Do not `ignoreSize` to enable setting {left: 10, right: 10}.\n\nfunction mergeAndNormalizeLayoutParams(legendModel, target, raw) {\n  var orient = legendModel.getOrient();\n  var ignoreSize = [1, 1];\n  ignoreSize[orient.index] = 0;\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = ScrollableLegendModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar LegendView = require(\"./LegendView\");\n\n/**\n * Separate legend and scrollable legend to reduce package size.\n */\nvar Group = graphic.Group;\nvar WH = ['width', 'height'];\nvar XY = ['x', 'y'];\nvar ScrollableLegendView = LegendView.extend({\n  type: 'legend.scroll',\n  newlineDisabled: true,\n  init: function () {\n    ScrollableLegendView.superCall(this, 'init');\n    /**\n     * @private\n     * @type {number} For `scroll`.\n     */\n\n    this._currentIndex = 0;\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n    this.group.add(this._containerGroup = new Group());\n\n    this._containerGroup.add(this.getContentGroup());\n    /**\n     * @private\n     * @type {module:zrender/container/Group}\n     */\n\n\n    this.group.add(this._controllerGroup = new Group());\n    /**\n     *\n     * @private\n     */\n\n    this._showController;\n  },\n\n  /**\n   * @override\n   */\n  resetInner: function () {\n    ScrollableLegendView.superCall(this, 'resetInner');\n\n    this._controllerGroup.removeAll();\n\n    this._containerGroup.removeClipPath();\n\n    this._containerGroup.__rectSize = null;\n  },\n\n  /**\n   * @override\n   */\n  renderInner: function (itemAlign, legendModel, ecModel, api) {\n    var me = this; // Render content items.\n\n    ScrollableLegendView.superCall(this, 'renderInner', itemAlign, legendModel, ecModel, api);\n    var controllerGroup = this._controllerGroup;\n    var pageIconSize = legendModel.get('pageIconSize', true);\n\n    if (!zrUtil.isArray(pageIconSize)) {\n      pageIconSize = [pageIconSize, pageIconSize];\n    }\n\n    createPageButton('pagePrev', 0);\n    var pageTextStyleModel = legendModel.getModel('pageTextStyle');\n    controllerGroup.add(new graphic.Text({\n      name: 'pageText',\n      style: {\n        textFill: pageTextStyleModel.getTextColor(),\n        font: pageTextStyleModel.getFont(),\n        textVerticalAlign: 'middle',\n        textAlign: 'center'\n      },\n      silent: true\n    }));\n    createPageButton('pageNext', 1);\n\n    function createPageButton(name, iconIdx) {\n      var pageDataIndexName = name + 'DataIndex';\n      var icon = graphic.createIcon(legendModel.get('pageIcons', true)[legendModel.getOrient().name][iconIdx], {\n        // Buttons will be created in each render, so we do not need\n        // to worry about avoiding using legendModel kept in scope.\n        onclick: zrUtil.bind(me._pageGo, me, pageDataIndexName, legendModel, api)\n      }, {\n        x: -pageIconSize[0] / 2,\n        y: -pageIconSize[1] / 2,\n        width: pageIconSize[0],\n        height: pageIconSize[1]\n      });\n      icon.name = name;\n      controllerGroup.add(icon);\n    }\n  },\n\n  /**\n   * @override\n   */\n  layoutInner: function (legendModel, itemAlign, maxSize) {\n    var contentGroup = this.getContentGroup();\n    var containerGroup = this._containerGroup;\n    var controllerGroup = this._controllerGroup;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var yx = XY[1 - orientIdx]; // Place items in contentGroup.\n\n    layoutUtil.box(legendModel.get('orient'), contentGroup, legendModel.get('itemGap'), !orientIdx ? null : maxSize.width, orientIdx ? null : maxSize.height);\n    layoutUtil.box( // Buttons in controller are layout always horizontally.\n    'horizontal', controllerGroup, legendModel.get('pageButtonItemGap', true));\n    var contentRect = contentGroup.getBoundingRect();\n    var controllerRect = controllerGroup.getBoundingRect();\n    var showController = this._showController = contentRect[wh] > maxSize[wh];\n    var contentPos = [-contentRect.x, -contentRect.y]; // Remain contentPos when scroll animation perfroming.\n\n    contentPos[orientIdx] = contentGroup.position[orientIdx]; // Layout container group based on 0.\n\n    var containerPos = [0, 0];\n    var controllerPos = [-controllerRect.x, -controllerRect.y];\n    var pageButtonGap = zrUtil.retrieve2(legendModel.get('pageButtonGap', true), legendModel.get('itemGap', true)); // Place containerGroup and controllerGroup and contentGroup.\n\n    if (showController) {\n      var pageButtonPosition = legendModel.get('pageButtonPosition', true); // controller is on the right / bottom.\n\n      if (pageButtonPosition === 'end') {\n        controllerPos[orientIdx] += maxSize[wh] - controllerRect[wh];\n      } // controller is on the left / top.\n      else {\n          containerPos[orientIdx] += controllerRect[wh] + pageButtonGap;\n        }\n    } // Always align controller to content as 'middle'.\n\n\n    controllerPos[1 - orientIdx] += contentRect[hw] / 2 - controllerRect[hw] / 2;\n    contentGroup.attr('position', contentPos);\n    containerGroup.attr('position', containerPos);\n    controllerGroup.attr('position', controllerPos); // Calculate `mainRect` and set `clipPath`.\n    // mainRect should not be calculated by `this.group.getBoundingRect()`\n    // for sake of the overflow.\n\n    var mainRect = this.group.getBoundingRect();\n    var mainRect = {\n      x: 0,\n      y: 0\n    }; // Consider content may be overflow (should be clipped).\n\n    mainRect[wh] = showController ? maxSize[wh] : contentRect[wh];\n    mainRect[hw] = Math.max(contentRect[hw], controllerRect[hw]); // `containerRect[yx] + containerPos[1 - orientIdx]` is 0.\n\n    mainRect[yx] = Math.min(0, controllerRect[yx] + controllerPos[1 - orientIdx]);\n    containerGroup.__rectSize = maxSize[wh];\n\n    if (showController) {\n      var clipShape = {\n        x: 0,\n        y: 0\n      };\n      clipShape[wh] = Math.max(maxSize[wh] - controllerRect[wh] - pageButtonGap, 0);\n      clipShape[hw] = mainRect[hw];\n      containerGroup.setClipPath(new graphic.Rect({\n        shape: clipShape\n      })); // Consider content may be larger than container, container rect\n      // can not be obtained from `containerGroup.getBoundingRect()`.\n\n      containerGroup.__rectSize = clipShape[wh];\n    } else {\n      // Do not remove or ignore controller. Keep them set as place holders.\n      controllerGroup.eachChild(function (child) {\n        child.attr({\n          invisible: true,\n          silent: true\n        });\n      });\n    } // Content translate animation.\n\n\n    var pageInfo = this._getPageInfo(legendModel);\n\n    pageInfo.pageIndex != null && graphic.updateProps(contentGroup, {\n      position: pageInfo.contentPosition\n    }, // When switch from \"show controller\" to \"not show controller\", view should be\n    // updated immediately without animation, otherwise causes weird efffect.\n    showController ? legendModel : false);\n\n    this._updatePageInfoView(legendModel, pageInfo);\n\n    return mainRect;\n  },\n  _pageGo: function (to, legendModel, api) {\n    var scrollDataIndex = this._getPageInfo(legendModel)[to];\n\n    scrollDataIndex != null && api.dispatchAction({\n      type: 'legendScroll',\n      scrollDataIndex: scrollDataIndex,\n      legendId: legendModel.id\n    });\n  },\n  _updatePageInfoView: function (legendModel, pageInfo) {\n    var controllerGroup = this._controllerGroup;\n    zrUtil.each(['pagePrev', 'pageNext'], function (name) {\n      var canJump = pageInfo[name + 'DataIndex'] != null;\n      var icon = controllerGroup.childOfName(name);\n\n      if (icon) {\n        icon.setStyle('fill', canJump ? legendModel.get('pageIconColor', true) : legendModel.get('pageIconInactiveColor', true));\n        icon.cursor = canJump ? 'pointer' : 'default';\n      }\n    });\n    var pageText = controllerGroup.childOfName('pageText');\n    var pageFormatter = legendModel.get('pageFormatter');\n    var pageIndex = pageInfo.pageIndex;\n    var current = pageIndex != null ? pageIndex + 1 : 0;\n    var total = pageInfo.pageCount;\n    pageText && pageFormatter && pageText.setStyle('text', zrUtil.isString(pageFormatter) ? pageFormatter.replace('{current}', current).replace('{total}', total) : pageFormatter({\n      current: current,\n      total: total\n    }));\n  },\n\n  /**\n   * @param {module:echarts/model/Model} legendModel\n   * @return {Object} {\n   *  contentPosition: Array.<number>, null when data item not found.\n   *  pageIndex: number, null when data item not found.\n   *  pageCount: number, always be a number, can be 0.\n   *  pagePrevDataIndex: number, null when no next page.\n   *  pageNextDataIndex: number, null when no previous page.\n   * }\n   */\n  _getPageInfo: function (legendModel) {\n    // Align left or top by the current dataIndex.\n    var currDataIndex = legendModel.get('scrollDataIndex', true);\n    var contentGroup = this.getContentGroup();\n    var contentRect = contentGroup.getBoundingRect();\n    var containerRectSize = this._containerGroup.__rectSize;\n    var orientIdx = legendModel.getOrient().index;\n    var wh = WH[orientIdx];\n    var hw = WH[1 - orientIdx];\n    var xy = XY[orientIdx];\n    var contentPos = contentGroup.position.slice();\n    var pageIndex;\n    var pagePrevDataIndex;\n    var pageNextDataIndex;\n    var targetItemGroup;\n\n    if (this._showController) {\n      contentGroup.eachChild(function (child) {\n        if (child.__legendDataIndex === currDataIndex) {\n          targetItemGroup = child;\n        }\n      });\n    } else {\n      targetItemGroup = contentGroup.childAt(0);\n    }\n\n    var pageCount = containerRectSize ? Math.ceil(contentRect[wh] / containerRectSize) : 0;\n\n    if (targetItemGroup) {\n      var itemRect = targetItemGroup.getBoundingRect();\n      var itemLoc = targetItemGroup.position[orientIdx] + itemRect[xy];\n      contentPos[orientIdx] = -itemLoc - contentRect[xy];\n      pageIndex = Math.floor(pageCount * (itemLoc + itemRect[xy] + containerRectSize / 2) / contentRect[wh]);\n      pageIndex = contentRect[wh] && pageCount ? Math.max(0, Math.min(pageCount - 1, pageIndex)) : -1;\n      var winRect = {\n        x: 0,\n        y: 0\n      };\n      winRect[wh] = containerRectSize;\n      winRect[hw] = contentRect[hw];\n      winRect[xy] = -contentPos[orientIdx] - contentRect[xy];\n      var startIdx;\n      var children = contentGroup.children();\n      contentGroup.eachChild(function (child, index) {\n        var itemRect = getItemRect(child);\n\n        if (itemRect.intersect(winRect)) {\n          startIdx == null && (startIdx = index); // It is user-friendly that the last item shown in the\n          // current window is shown at the begining of next window.\n\n          pageNextDataIndex = child.__legendDataIndex;\n        } // If the last item is shown entirely, no next page.\n\n\n        if (index === children.length - 1 && itemRect[xy] + itemRect[wh] <= winRect[xy] + winRect[wh]) {\n          pageNextDataIndex = null;\n        }\n      }); // Always align based on the left/top most item, so the left/top most\n      // item in the previous window is needed to be found here.\n\n      if (startIdx != null) {\n        var startItem = children[startIdx];\n        var startRect = getItemRect(startItem);\n        winRect[xy] = startRect[xy] + startRect[wh] - winRect[wh]; // If the first item is shown entirely, no previous page.\n\n        if (startIdx <= 0 && startRect[xy] >= winRect[xy]) {\n          pagePrevDataIndex = null;\n        } else {\n          while (startIdx > 0 && getItemRect(children[startIdx - 1]).intersect(winRect)) {\n            startIdx--;\n          }\n\n          pagePrevDataIndex = children[startIdx].__legendDataIndex;\n        }\n      }\n    }\n\n    return {\n      contentPosition: contentPos,\n      pageIndex: pageIndex,\n      pageCount: pageCount,\n      pagePrevDataIndex: pagePrevDataIndex,\n      pageNextDataIndex: pageNextDataIndex\n    };\n\n    function getItemRect(el) {\n      var itemRect = el.getBoundingRect().clone();\n      itemRect[xy] += el.position[orientIdx];\n      return itemRect;\n    }\n  }\n});\nvar _default = ScrollableLegendView;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\n/**\n * @event legendScroll\n * @type {Object}\n * @property {string} type 'legendScroll'\n * @property {string} scrollDataIndex\n */\necharts.registerAction('legendScroll', 'legendscroll', function (payload, ecModel) {\n  var scrollDataIndex = payload.scrollDataIndex;\n  scrollDataIndex != null && ecModel.eachComponent({\n    mainType: 'legend',\n    subType: 'scroll',\n    query: payload\n  }, function (legendModel) {\n    legendModel.setScrollDataIndex(scrollDataIndex);\n  });\n});","var echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkAreaModel\");\n\nrequire(\"./marker/MarkAreaView\");\n\necharts.registerPreprocessor(function (opt) {\n  // Make sure markArea component is enabled\n  opt.markArea = opt.markArea || {};\n});","var echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkLineModel\");\n\nrequire(\"./marker/MarkLineView\");\n\necharts.registerPreprocessor(function (opt) {\n  // Make sure markLine component is enabled\n  opt.markLine = opt.markLine || {};\n});","var echarts = require(\"../echarts\");\n\nrequire(\"./marker/MarkPointModel\");\n\nrequire(\"./marker/MarkPointView\");\n\n// HINT Markpoint can't be used too much\necharts.registerPreprocessor(function (opt) {\n  // Make sure markPoint component is enabled\n  opt.markPoint = opt.markPoint || {};\n});","var MarkerModel = require(\"./MarkerModel\");\n\nvar _default = MarkerModel.extend({\n  type: 'markArea',\n  defaultOption: {\n    zlevel: 0,\n    // PENDING\n    z: 1,\n    tooltip: {\n      trigger: 'item'\n    },\n    // markArea should fixed on the coordinate system\n    animation: false,\n    label: {\n      normal: {\n        show: true,\n        position: 'top'\n      },\n      emphasis: {\n        show: true,\n        position: 'top'\n      }\n    },\n    itemStyle: {\n      normal: {\n        // color and borderColor default to use color from series\n        // color: 'auto'\n        // borderColor: 'auto'\n        borderWidth: 0\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorUtil = require(\"zrender/lib/tool/color\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\n// TODO Better on polar\nvar markAreaTransform = function (seriesModel, coordSys, maModel, item) {\n  var lt = markerHelper.dataTransform(seriesModel, item[0]);\n  var rb = markerHelper.dataTransform(seriesModel, item[1]);\n  var retrieve = zrUtil.retrieve; // FIXME make sure lt is less than rb\n\n  var ltCoord = lt.coord;\n  var rbCoord = rb.coord;\n  ltCoord[0] = retrieve(ltCoord[0], -Infinity);\n  ltCoord[1] = retrieve(ltCoord[1], -Infinity);\n  rbCoord[0] = retrieve(rbCoord[0], Infinity);\n  rbCoord[1] = retrieve(rbCoord[1], Infinity); // Merge option into one\n\n  var result = zrUtil.mergeAll([{}, lt, rb]);\n  result.coord = [lt.coord, rb.coord];\n  result.x0 = lt.x;\n  result.y0 = lt.y;\n  result.x1 = rb.x;\n  result.y1 = rb.y;\n  return result;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markArea has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]);\n}\n\nfunction markAreaFilter(coordSys, item) {\n  var fromCoord = item.coord[0];\n  var toCoord = item.coord[1];\n\n  if (coordSys.type === 'cartesian2d') {\n    // In case\n    // {\n    //  markArea: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, {\n    coord: fromCoord,\n    x: item.x0,\n    y: item.y0\n  }) || markerHelper.dataFilter(coordSys, {\n    coord: toCoord,\n    x: item.x1,\n    y: item.y1\n  });\n} // dims can be ['x0', 'y0'], ['x1', 'y1'], ['x0', 'y1'], ['x1', 'y0']\n\n\nfunction getSingleMarkerEndPoint(data, idx, dims, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get(dims[0]), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get(dims[1]), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(dims, idx));\n    } else {\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y], true);\n    }\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n\n      if (isInifinity(x)) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[dims[0] === 'x0' ? 0 : 1]);\n      } else if (isInifinity(y)) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[dims[1] === 'y0' ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  return point;\n}\n\nvar dimPermutations = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']];\nMarkerView.extend({\n  type: 'markArea',\n  updateLayout: function (markAreaModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var maModel = seriesModel.markAreaModel;\n\n      if (maModel) {\n        var areaData = maModel.getData();\n        areaData.each(function (idx) {\n          var points = zrUtil.map(dimPermutations, function (dim) {\n            return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n          }); // Layout\n\n          areaData.setItemLayout(idx, points);\n          var el = areaData.getItemGraphicEl(idx);\n          el.setShape('points', points);\n        });\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, maModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesName = seriesModel.name;\n    var seriesData = seriesModel.getData();\n    var areaGroupMap = this.markerGroupMap;\n    var polygonGroup = areaGroupMap.get(seriesName) || areaGroupMap.set(seriesName, {\n      group: new graphic.Group()\n    });\n    this.group.add(polygonGroup.group);\n    polygonGroup.__keep = true;\n    var areaData = createList(coordSys, seriesModel, maModel); // Line data for tooltip and formatter\n\n    maModel.setData(areaData); // Update visual and layout of line\n\n    areaData.each(function (idx) {\n      // Layout\n      areaData.setItemLayout(idx, zrUtil.map(dimPermutations, function (dim) {\n        return getSingleMarkerEndPoint(areaData, idx, dim, seriesModel, api);\n      })); // Visual\n\n      areaData.setItemVisual(idx, {\n        color: seriesData.getVisual('color')\n      });\n    });\n    areaData.diff(polygonGroup.__data).add(function (idx) {\n      var polygon = new graphic.Polygon({\n        shape: {\n          points: areaData.getItemLayout(idx)\n        }\n      });\n      areaData.setItemGraphicEl(idx, polygon);\n      polygonGroup.group.add(polygon);\n    }).update(function (newIdx, oldIdx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(oldIdx);\n\n      graphic.updateProps(polygon, {\n        shape: {\n          points: areaData.getItemLayout(newIdx)\n        }\n      }, maModel, newIdx);\n      polygonGroup.group.add(polygon);\n      areaData.setItemGraphicEl(newIdx, polygon);\n    }).remove(function (idx) {\n      var polygon = polygonGroup.__data.getItemGraphicEl(idx);\n\n      polygonGroup.group.remove(polygon);\n    }).execute();\n    areaData.eachItemGraphicEl(function (polygon, idx) {\n      var itemModel = areaData.getItemModel(idx);\n      var labelModel = itemModel.getModel('label.normal');\n      var labelHoverModel = itemModel.getModel('label.emphasis');\n      var color = areaData.getItemVisual(idx, 'color');\n      polygon.useStyle(zrUtil.defaults(itemModel.getModel('itemStyle.normal').getItemStyle(), {\n        fill: colorUtil.modifyAlpha(color, 0.4),\n        stroke: color\n      }));\n      polygon.hoverStyle = itemModel.getModel('itemStyle.emphasis').getItemStyle();\n      graphic.setLabelStyle(polygon.style, polygon.hoverStyle, labelModel, labelHoverModel, {\n        labelFetcher: maModel,\n        labelDataIndex: idx,\n        defaultText: areaData.getName(idx) || '',\n        isRectText: true,\n        autoColor: color\n      });\n      graphic.setHoverStyle(polygon, {});\n      polygon.dataModel = maModel;\n    });\n    polygonGroup.__data = areaData;\n    polygonGroup.group.silent = maModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\nfunction createList(coordSys, seriesModel, maModel) {\n  var coordDimsInfos;\n  var areaData;\n  var dims = ['x0', 'y0', 'x1', 'y1'];\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n    areaData = new List(zrUtil.map(dims, function (dim, idx) {\n      return {\n        name: dim,\n        type: coordDimsInfos[idx % 2].type\n      };\n    }), maModel);\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n    areaData = new List(coordDimsInfos, maModel);\n  }\n\n  var optData = zrUtil.map(maModel.get('data'), zrUtil.curry(markAreaTransform, seriesModel, coordSys, maModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markAreaFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? function (item, dimName, dataIndex, dimIndex) {\n    return item.coord[Math.floor(dimIndex / 2)][dimIndex % 2];\n  } : function (item) {\n    return item.value;\n  };\n  areaData.initData(optData, null, dimValueGetter);\n  areaData.hasItemOption = true;\n  return areaData;\n}","var MarkerModel = require(\"./MarkerModel\");\n\nvar _default = MarkerModel.extend({\n  type: 'markLine',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: ['circle', 'arrow'],\n    symbolSize: [8, 16],\n    //symbolRotate: 0,\n    precision: 2,\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      normal: {\n        show: true,\n        position: 'end'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    lineStyle: {\n      normal: {\n        type: 'dashed'\n      },\n      emphasis: {\n        width: 3\n      }\n    },\n    animationEasing: 'linear'\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar LineDraw = require(\"../../chart/helper/LineDraw\");\n\nvar MarkerView = require(\"./MarkerView\");\n\nvar markLineTransform = function (seriesModel, coordSys, mlModel, item) {\n  var data = seriesModel.getData(); // Special type markLine like 'min', 'max', 'average'\n\n  var mlType = item.type;\n\n  if (!zrUtil.isArray(item) && (mlType === 'min' || mlType === 'max' || mlType === 'average' // In case\n  // data: [{\n  //   yAxis: 10\n  // }]\n  || item.xAxis != null || item.yAxis != null)) {\n    var valueAxis;\n    var valueDataDim;\n    var value;\n\n    if (item.yAxis != null || item.xAxis != null) {\n      valueDataDim = item.yAxis != null ? 'y' : 'x';\n      valueAxis = coordSys.getAxis(valueDataDim);\n      value = zrUtil.retrieve(item.yAxis, item.xAxis);\n    } else {\n      var axisInfo = markerHelper.getAxisInfo(item, data, coordSys, seriesModel);\n      valueDataDim = axisInfo.valueDataDim;\n      valueAxis = axisInfo.valueAxis;\n      value = markerHelper.numCalculate(data, valueDataDim, mlType);\n    }\n\n    var valueIndex = valueDataDim === 'x' ? 0 : 1;\n    var baseIndex = 1 - valueIndex;\n    var mlFrom = zrUtil.clone(item);\n    var mlTo = {};\n    mlFrom.type = null;\n    mlFrom.coord = [];\n    mlTo.coord = [];\n    mlFrom.coord[baseIndex] = -Infinity;\n    mlTo.coord[baseIndex] = Infinity;\n    var precision = mlModel.get('precision');\n\n    if (precision >= 0 && typeof value === 'number') {\n      value = +value.toFixed(Math.min(precision, 20));\n    }\n\n    mlFrom.coord[valueIndex] = mlTo.coord[valueIndex] = value;\n    item = [mlFrom, mlTo, {\n      // Extra option for tooltip and label\n      type: mlType,\n      valueIndex: item.valueIndex,\n      // Force to use the value of calculated value.\n      value: value\n    }];\n  }\n\n  item = [markerHelper.dataTransform(seriesModel, item[0]), markerHelper.dataTransform(seriesModel, item[1]), zrUtil.extend({}, item[2])]; // Avoid line data type is extended by from(to) data type\n\n  item[2].type = item[2].type || ''; // Merge from option and to option into line option\n\n  zrUtil.merge(item[2], item[0]);\n  zrUtil.merge(item[2], item[1]);\n  return item;\n};\n\nfunction isInifinity(val) {\n  return !isNaN(val) && !isFinite(val);\n} // If a markLine has one dim\n\n\nfunction ifMarkLineHasOnlyDim(dimIndex, fromCoord, toCoord, coordSys) {\n  var otherDimIndex = 1 - dimIndex;\n  var dimName = coordSys.dimensions[dimIndex];\n  return isInifinity(fromCoord[otherDimIndex]) && isInifinity(toCoord[otherDimIndex]) && fromCoord[dimIndex] === toCoord[dimIndex] && coordSys.getAxis(dimName).containData(fromCoord[dimIndex]);\n}\n\nfunction markLineFilter(coordSys, item) {\n  if (coordSys.type === 'cartesian2d') {\n    var fromCoord = item[0].coord;\n    var toCoord = item[1].coord; // In case\n    // {\n    //  markLine: {\n    //    data: [{ yAxis: 2 }]\n    //  }\n    // }\n\n    if (fromCoord && toCoord && (ifMarkLineHasOnlyDim(1, fromCoord, toCoord, coordSys) || ifMarkLineHasOnlyDim(0, fromCoord, toCoord, coordSys))) {\n      return true;\n    }\n  }\n\n  return markerHelper.dataFilter(coordSys, item[0]) && markerHelper.dataFilter(coordSys, item[1]);\n}\n\nfunction updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  var itemModel = data.getItemModel(idx);\n  var point;\n  var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n  var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n  if (!isNaN(xPx) && !isNaN(yPx)) {\n    point = [xPx, yPx];\n  } else {\n    // Chart like bar may have there own marker positioning logic\n    if (seriesModel.getMarkerPosition) {\n      // Use the getMarkerPoisition\n      point = seriesModel.getMarkerPosition(data.getValues(data.dimensions, idx));\n    } else {\n      var dims = coordSys.dimensions;\n      var x = data.get(dims[0], idx);\n      var y = data.get(dims[1], idx);\n      point = coordSys.dataToPoint([x, y]);\n    } // Expand line to the edge of grid if value on one axis is Inifnity\n    // In case\n    //  markLine: {\n    //    data: [{\n    //      yAxis: 2\n    //      // or\n    //      type: 'average'\n    //    }]\n    //  }\n\n\n    if (coordSys.type === 'cartesian2d') {\n      var xAxis = coordSys.getAxis('x');\n      var yAxis = coordSys.getAxis('y');\n      var dims = coordSys.dimensions;\n\n      if (isInifinity(data.get(dims[0], idx))) {\n        point[0] = xAxis.toGlobalCoord(xAxis.getExtent()[isFrom ? 0 : 1]);\n      } else if (isInifinity(data.get(dims[1], idx))) {\n        point[1] = yAxis.toGlobalCoord(yAxis.getExtent()[isFrom ? 0 : 1]);\n      }\n    } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n  }\n\n  data.setItemLayout(idx, point);\n}\n\nvar _default = MarkerView.extend({\n  type: 'markLine',\n  updateLayout: function (markLineModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mlModel = seriesModel.markLineModel;\n\n      if (mlModel) {\n        var mlData = mlModel.getData();\n        var fromData = mlModel.__from;\n        var toData = mlModel.__to; // Update visual and layout of from symbol and to symbol\n\n        fromData.each(function (idx) {\n          updateSingleMarkerEndLayout(fromData, idx, true, seriesModel, api);\n          updateSingleMarkerEndLayout(toData, idx, false, seriesModel, api);\n        }); // Update layout of line\n\n        mlData.each(function (idx) {\n          mlData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n        });\n        this.markerGroupMap.get(seriesModel.id).updateLayout();\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mlModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var lineDrawMap = this.markerGroupMap;\n    var lineDraw = lineDrawMap.get(seriesId) || lineDrawMap.set(seriesId, new LineDraw());\n    this.group.add(lineDraw.group);\n    var mlData = createList(coordSys, seriesModel, mlModel);\n    var fromData = mlData.from;\n    var toData = mlData.to;\n    var lineData = mlData.line;\n    mlModel.__from = fromData;\n    mlModel.__to = toData; // Line data for tooltip and formatter\n\n    mlModel.setData(lineData);\n    var symbolType = mlModel.get('symbol');\n    var symbolSize = mlModel.get('symbolSize');\n\n    if (!zrUtil.isArray(symbolType)) {\n      symbolType = [symbolType, symbolType];\n    }\n\n    if (typeof symbolSize === 'number') {\n      symbolSize = [symbolSize, symbolSize];\n    } // Update visual and layout of from symbol and to symbol\n\n\n    mlData.from.each(function (idx) {\n      updateDataVisualAndLayout(fromData, idx, true);\n      updateDataVisualAndLayout(toData, idx, false);\n    }); // Update visual and layout of line\n\n    lineData.each(function (idx) {\n      var lineColor = lineData.getItemModel(idx).get('lineStyle.normal.color');\n      lineData.setItemVisual(idx, {\n        color: lineColor || fromData.getItemVisual(idx, 'color')\n      });\n      lineData.setItemLayout(idx, [fromData.getItemLayout(idx), toData.getItemLayout(idx)]);\n      lineData.setItemVisual(idx, {\n        'fromSymbolSize': fromData.getItemVisual(idx, 'symbolSize'),\n        'fromSymbol': fromData.getItemVisual(idx, 'symbol'),\n        'toSymbolSize': toData.getItemVisual(idx, 'symbolSize'),\n        'toSymbol': toData.getItemVisual(idx, 'symbol')\n      });\n    });\n    lineDraw.updateData(lineData); // Set host model for tooltip\n    // FIXME\n\n    mlData.line.eachItemGraphicEl(function (el, idx) {\n      el.traverse(function (child) {\n        child.dataModel = mlModel;\n      });\n    });\n\n    function updateDataVisualAndLayout(data, idx, isFrom) {\n      var itemModel = data.getItemModel(idx);\n      updateSingleMarkerEndLayout(data, idx, isFrom, seriesModel, api);\n      data.setItemVisual(idx, {\n        symbolSize: itemModel.get('symbolSize') || symbolSize[isFrom ? 0 : 1],\n        symbol: itemModel.get('symbol', true) || symbolType[isFrom ? 0 : 1],\n        color: itemModel.get('itemStyle.normal.color') || seriesData.getVisual('color')\n      });\n    }\n\n    lineDraw.__keep = true;\n    lineDraw.group.silent = mlModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} coordSys\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mlModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var fromData = new List(coordDimsInfos, mlModel);\n  var toData = new List(coordDimsInfos, mlModel); // No dimensions\n\n  var lineData = new List([], mlModel);\n  var optData = zrUtil.map(mlModel.get('data'), zrUtil.curry(markLineTransform, seriesModel, coordSys, mlModel));\n\n  if (coordSys) {\n    optData = zrUtil.filter(optData, zrUtil.curry(markLineFilter, coordSys));\n  }\n\n  var dimValueGetter = coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  };\n  fromData.initData(zrUtil.map(optData, function (item) {\n    return item[0];\n  }), null, dimValueGetter);\n  toData.initData(zrUtil.map(optData, function (item) {\n    return item[1];\n  }), null, dimValueGetter);\n  lineData.initData(zrUtil.map(optData, function (item) {\n    return item[2];\n  }));\n  lineData.hasItemOption = true;\n  return {\n    from: fromData,\n    to: toData,\n    line: lineData\n  };\n}\n\nmodule.exports = _default;","var MarkerModel = require(\"./MarkerModel\");\n\nvar _default = MarkerModel.extend({\n  type: 'markPoint',\n  defaultOption: {\n    zlevel: 0,\n    z: 5,\n    symbol: 'pin',\n    symbolSize: 50,\n    //symbolRotate: 0,\n    //symbolOffset: [0, 0]\n    tooltip: {\n      trigger: 'item'\n    },\n    label: {\n      normal: {\n        show: true,\n        position: 'inside'\n      },\n      emphasis: {\n        show: true\n      }\n    },\n    itemStyle: {\n      normal: {\n        borderWidth: 2\n      }\n    }\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar SymbolDraw = require(\"../../chart/helper/SymbolDraw\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar List = require(\"../../data/List\");\n\nvar markerHelper = require(\"./markerHelper\");\n\nvar MarkerView = require(\"./MarkerView\");\n\nfunction updateMarkerLayout(mpData, seriesModel, api) {\n  var coordSys = seriesModel.coordinateSystem;\n  mpData.each(function (idx) {\n    var itemModel = mpData.getItemModel(idx);\n    var point;\n    var xPx = numberUtil.parsePercent(itemModel.get('x'), api.getWidth());\n    var yPx = numberUtil.parsePercent(itemModel.get('y'), api.getHeight());\n\n    if (!isNaN(xPx) && !isNaN(yPx)) {\n      point = [xPx, yPx];\n    } // Chart like bar may have there own marker positioning logic\n    else if (seriesModel.getMarkerPosition) {\n        // Use the getMarkerPoisition\n        point = seriesModel.getMarkerPosition(mpData.getValues(mpData.dimensions, idx));\n      } else if (coordSys) {\n        var x = mpData.get(coordSys.dimensions[0], idx);\n        var y = mpData.get(coordSys.dimensions[1], idx);\n        point = coordSys.dataToPoint([x, y]);\n      } // Use x, y if has any\n\n\n    if (!isNaN(xPx)) {\n      point[0] = xPx;\n    }\n\n    if (!isNaN(yPx)) {\n      point[1] = yPx;\n    }\n\n    mpData.setItemLayout(idx, point);\n  });\n}\n\nvar _default = MarkerView.extend({\n  type: 'markPoint',\n  updateLayout: function (markPointModel, ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      var mpModel = seriesModel.markPointModel;\n\n      if (mpModel) {\n        updateMarkerLayout(mpModel.getData(), seriesModel, api);\n        this.markerGroupMap.get(seriesModel.id).updateLayout(mpModel);\n      }\n    }, this);\n  },\n  renderSeries: function (seriesModel, mpModel, ecModel, api) {\n    var coordSys = seriesModel.coordinateSystem;\n    var seriesId = seriesModel.id;\n    var seriesData = seriesModel.getData();\n    var symbolDrawMap = this.markerGroupMap;\n    var symbolDraw = symbolDrawMap.get(seriesId) || symbolDrawMap.set(seriesId, new SymbolDraw());\n    var mpData = createList(coordSys, seriesModel, mpModel); // FIXME\n\n    mpModel.setData(mpData);\n    updateMarkerLayout(mpModel.getData(), seriesModel, api);\n    mpData.each(function (idx) {\n      var itemModel = mpData.getItemModel(idx);\n      var symbolSize = itemModel.getShallow('symbolSize');\n\n      if (typeof symbolSize === 'function') {\n        // FIXME 这里不兼容 ECharts 2.x，2.x 貌似参数是整个数据？\n        symbolSize = symbolSize(mpModel.getRawValue(idx), mpModel.getDataParams(idx));\n      }\n\n      mpData.setItemVisual(idx, {\n        symbolSize: symbolSize,\n        color: itemModel.get('itemStyle.normal.color') || seriesData.getVisual('color'),\n        symbol: itemModel.getShallow('symbol')\n      });\n    }); // TODO Text are wrong\n\n    symbolDraw.updateData(mpData);\n    this.group.add(symbolDraw.group); // Set host model for tooltip\n    // FIXME\n\n    mpData.eachItemGraphicEl(function (el) {\n      el.traverse(function (child) {\n        child.dataModel = mpModel;\n      });\n    });\n    symbolDraw.__keep = true;\n    symbolDraw.group.silent = mpModel.get('silent') || seriesModel.get('silent');\n  }\n});\n/**\n * @inner\n * @param {module:echarts/coord/*} [coordSys]\n * @param {module:echarts/model/Series} seriesModel\n * @param {module:echarts/model/Model} mpModel\n */\n\n\nfunction createList(coordSys, seriesModel, mpModel) {\n  var coordDimsInfos;\n\n  if (coordSys) {\n    coordDimsInfos = zrUtil.map(coordSys && coordSys.dimensions, function (coordDim) {\n      var info = seriesModel.getData().getDimensionInfo(seriesModel.coordDimToDataDim(coordDim)[0]) || {}; // In map series data don't have lng and lat dimension. Fallback to same with coordSys\n\n      info.name = coordDim;\n      return info;\n    });\n  } else {\n    coordDimsInfos = [{\n      name: 'value',\n      type: 'float'\n    }];\n  }\n\n  var mpData = new List(coordDimsInfos, mpModel);\n  var dataOpt = zrUtil.map(mpModel.get('data'), zrUtil.curry(markerHelper.dataTransform, seriesModel));\n\n  if (coordSys) {\n    dataOpt = zrUtil.filter(dataOpt, zrUtil.curry(markerHelper.dataFilter, coordSys));\n  }\n\n  mpData.initData(dataOpt, null, coordSys ? markerHelper.dimValueGetter : function (item) {\n    return item.value;\n  });\n  return mpData;\n}\n\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar addCommas = formatUtil.addCommas;\nvar encodeHTML = formatUtil.encodeHTML;\n\nfunction fillLabel(opt) {\n  modelUtil.defaultEmphasis(opt.label, ['show']);\n}\n\nvar MarkerModel = echarts.extendComponentModel({\n  type: 'marker',\n  dependencies: ['series', 'grid', 'polar', 'geo'],\n\n  /**\n   * @overrite\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n    this.mergeOption(option, ecModel, extraOpt.createdBySelf, true);\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function () {\n    if (env.node) {\n      return false;\n    }\n\n    var hostSeries = this.__hostSeries;\n    return this.getShallow('animation') && hostSeries && hostSeries.isAnimationEnabled();\n  },\n  mergeOption: function (newOpt, ecModel, createdBySelf, isInit) {\n    var MarkerModel = this.constructor;\n    var modelPropName = this.mainType + 'Model';\n\n    if (!createdBySelf) {\n      ecModel.eachSeries(function (seriesModel) {\n        var markerOpt = seriesModel.get(this.mainType);\n        var markerModel = seriesModel[modelPropName];\n\n        if (!markerOpt || !markerOpt.data) {\n          seriesModel[modelPropName] = null;\n          return;\n        }\n\n        if (!markerModel) {\n          if (isInit) {\n            // Default label emphasis `position` and `show`\n            fillLabel(markerOpt);\n          }\n\n          zrUtil.each(markerOpt.data, function (item) {\n            // FIXME Overwrite fillLabel method ?\n            if (item instanceof Array) {\n              fillLabel(item[0]);\n              fillLabel(item[1]);\n            } else {\n              fillLabel(item);\n            }\n          });\n          markerModel = new MarkerModel(markerOpt, this, ecModel);\n          zrUtil.extend(markerModel, {\n            mainType: this.mainType,\n            // Use the same series index and name\n            seriesIndex: seriesModel.seriesIndex,\n            name: seriesModel.name,\n            createdBySelf: true\n          });\n          markerModel.__hostSeries = seriesModel;\n        } else {\n          markerModel.mergeOption(markerOpt, ecModel, true);\n        }\n\n        seriesModel[modelPropName] = markerModel;\n      }, this);\n    }\n  },\n  formatTooltip: function (dataIndex) {\n    var data = this.getData();\n    var value = this.getRawValue(dataIndex);\n    var formattedValue = zrUtil.isArray(value) ? zrUtil.map(value, addCommas).join(', ') : addCommas(value);\n    var name = data.getName(dataIndex);\n    var html = encodeHTML(this.name);\n\n    if (value != null || name) {\n      html += '<br />';\n    }\n\n    if (name) {\n      html += encodeHTML(name);\n\n      if (value != null) {\n        html += ' : ';\n      }\n    }\n\n    if (value != null) {\n      html += encodeHTML(formattedValue);\n    }\n\n    return html;\n  },\n  getData: function () {\n    return this._data;\n  },\n  setData: function (data) {\n    this._data = data;\n  }\n});\nzrUtil.mixin(MarkerModel, modelUtil.dataFormatMixin);\nvar _default = MarkerModel;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _default = echarts.extendComponentView({\n  type: 'marker',\n  init: function () {\n    /**\n     * Markline grouped by series\n     * @private\n     * @type {module:zrender/core/util.HashMap}\n     */\n    this.markerGroupMap = zrUtil.createHashMap();\n  },\n  render: function (markerModel, ecModel, api) {\n    var markerGroupMap = this.markerGroupMap;\n    markerGroupMap.each(function (item) {\n      item.__keep = false;\n    });\n    var markerModelKey = this.type + 'Model';\n    ecModel.eachSeries(function (seriesModel) {\n      var markerModel = seriesModel[markerModelKey];\n      markerModel && this.renderSeries(seriesModel, markerModel, ecModel, api);\n    }, this);\n    markerGroupMap.each(function (item) {\n      !item.__keep && this.group.remove(item.group);\n    }, this);\n  },\n  renderSeries: function () {}\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar indexOf = zrUtil.indexOf;\n\nfunction hasXOrY(item) {\n  return !(isNaN(parseFloat(item.x)) && isNaN(parseFloat(item.y)));\n}\n\nfunction hasXAndY(item) {\n  return !isNaN(parseFloat(item.x)) && !isNaN(parseFloat(item.y));\n}\n\nfunction getPrecision(data, valueAxisDim, dataIndex) {\n  var precision = -1;\n\n  do {\n    precision = Math.max(numberUtil.getPrecision(data.get(valueAxisDim, dataIndex)), precision);\n    data = data.stackedOn;\n  } while (data);\n\n  return precision;\n}\n\nfunction markerTypeCalculatorWithExtent(mlType, data, otherDataDim, targetDataDim, otherCoordIndex, targetCoordIndex) {\n  var coordArr = [];\n  var value = numCalculate(data, targetDataDim, mlType);\n  var dataIndex = data.indicesOfNearest(targetDataDim, value, true)[0];\n  coordArr[otherCoordIndex] = data.get(otherDataDim, dataIndex, true);\n  coordArr[targetCoordIndex] = data.get(targetDataDim, dataIndex, true);\n  var precision = getPrecision(data, targetDataDim, dataIndex);\n  precision = Math.min(precision, 20);\n\n  if (precision >= 0) {\n    coordArr[targetCoordIndex] = +coordArr[targetCoordIndex].toFixed(precision);\n  }\n\n  return coordArr;\n}\n\nvar curry = zrUtil.curry; // TODO Specified percent\n\nvar markerTypeCalculator = {\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  min: curry(markerTypeCalculatorWithExtent, 'min'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  max: curry(markerTypeCalculatorWithExtent, 'max'),\n\n  /**\n   * @method\n   * @param {module:echarts/data/List} data\n   * @param {string} baseAxisDim\n   * @param {string} valueAxisDim\n   */\n  average: curry(markerTypeCalculatorWithExtent, 'average')\n};\n/**\n * Transform markPoint data item to format used in List by do the following\n * 1. Calculate statistic like `max`, `min`, `average`\n * 2. Convert `item.xAxis`, `item.yAxis` to `item.coord` array\n * @param  {module:echarts/model/Series} seriesModel\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {Object}\n */\n\nfunction dataTransform(seriesModel, item) {\n  var data = seriesModel.getData();\n  var coordSys = seriesModel.coordinateSystem; // 1. If not specify the position with pixel directly\n  // 2. If `coord` is not a data array. Which uses `xAxis`,\n  // `yAxis` to specify the coord on each dimension\n  // parseFloat first because item.x and item.y can be percent string like '20%'\n\n  if (item && !hasXAndY(item) && !zrUtil.isArray(item.coord) && coordSys) {\n    var dims = coordSys.dimensions;\n    var axisInfo = getAxisInfo(item, data, coordSys, seriesModel); // Clone the option\n    // Transform the properties xAxis, yAxis, radiusAxis, angleAxis, geoCoord to value\n\n    item = zrUtil.clone(item);\n\n    if (item.type && markerTypeCalculator[item.type] && axisInfo.baseAxis && axisInfo.valueAxis) {\n      var otherCoordIndex = indexOf(dims, axisInfo.baseAxis.dim);\n      var targetCoordIndex = indexOf(dims, axisInfo.valueAxis.dim);\n      item.coord = markerTypeCalculator[item.type](data, axisInfo.baseDataDim, axisInfo.valueDataDim, otherCoordIndex, targetCoordIndex); // Force to use the value of calculated value.\n\n      item.value = item.coord[targetCoordIndex];\n    } else {\n      // FIXME Only has one of xAxis and yAxis.\n      var coord = [item.xAxis != null ? item.xAxis : item.radiusAxis, item.yAxis != null ? item.yAxis : item.angleAxis]; // Each coord support max, min, average\n\n      for (var i = 0; i < 2; i++) {\n        if (markerTypeCalculator[coord[i]]) {\n          var dataDim = seriesModel.coordDimToDataDim(dims[i])[0];\n          coord[i] = numCalculate(data, dataDim, coord[i]);\n        }\n      }\n\n      item.coord = coord;\n    }\n  }\n\n  return item;\n}\n\nfunction getAxisInfo(item, data, coordSys, seriesModel) {\n  var ret = {};\n\n  if (item.valueIndex != null || item.valueDim != null) {\n    ret.valueDataDim = item.valueIndex != null ? data.getDimension(item.valueIndex) : item.valueDim;\n    ret.valueAxis = coordSys.getAxis(seriesModel.dataDimToCoordDim(ret.valueDataDim));\n    ret.baseAxis = coordSys.getOtherAxis(ret.valueAxis);\n    ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n  } else {\n    ret.baseAxis = seriesModel.getBaseAxis();\n    ret.valueAxis = coordSys.getOtherAxis(ret.baseAxis);\n    ret.baseDataDim = seriesModel.coordDimToDataDim(ret.baseAxis.dim)[0];\n    ret.valueDataDim = seriesModel.coordDimToDataDim(ret.valueAxis.dim)[0];\n  }\n\n  return ret;\n}\n/**\n * Filter data which is out of coordinateSystem range\n * [dataFilter description]\n * @param  {module:echarts/coord/*} [coordSys]\n * @param  {Object} item\n * @return {boolean}\n */\n\n\nfunction dataFilter(coordSys, item) {\n  // Alwalys return true if there is no coordSys\n  return coordSys && coordSys.containData && item.coord && !hasXOrY(item) ? coordSys.containData(item.coord) : true;\n}\n\nfunction dimValueGetter(item, dimName, dataIndex, dimIndex) {\n  // x, y, radius, angle\n  if (dimIndex < 2) {\n    return item.coord && item.coord[dimIndex];\n  }\n\n  return item.value;\n}\n\nfunction numCalculate(data, valueDataDim, type) {\n  if (type === 'average') {\n    var sum = 0;\n    var count = 0;\n    data.each(valueDataDim, function (val, idx) {\n      if (!isNaN(val)) {\n        sum += val;\n        count++;\n      }\n    }, true);\n    return sum / count;\n  } else {\n    return data.getDataExtent(valueDataDim, true)[type === 'max' ? 1 : 0];\n  }\n}\n\nexports.dataTransform = dataTransform;\nexports.getAxisInfo = getAxisInfo;\nexports.dataFilter = dataFilter;\nexports.dimValueGetter = dimValueGetter;\nexports.numCalculate = numCalculate;","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar throttleUtil = require(\"../util/throttle\");\n\nvar parallelPreprocessor = require(\"../coord/parallel/parallelPreprocessor\");\n\nrequire(\"../coord/parallel/parallelCreator\");\n\nrequire(\"../coord/parallel/ParallelModel\");\n\nrequire(\"./parallelAxis\");\n\nvar CLICK_THRESHOLD = 5; // > 4\n// Parallel view\n\necharts.extendComponentView({\n  type: 'parallel',\n  render: function (parallelModel, ecModel, api) {\n    this._model = parallelModel;\n    this._api = api;\n\n    if (!this._handlers) {\n      this._handlers = {};\n      zrUtil.each(handlers, function (handler, eventName) {\n        api.getZr().on(eventName, this._handlers[eventName] = zrUtil.bind(handler, this));\n      }, this);\n    }\n\n    throttleUtil.createOrUpdate(this, '_throttledDispatchExpand', parallelModel.get('axisExpandRate'), 'fixRate');\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._handlers, function (handler, eventName) {\n      api.getZr().off(eventName, handler);\n    });\n    this._handlers = null;\n  },\n\n  /**\n   * @param {Object} [opt] If null, cancle the last action triggering for debounce.\n   */\n  _throttledDispatchExpand: function (opt) {\n    this._dispatchExpand(opt);\n  },\n  _dispatchExpand: function (opt) {\n    opt && this._api.dispatchAction(zrUtil.extend({\n      type: 'parallelAxisExpand'\n    }, opt));\n  }\n});\nvar handlers = {\n  mousedown: function (e) {\n    if (checkTrigger(this, 'click')) {\n      this._mouseDownPoint = [e.offsetX, e.offsetY];\n    }\n  },\n  mouseup: function (e) {\n    var mouseDownPoint = this._mouseDownPoint;\n\n    if (checkTrigger(this, 'click') && mouseDownPoint) {\n      var point = [e.offsetX, e.offsetY];\n      var dist = Math.pow(mouseDownPoint[0] - point[0], 2) + Math.pow(mouseDownPoint[1] - point[1], 2);\n\n      if (dist > CLICK_THRESHOLD) {\n        return;\n      }\n\n      var result = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n\n      result.behavior !== 'none' && this._dispatchExpand({\n        axisExpandWindow: result.axisExpandWindow\n      });\n    }\n\n    this._mouseDownPoint = null;\n  },\n  mousemove: function (e) {\n    // Should do nothing when brushing.\n    if (this._mouseDownPoint || !checkTrigger(this, 'mousemove')) {\n      return;\n    }\n\n    var model = this._model;\n    var result = model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]);\n    var behavior = result.behavior;\n    behavior === 'jump' && this._throttledDispatchExpand.debounceNextCall(model.get('axisExpandDebounce'));\n\n    this._throttledDispatchExpand(behavior === 'none' ? null // Cancle the last trigger, in case that mouse slide out of the area quickly.\n    : {\n      axisExpandWindow: result.axisExpandWindow,\n      // Jumping uses animation, and sliding suppresses animation.\n      animation: behavior === 'jump' ? null : false\n    });\n  }\n};\n\nfunction checkTrigger(view, triggerOn) {\n  var model = view._model;\n  return model.get('axisExpandable') && model.get('axisExpandTriggerOn') === triggerOn;\n}\n\necharts.registerPreprocessor(parallelPreprocessor);","require(\"../coord/parallel/parallelCreator\");\n\nrequire(\"./axis/parallelAxisAction\");\n\nrequire(\"./axis/ParallelAxisView\");","var echarts = require(\"../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar barPolar = require(\"../layout/barPolar\");\n\nrequire(\"../coord/polar/polarCreator\");\n\nrequire(\"./angleAxis\");\n\nrequire(\"./radiusAxis\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./axisPointer/PolarAxisPointer\");\n\n// For reducing size of echarts.min, barLayoutPolar is required by polar.\necharts.registerLayout(zrUtil.curry(barPolar, 'bar')); // Polar view\n\necharts.extendComponentView({\n  type: 'polar'\n});","require(\"../coord/radar/Radar\");\n\nrequire(\"../coord/radar/RadarModel\");\n\nrequire(\"./radar/RadarView\");","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar AxisBuilder = require(\"../axis/AxisBuilder\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar axisBuilderAttrs = ['axisLine', 'axisTickLabel', 'axisName'];\n\nvar _default = echarts.extendComponentView({\n  type: 'radar',\n  render: function (radarModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n\n    this._buildAxes(radarModel);\n\n    this._buildSplitLineAndArea(radarModel);\n  },\n  _buildAxes: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n    var axisBuilders = zrUtil.map(indicatorAxes, function (indicatorAxis) {\n      var axisBuilder = new AxisBuilder(indicatorAxis.model, {\n        position: [radar.cx, radar.cy],\n        rotation: indicatorAxis.angle,\n        labelDirection: -1,\n        tickDirection: -1,\n        nameDirection: 1\n      });\n      return axisBuilder;\n    });\n    zrUtil.each(axisBuilders, function (axisBuilder) {\n      zrUtil.each(axisBuilderAttrs, axisBuilder.add, axisBuilder);\n      this.group.add(axisBuilder.getGroup());\n    }, this);\n  },\n  _buildSplitLineAndArea: function (radarModel) {\n    var radar = radarModel.coordinateSystem;\n    var indicatorAxes = radar.getIndicatorAxes();\n\n    if (!indicatorAxes.length) {\n      return;\n    }\n\n    var shape = radarModel.get('shape');\n    var splitLineModel = radarModel.getModel('splitLine');\n    var splitAreaModel = radarModel.getModel('splitArea');\n    var lineStyleModel = splitLineModel.getModel('lineStyle');\n    var areaStyleModel = splitAreaModel.getModel('areaStyle');\n    var showSplitLine = splitLineModel.get('show');\n    var showSplitArea = splitAreaModel.get('show');\n    var splitLineColors = lineStyleModel.get('color');\n    var splitAreaColors = areaStyleModel.get('color');\n    splitLineColors = zrUtil.isArray(splitLineColors) ? splitLineColors : [splitLineColors];\n    splitAreaColors = zrUtil.isArray(splitAreaColors) ? splitAreaColors : [splitAreaColors];\n    var splitLines = [];\n    var splitAreas = [];\n\n    function getColorIndex(areaOrLine, areaOrLineColorList, idx) {\n      var colorIndex = idx % areaOrLineColorList.length;\n      areaOrLine[colorIndex] = areaOrLine[colorIndex] || [];\n      return colorIndex;\n    }\n\n    if (shape === 'circle') {\n      var ticksRadius = indicatorAxes[0].getTicksCoords();\n      var cx = radar.cx;\n      var cy = radar.cy;\n\n      for (var i = 0; i < ticksRadius.length; i++) {\n        if (showSplitLine) {\n          var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n          splitLines[colorIndex].push(new graphic.Circle({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r: ticksRadius[i]\n            }\n          }));\n        }\n\n        if (showSplitArea && i < ticksRadius.length - 1) {\n          var colorIndex = getColorIndex(splitAreas, splitAreaColors, i);\n          splitAreas[colorIndex].push(new graphic.Ring({\n            shape: {\n              cx: cx,\n              cy: cy,\n              r0: ticksRadius[i],\n              r: ticksRadius[i + 1]\n            }\n          }));\n        }\n      }\n    } // Polyyon\n    else {\n        var realSplitNumber;\n        var axesTicksPoints = zrUtil.map(indicatorAxes, function (indicatorAxis, idx) {\n          var ticksCoords = indicatorAxis.getTicksCoords();\n          realSplitNumber = realSplitNumber == null ? ticksCoords.length - 1 : Math.min(ticksCoords.length - 1, realSplitNumber);\n          return zrUtil.map(ticksCoords, function (tickCoord) {\n            return radar.coordToPoint(tickCoord, idx);\n          });\n        });\n        var prevPoints = [];\n\n        for (var i = 0; i <= realSplitNumber; i++) {\n          var points = [];\n\n          for (var j = 0; j < indicatorAxes.length; j++) {\n            points.push(axesTicksPoints[j][i]);\n          } // Close\n\n\n          if (points[0]) {\n            points.push(points[0].slice());\n          } else {}\n\n          if (showSplitLine) {\n            var colorIndex = getColorIndex(splitLines, splitLineColors, i);\n            splitLines[colorIndex].push(new graphic.Polyline({\n              shape: {\n                points: points\n              }\n            }));\n          }\n\n          if (showSplitArea && prevPoints) {\n            var colorIndex = getColorIndex(splitAreas, splitAreaColors, i - 1);\n            splitAreas[colorIndex].push(new graphic.Polygon({\n              shape: {\n                points: points.concat(prevPoints)\n              }\n            }));\n          }\n\n          prevPoints = points.slice().reverse();\n        }\n      }\n\n    var lineStyle = lineStyleModel.getLineStyle();\n    var areaStyle = areaStyleModel.getAreaStyle(); // Add splitArea before splitLine\n\n    zrUtil.each(splitAreas, function (splitAreas, idx) {\n      this.group.add(graphic.mergePath(splitAreas, {\n        style: zrUtil.defaults({\n          stroke: 'none',\n          fill: splitAreaColors[idx % splitAreaColors.length]\n        }, areaStyle),\n        silent: true\n      }));\n    }, this);\n    zrUtil.each(splitLines, function (splitLines, idx) {\n      this.group.add(graphic.mergePath(splitLines, {\n        style: zrUtil.defaults({\n          fill: 'none',\n          stroke: splitLineColors[idx % splitLineColors.length]\n        }, lineStyle),\n        silent: true\n      }));\n    }, this);\n  }\n});\n\nmodule.exports = _default;","require(\"../coord/polar/polarCreator\");\n\nrequire(\"./axis/RadiusAxisView\");","var echarts = require(\"../echarts\");\n\nrequire(\"../coord/single/singleCreator\");\n\nrequire(\"./axis/SingleAxisView\");\n\nrequire(\"../coord/single/AxisModel\");\n\nrequire(\"./axisPointer\");\n\nrequire(\"./axisPointer/SingleAxisPointer\");\n\necharts.extendComponentView({\n  type: 'single'\n});","var echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./timeline/preprocessor\");\n\nrequire(\"./timeline/typeDefaulter\");\n\nrequire(\"./timeline/timelineAction\");\n\nrequire(\"./timeline/SliderTimelineModel\");\n\nrequire(\"./timeline/SliderTimelineView\");\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar TimelineModel = require(\"./TimelineModel\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar SliderTimelineModel = TimelineModel.extend({\n  type: 'timeline.slider',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    backgroundColor: 'rgba(0,0,0,0)',\n    // 时间轴背景颜色\n    borderColor: '#ccc',\n    // 时间轴边框颜色\n    borderWidth: 0,\n    // 时间轴边框线宽，单位px，默认为0（无边框）\n    orient: 'horizontal',\n    // 'vertical'\n    inverse: false,\n    tooltip: {\n      // boolean or Object\n      trigger: 'item' // data item may also have tootip attr.\n\n    },\n    symbol: 'emptyCircle',\n    symbolSize: 10,\n    lineStyle: {\n      show: true,\n      width: 2,\n      color: '#304654'\n    },\n    label: {\n      // 文本标签\n      position: 'auto',\n      // auto left right top bottom\n      // When using number, label position is not\n      // restricted by viewRect.\n      // positive: right/bottom, negative: left/top\n      normal: {\n        show: true,\n        interval: 'auto',\n        rotate: 0,\n        // formatter: null,\n        // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n        color: '#304654'\n      },\n      emphasis: {\n        show: true,\n        // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n        color: '#c23531'\n      }\n    },\n    itemStyle: {\n      normal: {\n        color: '#304654',\n        borderWidth: 1\n      },\n      emphasis: {\n        color: '#c23531'\n      }\n    },\n    checkpointStyle: {\n      symbol: 'circle',\n      symbolSize: 13,\n      color: '#c23531',\n      borderWidth: 5,\n      borderColor: 'rgba(194,53,49, 0.5)',\n      animation: true,\n      animationDuration: 300,\n      animationEasing: 'quinticInOut'\n    },\n    controlStyle: {\n      show: true,\n      showPlayBtn: true,\n      showPrevBtn: true,\n      showNextBtn: true,\n      itemSize: 22,\n      itemGap: 12,\n      position: 'left',\n      // 'left' 'right' 'top' 'bottom'\n      playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z',\n      // jshint ignore:line\n      stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z',\n      // jshint ignore:line\n      nextIcon: 'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z',\n      // jshint ignore:line\n      prevIcon: 'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z',\n      // jshint ignore:line\n      normal: {\n        color: '#304654',\n        borderColor: '#304654',\n        borderWidth: 1\n      },\n      emphasis: {\n        color: '#c23531',\n        borderColor: '#c23531',\n        borderWidth: 2\n      }\n    },\n    data: []\n  }\n});\nzrUtil.mixin(SliderTimelineModel, modelUtil.dataFormatMixin);\nvar _default = SliderTimelineModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar layout = require(\"../../util/layout\");\n\nvar TimelineView = require(\"./TimelineView\");\n\nvar TimelineAxis = require(\"./TimelineAxis\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _format = require(\"../../util/format\");\n\nvar encodeHTML = _format.encodeHTML;\nvar bind = zrUtil.bind;\nvar each = zrUtil.each;\nvar PI = Math.PI;\n\nvar _default = TimelineView.extend({\n  type: 'timeline.slider',\n  init: function (ecModel, api) {\n    this.api = api;\n    /**\n     * @private\n     * @type {module:echarts/component/timeline/TimelineAxis}\n     */\n\n    this._axis;\n    /**\n     * @private\n     * @type {module:zrender/core/BoundingRect}\n     */\n\n    this._viewRect;\n    /**\n     * @type {number}\n     */\n\n    this._timer;\n    /**\n     * @type {module:zrender/Element}\n     */\n\n    this._currentPointer;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._mainGroup;\n    /**\n     * @type {module:zrender/container/Group}\n     */\n\n    this._labelGroup;\n  },\n\n  /**\n   * @override\n   */\n  render: function (timelineModel, ecModel, api, payload) {\n    this.model = timelineModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    this.group.removeAll();\n\n    if (timelineModel.get('show', true)) {\n      var layoutInfo = this._layout(timelineModel, api);\n\n      var mainGroup = this._createGroup('mainGroup');\n\n      var labelGroup = this._createGroup('labelGroup');\n      /**\n       * @private\n       * @type {module:echarts/component/timeline/TimelineAxis}\n       */\n\n\n      var axis = this._axis = this._createAxis(layoutInfo, timelineModel);\n\n      timelineModel.formatTooltip = function (dataIndex) {\n        return encodeHTML(axis.scale.getLabel(dataIndex));\n      };\n\n      each(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (name) {\n        this['_render' + name](layoutInfo, mainGroup, axis, timelineModel);\n      }, this);\n\n      this._renderAxisLabel(layoutInfo, labelGroup, axis, timelineModel);\n\n      this._position(layoutInfo, timelineModel);\n    }\n\n    this._doPlayStop();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearTimer();\n\n    this.group.removeAll();\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearTimer();\n  },\n  _layout: function (timelineModel, api) {\n    var labelPosOpt = timelineModel.get('label.normal.position');\n    var orient = timelineModel.get('orient');\n    var viewRect = getViewRect(timelineModel, api); // Auto label offset.\n\n    if (labelPosOpt == null || labelPosOpt === 'auto') {\n      labelPosOpt = orient === 'horizontal' ? viewRect.y + viewRect.height / 2 < api.getHeight() / 2 ? '-' : '+' : viewRect.x + viewRect.width / 2 < api.getWidth() / 2 ? '+' : '-';\n    } else if (isNaN(labelPosOpt)) {\n      labelPosOpt = {\n        horizontal: {\n          top: '-',\n          bottom: '+'\n        },\n        vertical: {\n          left: '-',\n          right: '+'\n        }\n      }[orient][labelPosOpt];\n    }\n\n    var labelAlignMap = {\n      horizontal: 'center',\n      vertical: labelPosOpt >= 0 || labelPosOpt === '+' ? 'left' : 'right'\n    };\n    var labelBaselineMap = {\n      horizontal: labelPosOpt >= 0 || labelPosOpt === '+' ? 'top' : 'bottom',\n      vertical: 'middle'\n    };\n    var rotationMap = {\n      horizontal: 0,\n      vertical: PI / 2\n    }; // Position\n\n    var mainLength = orient === 'vertical' ? viewRect.height : viewRect.width;\n    var controlModel = timelineModel.getModel('controlStyle');\n    var showControl = controlModel.get('show');\n    var controlSize = showControl ? controlModel.get('itemSize') : 0;\n    var controlGap = showControl ? controlModel.get('itemGap') : 0;\n    var sizePlusGap = controlSize + controlGap; // Special label rotate.\n\n    var labelRotation = timelineModel.get('label.normal.rotate') || 0;\n    labelRotation = labelRotation * PI / 180; // To radian.\n\n    var playPosition;\n    var prevBtnPosition;\n    var nextBtnPosition;\n    var axisExtent;\n    var controlPosition = controlModel.get('position', true);\n    var showControl = controlModel.get('show', true);\n    var showPlayBtn = showControl && controlModel.get('showPlayBtn', true);\n    var showPrevBtn = showControl && controlModel.get('showPrevBtn', true);\n    var showNextBtn = showControl && controlModel.get('showNextBtn', true);\n    var xLeft = 0;\n    var xRight = mainLength; // position[0] means left, position[1] means middle.\n\n    if (controlPosition === 'left' || controlPosition === 'bottom') {\n      showPlayBtn && (playPosition = [0, 0], xLeft += sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [xLeft, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    } else {\n      // 'top' 'right'\n      showPlayBtn && (playPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n      showPrevBtn && (prevBtnPosition = [0, 0], xLeft += sizePlusGap);\n      showNextBtn && (nextBtnPosition = [xRight - controlSize, 0], xRight -= sizePlusGap);\n    }\n\n    axisExtent = [xLeft, xRight];\n\n    if (timelineModel.get('inverse')) {\n      axisExtent.reverse();\n    }\n\n    return {\n      viewRect: viewRect,\n      mainLength: mainLength,\n      orient: orient,\n      rotation: rotationMap[orient],\n      labelRotation: labelRotation,\n      labelPosOpt: labelPosOpt,\n      labelAlign: timelineModel.get('label.normal.align') || labelAlignMap[orient],\n      labelBaseline: timelineModel.get('label.normal.verticalAlign') || timelineModel.get('label.normal.baseline') || labelBaselineMap[orient],\n      // Based on mainGroup.\n      playPosition: playPosition,\n      prevBtnPosition: prevBtnPosition,\n      nextBtnPosition: nextBtnPosition,\n      axisExtent: axisExtent,\n      controlSize: controlSize,\n      controlGap: controlGap\n    };\n  },\n  _position: function (layoutInfo, timelineModel) {\n    // Position is be called finally, because bounding rect is needed for\n    // adapt content to fill viewRect (auto adapt offset).\n    // Timeline may be not all in the viewRect when 'offset' is specified\n    // as a number, because it is more appropriate that label aligns at\n    // 'offset' but not the other edge defined by viewRect.\n    var mainGroup = this._mainGroup;\n    var labelGroup = this._labelGroup;\n    var viewRect = layoutInfo.viewRect;\n\n    if (layoutInfo.orient === 'vertical') {\n      // transfrom to horizontal, inverse rotate by left-top point.\n      var m = matrix.create();\n      var rotateOriginX = viewRect.x;\n      var rotateOriginY = viewRect.y + viewRect.height;\n      matrix.translate(m, m, [-rotateOriginX, -rotateOriginY]);\n      matrix.rotate(m, m, -PI / 2);\n      matrix.translate(m, m, [rotateOriginX, rotateOriginY]);\n      viewRect = viewRect.clone();\n      viewRect.applyTransform(m);\n    }\n\n    var viewBound = getBound(viewRect);\n    var mainBound = getBound(mainGroup.getBoundingRect());\n    var labelBound = getBound(labelGroup.getBoundingRect());\n    var mainPosition = mainGroup.position;\n    var labelsPosition = labelGroup.position;\n    labelsPosition[0] = mainPosition[0] = viewBound[0][0];\n    var labelPosOpt = layoutInfo.labelPosOpt;\n\n    if (isNaN(labelPosOpt)) {\n      // '+' or '-'\n      var mainBoundIdx = labelPosOpt === '+' ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      toBound(labelsPosition, labelBound, viewBound, 1, 1 - mainBoundIdx);\n    } else {\n      var mainBoundIdx = labelPosOpt >= 0 ? 0 : 1;\n      toBound(mainPosition, mainBound, viewBound, 1, mainBoundIdx);\n      labelsPosition[1] = mainPosition[1] + labelPosOpt;\n    }\n\n    mainGroup.attr('position', mainPosition);\n    labelGroup.attr('position', labelsPosition);\n    mainGroup.rotation = labelGroup.rotation = layoutInfo.rotation;\n    setOrigin(mainGroup);\n    setOrigin(labelGroup);\n\n    function setOrigin(targetGroup) {\n      var pos = targetGroup.position;\n      targetGroup.origin = [viewBound[0][0] - pos[0], viewBound[1][0] - pos[1]];\n    }\n\n    function getBound(rect) {\n      // [[xmin, xmax], [ymin, ymax]]\n      return [[rect.x, rect.x + rect.width], [rect.y, rect.y + rect.height]];\n    }\n\n    function toBound(fromPos, from, to, dimIdx, boundIdx) {\n      fromPos[dimIdx] += to[dimIdx][boundIdx] - from[dimIdx][boundIdx];\n    }\n  },\n  _createAxis: function (layoutInfo, timelineModel) {\n    var data = timelineModel.getData();\n    var axisType = timelineModel.get('axisType');\n    var scale = axisHelper.createScaleByModel(timelineModel, axisType);\n    var dataExtent = data.getDataExtent('value');\n    scale.setExtent(dataExtent[0], dataExtent[1]);\n\n    this._customizeScale(scale, data);\n\n    scale.niceTicks();\n    var axis = new TimelineAxis('value', scale, layoutInfo.axisExtent, axisType);\n    axis.model = timelineModel;\n    return axis;\n  },\n  _customizeScale: function (scale, data) {\n    scale.getTicks = function () {\n      return data.mapArray(['value'], function (value) {\n        return value;\n      });\n    };\n\n    scale.getTicksLabels = function () {\n      return zrUtil.map(this.getTicks(), scale.getLabel, scale);\n    };\n  },\n  _createGroup: function (name) {\n    var newGroup = this['_' + name] = new graphic.Group();\n    this.group.add(newGroup);\n    return newGroup;\n  },\n  _renderAxisLine: function (layoutInfo, group, axis, timelineModel) {\n    var axisExtent = axis.getExtent();\n\n    if (!timelineModel.get('lineStyle.show')) {\n      return;\n    }\n\n    group.add(new graphic.Line({\n      shape: {\n        x1: axisExtent[0],\n        y1: 0,\n        x2: axisExtent[1],\n        y2: 0\n      },\n      style: zrUtil.extend({\n        lineCap: 'round'\n      }, timelineModel.getModel('lineStyle').getLineStyle()),\n      silent: true,\n      z2: 1\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisTick: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var ticks = axis.scale.getTicks();\n    each(ticks, function (value, dataIndex) {\n      var tickCoord = axis.dataToCoord(value);\n      var itemModel = data.getItemModel(dataIndex);\n      var itemStyleModel = itemModel.getModel('itemStyle.normal');\n      var hoverStyleModel = itemModel.getModel('itemStyle.emphasis');\n      var symbolOpt = {\n        position: [tickCoord, 0],\n        onclick: bind(this._changeTimeline, this, dataIndex)\n      };\n      var el = giveSymbol(itemModel, itemStyleModel, group, symbolOpt);\n      graphic.setHoverStyle(el, hoverStyleModel.getItemStyle());\n\n      if (itemModel.get('tooltip')) {\n        el.dataIndex = dataIndex;\n        el.dataModel = timelineModel;\n      } else {\n        el.dataIndex = el.dataModel = null;\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderAxisLabel: function (layoutInfo, group, axis, timelineModel) {\n    var labelModel = timelineModel.getModel('label.normal');\n\n    if (!labelModel.get('show')) {\n      return;\n    }\n\n    var data = timelineModel.getData();\n    var ticks = axis.scale.getTicks();\n    var labels = axisHelper.getFormattedLabels(axis, labelModel.get('formatter'));\n    var labelInterval = axis.getLabelInterval();\n    each(ticks, function (tick, dataIndex) {\n      if (axis.isLabelIgnored(dataIndex, labelInterval)) {\n        return;\n      }\n\n      var itemModel = data.getItemModel(dataIndex);\n      var normalLabelModel = itemModel.getModel('label.normal');\n      var hoverLabelModel = itemModel.getModel('label.emphasis');\n      var tickCoord = axis.dataToCoord(tick);\n      var textEl = new graphic.Text({\n        position: [tickCoord, 0],\n        rotation: layoutInfo.labelRotation - layoutInfo.rotation,\n        onclick: bind(this._changeTimeline, this, dataIndex),\n        silent: false\n      });\n      graphic.setTextStyle(textEl.style, normalLabelModel, {\n        text: labels[dataIndex],\n        textAlign: layoutInfo.labelAlign,\n        textVerticalAlign: layoutInfo.labelBaseline\n      });\n      group.add(textEl);\n      graphic.setHoverStyle(textEl, graphic.setTextStyle({}, hoverLabelModel));\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _renderControl: function (layoutInfo, group, axis, timelineModel) {\n    var controlSize = layoutInfo.controlSize;\n    var rotation = layoutInfo.rotation;\n    var itemStyle = timelineModel.getModel('controlStyle.normal').getItemStyle();\n    var hoverStyle = timelineModel.getModel('controlStyle.emphasis').getItemStyle();\n    var rect = [0, -controlSize / 2, controlSize, controlSize];\n    var playState = timelineModel.getPlayState();\n    var inverse = timelineModel.get('inverse', true);\n    makeBtn(layoutInfo.nextBtnPosition, 'controlStyle.nextIcon', bind(this._changeTimeline, this, inverse ? '-' : '+'));\n    makeBtn(layoutInfo.prevBtnPosition, 'controlStyle.prevIcon', bind(this._changeTimeline, this, inverse ? '+' : '-'));\n    makeBtn(layoutInfo.playPosition, 'controlStyle.' + (playState ? 'stopIcon' : 'playIcon'), bind(this._handlePlayClick, this, !playState), true);\n\n    function makeBtn(position, iconPath, onclick, willRotate) {\n      if (!position) {\n        return;\n      }\n\n      var opt = {\n        position: position,\n        origin: [controlSize / 2, 0],\n        rotation: willRotate ? -rotation : 0,\n        rectHover: true,\n        style: itemStyle,\n        onclick: onclick\n      };\n      var btn = makeIcon(timelineModel, iconPath, rect, opt);\n      group.add(btn);\n      graphic.setHoverStyle(btn, hoverStyle);\n    }\n  },\n  _renderCurrentPointer: function (layoutInfo, group, axis, timelineModel) {\n    var data = timelineModel.getData();\n    var currentIndex = timelineModel.getCurrentIndex();\n    var pointerModel = data.getItemModel(currentIndex).getModel('checkpointStyle');\n    var me = this;\n    var callback = {\n      onCreate: function (pointer) {\n        pointer.draggable = true;\n        pointer.drift = bind(me._handlePointerDrag, me);\n        pointer.ondragend = bind(me._handlePointerDragend, me);\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel, true);\n      },\n      onUpdate: function (pointer) {\n        pointerMoveTo(pointer, currentIndex, axis, timelineModel);\n      }\n    }; // Reuse when exists, for animation and drag.\n\n    this._currentPointer = giveSymbol(pointerModel, pointerModel, this._mainGroup, {}, this._currentPointer, callback);\n  },\n  _handlePlayClick: function (nextState) {\n    this._clearTimer();\n\n    this.api.dispatchAction({\n      type: 'timelinePlayChange',\n      playState: nextState,\n      from: this.uid\n    });\n  },\n  _handlePointerDrag: function (dx, dy, e) {\n    this._clearTimer();\n\n    this._pointerChangeTimeline([e.offsetX, e.offsetY]);\n  },\n  _handlePointerDragend: function (e) {\n    this._pointerChangeTimeline([e.offsetX, e.offsetY], true);\n  },\n  _pointerChangeTimeline: function (mousePos, trigger) {\n    var toCoord = this._toAxisCoord(mousePos)[0];\n\n    var axis = this._axis;\n    var axisExtent = numberUtil.asc(axis.getExtent().slice());\n    toCoord > axisExtent[1] && (toCoord = axisExtent[1]);\n    toCoord < axisExtent[0] && (toCoord = axisExtent[0]);\n    this._currentPointer.position[0] = toCoord;\n\n    this._currentPointer.dirty();\n\n    var targetDataIndex = this._findNearestTick(toCoord);\n\n    var timelineModel = this.model;\n\n    if (trigger || targetDataIndex !== timelineModel.getCurrentIndex() && timelineModel.get('realtime')) {\n      this._changeTimeline(targetDataIndex);\n    }\n  },\n  _doPlayStop: function () {\n    this._clearTimer();\n\n    if (this.model.getPlayState()) {\n      this._timer = setTimeout(bind(handleFrame, this), this.model.get('playInterval'));\n    }\n\n    function handleFrame() {\n      // Do not cache\n      var timelineModel = this.model;\n\n      this._changeTimeline(timelineModel.getCurrentIndex() + (timelineModel.get('rewind', true) ? -1 : 1));\n    }\n  },\n  _toAxisCoord: function (vertex) {\n    var trans = this._mainGroup.getLocalTransform();\n\n    return graphic.applyTransform(vertex, trans, true);\n  },\n  _findNearestTick: function (axisCoord) {\n    var data = this.model.getData();\n    var dist = Infinity;\n    var targetDataIndex;\n    var axis = this._axis;\n    data.each(['value'], function (value, dataIndex) {\n      var coord = axis.dataToCoord(value);\n      var d = Math.abs(coord - axisCoord);\n\n      if (d < dist) {\n        dist = d;\n        targetDataIndex = dataIndex;\n      }\n    });\n    return targetDataIndex;\n  },\n  _clearTimer: function () {\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n  },\n  _changeTimeline: function (nextIndex) {\n    var currentIndex = this.model.getCurrentIndex();\n\n    if (nextIndex === '+') {\n      nextIndex = currentIndex + 1;\n    } else if (nextIndex === '-') {\n      nextIndex = currentIndex - 1;\n    }\n\n    this.api.dispatchAction({\n      type: 'timelineChange',\n      currentIndex: nextIndex,\n      from: this.uid\n    });\n  }\n});\n\nfunction getViewRect(model, api) {\n  return layout.getLayoutRect(model.getBoxLayoutParams(), {\n    width: api.getWidth(),\n    height: api.getHeight()\n  }, model.get('padding'));\n}\n\nfunction makeIcon(timelineModel, objPath, rect, opts) {\n  var icon = graphic.makePath(timelineModel.get(objPath).replace(/^path:\\/\\//, ''), zrUtil.clone(opts || {}), new BoundingRect(rect[0], rect[1], rect[2], rect[3]), 'center');\n  return icon;\n}\n/**\n * Create symbol or update symbol\n * opt: basic position and event handlers\n */\n\n\nfunction giveSymbol(hostModel, itemStyleModel, group, opt, symbol, callback) {\n  var color = itemStyleModel.get('color');\n\n  if (!symbol) {\n    var symbolType = hostModel.get('symbol');\n    symbol = createSymbol(symbolType, -1, -1, 2, 2, color);\n    symbol.setStyle('strokeNoScale', true);\n    group.add(symbol);\n    callback && callback.onCreate(symbol);\n  } else {\n    symbol.setColor(color);\n    group.add(symbol); // Group may be new, also need to add.\n\n    callback && callback.onUpdate(symbol);\n  } // Style\n\n\n  var itemStyle = itemStyleModel.getItemStyle(['color', 'symbol', 'symbolSize']);\n  symbol.setStyle(itemStyle); // Transform and events.\n\n  opt = zrUtil.merge({\n    rectHover: true,\n    z2: 100\n  }, opt, true);\n  var symbolSize = hostModel.get('symbolSize');\n  symbolSize = symbolSize instanceof Array ? symbolSize.slice() : [+symbolSize, +symbolSize];\n  symbolSize[0] /= 2;\n  symbolSize[1] /= 2;\n  opt.scale = symbolSize;\n  var symbolOffset = hostModel.get('symbolOffset');\n\n  if (symbolOffset) {\n    var pos = opt.position = opt.position || [0, 0];\n    pos[0] += numberUtil.parsePercent(symbolOffset[0], symbolSize[0]);\n    pos[1] += numberUtil.parsePercent(symbolOffset[1], symbolSize[1]);\n  }\n\n  var symbolRotate = hostModel.get('symbolRotate');\n  opt.rotation = (symbolRotate || 0) * Math.PI / 180 || 0;\n  symbol.attr(opt); // FIXME\n  // (1) When symbol.style.strokeNoScale is true and updateTransform is not performed,\n  // getBoundingRect will return wrong result.\n  // (This is supposed to be resolved in zrender, but it is a little difficult to\n  // leverage performance and auto updateTransform)\n  // (2) All of ancesters of symbol do not scale, so we can just updateTransform symbol.\n\n  symbol.updateTransform();\n  return symbol;\n}\n\nfunction pointerMoveTo(pointer, dataIndex, axis, timelineModel, noAnimation) {\n  if (pointer.dragging) {\n    return;\n  }\n\n  var pointerModel = timelineModel.getModel('checkpointStyle');\n  var toCoord = axis.dataToCoord(timelineModel.getData().get(['value'], dataIndex));\n\n  if (noAnimation || !pointerModel.get('animation', true)) {\n    pointer.attr({\n      position: [toCoord, 0]\n    });\n  } else {\n    pointer.stopAnimation(true);\n    pointer.animateTo({\n      position: [toCoord, 0]\n    }, pointerModel.get('animationDuration', true), pointerModel.get('animationEasing', true));\n  }\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../../coord/Axis\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\n/**\n * Extend axis 2d\n * @constructor module:echarts/coord/cartesian/Axis2D\n * @extends {module:echarts/coord/cartesian/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar TimelineAxis = function (dim, scale, coordExtent, axisType) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._autoLabelInterval;\n  /**\n   * Axis model\n   * @param {module:echarts/component/TimelineModel}\n   */\n\n  this.model = null;\n};\n\nTimelineAxis.prototype = {\n  constructor: TimelineAxis,\n\n  /**\n   * @public\n   * @return {number}\n   */\n  getLabelInterval: function () {\n    var timelineModel = this.model;\n    var labelModel = timelineModel.getModel('label.normal');\n    var labelInterval = labelModel.get('interval');\n\n    if (labelInterval != null && labelInterval != 'auto') {\n      return labelInterval;\n    }\n\n    var labelInterval = this._autoLabelInterval;\n\n    if (!labelInterval) {\n      labelInterval = this._autoLabelInterval = axisHelper.getAxisLabelInterval(zrUtil.map(this.scale.getTicks(), this.dataToCoord, this), axisHelper.getFormattedLabels(this, labelModel.get('formatter')), labelModel.getFont(), timelineModel.get('orient') === 'horizontal' ? 0 : 90, labelModel.get('rotate'));\n    }\n\n    return labelInterval;\n  },\n\n  /**\n   * If label is ignored.\n   * Automatically used when axis is category and label can not be all shown\n   * @public\n   * @param  {number} idx\n   * @return {boolean}\n   */\n  isLabelIgnored: function (idx) {\n    if (this.type === 'category') {\n      var labelInterval = this.getLabelInterval();\n      return typeof labelInterval === 'function' && !labelInterval(idx, this.scale.getLabel(idx)) || idx % (labelInterval + 1);\n    }\n  }\n};\nzrUtil.inherits(TimelineAxis, Axis);\nvar _default = TimelineAxis;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar List = require(\"../../data/List\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar TimelineModel = ComponentModel.extend({\n  type: 'timeline',\n  layoutMode: 'box',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    zlevel: 0,\n    // 一级层叠\n    z: 4,\n    // 二级层叠\n    show: true,\n    axisType: 'time',\n    // 模式是时间类型，支持 value, category\n    realtime: true,\n    left: '20%',\n    top: null,\n    right: '20%',\n    bottom: 0,\n    width: null,\n    height: 40,\n    padding: 5,\n    controlPosition: 'left',\n    // 'left' 'right' 'top' 'bottom' 'none'\n    autoPlay: false,\n    rewind: false,\n    // 反向播放\n    loop: true,\n    playInterval: 2000,\n    // 播放时间间隔，单位ms\n    currentIndex: 0,\n    itemStyle: {\n      normal: {},\n      emphasis: {}\n    },\n    label: {\n      normal: {\n        color: '#000'\n      },\n      emphasis: {}\n    },\n    data: []\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {module:echarts/data/List}\n     */\n    this._data;\n    /**\n     * @private\n     * @type {Array.<string>}\n     */\n\n    this._names;\n    this.mergeDefaultAndTheme(option, ecModel);\n\n    this._initData();\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option) {\n    TimelineModel.superApply(this, 'mergeOption', arguments);\n\n    this._initData();\n  },\n\n  /**\n   * @param {number} [currentIndex]\n   */\n  setCurrentIndex: function (currentIndex) {\n    if (currentIndex == null) {\n      currentIndex = this.option.currentIndex;\n    }\n\n    var count = this._data.count();\n\n    if (this.option.loop) {\n      currentIndex = (currentIndex % count + count) % count;\n    } else {\n      currentIndex >= count && (currentIndex = count - 1);\n      currentIndex < 0 && (currentIndex = 0);\n    }\n\n    this.option.currentIndex = currentIndex;\n  },\n\n  /**\n   * @return {number} currentIndex\n   */\n  getCurrentIndex: function () {\n    return this.option.currentIndex;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isIndexMax: function () {\n    return this.getCurrentIndex() >= this._data.count() - 1;\n  },\n\n  /**\n   * @param {boolean} state true: play, false: stop\n   */\n  setPlayState: function (state) {\n    this.option.autoPlay = !!state;\n  },\n\n  /**\n   * @return {boolean} true: play, false: stop\n   */\n  getPlayState: function () {\n    return !!this.option.autoPlay;\n  },\n\n  /**\n   * @private\n   */\n  _initData: function () {\n    var thisOption = this.option;\n    var dataArr = thisOption.data || [];\n    var axisType = thisOption.axisType;\n    var names = this._names = [];\n\n    if (axisType === 'category') {\n      var idxArr = [];\n      zrUtil.each(dataArr, function (item, index) {\n        var value = modelUtil.getDataItemValue(item);\n        var newItem;\n\n        if (zrUtil.isObject(item)) {\n          newItem = zrUtil.clone(item);\n          newItem.value = index;\n        } else {\n          newItem = index;\n        }\n\n        idxArr.push(newItem);\n\n        if (!zrUtil.isString(value) && (value == null || isNaN(value))) {\n          value = '';\n        }\n\n        names.push(value + '');\n      });\n      dataArr = idxArr;\n    }\n\n    var dimType = {\n      category: 'ordinal',\n      time: 'time'\n    }[axisType] || 'number';\n    var data = this._data = new List([{\n      name: 'value',\n      type: dimType\n    }], this);\n    data.initData(dataArr, names);\n  },\n  getData: function () {\n    return this._data;\n  },\n\n  /**\n   * @public\n   * @return {Array.<string>} categoreis\n   */\n  getCategories: function () {\n    if (this.get('axisType') === 'category') {\n      return this._names.slice();\n    }\n  }\n});\nvar _default = TimelineModel;\nmodule.exports = _default;","var ComponentView = require(\"../../view/Component\");\n\nvar _default = ComponentView.extend({\n  type: 'timeline'\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(option) {\n  var timelineOpt = option && option.timeline;\n\n  if (!zrUtil.isArray(timelineOpt)) {\n    timelineOpt = timelineOpt ? [timelineOpt] : [];\n  }\n\n  zrUtil.each(timelineOpt, function (opt) {\n    if (!opt) {\n      return;\n    }\n\n    compatibleEC2(opt);\n  });\n}\n\nfunction compatibleEC2(opt) {\n  var type = opt.type;\n  var ec2Types = {\n    'number': 'value',\n    'time': 'time'\n  }; // Compatible with ec2\n\n  if (ec2Types[type]) {\n    opt.axisType = ec2Types[type];\n    delete opt.type;\n  }\n\n  transferItem(opt);\n\n  if (has(opt, 'controlPosition')) {\n    var controlStyle = opt.controlStyle || (opt.controlStyle = {});\n\n    if (!has(controlStyle, 'position')) {\n      controlStyle.position = opt.controlPosition;\n    }\n\n    if (controlStyle.position === 'none' && !has(controlStyle, 'show')) {\n      controlStyle.show = false;\n      delete controlStyle.position;\n    }\n\n    delete opt.controlPosition;\n  }\n\n  zrUtil.each(opt.data || [], function (dataItem) {\n    if (zrUtil.isObject(dataItem) && !zrUtil.isArray(dataItem)) {\n      if (!has(dataItem, 'value') && has(dataItem, 'name')) {\n        // In ec2, using name as value.\n        dataItem.value = dataItem.name;\n      }\n\n      transferItem(dataItem);\n    }\n  });\n}\n\nfunction transferItem(opt) {\n  var itemStyle = opt.itemStyle || (opt.itemStyle = {});\n  var itemStyleEmphasis = itemStyle.emphasis || (itemStyle.emphasis = {}); // Transfer label out\n\n  var label = opt.label || opt.label || {};\n  var labelNormal = label.normal || (label.normal = {});\n  var excludeLabelAttr = {\n    normal: 1,\n    emphasis: 1\n  };\n  zrUtil.each(label, function (value, name) {\n    if (!excludeLabelAttr[name] && !has(labelNormal, name)) {\n      labelNormal[name] = value;\n    }\n  });\n\n  if (itemStyleEmphasis.label && !has(label, 'emphasis')) {\n    label.emphasis = itemStyleEmphasis.label;\n    delete itemStyleEmphasis.label;\n  }\n}\n\nfunction has(obj, attr) {\n  return obj.hasOwnProperty(attr);\n}\n\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\necharts.registerAction({\n  type: 'timelineChange',\n  event: 'timelineChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.currentIndex != null) {\n    timelineModel.setCurrentIndex(payload.currentIndex);\n\n    if (!timelineModel.get('loop', true) && timelineModel.isIndexMax()) {\n      timelineModel.setPlayState(false);\n    }\n  } // Set normalized currentIndex to payload.\n\n\n  ecModel.resetOption('timeline');\n  return zrUtil.defaults({\n    currentIndex: timelineModel.option.currentIndex\n  }, payload);\n});\necharts.registerAction({\n  type: 'timelinePlayChange',\n  event: 'timelinePlayChanged',\n  update: 'update'\n}, function (payload, ecModel) {\n  var timelineModel = ecModel.getComponent('timeline');\n\n  if (timelineModel && payload.playState != null) {\n    timelineModel.setPlayState(payload.playState);\n  }\n});","var Component = require(\"../../model/Component\");\n\nComponent.registerSubTypeDefaulter('timeline', function () {\n  // Only slider now.\n  return 'slider';\n});","var echarts = require(\"../echarts\");\n\nvar graphic = require(\"../util/graphic\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n// Model\necharts.extendComponentModel({\n  type: 'title',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  defaultOption: {\n    // 一级层叠\n    zlevel: 0,\n    // 二级层叠\n    z: 6,\n    show: true,\n    text: '',\n    // 超链接跳转\n    // link: null,\n    // 仅支持self | blank\n    target: 'blank',\n    subtext: '',\n    // 超链接跳转\n    // sublink: null,\n    // 仅支持self | blank\n    subtarget: 'blank',\n    // 'center' ¦ 'left' ¦ 'right'\n    // ¦ {number}（x坐标，单位px）\n    left: 0,\n    // 'top' ¦ 'bottom' ¦ 'center'\n    // ¦ {number}（y坐标，单位px）\n    top: 0,\n    // 水平对齐\n    // 'auto' | 'left' | 'right' | 'center'\n    // 默认根据 left 的位置判断是左对齐还是右对齐\n    // textAlign: null\n    //\n    // 垂直对齐\n    // 'auto' | 'top' | 'bottom' | 'middle'\n    // 默认根据 top 位置判断是上对齐还是下对齐\n    // textBaseline: null\n    backgroundColor: 'rgba(0,0,0,0)',\n    // 标题边框颜色\n    borderColor: '#ccc',\n    // 标题边框线宽，单位px，默认为0（无边框）\n    borderWidth: 0,\n    // 标题内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    padding: 5,\n    // 主副标题纵向间隔，单位px，默认为10，\n    itemGap: 10,\n    textStyle: {\n      fontSize: 18,\n      fontWeight: 'bolder',\n      color: '#333'\n    },\n    subtextStyle: {\n      color: '#aaa'\n    }\n  }\n}); // View\n\necharts.extendComponentView({\n  type: 'title',\n  render: function (titleModel, ecModel, api) {\n    this.group.removeAll();\n\n    if (!titleModel.get('show')) {\n      return;\n    }\n\n    var group = this.group;\n    var textStyleModel = titleModel.getModel('textStyle');\n    var subtextStyleModel = titleModel.getModel('subtextStyle');\n    var textAlign = titleModel.get('textAlign');\n    var textBaseline = titleModel.get('textBaseline');\n    var textEl = new graphic.Text({\n      style: graphic.setTextStyle({}, textStyleModel, {\n        text: titleModel.get('text'),\n        textFill: textStyleModel.getTextColor()\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var textRect = textEl.getBoundingRect();\n    var subText = titleModel.get('subtext');\n    var subTextEl = new graphic.Text({\n      style: graphic.setTextStyle({}, subtextStyleModel, {\n        text: subText,\n        textFill: subtextStyleModel.getTextColor(),\n        y: textRect.height + titleModel.get('itemGap'),\n        textVerticalAlign: 'top'\n      }, {\n        disableBox: true\n      }),\n      z2: 10\n    });\n    var link = titleModel.get('link');\n    var sublink = titleModel.get('sublink');\n    textEl.silent = !link;\n    subTextEl.silent = !sublink;\n\n    if (link) {\n      textEl.on('click', function () {\n        window.open(link, '_' + titleModel.get('target'));\n      });\n    }\n\n    if (sublink) {\n      subTextEl.on('click', function () {\n        window.open(sublink, '_' + titleModel.get('subtarget'));\n      });\n    }\n\n    group.add(textEl);\n    subText && group.add(subTextEl); // If no subText, but add subTextEl, there will be an empty line.\n\n    var groupRect = group.getBoundingRect();\n    var layoutOption = titleModel.getBoxLayoutParams();\n    layoutOption.width = groupRect.width;\n    layoutOption.height = groupRect.height;\n    var layoutRect = getLayoutRect(layoutOption, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    }, titleModel.get('padding')); // Adjust text align based on position\n\n    if (!textAlign) {\n      // Align left if title is on the left. center and right is same\n      textAlign = titleModel.get('left') || titleModel.get('right');\n\n      if (textAlign === 'middle') {\n        textAlign = 'center';\n      } // Adjust layout by text align\n\n\n      if (textAlign === 'right') {\n        layoutRect.x += layoutRect.width;\n      } else if (textAlign === 'center') {\n        layoutRect.x += layoutRect.width / 2;\n      }\n    }\n\n    if (!textBaseline) {\n      textBaseline = titleModel.get('top') || titleModel.get('bottom');\n\n      if (textBaseline === 'center') {\n        textBaseline = 'middle';\n      }\n\n      if (textBaseline === 'bottom') {\n        layoutRect.y += layoutRect.height;\n      } else if (textBaseline === 'middle') {\n        layoutRect.y += layoutRect.height / 2;\n      }\n\n      textBaseline = textBaseline || 'top';\n    }\n\n    group.attr('position', [layoutRect.x, layoutRect.y]);\n    var alignStyle = {\n      textAlign: textAlign,\n      textVerticalAlign: textBaseline\n    };\n    textEl.setStyle(alignStyle);\n    subTextEl.setStyle(alignStyle); // Render background\n    // Get groupRect again because textAlign has been changed\n\n    groupRect = group.getBoundingRect();\n    var padding = layoutRect.margin;\n    var style = titleModel.getItemStyle(['color', 'opacity']);\n    style.fill = titleModel.get('backgroundColor');\n    var rect = new graphic.Rect({\n      shape: {\n        x: groupRect.x - padding[3],\n        y: groupRect.y - padding[0],\n        width: groupRect.width + padding[1] + padding[3],\n        height: groupRect.height + padding[0] + padding[2],\n        r: titleModel.get('borderRadius')\n      },\n      style: style,\n      silent: true\n    });\n    graphic.subPixelOptimizeRect(rect);\n    group.add(rect);\n  }\n});","require(\"./toolbox/ToolboxModel\");\n\nrequire(\"./toolbox/ToolboxView\");\n\nrequire(\"./toolbox/feature/SaveAsImage\");\n\nrequire(\"./toolbox/feature/MagicType\");\n\nrequire(\"./toolbox/feature/DataView\");\n\nrequire(\"./toolbox/feature/DataZoom\");\n\nrequire(\"./toolbox/feature/Restore\");","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar ToolboxModel = echarts.extendComponentModel({\n  type: 'toolbox',\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n  mergeDefaultAndTheme: function (option) {\n    ToolboxModel.superApply(this, 'mergeDefaultAndTheme', arguments);\n    zrUtil.each(this.option.feature, function (featureOpt, featureName) {\n      var Feature = featureManager.get(featureName);\n      Feature && zrUtil.merge(featureOpt, Feature.defaultOption);\n    });\n  },\n  defaultOption: {\n    show: true,\n    z: 6,\n    zlevel: 0,\n    orient: 'horizontal',\n    left: 'right',\n    top: 'top',\n    // right\n    // bottom\n    backgroundColor: 'transparent',\n    borderColor: '#ccc',\n    borderRadius: 0,\n    borderWidth: 0,\n    padding: 5,\n    itemSize: 15,\n    itemGap: 8,\n    showTitle: true,\n    iconStyle: {\n      normal: {\n        borderColor: '#666',\n        color: 'none'\n      },\n      emphasis: {\n        borderColor: '#3E98C5'\n      } // textStyle: {},\n      // feature\n\n    }\n  }\n});\nvar _default = ToolboxModel;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar featureManager = require(\"./featureManager\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar Model = require(\"../../model/Model\");\n\nvar DataDiffer = require(\"../../data/DataDiffer\");\n\nvar listComponentHelper = require(\"../helper/listComponent\");\n\nvar _default = echarts.extendComponentView({\n  type: 'toolbox',\n  render: function (toolboxModel, ecModel, api, payload) {\n    var group = this.group;\n    group.removeAll();\n\n    if (!toolboxModel.get('show')) {\n      return;\n    }\n\n    var itemSize = +toolboxModel.get('itemSize');\n    var featureOpts = toolboxModel.get('feature') || {};\n    var features = this._features || (this._features = {});\n    var featureNames = [];\n    zrUtil.each(featureOpts, function (opt, name) {\n      featureNames.push(name);\n    });\n    new DataDiffer(this._featureNames || [], featureNames).add(processFeature).update(processFeature).remove(zrUtil.curry(processFeature, null)).execute(); // Keep for diff.\n\n    this._featureNames = featureNames;\n\n    function processFeature(newIndex, oldIndex) {\n      var featureName = featureNames[newIndex];\n      var oldName = featureNames[oldIndex];\n      var featureOpt = featureOpts[featureName];\n      var featureModel = new Model(featureOpt, toolboxModel, toolboxModel.ecModel);\n      var feature;\n\n      if (featureName && !oldName) {\n        // Create\n        if (isUserFeatureName(featureName)) {\n          feature = {\n            model: featureModel,\n            onclick: featureModel.option.onclick,\n            featureName: featureName\n          };\n        } else {\n          var Feature = featureManager.get(featureName);\n\n          if (!Feature) {\n            return;\n          }\n\n          feature = new Feature(featureModel, ecModel, api);\n        }\n\n        features[featureName] = feature;\n      } else {\n        feature = features[oldName]; // If feature does not exsit.\n\n        if (!feature) {\n          return;\n        }\n\n        feature.model = featureModel;\n        feature.ecModel = ecModel;\n        feature.api = api;\n      }\n\n      if (!featureName && oldName) {\n        feature.dispose && feature.dispose(ecModel, api);\n        return;\n      }\n\n      if (!featureModel.get('show') || feature.unusable) {\n        feature.remove && feature.remove(ecModel, api);\n        return;\n      }\n\n      createIconPaths(featureModel, feature, featureName);\n\n      featureModel.setIconStatus = function (iconName, status) {\n        var option = this.option;\n        var iconPaths = this.iconPaths;\n        option.iconStatus = option.iconStatus || {};\n        option.iconStatus[iconName] = status; // FIXME\n\n        iconPaths[iconName] && iconPaths[iconName].trigger(status);\n      };\n\n      if (feature.render) {\n        feature.render(featureModel, ecModel, api, payload);\n      }\n    }\n\n    function createIconPaths(featureModel, feature, featureName) {\n      var iconStyleModel = featureModel.getModel('iconStyle'); // If one feature has mutiple icon. they are orginaized as\n      // {\n      //     icon: {\n      //         foo: '',\n      //         bar: ''\n      //     },\n      //     title: {\n      //         foo: '',\n      //         bar: ''\n      //     }\n      // }\n\n      var icons = feature.getIcons ? feature.getIcons() : featureModel.get('icon');\n      var titles = featureModel.get('title') || {};\n\n      if (typeof icons === 'string') {\n        var icon = icons;\n        var title = titles;\n        icons = {};\n        titles = {};\n        icons[featureName] = icon;\n        titles[featureName] = title;\n      }\n\n      var iconPaths = featureModel.iconPaths = {};\n      zrUtil.each(icons, function (iconStr, iconName) {\n        var path = graphic.createIcon(iconStr, {}, {\n          x: -itemSize / 2,\n          y: -itemSize / 2,\n          width: itemSize,\n          height: itemSize\n        });\n        path.setStyle(iconStyleModel.getModel('normal').getItemStyle());\n        path.hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n        graphic.setHoverStyle(path);\n\n        if (toolboxModel.get('showTitle')) {\n          path.__title = titles[iconName];\n          path.on('mouseover', function () {\n            // Should not reuse above hoverStyle, which might be modified.\n            var hoverStyle = iconStyleModel.getModel('emphasis').getItemStyle();\n            path.setStyle({\n              text: titles[iconName],\n              textPosition: hoverStyle.textPosition || 'bottom',\n              textFill: hoverStyle.fill || hoverStyle.stroke || '#000',\n              textAlign: hoverStyle.textAlign || 'center'\n            });\n          }).on('mouseout', function () {\n            path.setStyle({\n              textFill: null\n            });\n          });\n        }\n\n        path.trigger(featureModel.get('iconStatus.' + iconName) || 'normal');\n        group.add(path);\n        path.on('click', zrUtil.bind(feature.onclick, feature, ecModel, api, iconName));\n        iconPaths[iconName] = path;\n      });\n    }\n\n    listComponentHelper.layout(group, toolboxModel, api); // Render background after group is layout\n    // FIXME\n\n    group.add(listComponentHelper.makeBackground(group.getBoundingRect(), toolboxModel)); // Adjust icon title positions to avoid them out of screen\n\n    group.eachChild(function (icon) {\n      var titleText = icon.__title;\n      var hoverStyle = icon.hoverStyle; // May be background element\n\n      if (hoverStyle && titleText) {\n        var rect = textContain.getBoundingRect(titleText, textContain.makeFont(hoverStyle));\n        var offsetX = icon.position[0] + group.position[0];\n        var offsetY = icon.position[1] + group.position[1] + itemSize;\n        var needPutOnTop = false;\n\n        if (offsetY + rect.height > api.getHeight()) {\n          hoverStyle.textPosition = 'top';\n          needPutOnTop = true;\n        }\n\n        var topOffset = needPutOnTop ? -5 - rect.height : itemSize + 8;\n\n        if (offsetX + rect.width / 2 > api.getWidth()) {\n          hoverStyle.textPosition = ['100%', topOffset];\n          hoverStyle.textAlign = 'right';\n        } else if (offsetX - rect.width / 2 < 0) {\n          hoverStyle.textPosition = [0, topOffset];\n          hoverStyle.textAlign = 'left';\n        }\n      }\n    });\n  },\n  updateView: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateView && feature.updateView(feature.model, ecModel, api, payload);\n    });\n  },\n  updateLayout: function (toolboxModel, ecModel, api, payload) {\n    zrUtil.each(this._features, function (feature) {\n      feature.updateLayout && feature.updateLayout(feature.model, ecModel, api, payload);\n    });\n  },\n  remove: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.remove && feature.remove(ecModel, api);\n    });\n    this.group.removeAll();\n  },\n  dispose: function (ecModel, api) {\n    zrUtil.each(this._features, function (feature) {\n      feature.dispose && feature.dispose(ecModel, api);\n    });\n  }\n});\n\nfunction isUserFeatureName(featureName) {\n  return featureName.indexOf('my') === 0;\n}\n\nmodule.exports = _default;","var features = {};\n\nfunction register(name, ctor) {\n  features[name] = ctor;\n}\n\nfunction get(name) {\n  return features[name];\n}\n\nexports.register = register;\nexports.get = get;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar lang = require(\"../../../lang\");\n\nvar brushLang = lang.toolbox.brush;\n\nfunction Brush(model, ecModel, api) {\n  this.model = model;\n  this.ecModel = ecModel;\n  this.api = api;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushType;\n  /**\n   * @private\n   * @type {string}\n   */\n\n  this._brushMode;\n}\n\nBrush.defaultOption = {\n  show: true,\n  type: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'],\n  icon: {\n    rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13',\n    // jshint ignore:line\n    polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2',\n    // jshint ignore:line\n    lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4',\n    // jshint ignore:line\n    lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4',\n    // jshint ignore:line\n    keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z',\n    // jshint ignore:line\n    clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' // jshint ignore:line\n\n  },\n  // `rect`, `polygon`, `lineX`, `lineY`, `keep`, `clear`\n  title: zrUtil.clone(brushLang.title)\n};\nvar proto = Brush.prototype;\n\nproto.render = proto.updateView = proto.updateLayout = function (featureModel, ecModel, api) {\n  var brushType;\n  var brushMode;\n  var isBrushed;\n  ecModel.eachComponent({\n    mainType: 'brush'\n  }, function (brushModel) {\n    brushType = brushModel.brushType;\n    brushMode = brushModel.brushOption.brushMode || 'single';\n    isBrushed |= brushModel.areas.length;\n  });\n  this._brushType = brushType;\n  this._brushMode = brushMode;\n  zrUtil.each(featureModel.get('type', true), function (type) {\n    featureModel.setIconStatus(type, (type === 'keep' ? brushMode === 'multiple' : type === 'clear' ? isBrushed : type === brushType) ? 'emphasis' : 'normal');\n  });\n};\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon', true);\n  var icons = {};\n  zrUtil.each(model.get('type', true), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nproto.onclick = function (ecModel, api, type) {\n  var brushType = this._brushType;\n  var brushMode = this._brushMode;\n\n  if (type === 'clear') {\n    // Trigger parallel action firstly\n    api.dispatchAction({\n      type: 'axisAreaSelect',\n      intervals: []\n    });\n    api.dispatchAction({\n      type: 'brush',\n      command: 'clear',\n      // Clear all areas of all brush components.\n      areas: []\n    });\n  } else {\n    api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'brush',\n      brushOption: {\n        brushType: type === 'keep' ? brushType : brushType === type ? false : type,\n        brushMode: type === 'keep' ? brushMode === 'multiple' ? 'single' : 'multiple' : brushMode\n      }\n    });\n  }\n};\n\nfeatureManager.register('brush', Brush);\nvar _default = Brush;\nmodule.exports = _default;","var echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar dataViewLang = lang.toolbox.dataView;\nvar BLOCK_SPLITER = new Array(60).join('-');\nvar ITEM_SPLITER = '\\t';\n/**\n * Group series into two types\n *  1. on category axis, like line, bar\n *  2. others, like scatter, pie\n * @param {module:echarts/model/Global} ecModel\n * @return {Object}\n * @inner\n */\n\nfunction groupSeries(ecModel) {\n  var seriesGroupByCategoryAxis = {};\n  var otherSeries = [];\n  var meta = [];\n  ecModel.eachRawSeries(function (seriesModel) {\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && (coordSys.type === 'cartesian2d' || coordSys.type === 'polar')) {\n      var baseAxis = coordSys.getBaseAxis();\n\n      if (baseAxis.type === 'category') {\n        var key = baseAxis.dim + '_' + baseAxis.index;\n\n        if (!seriesGroupByCategoryAxis[key]) {\n          seriesGroupByCategoryAxis[key] = {\n            categoryAxis: baseAxis,\n            valueAxis: coordSys.getOtherAxis(baseAxis),\n            series: []\n          };\n          meta.push({\n            axisDim: baseAxis.dim,\n            axisIndex: baseAxis.index\n          });\n        }\n\n        seriesGroupByCategoryAxis[key].series.push(seriesModel);\n      } else {\n        otherSeries.push(seriesModel);\n      }\n    } else {\n      otherSeries.push(seriesModel);\n    }\n  });\n  return {\n    seriesGroupByCategoryAxis: seriesGroupByCategoryAxis,\n    other: otherSeries,\n    meta: meta\n  };\n}\n/**\n * Assemble content of series on cateogory axis\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleSeriesWithCategoryAxis(series) {\n  var tables = [];\n  zrUtil.each(series, function (group, key) {\n    var categoryAxis = group.categoryAxis;\n    var valueAxis = group.valueAxis;\n    var valueAxisDim = valueAxis.dim;\n    var headers = [' '].concat(zrUtil.map(group.series, function (series) {\n      return series.name;\n    }));\n    var columns = [categoryAxis.model.getCategories()];\n    zrUtil.each(group.series, function (series) {\n      columns.push(series.getRawData().mapArray(valueAxisDim, function (val) {\n        return val;\n      }));\n    }); // Assemble table content\n\n    var lines = [headers.join(ITEM_SPLITER)];\n\n    for (var i = 0; i < columns[0].length; i++) {\n      var items = [];\n\n      for (var j = 0; j < columns.length; j++) {\n        items.push(columns[j][i]);\n      }\n\n      lines.push(items.join(ITEM_SPLITER));\n    }\n\n    tables.push(lines.join('\\n'));\n  });\n  return tables.join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * Assemble content of other series\n * @param {Array.<module:echarts/model/Series>} series\n * @return {string}\n * @inner\n */\n\n\nfunction assembleOtherSeries(series) {\n  return zrUtil.map(series, function (series) {\n    var data = series.getRawData();\n    var lines = [series.name];\n    var vals = [];\n    data.each(data.dimensions, function () {\n      var argLen = arguments.length;\n      var dataIndex = arguments[argLen - 1];\n      var name = data.getName(dataIndex);\n\n      for (var i = 0; i < argLen - 1; i++) {\n        vals[i] = arguments[i];\n      }\n\n      lines.push((name ? name + ITEM_SPLITER : '') + vals.join(ITEM_SPLITER));\n    });\n    return lines.join('\\n');\n  }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n');\n}\n/**\n * @param {module:echarts/model/Global}\n * @return {Object}\n * @inner\n */\n\n\nfunction getContentFromModel(ecModel) {\n  var result = groupSeries(ecModel);\n  return {\n    value: zrUtil.filter([assembleSeriesWithCategoryAxis(result.seriesGroupByCategoryAxis), assembleOtherSeries(result.other)], function (str) {\n      return str.replace(/[\\n\\t\\s]/g, '');\n    }).join('\\n\\n' + BLOCK_SPLITER + '\\n\\n'),\n    meta: result.meta\n  };\n}\n\nfunction trim(str) {\n  return str.replace(/^\\s\\s*/, '').replace(/\\s\\s*$/, '');\n}\n/**\n * If a block is tsv format\n */\n\n\nfunction isTSVFormat(block) {\n  // Simple method to find out if a block is tsv format\n  var firstLine = block.slice(0, block.indexOf('\\n'));\n\n  if (firstLine.indexOf(ITEM_SPLITER) >= 0) {\n    return true;\n  }\n}\n\nvar itemSplitRegex = new RegExp('[' + ITEM_SPLITER + ']+', 'g');\n/**\n * @param {string} tsv\n * @return {Object}\n */\n\nfunction parseTSVContents(tsv) {\n  var tsvLines = tsv.split(/\\n+/g);\n  var headers = trim(tsvLines.shift()).split(itemSplitRegex);\n  var categories = [];\n  var series = zrUtil.map(headers, function (header) {\n    return {\n      name: header,\n      data: []\n    };\n  });\n\n  for (var i = 0; i < tsvLines.length; i++) {\n    var items = trim(tsvLines[i]).split(itemSplitRegex);\n    categories.push(items.shift());\n\n    for (var j = 0; j < items.length; j++) {\n      series[j] && (series[j].data[i] = items[j]);\n    }\n  }\n\n  return {\n    series: series,\n    categories: categories\n  };\n}\n/**\n * @param {string} str\n * @return {Array.<Object>}\n * @inner\n */\n\n\nfunction parseListContents(str) {\n  var lines = str.split(/\\n+/g);\n  var seriesName = trim(lines.shift());\n  var data = [];\n\n  for (var i = 0; i < lines.length; i++) {\n    var items = trim(lines[i]).split(itemSplitRegex);\n    var name = '';\n    var value;\n    var hasName = false;\n\n    if (isNaN(items[0])) {\n      // First item is name\n      hasName = true;\n      name = items[0];\n      items = items.slice(1);\n      data[i] = {\n        name: name,\n        value: []\n      };\n      value = data[i].value;\n    } else {\n      value = data[i] = [];\n    }\n\n    for (var j = 0; j < items.length; j++) {\n      value.push(+items[j]);\n    }\n\n    if (value.length === 1) {\n      hasName ? data[i].value = value[0] : data[i] = value[0];\n    }\n  }\n\n  return {\n    name: seriesName,\n    data: data\n  };\n}\n/**\n * @param {string} str\n * @param {Array.<Object>} blockMetaList\n * @return {Object}\n * @inner\n */\n\n\nfunction parseContents(str, blockMetaList) {\n  var blocks = str.split(new RegExp('\\n*' + BLOCK_SPLITER + '\\n*', 'g'));\n  var newOption = {\n    series: []\n  };\n  zrUtil.each(blocks, function (block, idx) {\n    if (isTSVFormat(block)) {\n      var result = parseTSVContents(block);\n      var blockMeta = blockMetaList[idx];\n      var axisKey = blockMeta.axisDim + 'Axis';\n\n      if (blockMeta) {\n        newOption[axisKey] = newOption[axisKey] || [];\n        newOption[axisKey][blockMeta.axisIndex] = {\n          data: result.categories\n        };\n        newOption.series = newOption.series.concat(result.series);\n      }\n    } else {\n      var result = parseListContents(block);\n      newOption.series.push(result);\n    }\n  });\n  return newOption;\n}\n/**\n * @alias {module:echarts/component/toolbox/feature/DataView}\n * @constructor\n * @param {module:echarts/model/Model} model\n */\n\n\nfunction DataView(model) {\n  this._dom = null;\n  this.model = model;\n}\n\nDataView.defaultOption = {\n  show: true,\n  readOnly: false,\n  optionToContent: null,\n  contentToOption: null,\n  icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28',\n  title: zrUtil.clone(dataViewLang.title),\n  lang: zrUtil.clone(dataViewLang.lang),\n  backgroundColor: '#fff',\n  textColor: '#000',\n  textareaColor: '#fff',\n  textareaBorderColor: '#333',\n  buttonColor: '#c23531',\n  buttonTextColor: '#fff'\n};\n\nDataView.prototype.onclick = function (ecModel, api) {\n  var container = api.getDom();\n  var model = this.model;\n\n  if (this._dom) {\n    container.removeChild(this._dom);\n  }\n\n  var root = document.createElement('div');\n  root.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;';\n  root.style.backgroundColor = model.get('backgroundColor') || '#fff'; // Create elements\n\n  var header = document.createElement('h4');\n  var lang = model.get('lang') || [];\n  header.innerHTML = lang[0] || model.get('title');\n  header.style.cssText = 'margin: 10px 20px;';\n  header.style.color = model.get('textColor');\n  var viewMain = document.createElement('div');\n  var textarea = document.createElement('textarea');\n  viewMain.style.cssText = 'display:block;width:100%;overflow:auto;';\n  var optionToContent = model.get('optionToContent');\n  var contentToOption = model.get('contentToOption');\n  var result = getContentFromModel(ecModel);\n\n  if (typeof optionToContent === 'function') {\n    var htmlOrDom = optionToContent(api.getOption());\n\n    if (typeof htmlOrDom === 'string') {\n      viewMain.innerHTML = htmlOrDom;\n    } else if (zrUtil.isDom(htmlOrDom)) {\n      viewMain.appendChild(htmlOrDom);\n    }\n  } else {\n    // Use default textarea\n    viewMain.appendChild(textarea);\n    textarea.readOnly = model.get('readOnly');\n    textarea.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;';\n    textarea.style.color = model.get('textColor');\n    textarea.style.borderColor = model.get('textareaBorderColor');\n    textarea.style.backgroundColor = model.get('textareaColor');\n    textarea.value = result.value;\n  }\n\n  var blockMetaList = result.meta;\n  var buttonContainer = document.createElement('div');\n  buttonContainer.style.cssText = 'position:absolute;bottom:0;left:0;right:0;';\n  var buttonStyle = 'float:right;margin-right:20px;border:none;' + 'cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px';\n  var closeButton = document.createElement('div');\n  var refreshButton = document.createElement('div');\n  buttonStyle += ';background-color:' + model.get('buttonColor');\n  buttonStyle += ';color:' + model.get('buttonTextColor');\n  var self = this;\n\n  function close() {\n    container.removeChild(root);\n    self._dom = null;\n  }\n\n  eventTool.addEventListener(closeButton, 'click', close);\n  eventTool.addEventListener(refreshButton, 'click', function () {\n    var newOption;\n\n    try {\n      if (typeof contentToOption === 'function') {\n        newOption = contentToOption(viewMain, api.getOption());\n      } else {\n        newOption = parseContents(textarea.value, blockMetaList);\n      }\n    } catch (e) {\n      close();\n      throw new Error('Data view format error ' + e);\n    }\n\n    if (newOption) {\n      api.dispatchAction({\n        type: 'changeDataView',\n        newOption: newOption\n      });\n    }\n\n    close();\n  });\n  closeButton.innerHTML = lang[1];\n  refreshButton.innerHTML = lang[2];\n  refreshButton.style.cssText = buttonStyle;\n  closeButton.style.cssText = buttonStyle;\n  !model.get('readOnly') && buttonContainer.appendChild(refreshButton);\n  buttonContainer.appendChild(closeButton); // http://stackoverflow.com/questions/6637341/use-tab-to-indent-in-textarea\n\n  eventTool.addEventListener(textarea, 'keydown', function (e) {\n    if ((e.keyCode || e.which) === 9) {\n      // get caret position/selection\n      var val = this.value;\n      var start = this.selectionStart;\n      var end = this.selectionEnd; // set textarea value to: text before caret + tab + text after caret\n\n      this.value = val.substring(0, start) + ITEM_SPLITER + val.substring(end); // put caret at right position again\n\n      this.selectionStart = this.selectionEnd = start + 1; // prevent the focus lose\n\n      eventTool.stop(e);\n    }\n  });\n  root.appendChild(header);\n  root.appendChild(viewMain);\n  root.appendChild(buttonContainer);\n  viewMain.style.height = container.clientHeight - 80 + 'px';\n  container.appendChild(root);\n  this._dom = root;\n};\n\nDataView.prototype.remove = function (ecModel, api) {\n  this._dom && api.getDom().removeChild(this._dom);\n};\n\nDataView.prototype.dispose = function (ecModel, api) {\n  this.remove(ecModel, api);\n};\n/**\n * @inner\n */\n\n\nfunction tryMergeDataOption(newData, originalData) {\n  return zrUtil.map(newData, function (newVal, idx) {\n    var original = originalData && originalData[idx];\n\n    if (zrUtil.isObject(original) && !zrUtil.isArray(original)) {\n      if (zrUtil.isObject(newVal) && !zrUtil.isArray(newVal)) {\n        newVal = newVal.value;\n      } // Original data has option\n\n\n      return zrUtil.defaults({\n        value: newVal\n      }, original);\n    } else {\n      return newVal;\n    }\n  });\n}\n\nfeatureManager.register('dataView', DataView);\necharts.registerAction({\n  type: 'changeDataView',\n  event: 'dataViewChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  var newSeriesOptList = [];\n  zrUtil.each(payload.newOption.series, function (seriesOpt) {\n    var seriesModel = ecModel.getSeriesByName(seriesOpt.name)[0];\n\n    if (!seriesModel) {\n      // New created series\n      // Geuss the series type\n      newSeriesOptList.push(zrUtil.extend({\n        // Default is scatter\n        type: 'scatter'\n      }, seriesOpt));\n    } else {\n      var originalData = seriesModel.get('data');\n      newSeriesOptList.push({\n        name: seriesOpt.name,\n        data: tryMergeDataOption(seriesOpt.data, originalData)\n      });\n    }\n  });\n  ecModel.mergeOption(zrUtil.defaults({\n    series: newSeriesOptList\n  }, payload.newOption));\n});\nvar _default = DataView;\nmodule.exports = _default;","var echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BrushController = require(\"../../helper/BrushController\");\n\nvar BrushTargetManager = require(\"../../helper/BrushTargetManager\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar sliderMove = require(\"../../helper/sliderMove\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nrequire(\"../../dataZoomSelect\");\n\n// Use dataZoomSelect\nvar dataZoomLang = lang.toolbox.dataZoom;\nvar each = zrUtil.each; // Spectial component id start with \\0ec\\0, see echarts/model/Global.js~hasInnerId\n\nvar DATA_ZOOM_ID_BASE = '\\0_ec_\\0toolbox-dataZoom_';\n\nfunction DataZoom(model, ecModel, api) {\n  /**\n   * @private\n   * @type {module:echarts/component/helper/BrushController}\n   */\n  (this._brushController = new BrushController(api.getZr())).on('brush', zrUtil.bind(this._onBrush, this)).mount();\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._isZoomActive;\n}\n\nDataZoom.defaultOption = {\n  show: true,\n  // Icon group\n  icon: {\n    zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1',\n    back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26'\n  },\n  // `zoom`, `back`\n  title: zrUtil.clone(dataZoomLang.title)\n};\nvar proto = DataZoom.prototype;\n\nproto.render = function (featureModel, ecModel, api, payload) {\n  this.model = featureModel;\n  this.ecModel = ecModel;\n  this.api = api;\n  updateZoomBtnStatus(featureModel, ecModel, this, payload, api);\n  updateBackBtnStatus(featureModel, ecModel);\n};\n\nproto.onclick = function (ecModel, api, type) {\n  handlers[type].call(this);\n};\n\nproto.remove = function (ecModel, api) {\n  this._brushController.unmount();\n};\n\nproto.dispose = function (ecModel, api) {\n  this._brushController.dispose();\n};\n/**\n * @private\n */\n\n\nvar handlers = {\n  zoom: function () {\n    var nextActive = !this._isZoomActive;\n    this.api.dispatchAction({\n      type: 'takeGlobalCursor',\n      key: 'dataZoomSelect',\n      dataZoomSelectActive: nextActive\n    });\n  },\n  back: function () {\n    this._dispatchZoomAction(history.pop(this.ecModel));\n  }\n};\n/**\n * @private\n */\n\nproto._onBrush = function (areas, opt) {\n  if (!opt.isEnd || !areas.length) {\n    return;\n  }\n\n  var snapshot = {};\n  var ecModel = this.ecModel;\n\n  this._brushController.updateCovers([]); // remove cover\n\n\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(this.model.option), ecModel, {\n    include: ['grid']\n  });\n  brushTargetManager.matchOutputRanges(areas, ecModel, function (area, coordRange, coordSys) {\n    if (coordSys.type !== 'cartesian2d') {\n      return;\n    }\n\n    var brushType = area.brushType;\n\n    if (brushType === 'rect') {\n      setBatch('x', coordSys, coordRange[0]);\n      setBatch('y', coordSys, coordRange[1]);\n    } else {\n      setBatch({\n        lineX: 'x',\n        lineY: 'y'\n      }[brushType], coordSys, coordRange);\n    }\n  });\n  history.push(ecModel, snapshot);\n\n  this._dispatchZoomAction(snapshot);\n\n  function setBatch(dimName, coordSys, minMax) {\n    var axis = coordSys.getAxis(dimName);\n    var axisModel = axis.model;\n    var dataZoomModel = findDataZoom(dimName, axisModel, ecModel); // Restrict range.\n\n    var minMaxSpan = dataZoomModel.findRepresentativeAxisProxy(axisModel).getMinMaxSpan();\n\n    if (minMaxSpan.minValueSpan != null || minMaxSpan.maxValueSpan != null) {\n      minMax = sliderMove(0, minMax.slice(), axis.scale.getExtent(), 0, minMaxSpan.minValueSpan, minMaxSpan.maxValueSpan);\n    }\n\n    dataZoomModel && (snapshot[dataZoomModel.id] = {\n      dataZoomId: dataZoomModel.id,\n      startValue: minMax[0],\n      endValue: minMax[1]\n    });\n  }\n\n  function findDataZoom(dimName, axisModel, ecModel) {\n    var found;\n    ecModel.eachComponent({\n      mainType: 'dataZoom',\n      subType: 'select'\n    }, function (dzModel) {\n      var has = dzModel.getAxisModel(dimName, axisModel.componentIndex);\n      has && (found = dzModel);\n    });\n    return found;\n  }\n};\n/**\n * @private\n */\n\n\nproto._dispatchZoomAction = function (snapshot) {\n  var batch = []; // Convert from hash map to array.\n\n  each(snapshot, function (batchItem, dataZoomId) {\n    batch.push(zrUtil.clone(batchItem));\n  });\n  batch.length && this.api.dispatchAction({\n    type: 'dataZoom',\n    from: this.uid,\n    batch: batch\n  });\n};\n\nfunction retrieveAxisSetting(option) {\n  var setting = {}; // Compatible with previous setting: null => all axis, false => no axis.\n\n  zrUtil.each(['xAxisIndex', 'yAxisIndex'], function (name) {\n    setting[name] = option[name];\n    setting[name] == null && (setting[name] = 'all');\n    (setting[name] === false || setting[name] === 'none') && (setting[name] = []);\n  });\n  return setting;\n}\n\nfunction updateBackBtnStatus(featureModel, ecModel) {\n  featureModel.setIconStatus('back', history.count(ecModel) > 1 ? 'emphasis' : 'normal');\n}\n\nfunction updateZoomBtnStatus(featureModel, ecModel, view, payload, api) {\n  var zoomActive = view._isZoomActive;\n\n  if (payload && payload.type === 'takeGlobalCursor') {\n    zoomActive = payload.key === 'dataZoomSelect' ? payload.dataZoomSelectActive : false;\n  }\n\n  view._isZoomActive = zoomActive;\n  featureModel.setIconStatus('zoom', zoomActive ? 'emphasis' : 'normal');\n  var brushTargetManager = new BrushTargetManager(retrieveAxisSetting(featureModel.option), ecModel, {\n    include: ['grid']\n  });\n\n  view._brushController.setPanels(brushTargetManager.makePanelOpts(api, function (targetInfo) {\n    return targetInfo.xAxisDeclared && !targetInfo.yAxisDeclared ? 'lineX' : !targetInfo.xAxisDeclared && targetInfo.yAxisDeclared ? 'lineY' : 'rect';\n  })).enableBrush(zoomActive ? {\n    brushType: 'auto',\n    brushStyle: {\n      // FIXME user customized?\n      lineWidth: 0,\n      fill: 'rgba(0,0,0,0.2)'\n    }\n  } : false);\n}\n\nfeatureManager.register('dataZoom', DataZoom); // Create special dataZoom option for select\n\necharts.registerPreprocessor(function (option) {\n  if (!option) {\n    return;\n  }\n\n  var dataZoomOpts = option.dataZoom || (option.dataZoom = []);\n\n  if (!zrUtil.isArray(dataZoomOpts)) {\n    option.dataZoom = dataZoomOpts = [dataZoomOpts];\n  }\n\n  var toolboxOpt = option.toolbox;\n\n  if (toolboxOpt) {\n    // Assume there is only one toolbox\n    if (zrUtil.isArray(toolboxOpt)) {\n      toolboxOpt = toolboxOpt[0];\n    }\n\n    if (toolboxOpt && toolboxOpt.feature) {\n      var dataZoomOpt = toolboxOpt.feature.dataZoom;\n      addForAxis('xAxis', dataZoomOpt);\n      addForAxis('yAxis', dataZoomOpt);\n    }\n  }\n\n  function addForAxis(axisName, dataZoomOpt) {\n    if (!dataZoomOpt) {\n      return;\n    } // Try not to modify model, because it is not merged yet.\n\n\n    var axisIndicesName = axisName + 'Index';\n    var givenAxisIndices = dataZoomOpt[axisIndicesName];\n\n    if (givenAxisIndices != null && givenAxisIndices != 'all' && !zrUtil.isArray(givenAxisIndices)) {\n      givenAxisIndices = givenAxisIndices === false || givenAxisIndices === 'none' ? [] : [givenAxisIndices];\n    }\n\n    forEachComponent(axisName, function (axisOpt, axisIndex) {\n      if (givenAxisIndices != null && givenAxisIndices != 'all' && zrUtil.indexOf(givenAxisIndices, axisIndex) === -1) {\n        return;\n      }\n\n      var newOpt = {\n        type: 'select',\n        $fromToolbox: true,\n        // Id for merge mapping.\n        id: DATA_ZOOM_ID_BASE + axisName + axisIndex\n      }; // FIXME\n      // Only support one axis now.\n\n      newOpt[axisIndicesName] = axisIndex;\n      dataZoomOpts.push(newOpt);\n    });\n  }\n\n  function forEachComponent(mainType, cb) {\n    var opts = option[mainType];\n\n    if (!zrUtil.isArray(opts)) {\n      opts = opts ? [opts] : [];\n    }\n\n    each(opts, cb);\n  }\n});\nvar _default = DataZoom;\nmodule.exports = _default;","var echarts = require(\"../../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar magicTypeLang = lang.toolbox.magicType;\n\nfunction MagicType(model) {\n  this.model = model;\n}\n\nMagicType.defaultOption = {\n  show: true,\n  type: [],\n  // Icon group\n  icon: {\n    line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4',\n    bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7',\n    stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z',\n    // jshint ignore:line\n    tiled: 'M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z'\n  },\n  // `line`, `bar`, `stack`, `tiled`\n  title: zrUtil.clone(magicTypeLang.title),\n  option: {},\n  seriesIndex: {}\n};\nvar proto = MagicType.prototype;\n\nproto.getIcons = function () {\n  var model = this.model;\n  var availableIcons = model.get('icon');\n  var icons = {};\n  zrUtil.each(model.get('type'), function (type) {\n    if (availableIcons[type]) {\n      icons[type] = availableIcons[type];\n    }\n  });\n  return icons;\n};\n\nvar seriesOptGenreator = {\n  'line': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'line',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.line') || {}, true);\n    }\n  },\n  'bar': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line') {\n      return zrUtil.merge({\n        id: seriesId,\n        type: 'bar',\n        // Preserve data related option\n        data: seriesModel.get('data'),\n        stack: seriesModel.get('stack'),\n        markPoint: seriesModel.get('markPoint'),\n        markLine: seriesModel.get('markLine')\n      }, model.get('option.bar') || {}, true);\n    }\n  },\n  'stack': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line' || seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        stack: '__ec_magicType_stack__'\n      }, model.get('option.stack') || {}, true);\n    }\n  },\n  'tiled': function (seriesType, seriesId, seriesModel, model) {\n    if (seriesType === 'line' || seriesType === 'bar') {\n      return zrUtil.merge({\n        id: seriesId,\n        stack: ''\n      }, model.get('option.tiled') || {}, true);\n    }\n  }\n};\nvar radioTypes = [['line', 'bar'], ['stack', 'tiled']];\n\nproto.onclick = function (ecModel, api, type) {\n  var model = this.model;\n  var seriesIndex = model.get('seriesIndex.' + type); // Not supported magicType\n\n  if (!seriesOptGenreator[type]) {\n    return;\n  }\n\n  var newOption = {\n    series: []\n  };\n\n  var generateNewSeriesTypes = function (seriesModel) {\n    var seriesType = seriesModel.subType;\n    var seriesId = seriesModel.id;\n    var newSeriesOpt = seriesOptGenreator[type](seriesType, seriesId, seriesModel, model);\n\n    if (newSeriesOpt) {\n      // PENDING If merge original option?\n      zrUtil.defaults(newSeriesOpt, seriesModel.option);\n      newOption.series.push(newSeriesOpt);\n    } // Modify boundaryGap\n\n\n    var coordSys = seriesModel.coordinateSystem;\n\n    if (coordSys && coordSys.type === 'cartesian2d' && (type === 'line' || type === 'bar')) {\n      var categoryAxis = coordSys.getAxesByScale('ordinal')[0];\n\n      if (categoryAxis) {\n        var axisDim = categoryAxis.dim;\n        var axisType = axisDim + 'Axis';\n        var axisModel = ecModel.queryComponents({\n          mainType: axisType,\n          index: seriesModel.get(name + 'Index'),\n          id: seriesModel.get(name + 'Id')\n        })[0];\n        var axisIndex = axisModel.componentIndex;\n        newOption[axisType] = newOption[axisType] || [];\n\n        for (var i = 0; i <= axisIndex; i++) {\n          newOption[axisType][axisIndex] = newOption[axisType][axisIndex] || {};\n        }\n\n        newOption[axisType][axisIndex].boundaryGap = type === 'bar' ? true : false;\n      }\n    }\n  };\n\n  zrUtil.each(radioTypes, function (radio) {\n    if (zrUtil.indexOf(radio, type) >= 0) {\n      zrUtil.each(radio, function (item) {\n        model.setIconStatus(item, 'normal');\n      });\n    }\n  });\n  model.setIconStatus(type, 'emphasis');\n  ecModel.eachComponent({\n    mainType: 'series',\n    query: seriesIndex == null ? null : {\n      seriesIndex: seriesIndex\n    }\n  }, generateNewSeriesTypes);\n  api.dispatchAction({\n    type: 'changeMagicType',\n    currentType: type,\n    newOption: newOption\n  });\n};\n\necharts.registerAction({\n  type: 'changeMagicType',\n  event: 'magicTypeChanged',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.mergeOption(payload.newOption);\n});\nfeatureManager.register('magicType', MagicType);\nvar _default = MagicType;\nmodule.exports = _default;","var echarts = require(\"../../../echarts\");\n\nvar history = require(\"../../dataZoom/history\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar restoreLang = lang.toolbox.restore;\n\nfunction Restore(model) {\n  this.model = model;\n}\n\nRestore.defaultOption = {\n  show: true,\n  icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5',\n  title: restoreLang.title\n};\nvar proto = Restore.prototype;\n\nproto.onclick = function (ecModel, api, type) {\n  history.clear(ecModel);\n  api.dispatchAction({\n    type: 'restore',\n    from: this.uid\n  });\n};\n\nfeatureManager.register('restore', Restore);\necharts.registerAction({\n  type: 'restore',\n  event: 'restore',\n  update: 'prepareAndUpdate'\n}, function (payload, ecModel) {\n  ecModel.resetOption('recreate');\n});\nvar _default = Restore;\nmodule.exports = _default;","var env = require(\"zrender/lib/core/env\");\n\nvar lang = require(\"../../../lang\");\n\nvar featureManager = require(\"../featureManager\");\n\nvar saveAsImageLang = lang.toolbox.saveAsImage;\n\nfunction SaveAsImage(model) {\n  this.model = model;\n}\n\nSaveAsImage.defaultOption = {\n  show: true,\n  icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0',\n  title: saveAsImageLang.title,\n  type: 'png',\n  // Default use option.backgroundColor\n  // backgroundColor: '#fff',\n  name: '',\n  excludeComponents: ['toolbox'],\n  pixelRatio: 1,\n  lang: saveAsImageLang.lang.slice()\n};\nSaveAsImage.prototype.unusable = !env.canvasSupported;\nvar proto = SaveAsImage.prototype;\n\nproto.onclick = function (ecModel, api) {\n  var model = this.model;\n  var title = model.get('name') || ecModel.get('title.0.text') || 'echarts';\n  var $a = document.createElement('a');\n  var type = model.get('type', true) || 'png';\n  $a.download = title + '.' + type;\n  $a.target = '_blank';\n  var url = api.getConnectedDataURL({\n    type: type,\n    backgroundColor: model.get('backgroundColor', true) || ecModel.get('backgroundColor') || '#fff',\n    excludeComponents: model.get('excludeComponents'),\n    pixelRatio: model.get('pixelRatio')\n  });\n  $a.href = url; // Chrome and Firefox\n\n  if (typeof MouseEvent === 'function' && !env.browser.ie && !env.browser.edge) {\n    var evt = new MouseEvent('click', {\n      view: window,\n      bubbles: true,\n      cancelable: false\n    });\n    $a.dispatchEvent(evt);\n  } // IE\n  else {\n      if (window.navigator.msSaveOrOpenBlob) {\n        var bstr = atob(url.split(',')[1]);\n        var n = bstr.length;\n        var u8arr = new Uint8Array(n);\n\n        while (n--) {\n          u8arr[n] = bstr.charCodeAt(n);\n        }\n\n        var blob = new Blob([u8arr]);\n        window.navigator.msSaveOrOpenBlob(blob, title + '.' + type);\n      } else {\n        var lang = model.get('lang');\n        var html = '' + '<body style=\"margin:0;\">' + '<img src=\"' + url + '\" style=\"max-width:100%;\" title=\"' + (lang && lang[0] || '') + '\" />' + '</body>';\n        var tab = window.open();\n        tab.document.write(html);\n      }\n    }\n};\n\nfeatureManager.register('saveAsImage', SaveAsImage);\nvar _default = SaveAsImage;\nmodule.exports = _default;","require(\"./visualMapContinuous\");\n\nrequire(\"./visualMapPiecewise\");","var echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/ContinuousModel\");\n\nrequire(\"./visualMap/ContinuousView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","var echarts = require(\"../echarts\");\n\nvar preprocessor = require(\"./visualMap/preprocessor\");\n\nrequire(\"./visualMap/typeDefaulter\");\n\nrequire(\"./visualMap/visualEncoding\");\n\nrequire(\"./visualMap/PiecewiseModel\");\n\nrequire(\"./visualMap/PiecewiseView\");\n\nrequire(\"./visualMap/visualMapAction\");\n\n/**\n * DataZoom component entry\n */\necharts.registerPreprocessor(preprocessor);","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar numberUtil = require(\"../../util/number\");\n\n// Constant\nvar DEFAULT_BAR_BOUND = [20, 140];\nvar ContinuousModel = VisualMapModel.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    align: 'auto',\n    // 'auto', 'left', 'right', 'top', 'bottom'\n    calculable: false,\n    // This prop effect default component type determine,\n    // See echarts/component/visualMap/typeDefaulter.\n    range: null,\n    // selected range. In default case `range` is [min, max]\n    // and can auto change along with modification of min max,\n    // util use specifid a range.\n    realtime: true,\n    // Whether realtime update.\n    itemHeight: null,\n    // The length of the range control edge.\n    itemWidth: null,\n    // The length of the other side.\n    hoverLink: true,\n    // Enable hover highlight.\n    hoverLinkDataSize: null,\n    // The size of hovered data.\n    hoverLinkOnHandle: null // Whether trigger hoverLink when hover handle.\n    // If not specified, follow the value of `realtime`.\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    ContinuousModel.superApply(this, 'optionUpdated', arguments);\n    this.resetExtent();\n    this.resetVisual(function (mappingOption) {\n      mappingOption.mappingMethod = 'linear';\n      mappingOption.dataExtent = this.getExtent();\n    });\n\n    this._resetRange();\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  resetItemSize: function () {\n    ContinuousModel.superApply(this, 'resetItemSize', arguments);\n    var itemSize = this.itemSize;\n    this._orient === 'horizontal' && itemSize.reverse();\n    (itemSize[0] == null || isNaN(itemSize[0])) && (itemSize[0] = DEFAULT_BAR_BOUND[0]);\n    (itemSize[1] == null || isNaN(itemSize[1])) && (itemSize[1] = DEFAULT_BAR_BOUND[1]);\n  },\n\n  /**\n   * @private\n   */\n  _resetRange: function () {\n    var dataExtent = this.getExtent();\n    var range = this.option.range;\n\n    if (!range || range.auto) {\n      // `range` should always be array (so we dont use other\n      // value like 'auto') for user-friend. (consider getOption).\n      dataExtent.auto = 1;\n      this.option.range = dataExtent;\n    } else if (zrUtil.isArray(range)) {\n      if (range[0] > range[1]) {\n        range.reverse();\n      }\n\n      range[0] = Math.max(range[0], dataExtent[0]);\n      range[1] = Math.min(range[1], dataExtent[1]);\n    }\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n    zrUtil.each(this.stateList, function (state) {\n      var symbolSize = this.option.controller[state].symbolSize;\n\n      if (symbolSize && symbolSize[0] !== symbolSize[1]) {\n        symbolSize[0] = 0; // For good looking.\n      }\n    }, this);\n  },\n\n  /**\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.range = selected.slice();\n\n    this._resetRange();\n  },\n\n  /**\n   * @public\n   */\n  getSelected: function () {\n    var dataExtent = this.getExtent();\n    var dataInterval = numberUtil.asc((this.get('range') || []).slice()); // Clamp\n\n    dataInterval[0] > dataExtent[1] && (dataInterval[0] = dataExtent[1]);\n    dataInterval[1] > dataExtent[1] && (dataInterval[1] = dataExtent[1]);\n    dataInterval[0] < dataExtent[0] && (dataInterval[0] = dataExtent[0]);\n    dataInterval[1] < dataExtent[0] && (dataInterval[1] = dataExtent[0]);\n    return dataInterval;\n  },\n\n  /**\n   * @override\n   */\n  getValueState: function (value) {\n    var range = this.option.range;\n    var dataExtent = this.getExtent(); // When range[0] === dataExtent[0], any value larger than dataExtent[0] maps to 'inRange'.\n    // range[1] is processed likewise.\n\n    return (range[0] <= dataExtent[0] || range[0] <= value) && (range[1] >= dataExtent[1] || value <= range[1]) ? 'inRange' : 'outOfRange';\n  },\n\n  /**\n   * @params {Array.<number>} range target value: range[0] <= value && value <= range[1]\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (range) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        range[0] <= value && value <= range[1] && dataIndices.push(dataIndex);\n      }, true, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @implement\n   */\n  getVisualMeta: function (getColorVisual) {\n    var oVals = getColorStopValues(this, 'outOfRange', this.getExtent());\n    var iVals = getColorStopValues(this, 'inRange', this.option.range.slice());\n    var stops = [];\n\n    function setStop(value, valueState) {\n      stops.push({\n        value: value,\n        color: getColorVisual(value, valueState)\n      });\n    } // Format to: outOfRange -- inRange -- outOfRange.\n\n\n    var iIdx = 0;\n    var oIdx = 0;\n    var iLen = iVals.length;\n    var oLen = oVals.length;\n\n    for (; oIdx < oLen && (!iVals.length || oVals[oIdx] <= iVals[0]); oIdx++) {\n      // If oVal[oIdx] === iVals[iIdx], oVal[oIdx] should be ignored.\n      if (oVals[oIdx] < iVals[iIdx]) {\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    for (var first = 1; iIdx < iLen; iIdx++, first = 0) {\n      // If range is full, value beyond min, max will be clamped.\n      // make a singularity\n      first && stops.length && setStop(iVals[iIdx], 'outOfRange');\n      setStop(iVals[iIdx], 'inRange');\n    }\n\n    for (var first = 1; oIdx < oLen; oIdx++) {\n      if (!iVals.length || iVals[iVals.length - 1] < oVals[oIdx]) {\n        // make a singularity\n        if (first) {\n          stops.length && setStop(stops[stops.length - 1].value, 'outOfRange');\n          first = 0;\n        }\n\n        setStop(oVals[oIdx], 'outOfRange');\n      }\n    }\n\n    var stopsLen = stops.length;\n    return {\n      stops: stops,\n      outerColors: [stopsLen ? stops[0].color : 'transparent', stopsLen ? stops[stopsLen - 1].color : 'transparent']\n    };\n  }\n});\n\nfunction getColorStopValues(visualMapModel, valueState, dataExtent) {\n  if (dataExtent[0] === dataExtent[1]) {\n    return dataExtent.slice();\n  } // When using colorHue mapping, it is not linear color any more.\n  // Moreover, canvas gradient seems not to be accurate linear.\n  // FIXME\n  // Should be arbitrary value 100? or based on pixel size?\n\n\n  var count = 200;\n  var step = (dataExtent[1] - dataExtent[0]) / count;\n  var value = dataExtent[0];\n  var stopValues = [];\n\n  for (var i = 0; i <= count && value < dataExtent[1]; i++) {\n    stopValues.push(value);\n    value += step;\n  }\n\n  stopValues.push(dataExtent[1]);\n  return stopValues;\n}\n\nvar _default = ContinuousModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar LinearGradient = require(\"zrender/lib/graphic/LinearGradient\");\n\nvar eventTool = require(\"zrender/lib/core/event\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar sliderMove = require(\"../helper/sliderMove\");\n\nvar helper = require(\"./helper\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar linearMap = numberUtil.linearMap;\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max; // Arbitrary value\n\nvar HOVER_LINK_SIZE = 12;\nvar HOVER_LINK_OUT = 6; // Notice:\n// Any \"interval\" should be by the order of [low, high].\n// \"handle0\" (handleIndex === 0) maps to\n// low data value: this._dataInterval[0] and has low coord.\n// \"handle1\" (handleIndex === 1) maps to\n// high data value: this._dataInterval[1] and has high coord.\n// The logic of transform is implemented in this._createBarGroup.\n\nvar ContinuousView = VisualMapView.extend({\n  type: 'visualMap.continuous',\n\n  /**\n   * @override\n   */\n  init: function () {\n    ContinuousView.superApply(this, 'init', arguments);\n    /**\n     * @private\n     */\n\n    this._shapes = {};\n    /**\n     * @private\n     */\n\n    this._dataInterval = [];\n    /**\n     * @private\n     */\n\n    this._handleEnds = [];\n    /**\n     * @private\n     */\n\n    this._orient;\n    /**\n     * @private\n     */\n\n    this._useHandle;\n    /**\n     * @private\n     */\n\n    this._hoverLinkDataIndices = [];\n    /**\n     * @private\n     */\n\n    this._dragging;\n    /**\n     * @private\n     */\n\n    this._hovering;\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function (visualMapModel, ecModel, api, payload) {\n    if (!payload || payload.type !== 'selectDataRange' || payload.from !== this.uid) {\n      this._buildView();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _buildView: function () {\n    this.group.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var thisGroup = this.group;\n    this._orient = visualMapModel.get('orient');\n    this._useHandle = visualMapModel.get('calculable');\n\n    this._resetInterval();\n\n    this._renderBar(thisGroup);\n\n    var dataRangeText = visualMapModel.get('text');\n\n    this._renderEndsText(thisGroup, dataRangeText, 0);\n\n    this._renderEndsText(thisGroup, dataRangeText, 1); // Do this for background size calculation.\n\n\n    this._updateView(true); // After updating view, inner shapes is built completely,\n    // and then background can be rendered.\n\n\n    this.renderBackground(thisGroup); // Real update view\n\n    this._updateView();\n\n    this._enableHoverLinkToSeries();\n\n    this._enableHoverLinkFromSeries();\n\n    this.positionGroup(thisGroup);\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, dataRangeText, endsIndex) {\n    if (!dataRangeText) {\n      return;\n    } // Compatible with ec2, text[0] map to high value, text[1] map low value.\n\n\n    var text = dataRangeText[1 - endsIndex];\n    text = text != null ? text + '' : '';\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var itemSize = visualMapModel.itemSize;\n    var barGroup = this._shapes.barGroup;\n\n    var position = this._applyTransform([itemSize[0] / 2, endsIndex === 0 ? -textGap : itemSize[1] + textGap], barGroup);\n\n    var align = this._applyTransform(endsIndex === 0 ? 'bottom' : 'top', barGroup);\n\n    var orient = this._orient;\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    this.group.add(new graphic.Text({\n      style: {\n        x: position[0],\n        y: position[1],\n        textVerticalAlign: orient === 'horizontal' ? 'middle' : align,\n        textAlign: orient === 'horizontal' ? align : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n  },\n\n  /**\n   * @private\n   */\n  _renderBar: function (targetGroup) {\n    var visualMapModel = this.visualMapModel;\n    var shapes = this._shapes;\n    var itemSize = visualMapModel.itemSize;\n    var orient = this._orient;\n    var useHandle = this._useHandle;\n    var itemAlign = helper.getItemAlign(visualMapModel, this.api, itemSize);\n\n    var barGroup = shapes.barGroup = this._createBarGroup(itemAlign); // Bar\n\n\n    barGroup.add(shapes.outOfRange = createPolygon());\n    barGroup.add(shapes.inRange = createPolygon(null, useHandle ? getCursor(this._orient) : null, zrUtil.bind(this._dragHandle, this, 'all', false), zrUtil.bind(this._dragHandle, this, 'all', true)));\n    var textRect = visualMapModel.textStyleModel.getTextRect('国');\n    var textSize = mathMax(textRect.width, textRect.height); // Handle\n\n    if (useHandle) {\n      shapes.handleThumbs = [];\n      shapes.handleLabels = [];\n      shapes.handleLabelPoints = [];\n\n      this._createHandle(barGroup, 0, itemSize, textSize, orient, itemAlign);\n\n      this._createHandle(barGroup, 1, itemSize, textSize, orient, itemAlign);\n    }\n\n    this._createIndicator(barGroup, itemSize, textSize, orient);\n\n    targetGroup.add(barGroup);\n  },\n\n  /**\n   * @private\n   */\n  _createHandle: function (barGroup, handleIndex, itemSize, textSize, orient) {\n    var onDrift = zrUtil.bind(this._dragHandle, this, handleIndex, false);\n    var onDragEnd = zrUtil.bind(this._dragHandle, this, handleIndex, true);\n    var handleThumb = createPolygon(createHandlePoints(handleIndex, textSize), getCursor(this._orient), onDrift, onDragEnd);\n    handleThumb.position[0] = itemSize[0];\n    barGroup.add(handleThumb); // Text is always horizontal layout but should not be effected by\n    // transform (orient/inverse). So label is built separately but not\n    // use zrender/graphic/helper/RectText, and is located based on view\n    // group (according to handleLabelPoint) but not barGroup.\n\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var handleLabel = new graphic.Text({\n      draggable: true,\n      drift: onDrift,\n      onmousemove: function (e) {\n        // Fot mobile devicem, prevent screen slider on the button.\n        eventTool.stop(e.event);\n      },\n      ondragend: onDragEnd,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(handleLabel);\n    var handleLabelPoint = [orient === 'horizontal' ? textSize / 2 : textSize * 1.5, orient === 'horizontal' ? handleIndex === 0 ? -(textSize * 1.5) : textSize * 1.5 : handleIndex === 0 ? -textSize / 2 : textSize / 2];\n    var shapes = this._shapes;\n    shapes.handleThumbs[handleIndex] = handleThumb;\n    shapes.handleLabelPoints[handleIndex] = handleLabelPoint;\n    shapes.handleLabels[handleIndex] = handleLabel;\n  },\n\n  /**\n   * @private\n   */\n  _createIndicator: function (barGroup, itemSize, textSize, orient) {\n    var indicator = createPolygon([[0, 0]], 'move');\n    indicator.position[0] = itemSize[0];\n    indicator.attr({\n      invisible: true,\n      silent: true\n    });\n    barGroup.add(indicator);\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    var indicatorLabel = new graphic.Text({\n      silent: true,\n      invisible: true,\n      style: {\n        x: 0,\n        y: 0,\n        text: '',\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    });\n    this.group.add(indicatorLabel);\n    var indicatorLabelPoint = [orient === 'horizontal' ? textSize / 2 : HOVER_LINK_OUT + 3, 0];\n    var shapes = this._shapes;\n    shapes.indicator = indicator;\n    shapes.indicatorLabel = indicatorLabel;\n    shapes.indicatorLabelPoint = indicatorLabelPoint;\n  },\n\n  /**\n   * @private\n   */\n  _dragHandle: function (handleIndex, isEnd, dx, dy) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    this._dragging = !isEnd;\n\n    if (!isEnd) {\n      // Transform dx, dy to bar coordination.\n      var vertex = this._applyTransform([dx, dy], this._shapes.barGroup, true);\n\n      this._updateInterval(handleIndex, vertex[1]); // Considering realtime, update view should be executed\n      // before dispatch action.\n\n\n      this._updateView();\n    } // dragEnd do not dispatch action when realtime.\n\n\n    if (isEnd === !this.visualMapModel.get('realtime')) {\n      // jshint ignore:line\n      this.api.dispatchAction({\n        type: 'selectDataRange',\n        from: this.uid,\n        visualMapId: this.visualMapModel.id,\n        selected: this._dataInterval.slice()\n      });\n    }\n\n    if (isEnd) {\n      !this._hovering && this._clearHoverLinkToSeries();\n    } else if (useHoverLinkOnHandle(this.visualMapModel)) {\n      this._doHoverLinkToSeries(this._handleEnds[handleIndex], false);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _resetInterval: function () {\n    var visualMapModel = this.visualMapModel;\n    var dataInterval = this._dataInterval = visualMapModel.getSelected();\n    var dataExtent = visualMapModel.getExtent();\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    this._handleEnds = [linearMap(dataInterval[0], dataExtent, sizeExtent, true), linearMap(dataInterval[1], dataExtent, sizeExtent, true)];\n  },\n\n  /**\n   * @private\n   * @param {(number|string)} handleIndex 0 or 1 or 'all'\n   * @param {number} dx\n   * @param {number} dy\n   */\n  _updateInterval: function (handleIndex, delta) {\n    delta = delta || 0;\n    var visualMapModel = this.visualMapModel;\n    var handleEnds = this._handleEnds;\n    var sizeExtent = [0, visualMapModel.itemSize[1]];\n    sliderMove(delta, handleEnds, sizeExtent, handleIndex, // cross is forbiden\n    0);\n    var dataExtent = visualMapModel.getExtent(); // Update data interval.\n\n    this._dataInterval = [linearMap(handleEnds[0], sizeExtent, dataExtent, true), linearMap(handleEnds[1], sizeExtent, dataExtent, true)];\n  },\n\n  /**\n   * @private\n   */\n  _updateView: function (forSketch) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var shapes = this._shapes;\n    var outOfRangeHandleEnds = [0, visualMapModel.itemSize[1]];\n    var inRangeHandleEnds = forSketch ? outOfRangeHandleEnds : this._handleEnds;\n\n    var visualInRange = this._createBarVisual(this._dataInterval, dataExtent, inRangeHandleEnds, 'inRange');\n\n    var visualOutOfRange = this._createBarVisual(dataExtent, dataExtent, outOfRangeHandleEnds, 'outOfRange');\n\n    shapes.inRange.setStyle({\n      fill: visualInRange.barColor,\n      opacity: visualInRange.opacity\n    }).setShape('points', visualInRange.barPoints);\n    shapes.outOfRange.setStyle({\n      fill: visualOutOfRange.barColor,\n      opacity: visualOutOfRange.opacity\n    }).setShape('points', visualOutOfRange.barPoints);\n\n    this._updateHandle(inRangeHandleEnds, visualInRange);\n  },\n\n  /**\n   * @private\n   */\n  _createBarVisual: function (dataInterval, dataExtent, handleEnds, forceState) {\n    var opts = {\n      forceState: forceState,\n      convertOpacityToAlpha: true\n    };\n\n    var colorStops = this._makeColorGradient(dataInterval, opts);\n\n    var symbolSizes = [this.getControllerVisual(dataInterval[0], 'symbolSize', opts), this.getControllerVisual(dataInterval[1], 'symbolSize', opts)];\n\n    var barPoints = this._createBarPoints(handleEnds, symbolSizes);\n\n    return {\n      barColor: new LinearGradient(0, 0, 0, 1, colorStops),\n      barPoints: barPoints,\n      handlesColor: [colorStops[0].color, colorStops[colorStops.length - 1].color]\n    };\n  },\n\n  /**\n   * @private\n   */\n  _makeColorGradient: function (dataInterval, opts) {\n    // Considering colorHue, which is not linear, so we have to sample\n    // to calculate gradient color stops, but not only caculate head\n    // and tail.\n    var sampleNumber = 100; // Arbitrary value.\n\n    var colorStops = [];\n    var step = (dataInterval[1] - dataInterval[0]) / sampleNumber;\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[0], 'color', opts),\n      offset: 0\n    });\n\n    for (var i = 1; i < sampleNumber; i++) {\n      var currValue = dataInterval[0] + step * i;\n\n      if (currValue > dataInterval[1]) {\n        break;\n      }\n\n      colorStops.push({\n        color: this.getControllerVisual(currValue, 'color', opts),\n        offset: i / sampleNumber\n      });\n    }\n\n    colorStops.push({\n      color: this.getControllerVisual(dataInterval[1], 'color', opts),\n      offset: 1\n    });\n    return colorStops;\n  },\n\n  /**\n   * @private\n   */\n  _createBarPoints: function (handleEnds, symbolSizes) {\n    var itemSize = this.visualMapModel.itemSize;\n    return [[itemSize[0] - symbolSizes[0], handleEnds[0]], [itemSize[0], handleEnds[0]], [itemSize[0], handleEnds[1]], [itemSize[0] - symbolSizes[1], handleEnds[1]]];\n  },\n\n  /**\n   * @private\n   */\n  _createBarGroup: function (itemAlign) {\n    var orient = this._orient;\n    var inverse = this.visualMapModel.get('inverse');\n    return new graphic.Group(orient === 'horizontal' && !inverse ? {\n      scale: itemAlign === 'bottom' ? [1, 1] : [-1, 1],\n      rotation: Math.PI / 2\n    } : orient === 'horizontal' && inverse ? {\n      scale: itemAlign === 'bottom' ? [-1, 1] : [1, 1],\n      rotation: -Math.PI / 2\n    } : orient === 'vertical' && !inverse ? {\n      scale: itemAlign === 'left' ? [1, -1] : [-1, -1]\n    } : {\n      scale: itemAlign === 'left' ? [1, 1] : [-1, 1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _updateHandle: function (handleEnds, visualInRange) {\n    if (!this._useHandle) {\n      return;\n    }\n\n    var shapes = this._shapes;\n    var visualMapModel = this.visualMapModel;\n    var handleThumbs = shapes.handleThumbs;\n    var handleLabels = shapes.handleLabels;\n    each([0, 1], function (handleIndex) {\n      var handleThumb = handleThumbs[handleIndex];\n      handleThumb.setStyle('fill', visualInRange.handlesColor[handleIndex]);\n      handleThumb.position[1] = handleEnds[handleIndex]; // Update handle label position.\n\n      var textPoint = graphic.applyTransform(shapes.handleLabelPoints[handleIndex], graphic.getTransform(handleThumb, this.group));\n      handleLabels[handleIndex].setStyle({\n        x: textPoint[0],\n        y: textPoint[1],\n        text: visualMapModel.formatValueText(this._dataInterval[handleIndex]),\n        textVerticalAlign: 'middle',\n        textAlign: this._applyTransform(this._orient === 'horizontal' ? handleIndex === 0 ? 'bottom' : 'top' : 'left', shapes.barGroup)\n      });\n    }, this);\n  },\n\n  /**\n   * @private\n   * @param {number} cursorValue\n   * @param {number} textValue\n   * @param {string} [rangeSymbol]\n   * @param {number} [halfHoverLinkSize]\n   */\n  _showIndicator: function (cursorValue, textValue, rangeSymbol, halfHoverLinkSize) {\n    var visualMapModel = this.visualMapModel;\n    var dataExtent = visualMapModel.getExtent();\n    var itemSize = visualMapModel.itemSize;\n    var sizeExtent = [0, itemSize[1]];\n    var pos = linearMap(cursorValue, dataExtent, sizeExtent, true);\n    var shapes = this._shapes;\n    var indicator = shapes.indicator;\n\n    if (!indicator) {\n      return;\n    }\n\n    indicator.position[1] = pos;\n    indicator.attr('invisible', false);\n    indicator.setShape('points', createIndicatorPoints(!!rangeSymbol, halfHoverLinkSize, pos, itemSize[1]));\n    var opts = {\n      convertOpacityToAlpha: true\n    };\n    var color = this.getControllerVisual(cursorValue, 'color', opts);\n    indicator.setStyle('fill', color); // Update handle label position.\n\n    var textPoint = graphic.applyTransform(shapes.indicatorLabelPoint, graphic.getTransform(indicator, this.group));\n    var indicatorLabel = shapes.indicatorLabel;\n    indicatorLabel.attr('invisible', false);\n\n    var align = this._applyTransform('left', shapes.barGroup);\n\n    var orient = this._orient;\n    indicatorLabel.setStyle({\n      text: (rangeSymbol ? rangeSymbol : '') + visualMapModel.formatValueText(textValue),\n      textVerticalAlign: orient === 'horizontal' ? align : 'middle',\n      textAlign: orient === 'horizontal' ? 'center' : align,\n      x: textPoint[0],\n      y: textPoint[1]\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkToSeries: function () {\n    var self = this;\n\n    this._shapes.barGroup.on('mousemove', function (e) {\n      self._hovering = true;\n\n      if (!self._dragging) {\n        var itemSize = self.visualMapModel.itemSize;\n\n        var pos = self._applyTransform([e.offsetX, e.offsetY], self._shapes.barGroup, true, true); // For hover link show when hover handle, which might be\n        // below or upper than sizeExtent.\n\n\n        pos[1] = mathMin(mathMax(0, pos[1]), itemSize[1]);\n\n        self._doHoverLinkToSeries(pos[1], 0 <= pos[0] && pos[0] <= itemSize[0]);\n      }\n    }).on('mouseout', function () {\n      // When mouse is out of handle, hoverLink still need\n      // to be displayed when realtime is set as false.\n      self._hovering = false;\n      !self._dragging && self._clearHoverLinkToSeries();\n    });\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLinkFromSeries: function () {\n    var zr = this.api.getZr();\n\n    if (this.visualMapModel.option.hoverLink) {\n      zr.on('mouseover', this._hoverLinkFromSeriesMouseOver, this);\n      zr.on('mouseout', this._hideIndicator, this);\n    } else {\n      this._clearHoverLinkFromSeries();\n    }\n  },\n\n  /**\n   * @private\n   */\n  _doHoverLinkToSeries: function (cursorPos, hoverOnBar) {\n    var visualMapModel = this.visualMapModel;\n    var itemSize = visualMapModel.itemSize;\n\n    if (!visualMapModel.option.hoverLink) {\n      return;\n    }\n\n    var sizeExtent = [0, itemSize[1]];\n    var dataExtent = visualMapModel.getExtent(); // For hover link show when hover handle, which might be below or upper than sizeExtent.\n\n    cursorPos = mathMin(mathMax(sizeExtent[0], cursorPos), sizeExtent[1]);\n    var halfHoverLinkSize = getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent);\n    var hoverRange = [cursorPos - halfHoverLinkSize, cursorPos + halfHoverLinkSize];\n    var cursorValue = linearMap(cursorPos, sizeExtent, dataExtent, true);\n    var valueRange = [linearMap(hoverRange[0], sizeExtent, dataExtent, true), linearMap(hoverRange[1], sizeExtent, dataExtent, true)]; // Consider data range is out of visualMap range, see test/visualMap-continuous.html,\n    // where china and india has very large population.\n\n    hoverRange[0] < sizeExtent[0] && (valueRange[0] = -Infinity);\n    hoverRange[1] > sizeExtent[1] && (valueRange[1] = Infinity); // Do not show indicator when mouse is over handle,\n    // otherwise labels overlap, especially when dragging.\n\n    if (hoverOnBar) {\n      if (valueRange[0] === -Infinity) {\n        this._showIndicator(cursorValue, valueRange[1], '< ', halfHoverLinkSize);\n      } else if (valueRange[1] === Infinity) {\n        this._showIndicator(cursorValue, valueRange[0], '> ', halfHoverLinkSize);\n      } else {\n        this._showIndicator(cursorValue, cursorValue, '≈ ', halfHoverLinkSize);\n      }\n    } // When realtime is set as false, handles, which are in barGroup,\n    // also trigger hoverLink, which help user to realize where they\n    // focus on when dragging. (see test/heatmap-large.html)\n    // When realtime is set as true, highlight will not show when hover\n    // handle, because the label on handle, which displays a exact value\n    // but not range, might mislead users.\n\n\n    var oldBatch = this._hoverLinkDataIndices;\n    var newBatch = [];\n\n    if (hoverOnBar || useHoverLinkOnHandle(visualMapModel)) {\n      newBatch = this._hoverLinkDataIndices = visualMapModel.findTargetDataIndices(valueRange);\n    }\n\n    var resultBatches = modelUtil.compressBatches(oldBatch, newBatch);\n\n    this._dispatchHighDown('downplay', helper.convertDataIndex(resultBatches[0]));\n\n    this._dispatchHighDown('highlight', helper.convertDataIndex(resultBatches[1]));\n  },\n\n  /**\n   * @private\n   */\n  _hoverLinkFromSeriesMouseOver: function (e) {\n    var el = e.target;\n    var visualMapModel = this.visualMapModel;\n\n    if (!el || el.dataIndex == null) {\n      return;\n    }\n\n    var dataModel = this.ecModel.getSeriesByIndex(el.seriesIndex);\n\n    if (!visualMapModel.isTargetSeries(dataModel)) {\n      return;\n    }\n\n    var data = dataModel.getData(el.dataType);\n    var dim = data.getDimension(visualMapModel.getDataDimension(data));\n    var value = data.get(dim, el.dataIndex, true);\n\n    if (!isNaN(value)) {\n      this._showIndicator(value, value);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _hideIndicator: function () {\n    var shapes = this._shapes;\n    shapes.indicator && shapes.indicator.attr('invisible', true);\n    shapes.indicatorLabel && shapes.indicatorLabel.attr('invisible', true);\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkToSeries: function () {\n    this._hideIndicator();\n\n    var indices = this._hoverLinkDataIndices;\n\n    this._dispatchHighDown('downplay', helper.convertDataIndex(indices));\n\n    indices.length = 0;\n  },\n\n  /**\n   * @private\n   */\n  _clearHoverLinkFromSeries: function () {\n    this._hideIndicator();\n\n    var zr = this.api.getZr();\n    zr.off('mouseover', this._hoverLinkFromSeriesMouseOver);\n    zr.off('mouseout', this._hideIndicator);\n  },\n\n  /**\n   * @private\n   */\n  _applyTransform: function (vertex, element, inverse, global) {\n    var transform = graphic.getTransform(element, global ? null : this.group);\n    return graphic[zrUtil.isArray(vertex) ? 'applyTransform' : 'transformDirection'](vertex, transform, inverse);\n  },\n\n  /**\n   * @private\n   */\n  _dispatchHighDown: function (type, batch) {\n    batch && batch.length && this.api.dispatchAction({\n      type: type,\n      batch: batch\n    });\n  },\n\n  /**\n   * @override\n   */\n  dispose: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  },\n\n  /**\n   * @override\n   */\n  remove: function () {\n    this._clearHoverLinkFromSeries();\n\n    this._clearHoverLinkToSeries();\n  }\n});\n\nfunction createPolygon(points, cursor, onDrift, onDragEnd) {\n  return new graphic.Polygon({\n    shape: {\n      points: points\n    },\n    draggable: !!onDrift,\n    cursor: cursor,\n    drift: onDrift,\n    onmousemove: function (e) {\n      // Fot mobile devicem, prevent screen slider on the button.\n      eventTool.stop(e.event);\n    },\n    ondragend: onDragEnd\n  });\n}\n\nfunction createHandlePoints(handleIndex, textSize) {\n  return handleIndex === 0 ? [[0, 0], [textSize, 0], [textSize, -textSize]] : [[0, 0], [textSize, 0], [textSize, textSize]];\n}\n\nfunction createIndicatorPoints(isRange, halfHoverLinkSize, pos, extentMax) {\n  return isRange ? [// indicate range\n  [0, -mathMin(halfHoverLinkSize, mathMax(pos, 0))], [HOVER_LINK_OUT, 0], [0, mathMin(halfHoverLinkSize, mathMax(extentMax - pos, 0))]] : [// indicate single value\n  [0, 0], [5, -5], [5, 5]];\n}\n\nfunction getHalfHoverLinkSize(visualMapModel, dataExtent, sizeExtent) {\n  var halfHoverLinkSize = HOVER_LINK_SIZE / 2;\n  var hoverLinkDataSize = visualMapModel.get('hoverLinkDataSize');\n\n  if (hoverLinkDataSize) {\n    halfHoverLinkSize = linearMap(hoverLinkDataSize, dataExtent, sizeExtent, true) / 2;\n  }\n\n  return halfHoverLinkSize;\n}\n\nfunction useHoverLinkOnHandle(visualMapModel) {\n  var hoverLinkOnHandle = visualMapModel.get('hoverLinkOnHandle');\n  return !!(hoverLinkOnHandle == null ? visualMapModel.get('realtime') : hoverLinkOnHandle);\n}\n\nfunction getCursor(orient) {\n  return orient === 'vertical' ? 'ns-resize' : 'ew-resize';\n}\n\nvar _default = ContinuousView;\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapModel = require(\"./VisualMapModel\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar _number = require(\"../../util/number\");\n\nvar reformIntervals = _number.reformIntervals;\nvar PiecewiseModel = VisualMapModel.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * Order Rule:\n   *\n   * option.categories / option.pieces / option.text / option.selected:\n   *     If !option.inverse,\n   *     Order when vertical: ['top', ..., 'bottom'].\n   *     Order when horizontal: ['left', ..., 'right'].\n   *     If option.inverse, the meaning of\n   *     the order should be reversed.\n   *\n   * this._pieceList:\n   *     The order is always [low, ..., high].\n   *\n   * Mapping from location to low-high:\n   *     If !option.inverse\n   *     When vertical, top is high.\n   *     When horizontal, right is high.\n   *     If option.inverse, reverse.\n   */\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    selected: null,\n    // Object. If not specified, means selected.\n    // When pieces and splitNumber: {'0': true, '5': true}\n    // When categories: {'cate1': false, 'cate3': true}\n    // When selected === false, means all unselected.\n    minOpen: false,\n    // Whether include values that smaller than `min`.\n    maxOpen: false,\n    // Whether include values that bigger than `max`.\n    align: 'auto',\n    // 'auto', 'left', 'right'\n    itemWidth: 20,\n    // When put the controller vertically, it is the length of\n    // horizontal side of each item. Otherwise, vertical side.\n    itemHeight: 14,\n    // When put the controller vertically, it is the length of\n    // vertical side of each item. Otherwise, horizontal side.\n    itemSymbol: 'roundRect',\n    pieceList: null,\n    // Each item is Object, with some of those attrs:\n    // {min, max, lt, gt, lte, gte, value,\n    // color, colorSaturation, colorAlpha, opacity,\n    // symbol, symbolSize}, which customize the range or visual\n    // coding of the certain piece. Besides, see \"Order Rule\".\n    categories: null,\n    // category names, like: ['some1', 'some2', 'some3'].\n    // Attr min/max are ignored when categories set. See \"Order Rule\"\n    splitNumber: 5,\n    // If set to 5, auto split five pieces equally.\n    // If set to 0 and component type not set, component type will be\n    // determined as \"continuous\". (It is less reasonable but for ec2\n    // compatibility, see echarts/component/visualMap/typeDefaulter)\n    selectedMode: 'multiple',\n    // Can be 'multiple' or 'single'.\n    itemGap: 10,\n    // The gap between two items, in px.\n    hoverLink: true,\n    // Enable hover highlight.\n    showLabel: null // By default, when text is used, label will hide (the logic\n    // is remained for compatibility reason)\n\n  },\n\n  /**\n   * @override\n   */\n  optionUpdated: function (newOption, isInit) {\n    PiecewiseModel.superApply(this, 'optionUpdated', arguments);\n    /**\n     * The order is always [low, ..., high].\n     * [{text: string, interval: Array.<number>}, ...]\n     * @private\n     * @type {Array.<Object>}\n     */\n\n    this._pieceList = [];\n    this.resetExtent();\n    /**\n     * 'pieces', 'categories', 'splitNumber'\n     * @type {string}\n     */\n\n    var mode = this._mode = this._determineMode();\n\n    resetMethods[this._mode].call(this);\n\n    this._resetSelected(newOption, isInit);\n\n    var categories = this.option.categories;\n    this.resetVisual(function (mappingOption, state) {\n      if (mode === 'categories') {\n        mappingOption.mappingMethod = 'category';\n        mappingOption.categories = zrUtil.clone(categories);\n      } else {\n        mappingOption.dataExtent = this.getExtent();\n        mappingOption.mappingMethod = 'piecewise';\n        mappingOption.pieceList = zrUtil.map(this._pieceList, function (piece) {\n          var piece = zrUtil.clone(piece);\n\n          if (state !== 'inRange') {\n            // FIXME\n            // outOfRange do not support special visual in pieces.\n            piece.visual = null;\n          }\n\n          return piece;\n        });\n      }\n    });\n  },\n\n  /**\n   * @protected\n   * @override\n   */\n  completeVisualOption: function () {\n    // Consider this case:\n    // visualMap: {\n    //      pieces: [{symbol: 'circle', lt: 0}, {symbol: 'rect', gte: 0}]\n    // }\n    // where no inRange/outOfRange set but only pieces. So we should make\n    // default inRange/outOfRange for this case, otherwise visuals that only\n    // appear in `pieces` will not be taken into account in visual encoding.\n    var option = this.option;\n    var visualTypesInPieces = {};\n    var visualTypes = VisualMapping.listVisualTypes();\n    var isCategory = this.isCategory();\n    zrUtil.each(option.pieces, function (piece) {\n      zrUtil.each(visualTypes, function (visualType) {\n        if (piece.hasOwnProperty(visualType)) {\n          visualTypesInPieces[visualType] = 1;\n        }\n      });\n    });\n    zrUtil.each(visualTypesInPieces, function (v, visualType) {\n      var exists = 0;\n      zrUtil.each(this.stateList, function (state) {\n        exists |= has(option, state, visualType) || has(option.target, state, visualType);\n      }, this);\n      !exists && zrUtil.each(this.stateList, function (state) {\n        (option[state] || (option[state] = {}))[visualType] = visualDefault.get(visualType, state === 'inRange' ? 'active' : 'inactive', isCategory);\n      });\n    }, this);\n\n    function has(obj, state, visualType) {\n      return obj && obj[state] && (zrUtil.isObject(obj[state]) ? obj[state].hasOwnProperty(visualType) : obj[state] === visualType // e.g., inRange: 'symbol'\n      );\n    }\n\n    VisualMapModel.prototype.completeVisualOption.apply(this, arguments);\n  },\n  _resetSelected: function (newOption, isInit) {\n    var thisOption = this.option;\n    var pieceList = this._pieceList; // Selected do not merge but all override.\n\n    var selected = (isInit ? thisOption : newOption).selected || {};\n    thisOption.selected = selected; // Consider 'not specified' means true.\n\n    zrUtil.each(pieceList, function (piece, index) {\n      var key = this.getSelectedMapKey(piece);\n\n      if (!selected.hasOwnProperty(key)) {\n        selected[key] = true;\n      }\n    }, this);\n\n    if (thisOption.selectedMode === 'single') {\n      // Ensure there is only one selected.\n      var hasSel = false;\n      zrUtil.each(pieceList, function (piece, index) {\n        var key = this.getSelectedMapKey(piece);\n\n        if (selected[key]) {\n          hasSel ? selected[key] = false : hasSel = true;\n        }\n      }, this);\n    } // thisOption.selectedMode === 'multiple', default: all selected.\n\n  },\n\n  /**\n   * @public\n   */\n  getSelectedMapKey: function (piece) {\n    return this._mode === 'categories' ? piece.value + '' : piece.index + '';\n  },\n\n  /**\n   * @public\n   */\n  getPieceList: function () {\n    return this._pieceList;\n  },\n\n  /**\n   * @private\n   * @return {string}\n   */\n  _determineMode: function () {\n    var option = this.option;\n    return option.pieces && option.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber';\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  setSelected: function (selected) {\n    this.option.selected = zrUtil.clone(selected);\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getValueState: function (value) {\n    var index = VisualMapping.findPieceIndex(value, this._pieceList);\n    return index != null ? this.option.selected[this.getSelectedMapKey(this._pieceList[index])] ? 'inRange' : 'outOfRange' : 'outOfRange';\n  },\n\n  /**\n   * @public\n   * @params {number} pieceIndex piece index in visualMapModel.getPieceList()\n   * @return {Array.<Object>} [{seriesId, dataIndices: <Array.<number>>}, ...]\n   */\n  findTargetDataIndices: function (pieceIndex) {\n    var result = [];\n    this.eachTargetSeries(function (seriesModel) {\n      var dataIndices = [];\n      var data = seriesModel.getData();\n      data.each(this.getDataDimension(data), function (value, dataIndex) {\n        // Should always base on model pieceList, because it is order sensitive.\n        var pIdx = VisualMapping.findPieceIndex(value, this._pieceList);\n        pIdx === pieceIndex && dataIndices.push(dataIndex);\n      }, true, this);\n      result.push({\n        seriesId: seriesModel.id,\n        dataIndex: dataIndices\n      });\n    }, this);\n    return result;\n  },\n\n  /**\n   * @private\n   * @param {Object} piece piece.value or piece.interval is required.\n   * @return {number} Can be Infinity or -Infinity\n   */\n  getRepresentValue: function (piece) {\n    var representValue;\n\n    if (this.isCategory()) {\n      representValue = piece.value;\n    } else {\n      if (piece.value != null) {\n        representValue = piece.value;\n      } else {\n        var pieceInterval = piece.interval || [];\n        representValue = pieceInterval[0] === -Infinity && pieceInterval[1] === Infinity ? 0 : (pieceInterval[0] + pieceInterval[1]) / 2;\n      }\n    }\n\n    return representValue;\n  },\n  getVisualMeta: function (getColorVisual) {\n    // Do not support category. (category axis is ordinal, numerical)\n    if (this.isCategory()) {\n      return;\n    }\n\n    var stops = [];\n    var outerColors = [];\n    var visualMapModel = this;\n\n    function setStop(interval, valueState) {\n      var representValue = visualMapModel.getRepresentValue({\n        interval: interval\n      });\n\n      if (!valueState) {\n        valueState = visualMapModel.getValueState(representValue);\n      }\n\n      var color = getColorVisual(representValue, valueState);\n\n      if (interval[0] === -Infinity) {\n        outerColors[0] = color;\n      } else if (interval[1] === Infinity) {\n        outerColors[1] = color;\n      } else {\n        stops.push({\n          value: interval[0],\n          color: color\n        }, {\n          value: interval[1],\n          color: color\n        });\n      }\n    } // Suplement\n\n\n    var pieceList = this._pieceList.slice();\n\n    if (!pieceList.length) {\n      pieceList.push({\n        interval: [-Infinity, Infinity]\n      });\n    } else {\n      var edge = pieceList[0].interval[0];\n      edge !== -Infinity && pieceList.unshift({\n        interval: [-Infinity, edge]\n      });\n      edge = pieceList[pieceList.length - 1].interval[1];\n      edge !== Infinity && pieceList.push({\n        interval: [edge, Infinity]\n      });\n    }\n\n    var curr = -Infinity;\n    zrUtil.each(pieceList, function (piece) {\n      var interval = piece.interval;\n\n      if (interval) {\n        // Fulfill gap.\n        interval[0] > curr && setStop([curr, interval[0]], 'outOfRange');\n        setStop(interval.slice());\n        curr = interval[1];\n      }\n    }, this);\n    return {\n      stops: stops,\n      outerColors: outerColors\n    };\n  }\n});\n/**\n * Key is this._mode\n * @type {Object}\n * @this {module:echarts/component/viusalMap/PiecewiseMode}\n */\n\nvar resetMethods = {\n  splitNumber: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    var precision = Math.min(thisOption.precision, 20);\n    var dataExtent = this.getExtent();\n    var splitNumber = thisOption.splitNumber;\n    splitNumber = Math.max(parseInt(splitNumber, 10), 1);\n    thisOption.splitNumber = splitNumber;\n    var splitStep = (dataExtent[1] - dataExtent[0]) / splitNumber; // Precision auto-adaption\n\n    while (+splitStep.toFixed(precision) !== splitStep && precision < 5) {\n      precision++;\n    }\n\n    thisOption.precision = precision;\n    splitStep = +splitStep.toFixed(precision);\n    var index = 0;\n\n    if (thisOption.minOpen) {\n      pieceList.push({\n        index: index++,\n        interval: [-Infinity, dataExtent[0]],\n        close: [0, 0]\n      });\n    }\n\n    for (var curr = dataExtent[0], len = index + splitNumber; index < len; curr += splitStep) {\n      var max = index === splitNumber - 1 ? dataExtent[1] : curr + splitStep;\n      pieceList.push({\n        index: index++,\n        interval: [curr, max],\n        close: [1, 1]\n      });\n    }\n\n    if (thisOption.maxOpen) {\n      pieceList.push({\n        index: index++,\n        interval: [dataExtent[1], Infinity],\n        close: [0, 0]\n      });\n    }\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      piece.text = this.formatValueText(piece.interval);\n    }, this);\n  },\n  categories: function () {\n    var thisOption = this.option;\n    zrUtil.each(thisOption.categories, function (cate) {\n      // FIXME category模式也使用pieceList，但在visualMapping中不是使用pieceList。\n      // 是否改一致。\n      this._pieceList.push({\n        text: this.formatValueText(cate, true),\n        value: cate\n      });\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, this._pieceList);\n  },\n  pieces: function () {\n    var thisOption = this.option;\n    var pieceList = this._pieceList;\n    zrUtil.each(thisOption.pieces, function (pieceListItem, index) {\n      if (!zrUtil.isObject(pieceListItem)) {\n        pieceListItem = {\n          value: pieceListItem\n        };\n      }\n\n      var item = {\n        text: '',\n        index: index\n      };\n\n      if (pieceListItem.label != null) {\n        item.text = pieceListItem.label;\n      }\n\n      if (pieceListItem.hasOwnProperty('value')) {\n        var value = item.value = pieceListItem.value;\n        item.interval = [value, value];\n        item.close = [1, 1];\n      } else {\n        // `min` `max` is legacy option.\n        // `lt` `gt` `lte` `gte` is recommanded.\n        var interval = item.interval = [];\n        var close = item.close = [0, 0];\n        var closeList = [1, 0, 1];\n        var infinityList = [-Infinity, Infinity];\n        var useMinMax = [];\n\n        for (var lg = 0; lg < 2; lg++) {\n          var names = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][lg];\n\n          for (var i = 0; i < 3 && interval[lg] == null; i++) {\n            interval[lg] = pieceListItem[names[i]];\n            close[lg] = closeList[i];\n            useMinMax[lg] = i === 2;\n          }\n\n          interval[lg] == null && (interval[lg] = infinityList[lg]);\n        }\n\n        useMinMax[0] && interval[1] === Infinity && (close[0] = 0);\n        useMinMax[1] && interval[0] === -Infinity && (close[1] = 0);\n\n        if (interval[0] === interval[1] && close[0] && close[1]) {\n          // Consider: [{min: 5, max: 5, visual: {...}}, {min: 0, max: 5}],\n          // we use value to lift the priority when min === max\n          item.value = interval[0];\n        }\n      }\n\n      item.visual = VisualMapping.retrieveVisuals(pieceListItem);\n      pieceList.push(item);\n    }, this); // See \"Order Rule\".\n\n    normalizeReverse(thisOption, pieceList); // Only pieces\n\n    reformIntervals(pieceList);\n    zrUtil.each(pieceList, function (piece) {\n      var close = piece.close;\n      var edgeSymbols = [['<', '≤'][close[1]], ['>', '≥'][close[0]]];\n      piece.text = piece.text || this.formatValueText(piece.value != null ? piece.value : piece.interval, false, edgeSymbols);\n    }, this);\n  }\n};\n\nfunction normalizeReverse(thisOption, pieceList) {\n  var inverse = thisOption.inverse;\n\n  if (thisOption.orient === 'vertical' ? !inverse : inverse) {\n    pieceList.reverse();\n  }\n}\n\nvar _default = PiecewiseModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapView = require(\"./VisualMapView\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar _symbol = require(\"../../util/symbol\");\n\nvar createSymbol = _symbol.createSymbol;\n\nvar layout = require(\"../../util/layout\");\n\nvar helper = require(\"./helper\");\n\nvar PiecewiseVisualMapView = VisualMapView.extend({\n  type: 'visualMap.piecewise',\n\n  /**\n   * @protected\n   * @override\n   */\n  doRender: function () {\n    var thisGroup = this.group;\n    thisGroup.removeAll();\n    var visualMapModel = this.visualMapModel;\n    var textGap = visualMapModel.get('textGap');\n    var textStyleModel = visualMapModel.textStyleModel;\n    var textFont = textStyleModel.getFont();\n    var textFill = textStyleModel.getTextColor();\n\n    var itemAlign = this._getItemAlign();\n\n    var itemSize = visualMapModel.itemSize;\n\n    var viewData = this._getViewData();\n\n    var endsText = viewData.endsText;\n    var showLabel = zrUtil.retrieve(visualMapModel.get('showLabel', true), !endsText);\n    endsText && this._renderEndsText(thisGroup, endsText[0], itemSize, showLabel, itemAlign);\n    zrUtil.each(viewData.viewPieceList, renderItem, this);\n    endsText && this._renderEndsText(thisGroup, endsText[1], itemSize, showLabel, itemAlign);\n    layout.box(visualMapModel.get('orient'), thisGroup, visualMapModel.get('itemGap'));\n    this.renderBackground(thisGroup);\n    this.positionGroup(thisGroup);\n\n    function renderItem(item) {\n      var piece = item.piece;\n      var itemGroup = new graphic.Group();\n      itemGroup.onclick = zrUtil.bind(this._onItemClick, this, piece);\n\n      this._enableHoverLink(itemGroup, item.indexInModelPieceList);\n\n      var representValue = visualMapModel.getRepresentValue(piece);\n\n      this._createItemSymbol(itemGroup, representValue, [0, 0, itemSize[0], itemSize[1]]);\n\n      if (showLabel) {\n        var visualState = this.visualMapModel.getValueState(representValue);\n        itemGroup.add(new graphic.Text({\n          style: {\n            x: itemAlign === 'right' ? -textGap : itemSize[0] + textGap,\n            y: itemSize[1] / 2,\n            text: piece.text,\n            textVerticalAlign: 'middle',\n            textAlign: itemAlign,\n            textFont: textFont,\n            textFill: textFill,\n            opacity: visualState === 'outOfRange' ? 0.5 : 1\n          }\n        }));\n      }\n\n      thisGroup.add(itemGroup);\n    }\n  },\n\n  /**\n   * @private\n   */\n  _enableHoverLink: function (itemGroup, pieceIndex) {\n    itemGroup.on('mouseover', zrUtil.bind(onHoverLink, this, 'highlight')).on('mouseout', zrUtil.bind(onHoverLink, this, 'downplay'));\n\n    function onHoverLink(method) {\n      var visualMapModel = this.visualMapModel;\n      visualMapModel.option.hoverLink && this.api.dispatchAction({\n        type: method,\n        batch: helper.convertDataIndex(visualMapModel.findTargetDataIndices(pieceIndex))\n      });\n    }\n  },\n\n  /**\n   * @private\n   */\n  _getItemAlign: function () {\n    var visualMapModel = this.visualMapModel;\n    var modelOption = visualMapModel.option;\n\n    if (modelOption.orient === 'vertical') {\n      return helper.getItemAlign(visualMapModel, this.api, visualMapModel.itemSize);\n    } else {\n      // horizontal, most case left unless specifying right.\n      var align = modelOption.align;\n\n      if (!align || align === 'auto') {\n        align = 'left';\n      }\n\n      return align;\n    }\n  },\n\n  /**\n   * @private\n   */\n  _renderEndsText: function (group, text, itemSize, showLabel, itemAlign) {\n    if (!text) {\n      return;\n    }\n\n    var itemGroup = new graphic.Group();\n    var textStyleModel = this.visualMapModel.textStyleModel;\n    itemGroup.add(new graphic.Text({\n      style: {\n        x: showLabel ? itemAlign === 'right' ? itemSize[0] : 0 : itemSize[0] / 2,\n        y: itemSize[1] / 2,\n        textVerticalAlign: 'middle',\n        textAlign: showLabel ? itemAlign : 'center',\n        text: text,\n        textFont: textStyleModel.getFont(),\n        textFill: textStyleModel.getTextColor()\n      }\n    }));\n    group.add(itemGroup);\n  },\n\n  /**\n   * @private\n   * @return {Object} {peiceList, endsText} The order is the same as screen pixel order.\n   */\n  _getViewData: function () {\n    var visualMapModel = this.visualMapModel;\n    var viewPieceList = zrUtil.map(visualMapModel.getPieceList(), function (piece, index) {\n      return {\n        piece: piece,\n        indexInModelPieceList: index\n      };\n    });\n    var endsText = visualMapModel.get('text'); // Consider orient and inverse.\n\n    var orient = visualMapModel.get('orient');\n    var inverse = visualMapModel.get('inverse'); // Order of model pieceList is always [low, ..., high]\n\n    if (orient === 'horizontal' ? inverse : !inverse) {\n      viewPieceList.reverse();\n    } // Origin order of endsText is [high, low]\n    else if (endsText) {\n        endsText = endsText.slice().reverse();\n      }\n\n    return {\n      viewPieceList: viewPieceList,\n      endsText: endsText\n    };\n  },\n\n  /**\n   * @private\n   */\n  _createItemSymbol: function (group, representValue, shapeParam) {\n    group.add(createSymbol(this.getControllerVisual(representValue, 'symbol'), shapeParam[0], shapeParam[1], shapeParam[2], shapeParam[3], this.getControllerVisual(representValue, 'color')));\n  },\n\n  /**\n   * @private\n   */\n  _onItemClick: function (piece) {\n    var visualMapModel = this.visualMapModel;\n    var option = visualMapModel.option;\n    var selected = zrUtil.clone(option.selected);\n    var newKey = visualMapModel.getSelectedMapKey(piece);\n\n    if (option.selectedMode === 'single') {\n      selected[newKey] = true;\n      zrUtil.each(selected, function (o, key) {\n        selected[key] = key === newKey;\n      });\n    } else {\n      selected[newKey] = !selected[newKey];\n    }\n\n    this.api.dispatchAction({\n      type: 'selectDataRange',\n      from: this.uid,\n      visualMapId: this.visualMapModel.id,\n      selected: selected\n    });\n  }\n});\nvar _default = PiecewiseVisualMapView;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar visualDefault = require(\"../../visual/visualDefault\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar mapVisual = VisualMapping.mapVisual;\nvar eachVisual = VisualMapping.eachVisual;\nvar isArray = zrUtil.isArray;\nvar each = zrUtil.each;\nvar asc = numberUtil.asc;\nvar linearMap = numberUtil.linearMap;\nvar noop = zrUtil.noop;\nvar DEFAULT_COLOR = ['#f6efa6', '#d88273', '#bf444c'];\nvar VisualMapModel = echarts.extendComponentModel({\n  type: 'visualMap',\n  dependencies: ['series'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  stateList: ['inRange', 'outOfRange'],\n\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'],\n\n  /**\n   * [lowerBound, upperBound]\n   *\n   * @readOnly\n   * @type {Array.<number>}\n   */\n  dataBound: [-Infinity, Infinity],\n\n  /**\n   * @readOnly\n   * @type {string|Object}\n   */\n  layoutMode: {\n    type: 'box',\n    ignoreSize: true\n  },\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    show: true,\n    zlevel: 0,\n    z: 4,\n    seriesIndex: 'all',\n    // 'all' or null/undefined: all series.\n    // A number or an array of number: the specified series.\n    // set min: 0, max: 200, only for campatible with ec2.\n    // In fact min max should not have default value.\n    min: 0,\n    // min value, must specified if pieces is not specified.\n    max: 200,\n    // max value, must specified if pieces is not specified.\n    dimension: null,\n    inRange: null,\n    // 'color', 'colorHue', 'colorSaturation', 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    outOfRange: null,\n    // 'color', 'colorHue', 'colorSaturation',\n    // 'colorLightness', 'colorAlpha',\n    // 'symbol', 'symbolSize'\n    left: 0,\n    // 'center' ¦ 'left' ¦ 'right' ¦ {number} (px)\n    right: null,\n    // The same as left.\n    top: null,\n    // 'top' ¦ 'bottom' ¦ 'center' ¦ {number} (px)\n    bottom: 0,\n    // The same as top.\n    itemWidth: null,\n    itemHeight: null,\n    inverse: false,\n    orient: 'vertical',\n    // 'horizontal' ¦ 'vertical'\n    backgroundColor: 'rgba(0,0,0,0)',\n    borderColor: '#ccc',\n    // 值域边框颜色\n    contentColor: '#5793f3',\n    inactiveColor: '#aaa',\n    borderWidth: 0,\n    // 值域边框线宽，单位px，默认为0（无边框）\n    padding: 5,\n    // 值域内边距，单位px，默认各方向内边距为5，\n    // 接受数组分别设定上右下左边距，同css\n    textGap: 10,\n    //\n    precision: 0,\n    // 小数精度，默认为0，无小数点\n    color: null,\n    //颜色（deprecated，兼容ec2，顺序同pieces，不同于inRange/outOfRange）\n    formatter: null,\n    text: null,\n    // 文本，如['高', '低']，兼容ec2，text[0]对应高值，text[1]对应低值\n    textStyle: {\n      color: '#333' // 值域文字颜色\n\n    }\n  },\n\n  /**\n   * @protected\n   */\n  init: function (option, parentModel, ecModel) {\n    /**\n     * @private\n     * @type {Array.<number>}\n     */\n    this._dataExtent;\n    /**\n     * @readOnly\n     */\n\n    this.targetVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.controllerVisuals = {};\n    /**\n     * @readOnly\n     */\n\n    this.textStyleModel;\n    /**\n     * [width, height]\n     * @readOnly\n     * @type {Array.<number>}\n     */\n\n    this.itemSize;\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n\n  /**\n   * @protected\n   */\n  optionUpdated: function (newOption, isInit) {\n    var thisOption = this.option; // FIXME\n    // necessary?\n    // Disable realtime view update if canvas is not supported.\n\n    if (!env.canvasSupported) {\n      thisOption.realtime = false;\n    }\n\n    !isInit && visualSolution.replaceVisualOption(thisOption, newOption, this.replacableOptionKeys);\n    this.textStyleModel = this.getModel('textStyle');\n    this.resetItemSize();\n    this.completeVisualOption();\n  },\n\n  /**\n   * @protected\n   */\n  resetVisual: function (supplementVisualOption) {\n    var stateList = this.stateList;\n    supplementVisualOption = zrUtil.bind(supplementVisualOption, this);\n    this.controllerVisuals = visualSolution.createVisualMappings(this.option.controller, stateList, supplementVisualOption);\n    this.targetVisuals = visualSolution.createVisualMappings(this.option.target, stateList, supplementVisualOption);\n  },\n\n  /**\n   * @protected\n   * @return {Array.<number>} An array of series indices.\n   */\n  getTargetSeriesIndices: function () {\n    var optionSeriesIndex = this.option.seriesIndex;\n    var seriesIndices = [];\n\n    if (optionSeriesIndex == null || optionSeriesIndex === 'all') {\n      this.ecModel.eachSeries(function (seriesModel, index) {\n        seriesIndices.push(index);\n      });\n    } else {\n      seriesIndices = modelUtil.normalizeToArray(optionSeriesIndex);\n    }\n\n    return seriesIndices;\n  },\n\n  /**\n   * @public\n   */\n  eachTargetSeries: function (callback, context) {\n    zrUtil.each(this.getTargetSeriesIndices(), function (seriesIndex) {\n      callback.call(context, this.ecModel.getSeriesByIndex(seriesIndex));\n    }, this);\n  },\n\n  /**\n   * @pubilc\n   */\n  isTargetSeries: function (seriesModel) {\n    var is = false;\n    this.eachTargetSeries(function (model) {\n      model === seriesModel && (is = true);\n    });\n    return is;\n  },\n\n  /**\n   * @example\n   * this.formatValueText(someVal); // format single numeric value to text.\n   * this.formatValueText(someVal, true); // format single category value to text.\n   * this.formatValueText([min, max]); // format numeric min-max to text.\n   * this.formatValueText([this.dataBound[0], max]); // using data lower bound.\n   * this.formatValueText([min, this.dataBound[1]]); // using data upper bound.\n   *\n   * @param {number|Array.<number>} value Real value, or this.dataBound[0 or 1].\n   * @param {boolean} [isCategory=false] Only available when value is number.\n   * @param {Array.<string>} edgeSymbols Open-close symbol when value is interval.\n   * @return {string}\n   * @protected\n   */\n  formatValueText: function (value, isCategory, edgeSymbols) {\n    var option = this.option;\n    var precision = option.precision;\n    var dataBound = this.dataBound;\n    var formatter = option.formatter;\n    var isMinMax;\n    var textValue;\n    edgeSymbols = edgeSymbols || ['<', '>'];\n\n    if (zrUtil.isArray(value)) {\n      value = value.slice();\n      isMinMax = true;\n    }\n\n    textValue = isCategory ? value : isMinMax ? [toFixed(value[0]), toFixed(value[1])] : toFixed(value);\n\n    if (zrUtil.isString(formatter)) {\n      return formatter.replace('{value}', isMinMax ? textValue[0] : textValue).replace('{value2}', isMinMax ? textValue[1] : textValue);\n    } else if (zrUtil.isFunction(formatter)) {\n      return isMinMax ? formatter(value[0], value[1]) : formatter(value);\n    }\n\n    if (isMinMax) {\n      if (value[0] === dataBound[0]) {\n        return edgeSymbols[0] + ' ' + textValue[1];\n      } else if (value[1] === dataBound[1]) {\n        return edgeSymbols[1] + ' ' + textValue[0];\n      } else {\n        return textValue[0] + ' - ' + textValue[1];\n      }\n    } else {\n      // Format single value (includes category case).\n      return textValue;\n    }\n\n    function toFixed(val) {\n      return val === dataBound[0] ? 'min' : val === dataBound[1] ? 'max' : (+val).toFixed(Math.min(precision, 20));\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetExtent: function () {\n    var thisOption = this.option; // Can not calculate data extent by data here.\n    // Because series and data may be modified in processing stage.\n    // So we do not support the feature \"auto min/max\".\n\n    var extent = asc([thisOption.min, thisOption.max]);\n    this._dataExtent = extent;\n  },\n\n  /**\n   * @public\n   * @param {module:echarts/data/List} list\n   * @return {string} Concrete dimention. If return null/undefined,\n   *                  no dimension used.\n   */\n  getDataDimension: function (list) {\n    var optDim = this.option.dimension;\n    return optDim != null ? optDim : list.dimensions.length - 1;\n  },\n\n  /**\n   * @public\n   * @override\n   */\n  getExtent: function () {\n    return this._dataExtent.slice();\n  },\n\n  /**\n   * @protected\n   */\n  completeVisualOption: function () {\n    var thisOption = this.option;\n    var base = {\n      inRange: thisOption.inRange,\n      outOfRange: thisOption.outOfRange\n    };\n    var target = thisOption.target || (thisOption.target = {});\n    var controller = thisOption.controller || (thisOption.controller = {});\n    zrUtil.merge(target, base); // Do not override\n\n    zrUtil.merge(controller, base); // Do not override\n\n    var isCategory = this.isCategory();\n    completeSingle.call(this, target);\n    completeSingle.call(this, controller);\n    completeInactive.call(this, target, 'inRange', 'outOfRange'); // completeInactive.call(this, target, 'outOfRange', 'inRange');\n\n    completeController.call(this, controller);\n\n    function completeSingle(base) {\n      // Compatible with ec2 dataRange.color.\n      // The mapping order of dataRange.color is: [high value, ..., low value]\n      // whereas inRange.color and outOfRange.color is [low value, ..., high value]\n      // Notice: ec2 has no inverse.\n      if (isArray(thisOption.color) // If there has been inRange: {symbol: ...}, adding color is a mistake.\n      // So adding color only when no inRange defined.\n      && !base.inRange) {\n        base.inRange = {\n          color: thisOption.color.slice().reverse()\n        };\n      } // Compatible with previous logic, always give a defautl color, otherwise\n      // simple config with no inRange and outOfRange will not work.\n      // Originally we use visualMap.color as the default color, but setOption at\n      // the second time the default color will be erased. So we change to use\n      // constant DEFAULT_COLOR.\n      // If user do not want the defualt color, set inRange: {color: null}.\n\n\n      base.inRange = base.inRange || {\n        color: DEFAULT_COLOR\n      }; // If using shortcut like: {inRange: 'symbol'}, complete default value.\n\n      each(this.stateList, function (state) {\n        var visualType = base[state];\n\n        if (zrUtil.isString(visualType)) {\n          var defa = visualDefault.get(visualType, 'active', isCategory);\n\n          if (defa) {\n            base[state] = {};\n            base[state][visualType] = defa;\n          } else {\n            // Mark as not specified.\n            delete base[state];\n          }\n        }\n      }, this);\n    }\n\n    function completeInactive(base, stateExist, stateAbsent) {\n      var optExist = base[stateExist];\n      var optAbsent = base[stateAbsent];\n\n      if (optExist && !optAbsent) {\n        optAbsent = base[stateAbsent] = {};\n        each(optExist, function (visualData, visualType) {\n          if (!VisualMapping.isValidType(visualType)) {\n            return;\n          }\n\n          var defa = visualDefault.get(visualType, 'inactive', isCategory);\n\n          if (defa != null) {\n            optAbsent[visualType] = defa; // Compatibable with ec2:\n            // Only inactive color to rgba(0,0,0,0) can not\n            // make label transparent, so use opacity also.\n\n            if (visualType === 'color' && !optAbsent.hasOwnProperty('opacity') && !optAbsent.hasOwnProperty('colorAlpha')) {\n              optAbsent.opacity = [0, 0];\n            }\n          }\n        });\n      }\n    }\n\n    function completeController(controller) {\n      var symbolExists = (controller.inRange || {}).symbol || (controller.outOfRange || {}).symbol;\n      var symbolSizeExists = (controller.inRange || {}).symbolSize || (controller.outOfRange || {}).symbolSize;\n      var inactiveColor = this.get('inactiveColor');\n      each(this.stateList, function (state) {\n        var itemSize = this.itemSize;\n        var visuals = controller[state]; // Set inactive color for controller if no other color\n        // attr (like colorAlpha) specified.\n\n        if (!visuals) {\n          visuals = controller[state] = {\n            color: isCategory ? inactiveColor : [inactiveColor]\n          };\n        } // Consistent symbol and symbolSize if not specified.\n\n\n        if (visuals.symbol == null) {\n          visuals.symbol = symbolExists && zrUtil.clone(symbolExists) || (isCategory ? 'roundRect' : ['roundRect']);\n        }\n\n        if (visuals.symbolSize == null) {\n          visuals.symbolSize = symbolSizeExists && zrUtil.clone(symbolSizeExists) || (isCategory ? itemSize[0] : [itemSize[0], itemSize[0]]);\n        } // Filter square and none.\n\n\n        visuals.symbol = mapVisual(visuals.symbol, function (symbol) {\n          return symbol === 'none' || symbol === 'square' ? 'roundRect' : symbol;\n        }); // Normalize symbolSize\n\n        var symbolSize = visuals.symbolSize;\n\n        if (symbolSize != null) {\n          var max = -Infinity; // symbolSize can be object when categories defined.\n\n          eachVisual(symbolSize, function (value) {\n            value > max && (max = value);\n          });\n          visuals.symbolSize = mapVisual(symbolSize, function (value) {\n            return linearMap(value, [0, max], [0, itemSize[0]], true);\n          });\n        }\n      }, this);\n    }\n  },\n\n  /**\n   * @protected\n   */\n  resetItemSize: function () {\n    this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))];\n  },\n\n  /**\n   * @public\n   */\n  isCategory: function () {\n    return !!this.option.categories;\n  },\n\n  /**\n   * @public\n   * @abstract\n   */\n  setSelected: noop,\n\n  /**\n   * @public\n   * @abstract\n   * @param {*|module:echarts/data/List} valueOrData\n   * @param {number} dataIndex\n   * @return {string} state See this.stateList\n   */\n  getValueState: noop,\n\n  /**\n   * FIXME\n   * Do not publish to thirt-part-dev temporarily\n   * util the interface is stable. (Should it return\n   * a function but not visual meta?)\n   *\n   * @pubilc\n   * @abstract\n   * @param {Function} getColorVisual\n   *        params: value, valueState\n   *        return: color\n   * @return {Object} visualMeta\n   *        should includes {stops, outerColors}\n   *        outerColor means [colorBeyondMinValue, colorBeyondMaxValue]\n   */\n  getVisualMeta: noop\n});\nvar _default = VisualMapModel;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar formatUtil = require(\"../../util/format\");\n\nvar layout = require(\"../../util/layout\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\nvar _default = echarts.extendComponentView({\n  type: 'visualMap',\n\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n  autoPositionValues: {\n    left: 1,\n    right: 1,\n    top: 1,\n    bottom: 1\n  },\n  init: function (ecModel, api) {\n    /**\n     * @readOnly\n     * @type {module:echarts/model/Global}\n     */\n    this.ecModel = ecModel;\n    /**\n     * @readOnly\n     * @type {module:echarts/ExtensionAPI}\n     */\n\n    this.api = api;\n    /**\n     * @readOnly\n     * @type {module:echarts/component/visualMap/visualMapModel}\n     */\n\n    this.visualMapModel;\n  },\n\n  /**\n   * @protected\n   */\n  render: function (visualMapModel, ecModel, api, payload) {\n    this.visualMapModel = visualMapModel;\n\n    if (visualMapModel.get('show') === false) {\n      this.group.removeAll();\n      return;\n    }\n\n    this.doRender.apply(this, arguments);\n  },\n\n  /**\n   * @protected\n   */\n  renderBackground: function (group) {\n    var visualMapModel = this.visualMapModel;\n    var padding = formatUtil.normalizeCssArray(visualMapModel.get('padding') || 0);\n    var rect = group.getBoundingRect();\n    group.add(new graphic.Rect({\n      z2: -1,\n      // Lay background rect on the lowest layer.\n      silent: true,\n      shape: {\n        x: rect.x - padding[3],\n        y: rect.y - padding[0],\n        width: rect.width + padding[3] + padding[1],\n        height: rect.height + padding[0] + padding[2]\n      },\n      style: {\n        fill: visualMapModel.get('backgroundColor'),\n        stroke: visualMapModel.get('borderColor'),\n        lineWidth: visualMapModel.get('borderWidth')\n      }\n    }));\n  },\n\n  /**\n   * @protected\n   * @param {number} targetValue can be Infinity or -Infinity\n   * @param {string=} visualCluster Only can be 'color' 'opacity' 'symbol' 'symbolSize'\n   * @param {Object} [opts]\n   * @param {string=} [opts.forceState] Specify state, instead of using getValueState method.\n   * @param {string=} [opts.convertOpacityToAlpha=false] For color gradient in controller widget.\n   * @return {*} Visual value.\n   */\n  getControllerVisual: function (targetValue, visualCluster, opts) {\n    opts = opts || {};\n    var forceState = opts.forceState;\n    var visualMapModel = this.visualMapModel;\n    var visualObj = {}; // Default values.\n\n    if (visualCluster === 'symbol') {\n      visualObj.symbol = visualMapModel.get('itemSymbol');\n    }\n\n    if (visualCluster === 'color') {\n      var defaultColor = visualMapModel.get('contentColor');\n      visualObj.color = defaultColor;\n    }\n\n    function getter(key) {\n      return visualObj[key];\n    }\n\n    function setter(key, value) {\n      visualObj[key] = value;\n    }\n\n    var mappings = visualMapModel.controllerVisuals[forceState || visualMapModel.getValueState(targetValue)];\n    var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n    zrUtil.each(visualTypes, function (type) {\n      var visualMapping = mappings[type];\n\n      if (opts.convertOpacityToAlpha && type === 'opacity') {\n        type = 'colorAlpha';\n        visualMapping = mappings.__alphaForOpacity;\n      }\n\n      if (VisualMapping.dependsOn(type, visualCluster)) {\n        visualMapping && visualMapping.applyVisual(targetValue, getter, setter);\n      }\n    });\n    return visualObj[visualCluster];\n  },\n\n  /**\n   * @protected\n   */\n  positionGroup: function (group) {\n    var model = this.visualMapModel;\n    var api = this.api;\n    layout.positionElement(group, model.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  },\n\n  /**\n   * @protected\n   * @abstract\n   */\n  doRender: zrUtil.noop\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/**\n * @param {module:echarts/component/visualMap/VisualMapModel} visualMapModel\\\n * @param {module:echarts/ExtensionAPI} api\n * @param {Array.<number>} itemSize always [short, long]\n * @return {string} 'left' or 'right' or 'top' or 'bottom'\n */\nfunction getItemAlign(visualMapModel, api, itemSize) {\n  var modelOption = visualMapModel.option;\n  var itemAlign = modelOption.align;\n\n  if (itemAlign != null && itemAlign !== 'auto') {\n    return itemAlign;\n  } // Auto decision align.\n\n\n  var ecSize = {\n    width: api.getWidth(),\n    height: api.getHeight()\n  };\n  var realIndex = modelOption.orient === 'horizontal' ? 1 : 0;\n  var paramsSet = [['left', 'right', 'width'], ['top', 'bottom', 'height']];\n  var reals = paramsSet[realIndex];\n  var fakeValue = [0, null, 10];\n  var layoutInput = {};\n\n  for (var i = 0; i < 3; i++) {\n    layoutInput[paramsSet[1 - realIndex][i]] = fakeValue[i];\n    layoutInput[reals[i]] = i === 2 ? itemSize[0] : modelOption[reals[i]];\n  }\n\n  var rParam = [['x', 'width', 3], ['y', 'height', 0]][realIndex];\n  var rect = getLayoutRect(layoutInput, ecSize, modelOption.padding);\n  return reals[(rect.margin[rParam[2]] || 0) + rect[rParam[0]] + rect[rParam[1]] * 0.5 < ecSize[rParam[1]] * 0.5 ? 0 : 1];\n}\n/**\n * Prepare dataIndex for outside usage, where dataIndex means rawIndex, and\n * dataIndexInside means filtered index.\n */\n\n\nfunction convertDataIndex(batch) {\n  zrUtil.each(batch || [], function (batchItem) {\n    if (batch.dataIndex != null) {\n      batch.dataIndexInside = batch.dataIndex;\n      batch.dataIndex = null;\n    }\n  });\n  return batch;\n}\n\nexports.getItemAlign = getItemAlign;\nexports.convertDataIndex = convertDataIndex;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar each = zrUtil.each;\n\nfunction _default(option) {\n  var visualMap = option && option.visualMap;\n\n  if (!zrUtil.isArray(visualMap)) {\n    visualMap = visualMap ? [visualMap] : [];\n  }\n\n  each(visualMap, function (opt) {\n    if (!opt) {\n      return;\n    } // rename splitList to pieces\n\n\n    if (has(opt, 'splitList') && !has(opt, 'pieces')) {\n      opt.pieces = opt.splitList;\n      delete opt.splitList;\n    }\n\n    var pieces = opt.pieces;\n\n    if (pieces && zrUtil.isArray(pieces)) {\n      each(pieces, function (piece) {\n        if (zrUtil.isObject(piece)) {\n          if (has(piece, 'start') && !has(piece, 'min')) {\n            piece.min = piece.start;\n          }\n\n          if (has(piece, 'end') && !has(piece, 'max')) {\n            piece.max = piece.end;\n          }\n        }\n      });\n    }\n  });\n}\n\nfunction has(obj, name) {\n  return obj && obj.hasOwnProperty && obj.hasOwnProperty(name);\n}\n\nmodule.exports = _default;","var Component = require(\"../../model/Component\");\n\nComponent.registerSubTypeDefaulter('visualMap', function (option) {\n  // Compatible with ec2, when splitNumber === 0, continuous visualMap will be used.\n  return !option.categories && (!(option.pieces ? option.pieces.length > 0 : option.splitNumber > 0) || option.calculable) ? 'continuous' : 'piecewise';\n});","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar visualSolution = require(\"../../visual/visualSolution\");\n\nvar VisualMapping = require(\"../../visual/VisualMapping\");\n\necharts.registerVisual(echarts.PRIORITY.VISUAL.COMPONENT, function (ecModel) {\n  ecModel.eachComponent('visualMap', function (visualMapModel) {\n    processSingleVisualMap(visualMapModel, ecModel);\n  });\n  prepareVisualMeta(ecModel);\n});\n\nfunction processSingleVisualMap(visualMapModel, ecModel) {\n  visualMapModel.eachTargetSeries(function (seriesModel) {\n    var data = seriesModel.getData();\n    visualSolution.applyVisual(visualMapModel.stateList, visualMapModel.targetVisuals, data, visualMapModel.getValueState, visualMapModel, visualMapModel.getDataDimension(data));\n  });\n} // Only support color.\n\n\nfunction prepareVisualMeta(ecModel) {\n  ecModel.eachSeries(function (seriesModel) {\n    var data = seriesModel.getData();\n    var visualMetaList = [];\n    ecModel.eachComponent('visualMap', function (visualMapModel) {\n      if (visualMapModel.isTargetSeries(seriesModel)) {\n        var visualMeta = visualMapModel.getVisualMeta(zrUtil.bind(getColorVisual, null, seriesModel, visualMapModel)) || {\n          stops: [],\n          outerColors: []\n        };\n        visualMeta.dimension = visualMapModel.getDataDimension(data);\n        visualMetaList.push(visualMeta);\n      }\n    }); // console.log(JSON.stringify(visualMetaList.map(a => a.stops)));\n\n    seriesModel.getData().setVisual('visualMeta', visualMetaList);\n  });\n} // FIXME\n// performance and export for heatmap?\n// value can be Infinity or -Infinity\n\n\nfunction getColorVisual(seriesModel, visualMapModel, value, valueState) {\n  var mappings = visualMapModel.targetVisuals[valueState];\n  var visualTypes = VisualMapping.prepareVisualTypes(mappings);\n  var resultVisual = {\n    color: seriesModel.getData().getVisual('color') // default color.\n\n  };\n\n  for (var i = 0, len = visualTypes.length; i < len; i++) {\n    var type = visualTypes[i];\n    var mapping = mappings[type === 'opacity' ? '__alphaForOpacity' : type];\n    mapping && mapping.applyVisual(value, getVisual, setVisual);\n  }\n\n  return resultVisual.color;\n\n  function getVisual(key) {\n    return resultVisual[key];\n  }\n\n  function setVisual(key, value) {\n    resultVisual[key] = value;\n  }\n}","var echarts = require(\"../../echarts\");\n\nvar actionInfo = {\n  type: 'selectDataRange',\n  event: 'dataRangeSelected',\n  // FIXME use updateView appears wrong\n  update: 'update'\n};\necharts.registerAction(actionInfo, function (payload, ecModel) {\n  ecModel.eachComponent({\n    mainType: 'visualMap',\n    query: payload\n  }, function (model) {\n    model.setSelected(payload.selected);\n  });\n});","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar Transformable = require(\"zrender/lib/mixin/Transformable\");\n\n/**\n * Simple view coordinate system\n * Mapping given x, y to transformd view x, y\n */\nvar v2ApplyTransform = vector.applyTransform; // Dummy transform node\n\nfunction TransformDummy() {\n  Transformable.call(this);\n}\n\nzrUtil.mixin(TransformDummy, Transformable);\n\nfunction View(name) {\n  /**\n   * @type {string}\n   */\n  this.name = name;\n  /**\n   * @type {Object}\n   */\n\n  this.zoomLimit;\n  Transformable.call(this);\n  this._roamTransform = new TransformDummy();\n  this._viewTransform = new TransformDummy();\n  this._center;\n  this._zoom;\n}\n\nView.prototype = {\n  constructor: View,\n  type: 'view',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['x', 'y'],\n\n  /**\n   * Set bounding rect\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  // PENDING to getRect\n  setBoundingRect: function (x, y, width, height) {\n    this._rect = new BoundingRect(x, y, width, height);\n    return this._rect;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  // PENDING to getRect\n  getBoundingRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  setViewRect: function (x, y, width, height) {\n    this.transformTo(x, y, width, height);\n    this._viewRect = new BoundingRect(x, y, width, height);\n  },\n\n  /**\n   * Transformed to particular position and size\n   * @param {number} x\n   * @param {number} y\n   * @param {number} width\n   * @param {number} height\n   */\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var viewTransform = this._viewTransform;\n    viewTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    viewTransform.decomposeTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * Set center of view\n   * @param {Array.<number>} [centerCoord]\n   */\n  setCenter: function (centerCoord) {\n    if (!centerCoord) {\n      return;\n    }\n\n    this._center = centerCoord;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * @param {number} zoom\n   */\n  setZoom: function (zoom) {\n    zoom = zoom || 1;\n    var zoomLimit = this.zoomLimit;\n\n    if (zoomLimit) {\n      if (zoomLimit.max != null) {\n        zoom = Math.min(zoomLimit.max, zoom);\n      }\n\n      if (zoomLimit.min != null) {\n        zoom = Math.max(zoomLimit.min, zoom);\n      }\n    }\n\n    this._zoom = zoom;\n\n    this._updateCenterAndZoom();\n  },\n\n  /**\n   * Get default center without roam\n   */\n  getDefaultCenter: function () {\n    // Rect before any transform\n    var rawRect = this.getBoundingRect();\n    var cx = rawRect.x + rawRect.width / 2;\n    var cy = rawRect.y + rawRect.height / 2;\n    return [cx, cy];\n  },\n  getCenter: function () {\n    return this._center || this.getDefaultCenter();\n  },\n  getZoom: function () {\n    return this._zoom || 1;\n  },\n\n  /**\n   * @return {Array.<number}\n   */\n  getRoamTransform: function () {\n    return this._roamTransform;\n  },\n  _updateCenterAndZoom: function () {\n    // Must update after view transform updated\n    var viewTransformMatrix = this._viewTransform.getLocalTransform();\n\n    var roamTransform = this._roamTransform;\n    var defaultCenter = this.getDefaultCenter();\n    var center = this.getCenter();\n    var zoom = this.getZoom();\n    center = vector.applyTransform([], center, viewTransformMatrix);\n    defaultCenter = vector.applyTransform([], defaultCenter, viewTransformMatrix);\n    roamTransform.origin = center;\n    roamTransform.position = [defaultCenter[0] - center[0], defaultCenter[1] - center[1]];\n    roamTransform.scale = [zoom, zoom];\n\n    this._updateTransform();\n  },\n\n  /**\n   * Update transform from roam and mapLocation\n   * @private\n   */\n  _updateTransform: function () {\n    var roamTransform = this._roamTransform;\n    var viewTransform = this._viewTransform;\n    viewTransform.parent = roamTransform;\n    roamTransform.updateTransform();\n    viewTransform.updateTransform();\n    viewTransform.transform && matrix.copy(this.transform || (this.transform = []), viewTransform.transform);\n\n    if (this.transform) {\n      this.invTransform = this.invTransform || [];\n      matrix.invert(this.invTransform, this.transform);\n    } else {\n      this.invTransform = null;\n    }\n\n    this.decomposeTransform();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRect: function () {\n    return this._viewRect;\n  },\n\n  /**\n   * Get view rect after roam transform\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getViewRectAfterRoam: function () {\n    var rect = this.getBoundingRect().clone();\n    rect.applyTransform(this.transform);\n    return rect;\n  },\n\n  /**\n   * Convert a single (lon, lat) data item to (x, y) point.\n   * @param {Array.<number>} data\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data) {\n    var transform = this.transform;\n    return transform ? v2ApplyTransform([], data, transform) : [data[0], data[1]];\n  },\n\n  /**\n   * Convert a (x, y) point to (lon, lat) data\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var invTransform = this.invTransform;\n    return invTransform ? v2ApplyTransform([], point, invTransform) : [point[0], point[1]];\n  },\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * @implements\n   * see {module:echarts/CoodinateSystem}\n   */\n  containPoint: function (point) {\n    return this.getViewRectAfterRoam().contain(point[0], point[1]);\n  }\n  /**\n   * @return {number}\n   */\n  // getScalarScale: function () {\n  //     // Use determinant square root of transform to mutiply scalar\n  //     var m = this.transform;\n  //     var det = Math.sqrt(Math.abs(m[0] * m[3] - m[2] * m[1]));\n  //     return det;\n  // }\n\n};\nzrUtil.mixin(View, Transformable);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var seriesModel = finder.seriesModel;\n  var coordSys = seriesModel ? seriesModel.coordinateSystem : null; // e.g., graph.\n\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = View;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar layout = require(\"../../util/layout\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n// (24*60*60*1000)\nvar PROXIMATE_ONE_DAY = 86400000;\n/**\n * Calendar\n *\n * @constructor\n *\n * @param {Object} calendarModel calendarModel\n * @param {Object} ecModel       ecModel\n * @param {Object} api           api\n */\n\nfunction Calendar(calendarModel, ecModel, api) {\n  this._model = calendarModel;\n}\n\nCalendar.prototype = {\n  constructor: Calendar,\n  type: 'calendar',\n  dimensions: ['time', 'value'],\n  // Required in createListFromData\n  getDimensionsInfo: function () {\n    return [{\n      name: 'time',\n      type: 'time'\n    }];\n  },\n  getRangeInfo: function () {\n    return this._rangeInfo;\n  },\n  getModel: function () {\n    return this._model;\n  },\n  getRect: function () {\n    return this._rect;\n  },\n  getCellWidth: function () {\n    return this._sw;\n  },\n  getCellHeight: function () {\n    return this._sh;\n  },\n  getOrient: function () {\n    return this._orient;\n  },\n\n  /**\n   * getFirstDayOfWeek\n   *\n   * @example\n   *     0 : start at Sunday\n   *     1 : start at Monday\n   *\n   * @return {number}\n   */\n  getFirstDayOfWeek: function () {\n    return this._firstDayOfWeek;\n  },\n\n  /**\n   * get date info\n   *\n   * @param  {string|number} date date\n   * @return {Object}\n   * {\n   *      y: string, local full year, eg., '1940',\n   *      m: string, local month, from '01' ot '12',\n   *      d: string, local date, from '01' to '31' (if exists),\n   *      day: It is not date.getDay(). It is the location of the cell in a week, from 0 to 6,\n   *      time: timestamp,\n   *      formatedDate: string, yyyy-MM-dd,\n   *      date: original date object.\n   * }\n   */\n  getDateInfo: function (date) {\n    date = numberUtil.parseDate(date);\n    var y = date.getFullYear();\n    var m = date.getMonth() + 1;\n    m = m < 10 ? '0' + m : m;\n    var d = date.getDate();\n    d = d < 10 ? '0' + d : d;\n    var day = date.getDay();\n    day = Math.abs((day + 7 - this.getFirstDayOfWeek()) % 7);\n    return {\n      y: y,\n      m: m,\n      d: d,\n      day: day,\n      time: date.getTime(),\n      formatedDate: y + '-' + m + '-' + d,\n      date: date\n    };\n  },\n  getNextNDay: function (date, n) {\n    n = n || 0;\n\n    if (n === 0) {\n      return this.getDateInfo(date);\n    }\n\n    date = new Date(this.getDateInfo(date).time);\n    date.setDate(date.getDate() + n);\n    return this.getDateInfo(date);\n  },\n  update: function (ecModel, api) {\n    this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay');\n    this._orient = this._model.get('orient');\n    this._lineWidth = this._model.getModel('itemStyle.normal').getItemStyle().lineWidth || 0;\n    this._rangeInfo = this._getRangeInfo(this._initRangeOption());\n    var weeks = this._rangeInfo.weeks || 1;\n    var whNames = ['width', 'height'];\n\n    var cellSize = this._model.get('cellSize').slice();\n\n    var layoutParams = this._model.getBoxLayoutParams();\n\n    var cellNumbers = this._orient === 'horizontal' ? [weeks, 7] : [7, weeks];\n    zrUtil.each([0, 1], function (idx) {\n      if (cellSizeSpecified(cellSize, idx)) {\n        layoutParams[whNames[idx]] = cellSize[idx] * cellNumbers[idx];\n      }\n    });\n    var whGlobal = {\n      width: api.getWidth(),\n      height: api.getHeight()\n    };\n    var calendarRect = this._rect = layout.getLayoutRect(layoutParams, whGlobal);\n    zrUtil.each([0, 1], function (idx) {\n      if (!cellSizeSpecified(cellSize, idx)) {\n        cellSize[idx] = calendarRect[whNames[idx]] / cellNumbers[idx];\n      }\n    });\n\n    function cellSizeSpecified(cellSize, idx) {\n      return cellSize[idx] != null && cellSize[idx] !== 'auto';\n    }\n\n    this._sw = cellSize[0];\n    this._sh = cellSize[1];\n  },\n\n  /**\n   * Convert a time data(time, value) item to (x, y) point.\n   *\n   * @override\n   * @param  {Array|number} data data\n   * @param  {boolean} [clamp=true] out of range\n   * @return {Array} point\n   */\n  dataToPoint: function (data, clamp) {\n    zrUtil.isArray(data) && (data = data[0]);\n    clamp == null && (clamp = true);\n    var dayInfo = this.getDateInfo(data);\n    var range = this._rangeInfo;\n    var date = dayInfo.formatedDate; // if not in range return [NaN, NaN]\n\n    if (clamp && !(dayInfo.time >= range.start.time && dayInfo.time <= range.end.time)) {\n      return [NaN, NaN];\n    }\n\n    var week = dayInfo.day;\n\n    var nthWeek = this._getRangeInfo([range.start.time, date]).nthWeek;\n\n    if (this._orient === 'vertical') {\n      return [this._rect.x + week * this._sw + this._sw / 2, this._rect.y + nthWeek * this._sh + this._sh / 2];\n    }\n\n    return [this._rect.x + nthWeek * this._sw + this._sw / 2, this._rect.y + week * this._sh + this._sh / 2];\n  },\n\n  /**\n   * Convert a (x, y) point to time data\n   *\n   * @override\n   * @param  {string} point point\n   * @return {string}       data\n   */\n  pointToData: function (point) {\n    var date = this.pointToDate(point);\n    return date && date.time;\n  },\n\n  /**\n   * Convert a time date item to (x, y) four point.\n   *\n   * @param  {Array} data  date[0] is date\n   * @param  {boolean} [clamp=true]  out of range\n   * @return {Object}       point\n   */\n  dataToRect: function (data, clamp) {\n    var point = this.dataToPoint(data, clamp);\n    return {\n      contentShape: {\n        x: point[0] - (this._sw - this._lineWidth) / 2,\n        y: point[1] - (this._sh - this._lineWidth) / 2,\n        width: this._sw - this._lineWidth,\n        height: this._sh - this._lineWidth\n      },\n      center: point,\n      tl: [point[0] - this._sw / 2, point[1] - this._sh / 2],\n      tr: [point[0] + this._sw / 2, point[1] - this._sh / 2],\n      br: [point[0] + this._sw / 2, point[1] + this._sh / 2],\n      bl: [point[0] - this._sw / 2, point[1] + this._sh / 2]\n    };\n  },\n\n  /**\n   * Convert a (x, y) point to time date\n   *\n   * @param  {Array} point point\n   * @return {Object}       date\n   */\n  pointToDate: function (point) {\n    var nthX = Math.floor((point[0] - this._rect.x) / this._sw) + 1;\n    var nthY = Math.floor((point[1] - this._rect.y) / this._sh) + 1;\n    var range = this._rangeInfo.range;\n\n    if (this._orient === 'vertical') {\n      return this._getDateByWeeksAndDay(nthY, nthX - 1, range);\n    }\n\n    return this._getDateByWeeksAndDay(nthX, nthY - 1, range);\n  },\n\n  /**\n   * @inheritDoc\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @inheritDoc\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData'),\n\n  /**\n   * initRange\n   *\n   * @private\n   * @return {Array} [start, end]\n   */\n  _initRangeOption: function () {\n    var range = this._model.get('range');\n\n    var rg = range;\n\n    if (zrUtil.isArray(rg) && rg.length === 1) {\n      rg = rg[0];\n    }\n\n    if (/^\\d{4}$/.test(rg)) {\n      range = [rg + '-01-01', rg + '-12-31'];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}$/.test(rg)) {\n      var start = this.getDateInfo(rg);\n      var firstDay = start.date;\n      firstDay.setMonth(firstDay.getMonth() + 1);\n      var end = this.getNextNDay(firstDay, -1);\n      range = [start.formatedDate, end.formatedDate];\n    }\n\n    if (/^\\d{4}[\\/|-]\\d{1,2}[\\/|-]\\d{1,2}$/.test(rg)) {\n      range = [rg, rg];\n    }\n\n    var tmp = this._getRangeInfo(range);\n\n    if (tmp.start.time > tmp.end.time) {\n      range.reverse();\n    }\n\n    return range;\n  },\n\n  /**\n   * range info\n   *\n   * @private\n   * @param  {Array} range range ['2017-01-01', '2017-07-08']\n   *  If range[0] > range[1], they will not be reversed.\n   * @return {Object}       obj\n   */\n  _getRangeInfo: function (range) {\n    range = [this.getDateInfo(range[0]), this.getDateInfo(range[1])];\n    var reversed;\n\n    if (range[0].time > range[1].time) {\n      reversed = true;\n      range.reverse();\n    }\n\n    var allDay = Math.floor(range[1].time / PROXIMATE_ONE_DAY) - Math.floor(range[0].time / PROXIMATE_ONE_DAY) + 1; // Consider case:\n    // Firstly set system timezone as \"Time Zone: America/Toronto\",\n    // ```\n    // var first = new Date(1478412000000 - 3600 * 1000 * 2.5);\n    // var second = new Date(1478412000000);\n    // var allDays = Math.floor(second / ONE_DAY) - Math.floor(first / ONE_DAY) + 1;\n    // ```\n    // will get wrong result because of DST. So we should fix it.\n\n    var date = new Date(range[0].time);\n    var startDateNum = date.getDate();\n    var endDateNum = range[1].date.getDate();\n    date.setDate(startDateNum + allDay - 1); // The bias can not over a month, so just compare date.\n\n    if (date.getDate() !== endDateNum) {\n      var sign = date.getTime() - range[1].time > 0 ? 1 : -1;\n\n      while (date.getDate() !== endDateNum && (date.getTime() - range[1].time) * sign > 0) {\n        allDay -= sign;\n        date.setDate(startDateNum + allDay - 1);\n      }\n    }\n\n    var weeks = Math.floor((allDay + range[0].day + 6) / 7);\n    var nthWeek = reversed ? -weeks + 1 : weeks - 1;\n    reversed && range.reverse();\n    return {\n      range: [range[0].formatedDate, range[1].formatedDate],\n      start: range[0],\n      end: range[1],\n      allDay: allDay,\n      weeks: weeks,\n      // From 0.\n      nthWeek: nthWeek,\n      fweek: range[0].day,\n      lweek: range[1].day\n    };\n  },\n\n  /**\n   * get date by nthWeeks and week day in range\n   *\n   * @private\n   * @param  {number} nthWeek the week\n   * @param  {number} day   the week day\n   * @param  {Array} range [d1, d2]\n   * @return {Object}\n   */\n  _getDateByWeeksAndDay: function (nthWeek, day, range) {\n    var rangeInfo = this._getRangeInfo(range);\n\n    if (nthWeek > rangeInfo.weeks || nthWeek === 0 && day < rangeInfo.fweek || nthWeek === rangeInfo.weeks && day > rangeInfo.lweek) {\n      return false;\n    }\n\n    var nthDay = (nthWeek - 1) * 7 - rangeInfo.fweek + day;\n    var date = new Date(rangeInfo.start.time);\n    date.setDate(rangeInfo.start.d + nthDay);\n    return this.getDateInfo(date);\n  }\n};\nCalendar.dimensions = Calendar.prototype.dimensions;\nCalendar.getDimensionsInfo = Calendar.prototype.getDimensionsInfo;\n\nCalendar.create = function (ecModel, api) {\n  var calendarList = [];\n  ecModel.eachComponent('calendar', function (calendarModel) {\n    var calendar = new Calendar(calendarModel, ecModel, api);\n    calendarList.push(calendar);\n    calendarModel.coordinateSystem = calendar;\n  });\n  ecModel.eachSeries(function (calendarSeries) {\n    if (calendarSeries.get('coordinateSystem') === 'calendar') {\n      // Inject coordinate system\n      calendarSeries.coordinateSystem = calendarList[calendarSeries.get('calendarIndex') || 0];\n    }\n  });\n  return calendarList;\n};\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var calendarModel = finder.calendarModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = calendarModel ? calendarModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nCoordinateSystem.register('calendar', Calendar);\nvar _default = Calendar;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar sizeCalculable = _layout.sizeCalculable;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\nvar CalendarModel = ComponentModel.extend({\n  type: 'calendar',\n\n  /**\n   * @type {module:echarts/coord/calendar/Calendar}\n   */\n  coordinateSystem: null,\n  defaultOption: {\n    zlevel: 0,\n    z: 2,\n    left: 80,\n    top: 60,\n    cellSize: 20,\n    // horizontal vertical\n    orient: 'horizontal',\n    // month separate line style\n    splitLine: {\n      show: true,\n      lineStyle: {\n        color: '#000',\n        width: 1,\n        type: 'solid'\n      }\n    },\n    // rect style  temporarily unused emphasis\n    itemStyle: {\n      normal: {\n        color: '#fff',\n        borderWidth: 1,\n        borderColor: '#ccc'\n      }\n    },\n    // week text style\n    dayLabel: {\n      show: true,\n      // a week first day\n      firstDay: 0,\n      // start end\n      position: 'start',\n      margin: '50%',\n      // 50% of cellSize\n      nameMap: 'en',\n      color: '#000'\n    },\n    // month text style\n    monthLabel: {\n      show: true,\n      // start end\n      position: 'start',\n      margin: 5,\n      // center or left\n      align: 'center',\n      // cn en []\n      nameMap: 'en',\n      formatter: null,\n      color: '#000'\n    },\n    // year text style\n    yearLabel: {\n      show: true,\n      // top bottom left right\n      position: null,\n      margin: 30,\n      formatter: null,\n      color: '#ccc',\n      fontFamily: 'sans-serif',\n      fontWeight: 'bolder',\n      fontSize: 20\n    }\n  },\n\n  /**\n   * @override\n   */\n  init: function (option, parentModel, ecModel, extraOpt) {\n    var inputPositionParams = getLayoutParams(option);\n    CalendarModel.superApply(this, 'init', arguments);\n    mergeAndNormalizeLayoutParams(option, inputPositionParams);\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (option, extraOpt) {\n    CalendarModel.superApply(this, 'mergeOption', arguments);\n    mergeAndNormalizeLayoutParams(this.option, option);\n  }\n});\n\nfunction mergeAndNormalizeLayoutParams(target, raw) {\n  // Normalize cellSize\n  var cellSize = target.cellSize;\n\n  if (!zrUtil.isArray(cellSize)) {\n    cellSize = target.cellSize = [cellSize, cellSize];\n  } else if (cellSize.length === 1) {\n    cellSize[1] = cellSize[0];\n  }\n\n  var ignoreSize = zrUtil.map([0, 1], function (hvIdx) {\n    // If user have set `width` or both `left` and `right`, cellSize\n    // will be automatically set to 'auto', otherwise the default\n    // setting of cellSize will make `width` setting not work.\n    if (sizeCalculable(raw, hvIdx)) {\n      cellSize[hvIdx] = 'auto';\n    }\n\n    return cellSize[hvIdx] != null && cellSize[hvIdx] !== 'auto';\n  });\n  mergeLayoutParam(target, raw, {\n    type: 'box',\n    ignoreSize: ignoreSize\n  });\n}\n\nvar _default = CalendarModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  var rangeInfo = coordSys.getRangeInfo();\n  return {\n    coordSys: {\n      type: 'calendar',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height,\n      cellWidth: coordSys.getCellWidth(),\n      cellHeight: coordSys.getCellHeight(),\n      rangeInfo: {\n        start: rangeInfo.start,\n        end: rangeInfo.end,\n        weeks: rangeInfo.weeks,\n        dayCount: rangeInfo.allDay\n      }\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map(['x', 'y'], function (dim, dimIdx) {\n    var axis = this.getAxis(dim);\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.grid.getRect();\n  return {\n    coordSys: {\n      // The name exposed to user is always 'cartesian2d' but not 'grid'.\n      type: 'cartesian2d',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar parseGeoJson = require(\"./parseGeoJson\");\n\nvar View = require(\"../View\");\n\nvar fixNanhai = require(\"./fix/nanhai\");\n\nvar fixTextCoord = require(\"./fix/textCoord\");\n\nvar fixGeoCoord = require(\"./fix/geoCoord\");\n\nvar fixDiaoyuIsland = require(\"./fix/diaoyuIsland\");\n\n// Geo fix functions\nvar geoFixFuncs = [fixNanhai, fixTextCoord, fixGeoCoord, fixDiaoyuIsland];\n/**\n * [Geo description]\n * @param {string} name Geo name\n * @param {string} map Map type\n * @param {Object} geoJson\n * @param {Object} [specialAreas]\n *        Specify the positioned areas by left, top, width, height\n * @param {Object.<string, string>} [nameMap]\n *        Specify name alias\n */\n\nfunction Geo(name, map, geoJson, specialAreas, nameMap) {\n  View.call(this, name);\n  /**\n   * Map type\n   * @type {string}\n   */\n\n  this.map = map;\n  this._nameCoordMap = zrUtil.createHashMap();\n  this.loadGeoJson(geoJson, specialAreas, nameMap);\n}\n\nGeo.prototype = {\n  constructor: Geo,\n  type: 'geo',\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['lng', 'lat'],\n\n  /**\n   * If contain given lng,lat coord\n   * @param {Array.<number>}\n   * @readOnly\n   */\n  containCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return true;\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param {Object} geoJson\n   * @param {Object} [specialAreas]\n   *        Specify the positioned areas by left, top, width, height\n   * @param {Object.<string, string>} [nameMap]\n   *        Specify name alias\n   */\n  loadGeoJson: function (geoJson, specialAreas, nameMap) {\n    // https://jsperf.com/try-catch-performance-overhead\n    try {\n      this.regions = geoJson ? parseGeoJson(geoJson) : [];\n    } catch (e) {\n      throw 'Invalid geoJson format\\n' + e.message;\n    }\n\n    specialAreas = specialAreas || {};\n    nameMap = nameMap || {};\n    var regions = this.regions;\n    var regionsMap = zrUtil.createHashMap();\n\n    for (var i = 0; i < regions.length; i++) {\n      var regionName = regions[i].name; // Try use the alias in nameMap\n\n      regionName = nameMap.hasOwnProperty(regionName) ? nameMap[regionName] : regionName;\n      regions[i].name = regionName;\n      regionsMap.set(regionName, regions[i]); // Add geoJson\n\n      this.addGeoCoord(regionName, regions[i].center); // Some area like Alaska in USA map needs to be tansformed\n      // to look better\n\n      var specialArea = specialAreas[regionName];\n\n      if (specialArea) {\n        regions[i].transformTo(specialArea.left, specialArea.top, specialArea.width, specialArea.height);\n      }\n    }\n\n    this._regionsMap = regionsMap;\n    this._rect = null;\n    zrUtil.each(geoFixFuncs, function (fixFunc) {\n      fixFunc(this);\n    }, this);\n  },\n  // Overwrite\n  transformTo: function (x, y, width, height) {\n    var rect = this.getBoundingRect();\n    rect = rect.clone(); // Longitute is inverted\n\n    rect.y = -rect.y - rect.height;\n    var viewTransform = this._viewTransform;\n    viewTransform.transform = rect.calculateTransform(new BoundingRect(x, y, width, height));\n    viewTransform.decomposeTransform();\n    var scale = viewTransform.scale;\n    scale[1] = -scale[1];\n    viewTransform.updateTransform();\n\n    this._updateTransform();\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/coord/geo/Region}\n   */\n  getRegion: function (name) {\n    return this._regionsMap.get(name);\n  },\n  getRegionByCoord: function (coord) {\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      if (regions[i].contain(coord)) {\n        return regions[i];\n      }\n    }\n  },\n\n  /**\n   * Add geoCoord for indexing by name\n   * @param {string} name\n   * @param {Array.<number>} geoCoord\n   */\n  addGeoCoord: function (name, geoCoord) {\n    this._nameCoordMap.set(name, geoCoord);\n  },\n\n  /**\n   * Get geoCoord by name\n   * @param {string} name\n   * @return {Array.<number>}\n   */\n  getGeoCoord: function (name) {\n    return this._nameCoordMap.get(name);\n  },\n  // Overwrite\n  getBoundingRect: function () {\n    if (this._rect) {\n      return this._rect;\n    }\n\n    var rect;\n    var regions = this.regions;\n\n    for (var i = 0; i < regions.length; i++) {\n      var regionRect = regions[i].getBoundingRect();\n      rect = rect || regionRect.clone();\n      rect.union(regionRect);\n    } // FIXME Always return new ?\n\n\n    return this._rect = rect || new BoundingRect(0, 0, 0, 0);\n  },\n\n  /**\n   * @param {string|Array.<number>} data\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data) {\n    if (typeof data === 'string') {\n      // Map area name to geoCoord\n      data = this.getGeoCoord(data);\n    }\n\n    if (data) {\n      return View.prototype.dataToPoint.call(this, data);\n    }\n  },\n\n  /**\n   * @inheritDoc\n   */\n  convertToPixel: zrUtil.curry(doConvert, 'dataToPoint'),\n\n  /**\n   * @inheritDoc\n   */\n  convertFromPixel: zrUtil.curry(doConvert, 'pointToData')\n};\nzrUtil.mixin(Geo, View);\n\nfunction doConvert(methodName, ecModel, finder, value) {\n  var geoModel = finder.geoModel;\n  var seriesModel = finder.seriesModel;\n  var coordSys = geoModel ? geoModel.coordinateSystem : seriesModel ? seriesModel.coordinateSystem // For map.\n  || (seriesModel.getReferringComponents('geo')[0] || {}).coordinateSystem : null;\n  return coordSys === this ? coordSys[methodName](value) : null;\n}\n\nvar _default = Geo;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar Model = require(\"../../model/Model\");\n\nvar selectableMixin = require(\"../../component/helper/selectableMixin\");\n\nvar geoCreator = require(\"./geoCreator\");\n\nvar GeoModel = ComponentModel.extend({\n  type: 'geo',\n\n  /**\n   * @type {module:echarts/coord/geo/Geo}\n   */\n  coordinateSystem: null,\n  layoutMode: 'box',\n  init: function (option) {\n    ComponentModel.prototype.init.apply(this, arguments); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option.label, ['show']);\n  },\n  optionUpdated: function () {\n    var option = this.option;\n    var self = this;\n    option.regions = geoCreator.getFilledRegions(option.regions, option.map, option.nameMap);\n    this._optionModelMap = zrUtil.reduce(option.regions || [], function (optionModelMap, regionOpt) {\n      if (regionOpt.name) {\n        optionModelMap.set(regionOpt.name, new Model(regionOpt, self));\n      }\n\n      return optionModelMap;\n    }, zrUtil.createHashMap());\n    this.updateSelectedMap(option.regions);\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    show: true,\n    left: 'center',\n    top: 'center',\n    // width:,\n    // height:,\n    // right\n    // bottom\n    // Aspect is width / height. Inited to be geoJson bbox aspect\n    // This parameter is used for scale this aspect\n    aspectScale: 0.75,\n    ///// Layout with center and size\n    // If you wan't to put map in a fixed size box with right aspect ratio\n    // This two properties may more conveninet\n    // layoutCenter: [50%, 50%]\n    // layoutSize: 100\n    silent: false,\n    // Map type\n    map: '',\n    // Define left-top, right-bottom coords to control view\n    // For example, [ [180, 90], [-180, -90] ]\n    boundingCoords: null,\n    // Default on center of map\n    center: null,\n    zoom: 1,\n    scaleLimit: null,\n    // selectedMode: false\n    label: {\n      normal: {\n        show: false,\n        color: '#000'\n      },\n      emphasis: {\n        show: true,\n        color: 'rgb(100,0,0)'\n      }\n    },\n    itemStyle: {\n      normal: {\n        // color: 各异,\n        borderWidth: 0.5,\n        borderColor: '#444',\n        color: '#eee'\n      },\n      emphasis: {\n        // 也是选中样式\n        color: 'rgba(255,215,0,0.8)'\n      }\n    },\n    regions: []\n  },\n\n  /**\n   * Get model of region\n   * @param  {string} name\n   * @return {module:echarts/model/Model}\n   */\n  getRegionModel: function (name) {\n    return this._optionModelMap.get(name) || new Model(null, this, this.ecModel);\n  },\n\n  /**\n   * Format label\n   * @param {string} name Region name\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @return {string}\n   */\n  getFormattedLabel: function (name, status) {\n    var regionModel = this.getRegionModel(name);\n    var formatter = regionModel.get('label.' + status + '.formatter');\n    var params = {\n      name: name\n    };\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      return formatter.replace('{a}', name != null ? name : '');\n    }\n  },\n  setZoom: function (zoom) {\n    this.option.zoom = zoom;\n  },\n  setCenter: function (center) {\n    this.option.center = center;\n  }\n});\nzrUtil.mixin(GeoModel, selectableMixin);\nvar _default = GeoModel;\nmodule.exports = _default;","// Fix for 钓鱼岛\n// var Region = require('../Region');\n// var zrUtil = require('zrender/src/core/util');\n// var geoCoord = [126, 25];\nvar points = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]];\n\nfunction _default(geo) {\n  if (geo.map === 'china') {\n    for (var i = 0, len = geo.regions.length; i < len; ++i) {\n      if (geo.regions[i].name === '台湾') {\n        geo.regions[i].geometries.push({\n          type: 'polygon',\n          exterior: points[0]\n        });\n      }\n    }\n  }\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar geoCoordMap = {\n  'Russia': [100, 60],\n  'United States': [-99, 38],\n  'United States of America': [-99, 38]\n};\n\nfunction _default(geo) {\n  zrUtil.each(geo.regions, function (region) {\n    var geoCoord = geoCoordMap[region.name];\n\n    if (geoCoord) {\n      var cp = region.center;\n      cp[0] = geoCoord[0];\n      cp[1] = geoCoord[1];\n    }\n  });\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Region = require(\"../Region\");\n\n// Fix for 南海诸岛\nvar geoCoord = [126, 25];\nvar points = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]];\n\nfor (var i = 0; i < points.length; i++) {\n  for (var k = 0; k < points[i].length; k++) {\n    points[i][k][0] /= 10.5;\n    points[i][k][1] /= -10.5 / 0.75;\n    points[i][k][0] += geoCoord[0];\n    points[i][k][1] += geoCoord[1];\n  }\n}\n\nfunction _default(geo) {\n  if (geo.map === 'china') {\n    geo.regions.push(new Region('南海诸岛', zrUtil.map(points, function (exterior) {\n      return {\n        type: 'polygon',\n        exterior: exterior\n      };\n    }), geoCoord));\n  }\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar coordsOffsetMap = {\n  '南海诸岛': [32, 80],\n  // 全国\n  '广东': [0, -10],\n  '香港': [10, 5],\n  '澳门': [-10, 10],\n  //'北京': [-10, 0],\n  '天津': [5, 5]\n};\n\nfunction _default(geo) {\n  zrUtil.each(geo.regions, function (region) {\n    var coordFix = coordsOffsetMap[region.name];\n\n    if (coordFix) {\n      var cp = region.center;\n      cp[0] += coordFix[0] / 10.5;\n      cp[1] += -coordFix[1] / (10.5 / 0.75);\n    }\n  });\n}\n\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Geo = require(\"./Geo\");\n\nvar layout = require(\"../../util/layout\");\n\nvar numberUtil = require(\"../../util/number\");\n\n/**\n * Resize method bound to the geo\n * @param {module:echarts/coord/geo/GeoModel|module:echarts/chart/map/MapModel} geoModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizeGeo(geoModel, api) {\n  var boundingCoords = geoModel.get('boundingCoords');\n\n  if (boundingCoords != null) {\n    var leftTop = boundingCoords[0];\n    var rightBottom = boundingCoords[1];\n\n    if (isNaN(leftTop[0]) || isNaN(leftTop[1]) || isNaN(rightBottom[0]) || isNaN(rightBottom[1])) {} else {\n      this.setBoundingRect(leftTop[0], leftTop[1], rightBottom[0] - leftTop[0], rightBottom[1] - leftTop[1]);\n    }\n  }\n\n  var rect = this.getBoundingRect();\n  var boxLayoutOption;\n  var center = geoModel.get('layoutCenter');\n  var size = geoModel.get('layoutSize');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var aspectScale = geoModel.get('aspectScale') || 0.75;\n  var aspect = rect.width / rect.height * aspectScale;\n  var useCenterAndSize = false;\n\n  if (center && size) {\n    center = [numberUtil.parsePercent(center[0], viewWidth), numberUtil.parsePercent(center[1], viewHeight)];\n    size = numberUtil.parsePercent(size, Math.min(viewWidth, viewHeight));\n\n    if (!isNaN(center[0]) && !isNaN(center[1]) && !isNaN(size)) {\n      useCenterAndSize = true;\n    } else {}\n  }\n\n  var viewRect;\n\n  if (useCenterAndSize) {\n    var viewRect = {};\n\n    if (aspect > 1) {\n      // Width is same with size\n      viewRect.width = size;\n      viewRect.height = size / aspect;\n    } else {\n      viewRect.height = size;\n      viewRect.width = size * aspect;\n    }\n\n    viewRect.y = center[1] - viewRect.height / 2;\n    viewRect.x = center[0] - viewRect.width / 2;\n  } else {\n    // Use left/top/width/height\n    boxLayoutOption = geoModel.getBoxLayoutParams(); // 0.75 rate\n\n    boxLayoutOption.aspect = aspect;\n    viewRect = layout.getLayoutRect(boxLayoutOption, {\n      width: viewWidth,\n      height: viewHeight\n    });\n  }\n\n  this.setViewRect(viewRect.x, viewRect.y, viewRect.width, viewRect.height);\n  this.setCenter(geoModel.get('center'));\n  this.setZoom(geoModel.get('zoom'));\n}\n/**\n * @param {module:echarts/coord/Geo} geo\n * @param {module:echarts/model/Model} model\n * @inner\n */\n\n\nfunction setGeoCoords(geo, model) {\n  zrUtil.each(model.get('geoCoord'), function (geoCoord, name) {\n    geo.addGeoCoord(name, geoCoord);\n  });\n}\n\nvar geoCreator = {\n  // For deciding which dimensions to use when creating list data\n  dimensions: Geo.prototype.dimensions,\n  create: function (ecModel, api) {\n    var geoList = []; // FIXME Create each time may be slow\n\n    ecModel.eachComponent('geo', function (geoModel, idx) {\n      var name = geoModel.get('map');\n      var mapData = echarts.getMap(name);\n      var geo = new Geo(name + idx, name, mapData && mapData.geoJson, mapData && mapData.specialAreas, geoModel.get('nameMap'));\n      geo.zoomLimit = geoModel.get('scaleLimit');\n      geoList.push(geo);\n      setGeoCoords(geo, geoModel);\n      geoModel.coordinateSystem = geo;\n      geo.model = geoModel; // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(geoModel, api);\n    });\n    ecModel.eachSeries(function (seriesModel) {\n      var coordSys = seriesModel.get('coordinateSystem');\n\n      if (coordSys === 'geo') {\n        var geoIndex = seriesModel.get('geoIndex') || 0;\n        seriesModel.coordinateSystem = geoList[geoIndex];\n      }\n    }); // If has map series\n\n    var mapModelGroupBySeries = {};\n    ecModel.eachSeriesByType('map', function (seriesModel) {\n      if (!seriesModel.getHostGeoModel()) {\n        var mapType = seriesModel.getMapType();\n        mapModelGroupBySeries[mapType] = mapModelGroupBySeries[mapType] || [];\n        mapModelGroupBySeries[mapType].push(seriesModel);\n      }\n    });\n    zrUtil.each(mapModelGroupBySeries, function (mapSeries, mapType) {\n      var mapData = echarts.getMap(mapType);\n      var nameMapList = zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('nameMap');\n      });\n      var geo = new Geo(mapType, mapType, mapData && mapData.geoJson, mapData && mapData.specialAreas, zrUtil.mergeAll(nameMapList));\n      geo.zoomLimit = zrUtil.retrieve.apply(null, zrUtil.map(mapSeries, function (singleMapSeries) {\n        return singleMapSeries.get('scaleLimit');\n      }));\n      geoList.push(geo); // Inject resize method\n\n      geo.resize = resizeGeo;\n      geo.resize(mapSeries[0], api);\n      zrUtil.each(mapSeries, function (singleMapSeries) {\n        singleMapSeries.coordinateSystem = geo;\n        setGeoCoords(geo, singleMapSeries);\n      });\n    });\n    return geoList;\n  },\n\n  /**\n   * Fill given regions array\n   * @param  {Array.<Object>} originRegionArr\n   * @param  {string} mapName\n   * @param  {Object} [nameMap]\n   * @return {Array}\n   */\n  getFilledRegions: function (originRegionArr, mapName, nameMap) {\n    // Not use the original\n    var regionsArr = (originRegionArr || []).slice();\n    nameMap = nameMap || {};\n    var map = echarts.getMap(mapName);\n    var geoJson = map && map.geoJson;\n\n    if (!geoJson) {\n      return originRegionArr;\n    }\n\n    var dataNameMap = zrUtil.createHashMap();\n    var features = geoJson.features;\n\n    for (var i = 0; i < regionsArr.length; i++) {\n      dataNameMap.set(regionsArr[i].name, regionsArr[i]);\n    }\n\n    for (var i = 0; i < features.length; i++) {\n      var name = features[i].properties.name;\n\n      if (!dataNameMap.get(name)) {\n        if (nameMap.hasOwnProperty(name)) {\n          name = nameMap[name];\n        }\n\n        regionsArr.push({\n          name: name\n        });\n      }\n    }\n\n    return regionsArr;\n  }\n};\necharts.registerCoordinateSystem('geo', geoCreator);\nvar _default = geoCreator;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  dataItem = dataItem || [0, 0];\n  return zrUtil.map([0, 1], function (dimIdx) {\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var p1 = [];\n    var p2 = [];\n    p1[dimIdx] = val - halfSize;\n    p2[dimIdx] = val + halfSize;\n    p1[1 - dimIdx] = p2[1 - dimIdx] = dataItem[1 - dimIdx];\n    return Math.abs(this.dataToPoint(p1)[dimIdx] - this.dataToPoint(p2)[dimIdx]);\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getBoundingRect();\n  return {\n    coordSys: {\n      type: 'geo',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar makeStyleMapper = require(\"../../model/mixin/makeStyleMapper\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\nvar AxisModel = ComponentModel.extend({\n  type: 'baseParallelAxis',\n\n  /**\n   * @type {module:echarts/coord/parallel/Axis}\n   */\n  axis: null,\n\n  /**\n   * @type {Array.<Array.<number>}\n   * @readOnly\n   */\n  activeIntervals: [],\n\n  /**\n   * @return {Object}\n   */\n  getAreaSelectStyle: function () {\n    return makeStyleMapper([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']])(this.getModel('areaSelectStyle'));\n  },\n\n  /**\n   * The code of this feature is put on AxisModel but not ParallelAxis,\n   * because axisModel can be alive after echarts updating but instance of\n   * ParallelAxis having been disposed. this._activeInterval should be kept\n   * when action dispatched (i.e. legend click).\n   *\n   * @param {Array.<Array<number>>} intervals interval.length === 0\n   *                                          means set all active.\n   * @public\n   */\n  setActiveIntervals: function (intervals) {\n    var activeIntervals = this.activeIntervals = zrUtil.clone(intervals); // Normalize\n\n    if (activeIntervals) {\n      for (var i = activeIntervals.length - 1; i >= 0; i--) {\n        numberUtil.asc(activeIntervals[i]);\n      }\n    }\n  },\n\n  /**\n   * @param {number|string} [value] When attempting to detect 'no activeIntervals set',\n   *                         value can not be input.\n   * @return {string} 'normal': no activeIntervals set,\n   *                  'active',\n   *                  'inactive'.\n   * @public\n   */\n  getActiveState: function (value) {\n    var activeIntervals = this.activeIntervals;\n\n    if (!activeIntervals.length) {\n      return 'normal';\n    }\n\n    if (value == null) {\n      return 'inactive';\n    }\n\n    for (var i = 0, len = activeIntervals.length; i < len; i++) {\n      if (activeIntervals[i][0] <= value && value <= activeIntervals[i][1]) {\n        return 'active';\n      }\n    }\n\n    return 'inactive';\n  }\n});\nvar defaultOption = {\n  type: 'value',\n\n  /**\n   * @type {Array.<number>}\n   */\n  dim: null,\n  // 0, 1, 2, ...\n  // parallelIndex: null,\n  areaSelectStyle: {\n    width: 20,\n    borderWidth: 1,\n    borderColor: 'rgba(160,197,232)',\n    color: 'rgba(160,197,232)',\n    opacity: 0.3\n  },\n  realtime: true,\n  // Whether realtime update view when select.\n  z: 10\n};\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('parallel', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar layoutUtil = require(\"../../util/layout\");\n\nvar axisHelper = require(\"../../coord/axisHelper\");\n\nvar ParallelAxis = require(\"./ParallelAxis\");\n\nvar graphic = require(\"../../util/graphic\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar sliderMove = require(\"../../component/helper/sliderMove\");\n\n/**\n * Parallel Coordinates\n * <https://en.wikipedia.org/wiki/Parallel_coordinates>\n */\nvar each = zrUtil.each;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar round = numberUtil.round;\nvar PI = Math.PI;\n\nfunction Parallel(parallelModel, ecModel, api) {\n  /**\n   * key: dimension\n   * @type {Object.<string, module:echarts/coord/parallel/Axis>}\n   * @private\n   */\n  this._axesMap = zrUtil.createHashMap();\n  /**\n   * key: dimension\n   * value: {position: [], rotation, }\n   * @type {Object.<string, Object>}\n   * @private\n   */\n\n  this._axesLayout = {};\n  /**\n   * Always follow axis order.\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = parallelModel.dimensions;\n  /**\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n  /**\n   * @type {module:echarts/coord/parallel/ParallelModel}\n   */\n\n  this._model = parallelModel;\n\n  this._init(parallelModel, ecModel, api);\n}\n\nParallel.prototype = {\n  type: 'parallel',\n  constructor: Parallel,\n\n  /**\n   * Initialize cartesian coordinate systems\n   * @private\n   */\n  _init: function (parallelModel, ecModel, api) {\n    var dimensions = parallelModel.dimensions;\n    var parallelAxisIndex = parallelModel.parallelAxisIndex;\n    each(dimensions, function (dim, idx) {\n      var axisIndex = parallelAxisIndex[idx];\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n\n      var axis = this._axesMap.set(dim, new ParallelAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisIndex));\n\n      var isCategory = axis.type === 'category';\n      axis.onBand = isCategory && axisModel.get('boundaryGap');\n      axis.inverse = axisModel.get('inverse'); // Injection\n\n      axisModel.axis = axis;\n      axis.model = axisModel;\n      axis.coordinateSystem = axisModel.coordinateSystem = this;\n    }, this);\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    this._updateAxesFromSeries(this._model, ecModel);\n  },\n\n  /**\n   * @override\n   */\n  containPoint: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var axisBase = layoutInfo.axisBase;\n    var layoutBase = layoutInfo.layoutBase;\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var pAxis = point[1 - pixelDimIndex];\n    var pLayout = point[pixelDimIndex];\n    return pAxis >= axisBase && pAxis <= axisBase + layoutInfo.axisLength && pLayout >= layoutBase && pLayout <= layoutBase + layoutInfo.layoutLength;\n  },\n  getModel: function () {\n    return this._model;\n  },\n\n  /**\n   * Update properties from series\n   * @private\n   */\n  _updateAxesFromSeries: function (parallelModel, ecModel) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (!parallelModel.contains(seriesModel, ecModel)) {\n        return;\n      }\n\n      var data = seriesModel.getData();\n      each(this.dimensions, function (dim) {\n        var axis = this._axesMap.get(dim);\n\n        axis.scale.unionExtentFromData(data, dim);\n        axisHelper.niceScaleExtent(axis.scale, axis.model);\n      }, this);\n    }, this);\n  },\n\n  /**\n   * Resize the parallel coordinate system.\n   * @param {module:echarts/coord/parallel/ParallelModel} parallelModel\n   * @param {module:echarts/ExtensionAPI} api\n   */\n  resize: function (parallelModel, api) {\n    this._rect = layoutUtil.getLayoutRect(parallelModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._layoutAxes();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _makeLayoutInfo: function () {\n    var parallelModel = this._model;\n    var rect = this._rect;\n    var xy = ['x', 'y'];\n    var wh = ['width', 'height'];\n    var layout = parallelModel.get('layout');\n    var pixelDimIndex = layout === 'horizontal' ? 0 : 1;\n    var layoutLength = rect[wh[pixelDimIndex]];\n    var layoutExtent = [0, layoutLength];\n    var axisCount = this.dimensions.length;\n    var axisExpandWidth = restrict(parallelModel.get('axisExpandWidth'), layoutExtent);\n    var axisExpandCount = restrict(parallelModel.get('axisExpandCount') || 0, [0, axisCount]);\n    var axisExpandable = parallelModel.get('axisExpandable') && axisCount > 3 && axisCount > axisExpandCount && axisExpandCount > 1 && axisExpandWidth > 0 && layoutLength > 0; // `axisExpandWindow` is According to the coordinates of [0, axisExpandLength],\n    // for sake of consider the case that axisCollapseWidth is 0 (when screen is narrow),\n    // where collapsed axes should be overlapped.\n\n    var axisExpandWindow = parallelModel.get('axisExpandWindow');\n    var winSize;\n\n    if (!axisExpandWindow) {\n      winSize = restrict(axisExpandWidth * (axisExpandCount - 1), layoutExtent);\n      var axisExpandCenter = parallelModel.get('axisExpandCenter') || mathFloor(axisCount / 2);\n      axisExpandWindow = [axisExpandWidth * axisExpandCenter - winSize / 2];\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    } else {\n      winSize = restrict(axisExpandWindow[1] - axisExpandWindow[0], layoutExtent);\n      axisExpandWindow[1] = axisExpandWindow[0] + winSize;\n    }\n\n    var axisCollapseWidth = (layoutLength - winSize) / (axisCount - axisExpandCount); // Avoid axisCollapseWidth is too small.\n\n    axisCollapseWidth < 3 && (axisCollapseWidth = 0); // Find the first and last indices > ewin[0] and < ewin[1].\n\n    var winInnerIndices = [mathFloor(round(axisExpandWindow[0] / axisExpandWidth, 1)) + 1, mathCeil(round(axisExpandWindow[1] / axisExpandWidth, 1)) - 1]; // Pos in ec coordinates.\n\n    var axisExpandWindow0Pos = axisCollapseWidth / axisExpandWidth * axisExpandWindow[0];\n    return {\n      layout: layout,\n      pixelDimIndex: pixelDimIndex,\n      layoutBase: rect[xy[pixelDimIndex]],\n      layoutLength: layoutLength,\n      axisBase: rect[xy[1 - pixelDimIndex]],\n      axisLength: rect[wh[1 - pixelDimIndex]],\n      axisExpandable: axisExpandable,\n      axisExpandWidth: axisExpandWidth,\n      axisCollapseWidth: axisCollapseWidth,\n      axisExpandWindow: axisExpandWindow,\n      axisCount: axisCount,\n      winInnerIndices: winInnerIndices,\n      axisExpandWindow0Pos: axisExpandWindow0Pos\n    };\n  },\n\n  /**\n   * @private\n   */\n  _layoutAxes: function () {\n    var rect = this._rect;\n    var axes = this._axesMap;\n    var dimensions = this.dimensions;\n\n    var layoutInfo = this._makeLayoutInfo();\n\n    var layout = layoutInfo.layout;\n    axes.each(function (axis) {\n      var axisExtent = [0, layoutInfo.axisLength];\n      var idx = axis.inverse ? 1 : 0;\n      axis.setExtent(axisExtent[idx], axisExtent[1 - idx]);\n    });\n    each(dimensions, function (dim, idx) {\n      var posInfo = (layoutInfo.axisExpandable ? layoutAxisWithExpand : layoutAxisWithoutExpand)(idx, layoutInfo);\n      var positionTable = {\n        horizontal: {\n          x: posInfo.position,\n          y: layoutInfo.axisLength\n        },\n        vertical: {\n          x: 0,\n          y: posInfo.position\n        }\n      };\n      var rotationTable = {\n        horizontal: PI / 2,\n        vertical: 0\n      };\n      var position = [positionTable[layout].x + rect.x, positionTable[layout].y + rect.y];\n      var rotation = rotationTable[layout];\n      var transform = matrix.create();\n      matrix.rotate(transform, transform, rotation);\n      matrix.translate(transform, transform, position); // TODO\n      // tick等排布信息。\n      // TODO\n      // 根据axis order 更新 dimensions顺序。\n\n      this._axesLayout[dim] = {\n        position: position,\n        rotation: rotation,\n        transform: transform,\n        axisNameAvailableWidth: posInfo.axisNameAvailableWidth,\n        axisLabelShow: posInfo.axisLabelShow,\n        nameTruncateMaxWidth: posInfo.nameTruncateMaxWidth,\n        tickDirection: 1,\n        labelDirection: 1,\n        labelInterval: axes.get(dim).getLabelInterval()\n      };\n    }, this);\n  },\n\n  /**\n   * Get axis by dim.\n   * @param {string} dim\n   * @return {module:echarts/coord/parallel/ParallelAxis} [description]\n   */\n  getAxis: function (dim) {\n    return this._axesMap.get(dim);\n  },\n\n  /**\n   * Convert a dim value of a single item of series data to Point.\n   * @param {*} value\n   * @param {string} dim\n   * @return {Array}\n   */\n  dataToPoint: function (value, dim) {\n    return this.axisCoordToPoint(this._axesMap.get(dim).dataToCoord(value), dim);\n  },\n\n  /**\n   * Travel data for one time, get activeState of each data item.\n   * @param {module:echarts/data/List} data\n   * @param {Functio} cb param: {string} activeState 'active' or 'inactive' or 'normal'\n   *                            {number} dataIndex\n   * @param {Object} context\n   */\n  eachActiveState: function (data, callback, context) {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = this.hasAxisBrushed();\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      var values = data.getValues(dimensions, i);\n      var activeState;\n\n      if (!hasActiveSet) {\n        activeState = 'normal';\n      } else {\n        activeState = 'active';\n\n        for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n          var dimName = dimensions[j];\n          var state = axesMap.get(dimName).model.getActiveState(values[j], j);\n\n          if (state === 'inactive') {\n            activeState = 'inactive';\n            break;\n          }\n        }\n      }\n\n      callback.call(context, activeState, i);\n    }\n  },\n\n  /**\n   * Whether has any activeSet.\n   * @return {boolean}\n   */\n  hasAxisBrushed: function () {\n    var dimensions = this.dimensions;\n    var axesMap = this._axesMap;\n    var hasActiveSet = false;\n\n    for (var j = 0, lenj = dimensions.length; j < lenj; j++) {\n      if (axesMap.get(dimensions[j]).model.getActiveState() !== 'normal') {\n        hasActiveSet = true;\n      }\n    }\n\n    return hasActiveSet;\n  },\n\n  /**\n   * Convert coords of each axis to Point.\n   *  Return point. For example: [10, 20]\n   * @param {Array.<number>} coords\n   * @param {string} dim\n   * @return {Array.<number>}\n   */\n  axisCoordToPoint: function (coord, dim) {\n    var axisLayout = this._axesLayout[dim];\n    return graphic.applyTransform([coord, 0], axisLayout.transform);\n  },\n\n  /**\n   * Get axis layout.\n   */\n  getAxisLayout: function (dim) {\n    return zrUtil.clone(this._axesLayout[dim]);\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Object} {axisExpandWindow, delta, behavior: 'jump' | 'slide' | 'none'}.\n   */\n  getSlidedAxisExpandWindow: function (point) {\n    var layoutInfo = this._makeLayoutInfo();\n\n    var pixelDimIndex = layoutInfo.pixelDimIndex;\n    var axisExpandWindow = layoutInfo.axisExpandWindow.slice();\n    var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n    var extent = [0, layoutInfo.axisExpandWidth * (layoutInfo.axisCount - 1)]; // Out of the area of coordinate system.\n\n    if (!this.containPoint(point)) {\n      return {\n        behavior: 'none',\n        axisExpandWindow: axisExpandWindow\n      };\n    } // Conver the point from global to expand coordinates.\n\n\n    var pointCoord = point[pixelDimIndex] - layoutInfo.layoutBase - layoutInfo.axisExpandWindow0Pos; // For dragging operation convenience, the window should not be\n    // slided when mouse is the center area of the window.\n\n    var delta;\n    var behavior = 'slide';\n    var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n\n    var triggerArea = this._model.get('axisExpandSlideTriggerArea'); // But consider touch device, jump is necessary.\n\n\n    var useJump = triggerArea[0] != null;\n\n    if (axisCollapseWidth) {\n      if (useJump && axisCollapseWidth && pointCoord < winSize * triggerArea[0]) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * triggerArea[2];\n      } else if (useJump && axisCollapseWidth && pointCoord > winSize * (1 - triggerArea[0])) {\n        behavior = 'jump';\n        delta = pointCoord - winSize * (1 - triggerArea[2]);\n      } else {\n        (delta = pointCoord - winSize * triggerArea[1]) >= 0 && (delta = pointCoord - winSize * (1 - triggerArea[1])) <= 0 && (delta = 0);\n      }\n\n      delta *= layoutInfo.axisExpandWidth / axisCollapseWidth;\n      delta ? sliderMove(delta, axisExpandWindow, extent, 'all') // Avoid nonsense triger on mousemove.\n      : behavior = 'none';\n    } // When screen is too narrow, make it visible and slidable, although it is hard to interact.\n    else {\n        var winSize = axisExpandWindow[1] - axisExpandWindow[0];\n        var pos = extent[1] * pointCoord / winSize;\n        axisExpandWindow = [mathMax(0, pos - winSize / 2)];\n        axisExpandWindow[1] = mathMin(extent[1], axisExpandWindow[0] + winSize);\n        axisExpandWindow[0] = axisExpandWindow[1] - winSize;\n      }\n\n    return {\n      axisExpandWindow: axisExpandWindow,\n      behavior: behavior\n    };\n  }\n};\n\nfunction restrict(len, extent) {\n  return mathMin(mathMax(len, extent[0]), extent[1]);\n}\n\nfunction layoutAxisWithoutExpand(axisIndex, layoutInfo) {\n  var step = layoutInfo.layoutLength / (layoutInfo.axisCount - 1);\n  return {\n    position: step * axisIndex,\n    axisNameAvailableWidth: step,\n    axisLabelShow: true\n  };\n}\n\nfunction layoutAxisWithExpand(axisIndex, layoutInfo) {\n  var layoutLength = layoutInfo.layoutLength;\n  var axisExpandWidth = layoutInfo.axisExpandWidth;\n  var axisCount = layoutInfo.axisCount;\n  var axisCollapseWidth = layoutInfo.axisCollapseWidth;\n  var winInnerIndices = layoutInfo.winInnerIndices;\n  var position;\n  var axisNameAvailableWidth = axisCollapseWidth;\n  var axisLabelShow = false;\n  var nameTruncateMaxWidth;\n\n  if (axisIndex < winInnerIndices[0]) {\n    position = axisIndex * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  } else if (axisIndex <= winInnerIndices[1]) {\n    position = layoutInfo.axisExpandWindow0Pos + axisIndex * axisExpandWidth - layoutInfo.axisExpandWindow[0];\n    axisNameAvailableWidth = axisExpandWidth;\n    axisLabelShow = true;\n  } else {\n    position = layoutLength - (axisCount - 1 - axisIndex) * axisCollapseWidth;\n    nameTruncateMaxWidth = axisCollapseWidth;\n  }\n\n  return {\n    position: position,\n    axisNameAvailableWidth: axisNameAvailableWidth,\n    axisLabelShow: axisLabelShow,\n    nameTruncateMaxWidth: nameTruncateMaxWidth\n  };\n}\n\nvar _default = Parallel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/**\n * @constructor module:echarts/coord/parallel/ParallelAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n */\nvar ParallelAxis = function (dim, scale, coordExtent, axisType, axisIndex) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.axisIndex = axisIndex;\n};\n\nParallelAxis.prototype = {\n  constructor: ParallelAxis,\n\n  /**\n   * Axis model\n   * @param {module:echarts/coord/parallel/AxisModel}\n   */\n  model: null,\n\n  /**\n   * @override\n   */\n  isHorizontal: function () {\n    return this.coordinateSystem.getModel().get('layout') !== 'horizontal';\n  }\n};\nzrUtil.inherits(ParallelAxis, Axis);\nvar _default = ParallelAxis;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Component = require(\"../../model/Component\");\n\nrequire(\"./AxisModel\");\n\nvar _default = Component.extend({\n  type: 'parallel',\n  dependencies: ['parallelAxis'],\n\n  /**\n   * @type {module:echarts/coord/parallel/Parallel}\n   */\n  coordinateSystem: null,\n\n  /**\n   * Each item like: 'dim0', 'dim1', 'dim2', ...\n   * @type {Array.<string>}\n   * @readOnly\n   */\n  dimensions: null,\n\n  /**\n   * Coresponding to dimensions.\n   * @type {Array.<number>}\n   * @readOnly\n   */\n  parallelAxisIndex: null,\n  layoutMode: 'box',\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    left: 80,\n    top: 60,\n    right: 80,\n    bottom: 60,\n    // width: {totalWidth} - left - right,\n    // height: {totalHeight} - top - bottom,\n    layout: 'horizontal',\n    // 'horizontal' or 'vertical'\n    // FIXME\n    // naming?\n    axisExpandable: false,\n    axisExpandCenter: null,\n    axisExpandCount: 0,\n    axisExpandWidth: 50,\n    // FIXME '10%' ?\n    axisExpandRate: 17,\n    axisExpandDebounce: 50,\n    // [out, in, jumpTarget]. In percentage. If use [null, 0.05], null means full.\n    // Do not doc to user until necessary.\n    axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4],\n    axisExpandTriggerOn: 'click',\n    // 'mousemove' or 'click'\n    parallelAxisDefault: null\n  },\n\n  /**\n   * @override\n   */\n  init: function () {\n    Component.prototype.init.apply(this, arguments);\n    this.mergeOption({});\n  },\n\n  /**\n   * @override\n   */\n  mergeOption: function (newOption) {\n    var thisOption = this.option;\n    newOption && zrUtil.merge(thisOption, newOption, true);\n\n    this._initDimensions();\n  },\n\n  /**\n   * Whether series or axis is in this coordinate system.\n   * @param {module:echarts/model/Series|module:echarts/coord/parallel/AxisModel} model\n   * @param {module:echarts/model/Global} ecModel\n   */\n  contains: function (model, ecModel) {\n    var parallelIndex = model.get('parallelIndex');\n    return parallelIndex != null && ecModel.getComponent('parallel', parallelIndex) === this;\n  },\n  setAxisExpand: function (opt) {\n    zrUtil.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (name) {\n      if (opt.hasOwnProperty(name)) {\n        this.option[name] = opt[name];\n      }\n    }, this);\n  },\n\n  /**\n   * @private\n   */\n  _initDimensions: function () {\n    var dimensions = this.dimensions = [];\n    var parallelAxisIndex = this.parallelAxisIndex = [];\n    var axisModels = zrUtil.filter(this.dependentModels.parallelAxis, function (axisModel) {\n      // Can not use this.contains here, because\n      // initialization has not been completed yet.\n      return (axisModel.get('parallelIndex') || 0) === this.componentIndex;\n    }, this);\n    zrUtil.each(axisModels, function (axisModel) {\n      dimensions.push('dim' + axisModel.get('dim'));\n      parallelAxisIndex.push(axisModel.componentIndex);\n    });\n  }\n});\n\nmodule.exports = _default;","var Parallel = require(\"./Parallel\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/**\n * Parallel coordinate system creater.\n */\nfunction create(ecModel, api) {\n  var coordSysList = [];\n  ecModel.eachComponent('parallel', function (parallelModel, idx) {\n    var coordSys = new Parallel(parallelModel, ecModel, api);\n    coordSys.name = 'parallel_' + idx;\n    coordSys.resize(parallelModel, api);\n    parallelModel.coordinateSystem = coordSys;\n    coordSys.model = parallelModel;\n    coordSysList.push(coordSys);\n  }); // Inject the coordinateSystems into seriesModel\n\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'parallel') {\n      var parallelModel = ecModel.queryComponents({\n        mainType: 'parallel',\n        index: seriesModel.get('parallelIndex'),\n        id: seriesModel.get('parallelId')\n      })[0];\n      seriesModel.coordinateSystem = parallelModel.coordinateSystem;\n    }\n  });\n  return coordSysList;\n}\n\nCoordinateSystem.register('parallel', {\n  create: create\n});","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n\nfunction _default(option) {\n  createParallelIfNeeded(option);\n  mergeAxisOptionFromParallel(option);\n}\n/**\n * Create a parallel coordinate if not exists.\n * @inner\n */\n\n\nfunction createParallelIfNeeded(option) {\n  if (option.parallel) {\n    return;\n  }\n\n  var hasParallelSeries = false;\n  zrUtil.each(option.series, function (seriesOpt) {\n    if (seriesOpt && seriesOpt.type === 'parallel') {\n      hasParallelSeries = true;\n    }\n  });\n\n  if (hasParallelSeries) {\n    option.parallel = [{}];\n  }\n}\n/**\n * Merge aixs definition from parallel option (if exists) to axis option.\n * @inner\n */\n\n\nfunction mergeAxisOptionFromParallel(option) {\n  var axes = modelUtil.normalizeToArray(option.parallelAxis);\n  zrUtil.each(axes, function (axisOption) {\n    if (!zrUtil.isObject(axisOption)) {\n      return;\n    }\n\n    var parallelIndex = axisOption.parallelIndex || 0;\n    var parallelOption = modelUtil.normalizeToArray(option.parallel)[parallelIndex];\n\n    if (parallelOption && parallelOption.parallelAxisDefault) {\n      zrUtil.merge(axisOption, parallelOption.parallelAxisDefault, false);\n    }\n  });\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\nfunction AngleAxis(scale, angleExtent) {\n  angleExtent = angleExtent || [0, 360];\n  Axis.call(this, 'angle', scale, angleExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nAngleAxis.prototype = {\n  constructor: AngleAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToAngle: Axis.prototype.dataToCoord,\n  angleToData: Axis.prototype.coordToData\n};\nzrUtil.inherits(AngleAxis, Axis);\nvar _default = AngleAxis;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\nvar PolarAxisModel = ComponentModel.extend({\n  type: 'polarAxis',\n\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  axis: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this.ecModel.queryComponents({\n      mainType: 'polar',\n      index: this.option.polarIndex,\n      id: this.option.polarId\n    })[0];\n  }\n});\nzrUtil.merge(PolarAxisModel.prototype, axisModelCommonMixin);\nvar polarAxisDefaultExtendedOption = {\n  angle: {\n    // polarIndex: 0,\n    // polarId: '',\n    startAngle: 90,\n    clockwise: true,\n    splitNumber: 12,\n    axisLabel: {\n      rotate: false\n    }\n  },\n  radius: {\n    // polarIndex: 0,\n    // polarId: '',\n    splitNumber: 5\n  }\n};\n\nfunction getAxisType(axisDim, option) {\n  // Default axis with data is category axis\n  return option.type || (option.data ? 'category' : 'value');\n}\n\naxisModelCreator('angle', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.angle);\naxisModelCreator('radius', PolarAxisModel, getAxisType, polarAxisDefaultExtendedOption.radius);","var RadiusAxis = require(\"./RadiusAxis\");\n\nvar AngleAxis = require(\"./AngleAxis\");\n\n/**\n * @module echarts/coord/polar/Polar\n */\n\n/**\n * @alias {module:echarts/coord/polar/Polar}\n * @constructor\n * @param {string} name\n */\nvar Polar = function (name) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * x of polar center\n   * @type {number}\n   */\n\n  this.cx = 0;\n  /**\n   * y of polar center\n   * @type {number}\n   */\n\n  this.cy = 0;\n  /**\n   * @type {module:echarts/coord/polar/RadiusAxis}\n   * @private\n   */\n\n  this._radiusAxis = new RadiusAxis();\n  /**\n   * @type {module:echarts/coord/polar/AngleAxis}\n   * @private\n   */\n\n  this._angleAxis = new AngleAxis();\n  this._radiusAxis.polar = this._angleAxis.polar = this;\n};\n\nPolar.prototype = {\n  type: 'polar',\n  axisPointerEnabled: true,\n  constructor: Polar,\n\n  /**\n   * @param {Array.<string>}\n   * @readOnly\n   */\n  dimensions: ['radius', 'angle'],\n\n  /**\n   * @type {module:echarts/coord/PolarModel}\n   */\n  model: null,\n\n  /**\n   * If contain coord\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var coord = this.pointToCoord(point);\n    return this._radiusAxis.contain(coord[0]) && this._angleAxis.contain(coord[1]);\n  },\n\n  /**\n   * If contain data\n   * @param {Array.<number>} data\n   * @return {boolean}\n   */\n  containData: function (data) {\n    return this._radiusAxis.containData(data[0]) && this._angleAxis.containData(data[1]);\n  },\n\n  /**\n   * @param {string} dim\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxis: function (dim) {\n    return this['_' + dim + 'Axis'];\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._radiusAxis, this._angleAxis];\n  },\n\n  /**\n   * Get axes by type of scale\n   * @param {string} scaleType\n   * @return {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n   */\n  getAxesByScale: function (scaleType) {\n    var axes = [];\n    var angleAxis = this._angleAxis;\n    var radiusAxis = this._radiusAxis;\n    angleAxis.scale.type === scaleType && axes.push(angleAxis);\n    radiusAxis.scale.type === scaleType && axes.push(radiusAxis);\n    return axes;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/AngleAxis}\n   */\n  getAngleAxis: function () {\n    return this._angleAxis;\n  },\n\n  /**\n   * @return {module:echarts/coord/polar/RadiusAxis}\n   */\n  getRadiusAxis: function () {\n    return this._radiusAxis;\n  },\n\n  /**\n   * @param {module:echarts/coord/polar/Axis}\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getOtherAxis: function (axis) {\n    var angleAxis = this._angleAxis;\n    return axis === angleAxis ? this._radiusAxis : angleAxis;\n  },\n\n  /**\n   * Base axis will be used on stacking.\n   *\n   * @return {module:echarts/coord/polar/Axis}\n   */\n  getBaseAxis: function () {\n    return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis();\n  },\n\n  /**\n   * @param {string} [dim] 'radius' or 'angle' or 'auto' or null/undefined\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function (dim) {\n    var baseAxis = dim != null && dim !== 'auto' ? this.getAxis(dim) : this.getBaseAxis();\n    return {\n      baseAxes: [baseAxis],\n      otherAxes: [this.getOtherAxis(baseAxis)]\n    };\n  },\n\n  /**\n   * Convert a single data item to (x, y) point.\n   * Parameter data is an array which the first element is radius and the second is angle\n   * @param {Array.<number>} data\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (data, clamp) {\n    return this.coordToPoint([this._radiusAxis.dataToRadius(data[0], clamp), this._angleAxis.dataToAngle(data[1], clamp)]);\n  },\n\n  /**\n   * Convert a (x, y) point to data\n   * @param {Array.<number>} point\n   * @param {boolean} [clamp=false]\n   * @return {Array.<number>}\n   */\n  pointToData: function (point, clamp) {\n    var coord = this.pointToCoord(point);\n    return [this._radiusAxis.radiusToData(coord[0], clamp), this._angleAxis.angleToData(coord[1], clamp)];\n  },\n\n  /**\n   * Convert a (x, y) point to (radius, angle) coord\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToCoord: function (point) {\n    var dx = point[0] - this.cx;\n    var dy = point[1] - this.cy;\n    var angleAxis = this.getAngleAxis();\n    var extent = angleAxis.getExtent();\n    var minAngle = Math.min(extent[0], extent[1]);\n    var maxAngle = Math.max(extent[0], extent[1]); // Fix fixed extent in polarCreator\n    // FIXME\n\n    angleAxis.inverse ? minAngle = maxAngle - 360 : maxAngle = minAngle + 360;\n    var radius = Math.sqrt(dx * dx + dy * dy);\n    dx /= radius;\n    dy /= radius;\n    var radian = Math.atan2(-dy, dx) / Math.PI * 180; // move to angleExtent\n\n    var dir = radian < minAngle ? 1 : -1;\n\n    while (radian < minAngle || radian > maxAngle) {\n      radian += dir * 360;\n    }\n\n    return [radius, radian];\n  },\n\n  /**\n   * Convert a (radius, angle) coord to (x, y) point\n   * @param {Array.<number>} coord\n   * @return {Array.<number>}\n   */\n  coordToPoint: function (coord) {\n    var radius = coord[0];\n    var radian = coord[1] / 180 * Math.PI;\n    var x = Math.cos(radian) * radius + this.cx; // Inverse the y\n\n    var y = -Math.sin(radian) * radius + this.cy;\n    return [x, y];\n  }\n};\nvar _default = Polar;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nrequire(\"./AxisModel\");\n\nvar _default = echarts.extendComponentModel({\n  type: 'polar',\n  dependencies: ['polarAxis', 'angleAxis'],\n\n  /**\n   * @type {module:echarts/coord/polar/Polar}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @param {string} axisType\n   * @return {module:echarts/coord/polar/AxisModel}\n   */\n  findAxisModel: function (axisType) {\n    var foundAxisModel;\n    var ecModel = this.ecModel;\n    ecModel.eachComponent(axisType, function (axisModel) {\n      if (axisModel.getCoordSysModel() === this) {\n        foundAxisModel = axisModel;\n      }\n    }, this);\n    return foundAxisModel;\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '80%'\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\nfunction RadiusAxis(scale, radiusExtent) {\n  Axis.call(this, 'radius', scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'category';\n}\n\nRadiusAxis.prototype = {\n  constructor: RadiusAxis,\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.polar.pointToData(point, clamp)[this.dim === 'radius' ? 0 : 1];\n  },\n  dataToRadius: Axis.prototype.dataToCoord,\n  radiusToData: Axis.prototype.coordToData\n};\nzrUtil.inherits(RadiusAxis, Axis);\nvar _default = RadiusAxis;\nmodule.exports = _default;","var _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Polar = require(\"./Polar\");\n\nvar _number = require(\"../../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _axisHelper = require(\"../../coord/axisHelper\");\n\nvar createScaleByModel = _axisHelper.createScaleByModel;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nrequire(\"./PolarModel\");\n\n// TODO Axis scale\n// 依赖 PolarModel 做预处理\n\n/**\n * Resize method bound to the polar\n * @param {module:echarts/coord/polar/PolarModel} polarModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction resizePolar(polar, polarModel, api) {\n  var center = polarModel.get('center');\n  var width = api.getWidth();\n  var height = api.getHeight();\n  polar.cx = parsePercent(center[0], width);\n  polar.cy = parsePercent(center[1], height);\n  var radiusAxis = polar.getRadiusAxis();\n  var size = Math.min(width, height) / 2;\n  var radius = parsePercent(polarModel.get('radius'), size);\n  radiusAxis.inverse ? radiusAxis.setExtent(radius, 0) : radiusAxis.setExtent(0, radius);\n}\n/**\n * Update polar\n */\n\n\nfunction updatePolarScale(ecModel, api) {\n  var polar = this;\n  var angleAxis = polar.getAngleAxis();\n  var radiusAxis = polar.getRadiusAxis(); // Reset scale\n\n  angleAxis.scale.setExtent(Infinity, -Infinity);\n  radiusAxis.scale.setExtent(Infinity, -Infinity);\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.coordinateSystem === polar) {\n      var data = seriesModel.getData();\n      radiusAxis.scale.unionExtentFromData(data, 'radius');\n      angleAxis.scale.unionExtentFromData(data, 'angle');\n    }\n  });\n  niceScaleExtent(angleAxis.scale, angleAxis.model);\n  niceScaleExtent(radiusAxis.scale, radiusAxis.model); // Fix extent of category angle axis\n\n  if (angleAxis.type === 'category' && !angleAxis.onBand) {\n    var extent = angleAxis.getExtent();\n    var diff = 360 / angleAxis.scale.count();\n    angleAxis.inverse ? extent[1] += diff : extent[1] -= diff;\n    angleAxis.setExtent(extent[0], extent[1]);\n  }\n}\n/**\n * Set common axis properties\n * @param {module:echarts/coord/polar/AngleAxis|module:echarts/coord/polar/RadiusAxis}\n * @param {module:echarts/coord/polar/AxisModel}\n * @inner\n */\n\n\nfunction setAxis(axis, axisModel) {\n  axis.type = axisModel.get('type');\n  axis.scale = createScaleByModel(axisModel);\n  axis.onBand = axisModel.get('boundaryGap') && axis.type === 'category';\n  axis.inverse = axisModel.get('inverse');\n\n  if (axisModel.mainType === 'angleAxis') {\n    axis.inverse ^= axisModel.get('clockwise');\n    var startAngle = axisModel.get('startAngle');\n    axis.setExtent(startAngle, startAngle + (axis.inverse ? -360 : 360));\n  } // Inject axis instance\n\n\n  axisModel.axis = axis;\n  axis.model = axisModel;\n}\n\nvar polarCreator = {\n  dimensions: Polar.prototype.dimensions,\n  create: function (ecModel, api) {\n    var polarList = [];\n    ecModel.eachComponent('polar', function (polarModel, idx) {\n      var polar = new Polar(idx); // Inject resize and update method\n\n      polar.update = updatePolarScale;\n      var radiusAxis = polar.getRadiusAxis();\n      var angleAxis = polar.getAngleAxis();\n      var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n      var angleAxisModel = polarModel.findAxisModel('angleAxis');\n      setAxis(radiusAxis, radiusAxisModel);\n      setAxis(angleAxis, angleAxisModel);\n      resizePolar(polar, polarModel, api);\n      polarList.push(polar);\n      polarModel.coordinateSystem = polar;\n      polar.model = polarModel;\n    }); // Inject coordinateSystem to series\n\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.get('coordinateSystem') === 'polar') {\n        var polarModel = ecModel.queryComponents({\n          mainType: 'polar',\n          index: seriesModel.get('polarIndex'),\n          id: seriesModel.get('polarId')\n        })[0];\n        seriesModel.coordinateSystem = polarModel.coordinateSystem;\n      }\n    });\n    return polarList;\n  }\n};\nCoordinateSystem.register('polar', polarCreator);","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  return zrUtil.map(['Radius', 'Angle'], function (dim, dimIdx) {\n    var axis = this['get' + dim + 'Axis']();\n    var val = dataItem[dimIdx];\n    var halfSize = dataSize[dimIdx] / 2;\n    var method = 'dataTo' + dim;\n    var result = axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis[method](val - halfSize) - axis[method](val + halfSize));\n\n    if (dim === 'Angle') {\n      result = result * Math.PI / 180;\n    }\n\n    return result;\n  }, this);\n}\n\nfunction _default(coordSys) {\n  var radiusAxis = coordSys.getRadiusAxis();\n  var angleAxis = coordSys.getAngleAxis();\n  var radius = radiusAxis.getExtent();\n  radius[0] > radius[1] && radius.reverse();\n  return {\n    coordSys: {\n      type: 'polar',\n      cx: coordSys.cx,\n      cy: coordSys.cy,\n      r: radius[1],\n      r0: radius[0]\n    },\n    api: {\n      coord: zrUtil.bind(function (data) {\n        var radius = radiusAxis.dataToRadius(data[0]);\n        var angle = angleAxis.dataToAngle(data[1]);\n        var coord = coordSys.coordToPoint([radius, angle]);\n        coord.push(radius, angle * Math.PI / 180);\n        return coord;\n      }),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\nfunction IndicatorAxis(dim, scale, radiusExtent) {\n  Axis.call(this, dim, scale, radiusExtent);\n  /**\n   * Axis type\n   *  - 'category'\n   *  - 'value'\n   *  - 'time'\n   *  - 'log'\n   * @type {string}\n   */\n\n  this.type = 'value';\n  this.angle = 0;\n  /**\n   * Indicator name\n   * @type {string}\n   */\n\n  this.name = '';\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.model;\n}\n\nzrUtil.inherits(IndicatorAxis, Axis);\nvar _default = IndicatorAxis;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar IndicatorAxis = require(\"./IndicatorAxis\");\n\nvar IntervalScale = require(\"../../scale/Interval\");\n\nvar numberUtil = require(\"../../util/number\");\n\nvar _axisHelper = require(\"../axisHelper\");\n\nvar getScaleExtent = _axisHelper.getScaleExtent;\nvar niceScaleExtent = _axisHelper.niceScaleExtent;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n// TODO clockwise\nfunction Radar(radarModel, ecModel, api) {\n  this._model = radarModel;\n  /**\n   * Radar dimensions\n   * @type {Array.<string>}\n   */\n\n  this.dimensions = [];\n  this._indicatorAxes = zrUtil.map(radarModel.getIndicatorModels(), function (indicatorModel, idx) {\n    var dim = 'indicator_' + idx;\n    var indicatorAxis = new IndicatorAxis(dim, new IntervalScale());\n    indicatorAxis.name = indicatorModel.get('name'); // Inject model and axis\n\n    indicatorAxis.model = indicatorModel;\n    indicatorModel.axis = indicatorAxis;\n    this.dimensions.push(dim);\n    return indicatorAxis;\n  }, this);\n  this.resize(radarModel, api);\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cx;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.cy;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.r;\n  /**\n   * @type {number}\n   * @readOnly\n   */\n\n  this.startAngle;\n}\n\nRadar.prototype.getIndicatorAxes = function () {\n  return this._indicatorAxes;\n};\n\nRadar.prototype.dataToPoint = function (value, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  return this.coordToPoint(indicatorAxis.dataToCoord(value), indicatorIndex);\n};\n\nRadar.prototype.coordToPoint = function (coord, indicatorIndex) {\n  var indicatorAxis = this._indicatorAxes[indicatorIndex];\n  var angle = indicatorAxis.angle;\n  var x = this.cx + coord * Math.cos(angle);\n  var y = this.cy - coord * Math.sin(angle);\n  return [x, y];\n};\n\nRadar.prototype.pointToData = function (pt) {\n  var dx = pt[0] - this.cx;\n  var dy = pt[1] - this.cy;\n  var radius = Math.sqrt(dx * dx + dy * dy);\n  dx /= radius;\n  dy /= radius;\n  var radian = Math.atan2(-dy, dx); // Find the closest angle\n  // FIXME index can calculated directly\n\n  var minRadianDiff = Infinity;\n  var closestAxis;\n  var closestAxisIdx = -1;\n\n  for (var i = 0; i < this._indicatorAxes.length; i++) {\n    var indicatorAxis = this._indicatorAxes[i];\n    var diff = Math.abs(radian - indicatorAxis.angle);\n\n    if (diff < minRadianDiff) {\n      closestAxis = indicatorAxis;\n      closestAxisIdx = i;\n      minRadianDiff = diff;\n    }\n  }\n\n  return [closestAxisIdx, +(closestAxis && closestAxis.coodToData(radius))];\n};\n\nRadar.prototype.resize = function (radarModel, api) {\n  var center = radarModel.get('center');\n  var viewWidth = api.getWidth();\n  var viewHeight = api.getHeight();\n  var viewSize = Math.min(viewWidth, viewHeight) / 2;\n  this.cx = numberUtil.parsePercent(center[0], viewWidth);\n  this.cy = numberUtil.parsePercent(center[1], viewHeight);\n  this.startAngle = radarModel.get('startAngle') * Math.PI / 180;\n  this.r = numberUtil.parsePercent(radarModel.get('radius'), viewSize);\n  zrUtil.each(this._indicatorAxes, function (indicatorAxis, idx) {\n    indicatorAxis.setExtent(0, this.r);\n    var angle = this.startAngle + idx * Math.PI * 2 / this._indicatorAxes.length; // Normalize to [-PI, PI]\n\n    angle = Math.atan2(Math.sin(angle), Math.cos(angle));\n    indicatorAxis.angle = angle;\n  }, this);\n};\n\nRadar.prototype.update = function (ecModel, api) {\n  var indicatorAxes = this._indicatorAxes;\n  var radarModel = this._model;\n  zrUtil.each(indicatorAxes, function (indicatorAxis) {\n    indicatorAxis.scale.setExtent(Infinity, -Infinity);\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries, idx) {\n    if (radarSeries.get('coordinateSystem') !== 'radar' || ecModel.getComponent('radar', radarSeries.get('radarIndex')) !== radarModel) {\n      return;\n    }\n\n    var data = radarSeries.getData();\n    zrUtil.each(indicatorAxes, function (indicatorAxis) {\n      indicatorAxis.scale.unionExtentFromData(data, indicatorAxis.dim);\n    });\n  }, this);\n  var splitNumber = radarModel.get('splitNumber');\n\n  function increaseInterval(interval) {\n    var exp10 = Math.pow(10, Math.floor(Math.log(interval) / Math.LN10)); // Increase interval\n\n    var f = interval / exp10;\n\n    if (f === 2) {\n      f = 5;\n    } else {\n      // f is 2 or 5\n      f *= 2;\n    }\n\n    return f * exp10;\n  } // Force all the axis fixing the maxSplitNumber.\n\n\n  zrUtil.each(indicatorAxes, function (indicatorAxis, idx) {\n    var rawExtent = getScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n    niceScaleExtent(indicatorAxis.scale, indicatorAxis.model);\n    var axisModel = indicatorAxis.model;\n    var scale = indicatorAxis.scale;\n    var fixedMin = axisModel.getMin();\n    var fixedMax = axisModel.getMax();\n    var interval = scale.getInterval();\n\n    if (fixedMin != null && fixedMax != null) {\n      // User set min, max, divide to get new interval\n      scale.setExtent(+fixedMin, +fixedMax);\n      scale.setInterval((fixedMax - fixedMin) / splitNumber);\n    } else if (fixedMin != null) {\n      var max; // User set min, expand extent on the other side\n\n      do {\n        max = fixedMin + interval * splitNumber;\n        scale.setExtent(+fixedMin, max); // Interval must been set after extent\n        // FIXME\n\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (max < rawExtent[1] && isFinite(max) && isFinite(rawExtent[1]));\n    } else if (fixedMax != null) {\n      var min; // User set min, expand extent on the other side\n\n      do {\n        min = fixedMax - interval * splitNumber;\n        scale.setExtent(min, +fixedMax);\n        scale.setInterval(interval);\n        interval = increaseInterval(interval);\n      } while (min > rawExtent[0] && isFinite(min) && isFinite(rawExtent[0]));\n    } else {\n      var nicedSplitNumber = scale.getTicks().length - 1;\n\n      if (nicedSplitNumber > splitNumber) {\n        interval = increaseInterval(interval);\n      } // PENDING\n\n\n      var center = Math.round((rawExtent[0] + rawExtent[1]) / 2 / interval) * interval;\n      var halfSplitNumber = Math.round(splitNumber / 2);\n      scale.setExtent(numberUtil.round(center - halfSplitNumber * interval), numberUtil.round(center + (splitNumber - halfSplitNumber) * interval));\n      scale.setInterval(interval);\n    }\n  });\n};\n/**\n * Radar dimensions is based on the data\n * @type {Array}\n */\n\n\nRadar.dimensions = [];\n\nRadar.create = function (ecModel, api) {\n  var radarList = [];\n  ecModel.eachComponent('radar', function (radarModel) {\n    var radar = new Radar(radarModel, ecModel, api);\n    radarList.push(radar);\n    radarModel.coordinateSystem = radar;\n  });\n  ecModel.eachSeriesByType('radar', function (radarSeries) {\n    if (radarSeries.get('coordinateSystem') === 'radar') {\n      // Inject coordinate system\n      radarSeries.coordinateSystem = radarList[radarSeries.get('radarIndex') || 0];\n    }\n  });\n  return radarList;\n};\n\nCoordinateSystem.register('radar', Radar);\nvar _default = Radar;\nmodule.exports = _default;","var echarts = require(\"../../echarts\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar axisDefault = require(\"../axisDefault\");\n\nvar Model = require(\"../../model/Model\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\nvar valueAxisDefault = axisDefault.valueAxis;\n\nfunction defaultsShow(opt, show) {\n  return zrUtil.defaults({\n    show: show\n  }, opt);\n}\n\nvar RadarModel = echarts.extendComponentModel({\n  type: 'radar',\n  optionUpdated: function () {\n    var boundaryGap = this.get('boundaryGap');\n    var splitNumber = this.get('splitNumber');\n    var scale = this.get('scale');\n    var axisLine = this.get('axisLine');\n    var axisTick = this.get('axisTick');\n    var axisLabel = this.get('axisLabel');\n    var nameTextStyle = this.get('name');\n    var showName = this.get('name.show');\n    var nameFormatter = this.get('name.formatter');\n    var nameGap = this.get('nameGap');\n    var triggerEvent = this.get('triggerEvent');\n    var indicatorModels = zrUtil.map(this.get('indicator') || [], function (indicatorOpt) {\n      // PENDING\n      if (indicatorOpt.max != null && indicatorOpt.max > 0 && !indicatorOpt.min) {\n        indicatorOpt.min = 0;\n      } else if (indicatorOpt.min != null && indicatorOpt.min < 0 && !indicatorOpt.max) {\n        indicatorOpt.max = 0;\n      }\n\n      var iNameTextStyle = nameTextStyle;\n\n      if (indicatorOpt.color != null) {\n        iNameTextStyle = zrUtil.defaults({\n          color: indicatorOpt.color\n        }, nameTextStyle);\n      } // Use same configuration\n\n\n      indicatorOpt = zrUtil.merge(zrUtil.clone(indicatorOpt), {\n        boundaryGap: boundaryGap,\n        splitNumber: splitNumber,\n        scale: scale,\n        axisLine: axisLine,\n        axisTick: axisTick,\n        axisLabel: axisLabel,\n        // Competitable with 2 and use text\n        name: indicatorOpt.text,\n        nameLocation: 'end',\n        nameGap: nameGap,\n        // min: 0,\n        nameTextStyle: iNameTextStyle,\n        triggerEvent: triggerEvent\n      }, false);\n\n      if (!showName) {\n        indicatorOpt.name = '';\n      }\n\n      if (typeof nameFormatter === 'string') {\n        var indName = indicatorOpt.name;\n        indicatorOpt.name = nameFormatter.replace('{value}', indName != null ? indName : '');\n      } else if (typeof nameFormatter === 'function') {\n        indicatorOpt.name = nameFormatter(indicatorOpt.name, indicatorOpt);\n      }\n\n      var model = zrUtil.extend(new Model(indicatorOpt, null, this.ecModel), axisModelCommonMixin); // For triggerEvent.\n\n      model.mainType = 'radar';\n      model.componentIndex = this.componentIndex;\n      return model;\n    }, this);\n\n    this.getIndicatorModels = function () {\n      return indicatorModels;\n    };\n  },\n  defaultOption: {\n    zlevel: 0,\n    z: 0,\n    center: ['50%', '50%'],\n    radius: '75%',\n    startAngle: 90,\n    name: {\n      show: true // formatter: null\n      // textStyle: {}\n\n    },\n    boundaryGap: [0, 0],\n    splitNumber: 5,\n    nameGap: 15,\n    scale: false,\n    // Polygon or circle\n    shape: 'polygon',\n    axisLine: zrUtil.merge({\n      lineStyle: {\n        color: '#bbb'\n      }\n    }, valueAxisDefault.axisLine),\n    axisLabel: defaultsShow(valueAxisDefault.axisLabel, false),\n    axisTick: defaultsShow(valueAxisDefault.axisTick, false),\n    splitLine: defaultsShow(valueAxisDefault.splitLine, true),\n    splitArea: defaultsShow(valueAxisDefault.splitArea, true),\n    // {text, min, max}\n    indicator: []\n  }\n});\nvar _default = RadarModel;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar ComponentModel = require(\"../../model/Component\");\n\nvar axisModelCreator = require(\"../axisModelCreator\");\n\nvar axisModelCommonMixin = require(\"../axisModelCommonMixin\");\n\nvar AxisModel = ComponentModel.extend({\n  type: 'singleAxis',\n  layoutMode: 'box',\n\n  /**\n   * @type {module:echarts/coord/single/SingleAxis}\n   */\n  axis: null,\n\n  /**\n   * @type {module:echarts/coord/single/Single}\n   */\n  coordinateSystem: null,\n\n  /**\n   * @override\n   */\n  getCoordSysModel: function () {\n    return this;\n  }\n});\nvar defaultOption = {\n  left: '5%',\n  top: '5%',\n  right: '5%',\n  bottom: '5%',\n  type: 'value',\n  position: 'bottom',\n  orient: 'horizontal',\n  axisLine: {\n    show: true,\n    lineStyle: {\n      width: 2,\n      type: 'solid'\n    }\n  },\n  // Single coordinate system and single axis is the,\n  // which is used as the parent tooltip model.\n  // same model, so we set default tooltip show as true.\n  tooltip: {\n    show: true\n  },\n  axisTick: {\n    show: true,\n    length: 6,\n    lineStyle: {\n      width: 2\n    }\n  },\n  axisLabel: {\n    show: true,\n    interval: 'auto'\n  },\n  splitLine: {\n    show: true,\n    lineStyle: {\n      type: 'dashed',\n      opacity: 0.2\n    }\n  }\n};\n\nfunction getAxisType(axisName, option) {\n  return option.type || (option.data ? 'category' : 'value');\n}\n\nzrUtil.merge(AxisModel.prototype, axisModelCommonMixin);\naxisModelCreator('single', AxisModel, getAxisType, defaultOption);\nvar _default = AxisModel;\nmodule.exports = _default;","var SingleAxis = require(\"./SingleAxis\");\n\nvar axisHelper = require(\"../axisHelper\");\n\nvar _layout = require(\"../../util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\n\n/**\n * Single coordinates system.\n */\n\n/**\n * Create a single coordinates system.\n *\n * @param {module:echarts/coord/single/AxisModel} axisModel\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\nfunction Single(axisModel, ecModel, api) {\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  this.dimension = 'single';\n  /**\n   * Add it just for draw tooltip.\n   *\n   * @type {Array.<string>}\n   * @readOnly\n   */\n\n  this.dimensions = ['single'];\n  /**\n   * @private\n   * @type {module:echarts/coord/single/SingleAxis}.\n   */\n\n  this._axis = null;\n  /**\n   * @private\n   * @type {module:zrender/core/BoundingRect}\n   */\n\n  this._rect;\n\n  this._init(axisModel, ecModel, api);\n  /**\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n\n\n  this.model = axisModel;\n}\n\nSingle.prototype = {\n  type: 'singleAxis',\n  axisPointerEnabled: true,\n  constructor: Single,\n\n  /**\n   * Initialize single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @private\n   */\n  _init: function (axisModel, ecModel, api) {\n    var dim = this.dimension;\n    var axis = new SingleAxis(dim, axisHelper.createScaleByModel(axisModel), [0, 0], axisModel.get('type'), axisModel.get('position'));\n    var isCategory = axis.type === 'category';\n    axis.onBand = isCategory && axisModel.get('boundaryGap');\n    axis.inverse = axisModel.get('inverse');\n    axis.orient = axisModel.get('orient');\n    axisModel.axis = axis;\n    axis.model = axisModel;\n    axis.coordinateSystem = this;\n    this._axis = axis;\n  },\n\n  /**\n   * Update axis scale after data processed\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  update: function (ecModel, api) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.coordinateSystem === this) {\n        var data = seriesModel.getData();\n        var dim = this.dimension;\n\n        this._axis.scale.unionExtentFromData(data, seriesModel.coordDimToDataDim(dim));\n\n        axisHelper.niceScaleExtent(this._axis.scale, this._axis.model);\n      }\n    }, this);\n  },\n\n  /**\n   * Resize the single coordinate system.\n   *\n   * @param  {module:echarts/coord/single/AxisModel} axisModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  resize: function (axisModel, api) {\n    this._rect = getLayoutRect({\n      left: axisModel.get('left'),\n      top: axisModel.get('top'),\n      right: axisModel.get('right'),\n      bottom: axisModel.get('bottom'),\n      width: axisModel.get('width'),\n      height: axisModel.get('height')\n    }, {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n\n    this._adjustAxis();\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getRect: function () {\n    return this._rect;\n  },\n\n  /**\n   * @private\n   */\n  _adjustAxis: function () {\n    var rect = this._rect;\n    var axis = this._axis;\n    var isHorizontal = axis.isHorizontal();\n    var extent = isHorizontal ? [0, rect.width] : [0, rect.height];\n    var idx = axis.reverse ? 1 : 0;\n    axis.setExtent(extent[idx], extent[1 - idx]);\n\n    this._updateAxisTransform(axis, isHorizontal ? rect.x : rect.y);\n  },\n\n  /**\n   * @param  {module:echarts/coord/single/SingleAxis} axis\n   * @param  {number} coordBase\n   */\n  _updateAxisTransform: function (axis, coordBase) {\n    var axisExtent = axis.getExtent();\n    var extentSum = axisExtent[0] + axisExtent[1];\n    var isHorizontal = axis.isHorizontal();\n    axis.toGlobalCoord = isHorizontal ? function (coord) {\n      return coord + coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n    axis.toLocalCoord = isHorizontal ? function (coord) {\n      return coord - coordBase;\n    } : function (coord) {\n      return extentSum - coord + coordBase;\n    };\n  },\n\n  /**\n   * Get axis.\n   *\n   * @return {module:echarts/coord/single/SingleAxis}\n   */\n  getAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * Get axis, add it just for draw tooltip.\n   *\n   * @return {[type]} [description]\n   */\n  getBaseAxis: function () {\n    return this._axis;\n  },\n\n  /**\n   * @return {Array.<module:echarts/coord/Axis>}\n   */\n  getAxes: function () {\n    return [this._axis];\n  },\n\n  /**\n   * @return {Object} {baseAxes: [], otherAxes: []}\n   */\n  getTooltipAxes: function () {\n    return {\n      baseAxes: [this.getAxis()]\n    };\n  },\n\n  /**\n   * If contain point.\n   *\n   * @param  {Array.<number>} point\n   * @return {boolean}\n   */\n  containPoint: function (point) {\n    var rect = this.getRect();\n    var axis = this.getAxis();\n    var orient = axis.orient;\n\n    if (orient === 'horizontal') {\n      return axis.contain(axis.toLocalCoord(point[0])) && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n    } else {\n      return axis.contain(axis.toLocalCoord(point[1])) && point[0] >= rect.y && point[0] <= rect.y + rect.height;\n    }\n  },\n\n  /**\n   * @param {Array.<number>} point\n   * @return {Array.<number>}\n   */\n  pointToData: function (point) {\n    var axis = this.getAxis();\n    return [axis.coordToData(axis.toLocalCoord(point[axis.orient === 'horizontal' ? 0 : 1]))];\n  },\n\n  /**\n   * Convert the series data to concrete point.\n   *\n   * @param  {number|Array.<number>} val\n   * @return {Array.<number>}\n   */\n  dataToPoint: function (val) {\n    var axis = this.getAxis();\n    var rect = this.getRect();\n    var pt = [];\n    var idx = axis.orient === 'horizontal' ? 0 : 1;\n\n    if (val instanceof Array) {\n      val = val[0];\n    }\n\n    pt[idx] = axis.toGlobalCoord(axis.dataToCoord(+val));\n    pt[1 - idx] = idx === 0 ? rect.y + rect.height / 2 : rect.x + rect.width / 2;\n    return pt;\n  }\n};\nvar _default = Single;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Axis = require(\"../Axis\");\n\n/**\n * @constructor  module:echarts/coord/single/SingleAxis\n * @extends {module:echarts/coord/Axis}\n * @param {string} dim\n * @param {*} scale\n * @param {Array.<number>} coordExtent\n * @param {string} axisType\n * @param {string} position\n */\nvar SingleAxis = function (dim, scale, coordExtent, axisType, position) {\n  Axis.call(this, dim, scale, coordExtent);\n  /**\n   * Axis type\n   * - 'category'\n   * - 'value'\n   * - 'time'\n   * - 'log'\n   * @type {string}\n   */\n\n  this.type = axisType || 'value';\n  /**\n   * Axis position\n   *  - 'top'\n   *  - 'bottom'\n   *  - 'left'\n   *  - 'right'\n   *  @type {string}\n   */\n\n  this.position = position || 'bottom';\n  /**\n   * Axis orient\n   *  - 'horizontal'\n   *  - 'vertical'\n   * @type {[type]}\n   */\n\n  this.orient = null;\n  /**\n   * @type {number}\n   */\n\n  this._labelInterval = null;\n};\n\nSingleAxis.prototype = {\n  constructor: SingleAxis,\n\n  /**\n   * Axis model\n   * @type {module:echarts/coord/single/AxisModel}\n   */\n  model: null,\n\n  /**\n   * Judge the orient of the axis.\n   * @return {boolean}\n   */\n  isHorizontal: function () {\n    var position = this.position;\n    return position === 'top' || position === 'bottom';\n  },\n\n  /**\n   * @override\n   */\n  pointToData: function (point, clamp) {\n    return this.coordinateSystem.pointToData(point, clamp)[0];\n  },\n\n  /**\n   * Convert the local coord(processed by dataToCoord())\n   * to global coord(concrete pixel coord).\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toGlobalCoord: null,\n\n  /**\n   * Convert the global coord to local coord.\n   * designated by module:echarts/coord/single/Single.\n   * @type {Function}\n   */\n  toLocalCoord: null\n};\nzrUtil.inherits(SingleAxis, Axis);\nvar _default = SingleAxis;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nfunction dataToCoordSize(dataSize, dataItem) {\n  // dataItem is necessary in log axis.\n  var axis = this.getAxis();\n  var val = dataItem instanceof Array ? dataItem[0] : dataItem;\n  var halfSize = (dataSize instanceof Array ? dataSize[0] : dataSize) / 2;\n  return axis.type === 'category' ? axis.getBandWidth() : Math.abs(axis.dataToCoord(val - halfSize) - axis.dataToCoord(val + halfSize));\n}\n\nfunction _default(coordSys) {\n  var rect = coordSys.getRect();\n  return {\n    coordSys: {\n      type: 'singleAxis',\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    api: {\n      coord: zrUtil.bind(coordSys.dataToPoint, coordSys),\n      size: zrUtil.bind(dataToCoordSize, coordSys)\n    }\n  };\n}\n\nmodule.exports = _default;","var Single = require(\"./Single\");\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\n/**\n * Single coordinate system creator.\n */\n\n/**\n * Create single coordinate system and inject it into seriesModel.\n *\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n * @return {Array.<module:echarts/coord/single/Single>}\n */\nfunction create(ecModel, api) {\n  var singles = [];\n  ecModel.eachComponent('singleAxis', function (axisModel, idx) {\n    var single = new Single(axisModel, ecModel, api);\n    single.name = 'single_' + idx;\n    single.resize(axisModel, api);\n    axisModel.coordinateSystem = single;\n    singles.push(single);\n  });\n  ecModel.eachSeries(function (seriesModel) {\n    if (seriesModel.get('coordinateSystem') === 'singleAxis') {\n      var singleAxisModel = ecModel.queryComponents({\n        mainType: 'singleAxis',\n        index: seriesModel.get('singleAxisIndex'),\n        id: seriesModel.get('singleAxisId')\n      })[0];\n      seriesModel.coordinateSystem = singleAxisModel && singleAxisModel.coordinateSystem;\n    }\n  });\n  return singles;\n}\n\nCoordinateSystem.register('single', {\n  create: create,\n  dimensions: Single.prototype.dimensions\n});","var _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * Graph data structure\n *\n * @module echarts/data/Graph\n * @author Yi Shen(https://www.github.com/pissang)\n */\n// id may be function name of Object, add a prefix to avoid this problem.\nfunction generateNodeKey(id) {\n  return '_EC_' + id;\n}\n/**\n * @alias module:echarts/data/Graph\n * @constructor\n * @param {boolean} directed\n */\n\n\nvar Graph = function (directed) {\n  /**\n   * 是否是有向图\n   * @type {boolean}\n   * @private\n   */\n  this._directed = directed || false;\n  /**\n   * @type {Array.<module:echarts/data/Graph.Node>}\n   * @readOnly\n   */\n\n  this.nodes = [];\n  /**\n   * @type {Array.<module:echarts/data/Graph.Edge>}\n   * @readOnly\n   */\n\n  this.edges = [];\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Node>}\n   * @private\n   */\n\n  this._nodesMap = {};\n  /**\n   * @type {Object.<string, module:echarts/data/Graph.Edge>}\n   * @private\n   */\n\n  this._edgesMap = {};\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.edgeData;\n};\n\nvar graphProto = Graph.prototype;\n/**\n * @type {string}\n */\n\ngraphProto.type = 'graph';\n/**\n * If is directed graph\n * @return {boolean}\n */\n\ngraphProto.isDirected = function () {\n  return this._directed;\n};\n/**\n * Add a new node\n * @param {string} id\n * @param {number} [dataIndex]\n */\n\n\ngraphProto.addNode = function (id, dataIndex) {\n  id = id || '' + dataIndex;\n  var nodesMap = this._nodesMap;\n\n  if (nodesMap[generateNodeKey(id)]) {\n    return;\n  }\n\n  var node = new Node(id, dataIndex);\n  node.hostGraph = this;\n  this.nodes.push(node);\n  nodesMap[generateNodeKey(id)] = node;\n  return node;\n};\n/**\n * Get node by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getNodeByIndex = function (dataIndex) {\n  var rawIdx = this.data.getRawIndex(dataIndex);\n  return this.nodes[rawIdx];\n};\n/**\n * Get node by id\n * @param  {string} id\n * @return {module:echarts/data/Graph.Node}\n */\n\n\ngraphProto.getNodeById = function (id) {\n  return this._nodesMap[generateNodeKey(id)];\n};\n/**\n * Add a new edge\n * @param {number|string|module:echarts/data/Graph.Node} n1\n * @param {number|string|module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.addEdge = function (n1, n2, dataIndex) {\n  var nodesMap = this._nodesMap;\n  var edgesMap = this._edgesMap; // PNEDING\n\n  if (typeof n1 === 'number') {\n    n1 = this.nodes[n1];\n  }\n\n  if (typeof n2 === 'number') {\n    n2 = this.nodes[n2];\n  }\n\n  if (!(n1 instanceof Node)) {\n    n1 = nodesMap[generateNodeKey(n1)];\n  }\n\n  if (!(n2 instanceof Node)) {\n    n2 = nodesMap[generateNodeKey(n2)];\n  }\n\n  if (!n1 || !n2) {\n    return;\n  }\n\n  var key = n1.id + '-' + n2.id; // PENDING\n\n  if (edgesMap[key]) {\n    return;\n  }\n\n  var edge = new Edge(n1, n2, dataIndex);\n  edge.hostGraph = this;\n\n  if (this._directed) {\n    n1.outEdges.push(edge);\n    n2.inEdges.push(edge);\n  }\n\n  n1.edges.push(edge);\n\n  if (n1 !== n2) {\n    n2.edges.push(edge);\n  }\n\n  this.edges.push(edge);\n  edgesMap[key] = edge;\n  return edge;\n};\n/**\n * Get edge by data index\n * @param  {number} dataIndex\n * @return {module:echarts/data/Graph~Node}\n */\n\n\ngraphProto.getEdgeByIndex = function (dataIndex) {\n  var rawIdx = this.edgeData.getRawIndex(dataIndex);\n  return this.edges[rawIdx];\n};\n/**\n * Get edge by two linked nodes\n * @param  {module:echarts/data/Graph.Node|string} n1\n * @param  {module:echarts/data/Graph.Node|string} n2\n * @return {module:echarts/data/Graph.Edge}\n */\n\n\ngraphProto.getEdge = function (n1, n2) {\n  if (n1 instanceof Node) {\n    n1 = n1.id;\n  }\n\n  if (n2 instanceof Node) {\n    n2 = n2.id;\n  }\n\n  var edgesMap = this._edgesMap;\n\n  if (this._directed) {\n    return edgesMap[n1 + '-' + n2];\n  } else {\n    return edgesMap[n1 + '-' + n2] || edgesMap[n2 + '-' + n1];\n  }\n};\n/**\n * Iterate all nodes\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachNode = function (cb, context) {\n  var nodes = this.nodes;\n  var len = nodes.length;\n\n  for (var i = 0; i < len; i++) {\n    if (nodes[i].dataIndex >= 0) {\n      cb.call(context, nodes[i], i);\n    }\n  }\n};\n/**\n * Iterate all edges\n * @param  {Function} cb\n * @param  {*} [context]\n */\n\n\ngraphProto.eachEdge = function (cb, context) {\n  var edges = this.edges;\n  var len = edges.length;\n\n  for (var i = 0; i < len; i++) {\n    if (edges[i].dataIndex >= 0 && edges[i].node1.dataIndex >= 0 && edges[i].node2.dataIndex >= 0) {\n      cb.call(context, edges[i], i);\n    }\n  }\n};\n/**\n * Breadth first traverse\n * @param {Function} cb\n * @param {module:echarts/data/Graph.Node} startNode\n * @param {string} [direction='none'] 'none'|'in'|'out'\n * @param {*} [context]\n */\n\n\ngraphProto.breadthFirstTraverse = function (cb, startNode, direction, context) {\n  if (!(startNode instanceof Node)) {\n    startNode = this._nodesMap[generateNodeKey(startNode)];\n  }\n\n  if (!startNode) {\n    return;\n  }\n\n  var edgeType = direction === 'out' ? 'outEdges' : direction === 'in' ? 'inEdges' : 'edges';\n\n  for (var i = 0; i < this.nodes.length; i++) {\n    this.nodes[i].__visited = false;\n  }\n\n  if (cb.call(context, startNode, null)) {\n    return;\n  }\n\n  var queue = [startNode];\n\n  while (queue.length) {\n    var currentNode = queue.shift();\n    var edges = currentNode[edgeType];\n\n    for (var i = 0; i < edges.length; i++) {\n      var e = edges[i];\n      var otherNode = e.node1 === currentNode ? e.node2 : e.node1;\n\n      if (!otherNode.__visited) {\n        if (cb.call(context, otherNode, currentNode)) {\n          // Stop traversing\n          return;\n        }\n\n        queue.push(otherNode);\n        otherNode.__visited = true;\n      }\n    }\n  }\n}; // TODO\n// graphProto.depthFirstTraverse = function (\n//     cb, startNode, direction, context\n// ) {\n// };\n// Filter update\n\n\ngraphProto.update = function () {\n  var data = this.data;\n  var edgeData = this.edgeData;\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0, len = nodes.length; i < len; i++) {\n    nodes[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = data.count(); i < len; i++) {\n    nodes[data.getRawIndex(i)].dataIndex = i;\n  }\n\n  edgeData.filterSelf(function (idx) {\n    var edge = edges[edgeData.getRawIndex(idx)];\n    return edge.node1.dataIndex >= 0 && edge.node2.dataIndex >= 0;\n  }); // Update edge\n\n  for (var i = 0, len = edges.length; i < len; i++) {\n    edges[i].dataIndex = -1;\n  }\n\n  for (var i = 0, len = edgeData.count(); i < len; i++) {\n    edges[edgeData.getRawIndex(i)].dataIndex = i;\n  }\n};\n/**\n * @return {module:echarts/data/Graph}\n */\n\n\ngraphProto.clone = function () {\n  var graph = new Graph(this._directed);\n  var nodes = this.nodes;\n  var edges = this.edges;\n\n  for (var i = 0; i < nodes.length; i++) {\n    graph.addNode(nodes[i].id, nodes[i].dataIndex);\n  }\n\n  for (var i = 0; i < edges.length; i++) {\n    var e = edges[i];\n    graph.addEdge(e.node1.id, e.node2.id, e.dataIndex);\n  }\n\n  return graph;\n};\n/**\n * @alias module:echarts/data/Graph.Node\n */\n\n\nfunction Node(id, dataIndex) {\n  /**\n  * @type {string}\n  */\n  this.id = id == null ? '' : id;\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.inEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.outEdges = [];\n  /**\n  * @type {Array.<module:echarts/data/Graph.Edge>}\n  */\n\n  this.edges = [];\n  /**\n   * @type {module:echarts/data/Graph}\n   */\n\n  this.hostGraph;\n  /**\n   * @type {number}\n   */\n\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n\nNode.prototype = {\n  constructor: Node,\n\n  /**\n   * @return {number}\n   */\n  degree: function () {\n    return this.edges.length;\n  },\n\n  /**\n   * @return {number}\n   */\n  inDegree: function () {\n    return this.inEdges.length;\n  },\n\n  /**\n  * @return {number}\n  */\n  outDegree: function () {\n    return this.outEdges.length;\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var graph = this.hostGraph;\n    var itemModel = graph.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }\n};\n/**\n * 图边\n * @alias module:echarts/data/Graph.Edge\n * @param {module:echarts/data/Graph.Node} n1\n * @param {module:echarts/data/Graph.Node} n2\n * @param {number} [dataIndex=-1]\n */\n\nfunction Edge(n1, n2, dataIndex) {\n  /**\n   * 节点1，如果是有向图则为源节点\n   * @type {module:echarts/data/Graph.Node}\n   */\n  this.node1 = n1;\n  /**\n   * 节点2，如果是有向图则为目标节点\n   * @type {module:echarts/data/Graph.Node}\n   */\n\n  this.node2 = n2;\n  this.dataIndex = dataIndex == null ? -1 : dataIndex;\n}\n/**\n * @param {string} [path]\n * @return {module:echarts/model/Model}\n */\n\n\nEdge.prototype.getModel = function (path) {\n  if (this.dataIndex < 0) {\n    return;\n  }\n\n  var graph = this.hostGraph;\n  var itemModel = graph.edgeData.getItemModel(this.dataIndex);\n  return itemModel.getModel(path);\n};\n\nvar createGraphDataProxyMixin = function (hostName, dataName) {\n  return {\n    /**\n     * @param {string=} [dimension='value'] Default 'value'. can be 'a', 'b', 'c', 'd', 'e'.\n     * @return {number}\n     */\n    getValue: function (dimension) {\n      var data = this[hostName][dataName];\n      return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n    },\n\n    /**\n     * @param {Object|string} key\n     * @param {*} [value]\n     */\n    setVisual: function (key, value) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemVisual(this.dataIndex, key, value);\n    },\n\n    /**\n     * @param {string} key\n     * @return {boolean}\n     */\n    getVisual: function (key, ignoreParent) {\n      return this[hostName][dataName].getItemVisual(this.dataIndex, key, ignoreParent);\n    },\n\n    /**\n     * @param {Object} layout\n     * @return {boolean} [merge=false]\n     */\n    setLayout: function (layout, merge) {\n      this.dataIndex >= 0 && this[hostName][dataName].setItemLayout(this.dataIndex, layout, merge);\n    },\n\n    /**\n     * @return {Object}\n     */\n    getLayout: function () {\n      return this[hostName][dataName].getItemLayout(this.dataIndex);\n    },\n\n    /**\n     * @return {module:zrender/Element}\n     */\n    getGraphicEl: function () {\n      return this[hostName][dataName].getItemGraphicEl(this.dataIndex);\n    },\n\n    /**\n     * @return {number}\n     */\n    getRawIndex: function () {\n      return this[hostName][dataName].getRawIndex(this.dataIndex);\n    }\n  };\n};\n\nzrUtil.mixin(Node, createGraphDataProxyMixin('hostGraph', 'data'));\nzrUtil.mixin(Edge, createGraphDataProxyMixin('hostGraph', 'edgeData'));\nGraph.Node = Node;\nGraph.Edge = Edge;\nvar _default = Graph;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../model/Model\");\n\nvar List = require(\"./List\");\n\nvar linkList = require(\"./helper/linkList\");\n\nvar completeDimensions = require(\"./helper/completeDimensions\");\n\n/**\n * Tree data structure\n *\n * @module echarts/data/Tree\n */\n\n/**\n * @constructor module:echarts/data/Tree~TreeNode\n * @param {string} name\n * @param {module:echarts/data/Tree} hostTree\n */\nvar TreeNode = function (name, hostTree) {\n  /**\n   * @type {string}\n   */\n  this.name = name || '';\n  /**\n   * Depth of node\n   *\n   * @type {number}\n   * @readOnly\n   */\n\n  this.depth = 0;\n  /**\n   * Height of the subtree rooted at this node.\n   * @type {number}\n   * @readOnly\n   */\n\n  this.height = 0;\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n\n  this.parentNode = null;\n  /**\n   * Reference to list item.\n   * Do not persistent dataIndex outside,\n   * besause it may be changed by list.\n   * If dataIndex -1,\n   * this node is logical deleted (filtered) in list.\n   *\n   * @type {Object}\n   * @readOnly\n   */\n\n  this.dataIndex = -1;\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @readOnly\n   */\n\n  this.children = [];\n  /**\n   * @type {Array.<module:echarts/data/Tree~TreeNode>}\n   * @pubilc\n   */\n\n  this.viewChildren = [];\n  /**\n   * @type {moduel:echarts/data/Tree}\n   * @readOnly\n   */\n\n  this.hostTree = hostTree;\n};\n\nTreeNode.prototype = {\n  constructor: TreeNode,\n\n  /**\n   * The node is removed.\n   * @return {boolean} is removed.\n   */\n  isRemoved: function () {\n    return this.dataIndex < 0;\n  },\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb If in preorder and return false,\n   *                      its subtree will not be visited.\n   * @param {Object} [context]\n   */\n  eachNode: function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  },\n\n  /**\n   * Update depth and height of this subtree.\n   *\n   * @param  {number} depth\n   */\n  updateDepthAndHeight: function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  },\n\n  /**\n   * @param  {string} id\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeById: function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {module:echarts/data/Tree~TreeNode} node\n   * @return {boolean}\n   */\n  contains: function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  },\n\n  /**\n   * @param {boolean} includeSelf Default false.\n   * @return {Array.<module:echarts/data/Tree~TreeNode>} order: [root, child, grandchild, ...]\n   */\n  getAncestors: function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  },\n\n  /**\n   * @param {string|Array=} [dimension='value'] Default 'value'. can be 0, 1, 2, 3\n   * @return {number} Value.\n   */\n  getValue: function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  },\n\n  /**\n   * @param {Object} layout\n   * @param {boolean=} [merge=false]\n   */\n  setLayout: function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  },\n\n  /**\n   * @return {Object} layout\n   */\n  getLayout: function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  },\n\n  /**\n   * @param {string} [path]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    var levelModel = this.getLevelModel();\n    var leavesModel;\n\n    if (!levelModel && (this.children.length === 0 || this.children.length !== 0 && this.isExpand === false)) {\n      leavesModel = this.getLeavesModel();\n    }\n\n    return itemModel.getModel(path, (levelModel || leavesModel || hostTree.hostModel).getModel(path));\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getLevelModel: function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getLeavesModel: function () {\n    return this.hostTree.leavesModel;\n  },\n\n  /**\n   * @example\n   *  setItemVisual('color', color);\n   *  setItemVisual({\n   *      'color': color\n   *  });\n   */\n  setVisual: function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  },\n\n  /**\n   * Get item visual\n   */\n  getVisual: function (key, ignoreParent) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key, ignoreParent);\n  },\n\n  /**\n   * @public\n   * @return {number}\n   */\n  getRawIndex: function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  },\n\n  /**\n   * @public\n   * @return {string}\n   */\n  getId: function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  }\n};\n/**\n * @constructor\n * @alias module:echarts/data/Tree\n * @param {module:echarts/model/Model} hostModel\n * @param {Array.<Object>} levelOptions\n * @param {Object} leavesOption\n */\n\nfunction Tree(hostModel, levelOptions, leavesOption) {\n  /**\n   * @type {module:echarts/data/Tree~TreeNode}\n   * @readOnly\n   */\n  this.root;\n  /**\n   * @type {module:echarts/data/List}\n   * @readOnly\n   */\n\n  this.data;\n  /**\n   * Index of each item is the same as the raw index of coresponding list item.\n   * @private\n   * @type {Array.<module:echarts/data/Tree~TreeNode}\n   */\n\n  this._nodes = [];\n  /**\n   * @private\n   * @readOnly\n   * @type {module:echarts/model/Model}\n   */\n\n  this.hostModel = hostModel;\n  /**\n   * @private\n   * @readOnly\n   * @type {Array.<module:echarts/model/Model}\n   */\n\n  this.levelModels = zrUtil.map(levelOptions || [], function (levelDefine) {\n    return new Model(levelDefine, hostModel, hostModel.ecModel);\n  });\n  this.leavesModel = new Model(leavesOption || {}, hostModel, hostModel.ecModel);\n}\n\nTree.prototype = {\n  constructor: Tree,\n  type: 'tree',\n\n  /**\n   * Travel this subtree (include this node).\n   * Usage:\n   *    node.eachNode(function () { ... }); // preorder\n   *    node.eachNode('preorder', function () { ... }); // preorder\n   *    node.eachNode('postorder', function () { ... }); // postorder\n   *    node.eachNode(\n   *        {order: 'postorder', attr: 'viewChildren'},\n   *        function () { ... }\n   *    ); // postorder\n   *\n   * @param {(Object|string)} options If string, means order.\n   * @param {string=} options.order 'preorder' or 'postorder'\n   * @param {string=} options.attr 'children' or 'viewChildren'\n   * @param {Function} cb\n   * @param {Object}   [context]\n   */\n  eachNode: function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  },\n\n  /**\n   * @param {number} dataIndex\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByDataIndex: function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  },\n\n  /**\n   * @param {string} name\n   * @return {module:echarts/data/Tree~TreeNode}\n   */\n  getNodeByName: function (name) {\n    return this.root.getNodeByName(name);\n  },\n\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n  update: function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  },\n\n  /**\n   * Clear all layouts\n   */\n  clearLayouts: function () {\n    this.data.clearItemLayouts();\n  }\n};\n/**\n * data node format:\n * {\n *     name: ...\n *     value: ...\n *     children: [\n *         {\n *             name: ...\n *             value: ...\n *             children: ...\n *         },\n *         ...\n *     ]\n * }\n *\n * @static\n * @param {Object} dataRoot Root node.\n * @param {module:echarts/model/Model} hostModel\n * @param {Object} treeOptions\n * @param {Array.<Object>} treeOptions.levels\n * @param {Array.<Object>} treeOptions.leaves\n * @return module:echarts/data/Tree\n */\n\nTree.createTree = function (dataRoot, hostModel, treeOptions) {\n  var tree = new Tree(hostModel, treeOptions.levels, treeOptions.leaves);\n  var listData = [];\n  var dimMax = 1;\n  buildHierarchy(dataRoot);\n\n  function buildHierarchy(dataNode, parentNode) {\n    var value = dataNode.value;\n    dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n    listData.push(dataNode);\n    var node = new TreeNode(dataNode.name, tree);\n    parentNode ? addChild(node, parentNode) : tree.root = node;\n\n    tree._nodes.push(node);\n\n    var children = dataNode.children;\n\n    if (children) {\n      for (var i = 0; i < children.length; i++) {\n        buildHierarchy(children[i], node);\n      }\n    }\n  }\n\n  tree.root.updateDepthAndHeight(0);\n  var dimensions = completeDimensions([{\n    name: 'value'\n  }], listData, {\n    dimCount: dimMax\n  });\n  var list = new List(dimensions, hostModel);\n  list.initData(listData);\n  linkList({\n    mainData: list,\n    struct: tree,\n    structAttr: 'tree'\n  });\n  tree.update();\n  return tree;\n};\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n *\n * @param {(module:echarts/data/Tree~TreeNode|Object)} child\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nvar _default = Tree;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * Link lists and struct (graph or tree)\n */\nvar each = zrUtil.each;\nvar DATAS = '\\0__link_datas';\nvar MAIN_DATA = '\\0__link_mainData'; // Caution:\n// In most case, either list or its shallow clones (see list.cloneShallow)\n// is active in echarts process. So considering heap memory consumption,\n// we do not clone tree or graph, but share them among list and its shallow clones.\n// But in some rare case, we have to keep old list (like do animation in chart). So\n// please take care that both the old list and the new list share the same tree/graph.\n\n/**\n * @param {Object} opt\n * @param {module:echarts/data/List} opt.mainData\n * @param {Object} [opt.struct] For example, instance of Graph or Tree.\n * @param {string} [opt.structAttr] designation: list[structAttr] = struct;\n * @param {Object} [opt.datas] {dataType: data},\n *                 like: {node: nodeList, edge: edgeList}.\n *                 Should contain mainData.\n * @param {Object} [opt.datasAttr] {dataType: attr},\n *                 designation: struct[datasAttr[dataType]] = list;\n */\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, zrUtil.curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', zrUtil.curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, zrUtil.curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  zrUtil.assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = zrUtil.extend({}, this[DATAS]);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, this[MAIN_DATA], opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update(this);\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(res[DATAS], function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param {string} [dataType] If not specified, return mainData.\n * @return {module:echarts/data/List}\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = this[MAIN_DATA];\n  return dataType == null || mainData == null ? mainData : mainData[DATAS][dataType];\n}\n\nfunction isMainData(data) {\n  return data[MAIN_DATA] === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  mainData[DATAS] = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  mainData[DATAS][dataType] = data;\n  data[MAIN_DATA] = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n}\n\nvar _default = linkList;\nmodule.exports = _default;","var _default = {\n  toolbox: {\n    brush: {\n      title: {\n        rect: '矩形选择',\n        polygon: '圈选',\n        lineX: '横向选择',\n        lineY: '纵向选择',\n        keep: '保持选择',\n        clear: '清除选择'\n      }\n    },\n    dataView: {\n      title: '数据视图',\n      lang: ['数据视图', '关闭', '刷新']\n    },\n    dataZoom: {\n      title: {\n        zoom: '区域缩放',\n        back: '区域缩放还原'\n      }\n    },\n    magicType: {\n      title: {\n        line: '切换为折线图',\n        bar: '切换为柱状图',\n        stack: '切换为堆叠',\n        tiled: '切换为平铺'\n      }\n    },\n    restore: {\n      title: '还原'\n    },\n    saveAsImage: {\n      title: '保存为图片',\n      lang: ['右键另存为图片']\n    }\n  }\n};\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../util/number\");\n\nvar parsePercent = _number.parsePercent;\nvar STACK_PREFIX = '__ec_stack_';\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @param {Object} opt\n * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n * @param {number} opt.count Positive interger.\n * @param {number} [opt.barWidth]\n * @param {number} [opt.barMaxWidth]\n * @param {number} [opt.barGap]\n * @param {number} [opt.barCategoryGap]\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\n\nfunction getLayoutOnAxis(opt, api) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n\n  var bandWidth = baseAxis.getBandWidth();\n\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(zrUtil.defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n\n  var widthAndOffsets = doCalBarWidthAndOffset(params, api);\n  var result = [];\n\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n\n  return result;\n}\n\nfunction calBarWidthAndOffset(barSeries, api) {\n  var seriesInfoList = zrUtil.map(barSeries, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    return {\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    };\n  });\n  return doCalBarWidthAndOffset(seriesInfoList, api);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList, api) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  zrUtil.each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n    // TODO\n\n    var barWidth = seriesInfo.barWidth;\n\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction barLayoutGrid(seriesType, ecModel, api) {\n  var barWidthAndOffset = calBarWidthAndOffset(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n  }));\n  var lastStackCoords = {};\n  var lastStackCoordsOrigin = {};\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (seriesModel.coordinateSystem.type !== 'cartesian2d') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var valueAxisStart = baseAxis.onZero ? valueAxis.toGlobalCoord(valueAxis.dataToCoord(0)) : valueAxis.getGlobalExtent()[0];\n    var coordDims = [seriesModel.coordDimToDataDim('x')[0], seriesModel.coordDimToDataDim('y')[0]];\n    var coords = data.mapArray(coordDims, function (x, y) {\n      return cartesian.dataToPoint([x, y]);\n    }, true);\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n    data.setLayout({\n      offset: columnOffset,\n      size: columnWidth\n    });\n    data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      if (!lastStackCoords[stackId][idx]) {\n        lastStackCoords[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n        lastStackCoordsOrigin[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n      }\n\n      var sign = value >= 0 ? 'p' : 'n';\n      var coord = coords[idx];\n      var lastCoord = lastStackCoords[stackId][idx][sign];\n      var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (valueAxis.isHorizontal()) {\n        x = lastCoord;\n        y = coord[1] + columnOffset;\n        width = coord[0] - lastCoordOrigin;\n        height = columnWidth;\n        lastStackCoordsOrigin[stackId][idx][sign] += width;\n\n        if (Math.abs(width) < barMinHeight) {\n          width = (width < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoords[stackId][idx][sign] += width;\n      } else {\n        x = coord[0] + columnOffset;\n        y = lastCoord;\n        width = columnWidth;\n        height = coord[1] - lastCoordOrigin;\n        lastStackCoordsOrigin[stackId][idx][sign] += height;\n\n        if (Math.abs(height) < barMinHeight) {\n          // Include zero to has a positive bar\n          height = (height <= 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoords[stackId][idx][sign] += height;\n      }\n\n      data.setItemLayout(idx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }, true);\n  }, this);\n}\n\nbarLayoutGrid.getLayoutOnAxis = getLayoutOnAxis;\nvar _default = barLayoutGrid;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || '__ec_stack_' + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim;\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n * @param {module:echarts/ExtensionAPI} api\n */\n\n\nfunction barLayoutPolar(seriesType, ecModel, api) {\n  var width = api.getWidth();\n  var height = api.getHeight();\n  var lastStackCoords = {};\n  var lastStackCoordsOrigin = {};\n  var barWidthAndOffset = calRadialBar(zrUtil.filter(ecModel.getSeriesByType(seriesType), function (seriesModel) {\n    return !ecModel.isSeriesFiltered(seriesModel) && seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'polar';\n  }));\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for polar only\n    if (seriesModel.coordinateSystem.type !== 'polar') {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var angleAxis = polar.getAngleAxis();\n    var baseAxis = polar.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = polar.getOtherAxis(baseAxis);\n    var center = seriesModel.get('center') || ['50%', '50%'];\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    var barMinAngle = seriesModel.get('barMinAngle') || 0;\n    var valueAxisStart = valueAxis.getExtent()[0];\n    var valueMax = valueAxis.model.get('max');\n    var valueMin = valueAxis.model.get('min');\n    var coordDims = [seriesModel.coordDimToDataDim('radius')[0], seriesModel.coordDimToDataDim('angle')[0]];\n    var coords = data.mapArray(coordDims, function (radius, angle) {\n      return polar.dataToPoint([radius, angle]);\n    }, true);\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n    data.each(seriesModel.coordDimToDataDim(valueAxis.dim)[0], function (value, idx) {\n      if (isNaN(value)) {\n        return;\n      }\n\n      if (!lastStackCoords[stackId][idx]) {\n        lastStackCoords[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n        lastStackCoordsOrigin[stackId][idx] = {\n          p: valueAxisStart,\n          // Positive stack\n          n: valueAxisStart // Negative stack\n\n        };\n      }\n\n      var sign = value >= 0 ? 'p' : 'n';\n      var coord = polar.pointToCoord(coords[idx]);\n      var lastCoordOrigin = lastStackCoordsOrigin[stackId][idx][sign];\n      var r0;\n      var r;\n      var startAngle;\n      var endAngle;\n\n      if (valueAxis.dim === 'radius') {\n        // radial sector\n        r0 = lastCoordOrigin;\n        r = coord[0];\n        startAngle = (-coord[1] + columnOffset) * Math.PI / 180;\n        endAngle = startAngle + columnWidth * Math.PI / 180;\n\n        if (Math.abs(r) < barMinHeight) {\n          r = r0 + (r < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        lastStackCoordsOrigin[stackId][idx][sign] = r;\n      } else {\n        // tangential sector\n        r0 = coord[0] + columnOffset;\n        r = r0 + columnWidth; // clamp data if min or max is defined for valueAxis\n\n        if (valueMax != null) {\n          value = Math.min(value, valueMax);\n        }\n\n        if (valueMin != null) {\n          value = Math.max(value, valueMin);\n        }\n\n        var angle = angleAxis.dataToAngle(value);\n\n        if (Math.abs(angle - lastCoordOrigin) < barMinAngle) {\n          angle = lastCoordOrigin - (value < 0 ? -1 : 1) * barMinAngle;\n        }\n\n        startAngle = -lastCoordOrigin * Math.PI / 180;\n        endAngle = -angle * Math.PI / 180; // if the previous stack is at the end of the ring,\n        // add a round to differentiate it from origin\n\n        var extent = angleAxis.getExtent();\n        var stackCoord = angle;\n\n        if (stackCoord === extent[0] && value > 0) {\n          stackCoord = extent[1];\n        } else if (stackCoord === extent[1] && value < 0) {\n          stackCoord = extent[0];\n        }\n\n        lastStackCoordsOrigin[stackId][idx][sign] = stackCoord;\n      }\n\n      data.setItemLayout(idx, {\n        cx: cx,\n        cy: cy,\n        r0: r0,\n        r: r,\n        startAngle: startAngle,\n        endAngle: endAngle\n      });\n    }, true);\n  }, this);\n}\n/**\n * Calculate bar width and offset for radial bar charts\n */\n\n\nfunction calRadialBar(barSeries, api) {\n  // Columns info on each category axis. Key is polar name\n  var columnsMap = {};\n  zrUtil.each(barSeries, function (seriesModel, idx) {\n    var data = seriesModel.getData();\n    var polar = seriesModel.coordinateSystem;\n    var baseAxis = polar.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var columnsOnAxis = columnsMap[getAxisKey(baseAxis)] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[getAxisKey(baseAxis)] = columnsOnAxis;\n    var stackId = getSeriesStackId(seriesModel);\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    };\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n\n    if (barWidth && !stacks[stackId].width) {\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      stacks[stackId].width = barWidth;\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    barGap != null && (columnsOnAxis.gap = barGap);\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n\nvar _default = barLayoutPolar;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @param {number} [time=500] Time in ms\n * @param {string} [easing='linear']\n * @param {number} [delay=0]\n * @param {Function} [callback]\n *\n * @example\n *  // Animate position\n *  animation\n *      .createWrap()\n *      .add(el1, {position: [10, 10]})\n *      .add(el2, {shape: {width: 500}, style: {fill: 'red'}}, 400)\n *      .done(function () { // done })\n *      .start('cubicOut');\n */\nfunction createWrap() {\n  var storage = [];\n  var elExistsMap = {};\n  var doneCallback;\n  return {\n    /**\n     * Caution: a el can only be added once, otherwise 'done'\n     * might not be called. This method checks this (by el.id),\n     * suppresses adding and returns false when existing el found.\n     *\n     * @param {modele:zrender/Element} el\n     * @param {Object} target\n     * @param {number} [time=500]\n     * @param {number} [delay=0]\n     * @param {string} [easing='linear']\n     * @return {boolean} Whether adding succeeded.\n     *\n     * @example\n     *     add(el, target, time, delay, easing);\n     *     add(el, target, time, easing);\n     *     add(el, target, time);\n     *     add(el, target);\n     */\n    add: function (el, target, time, delay, easing) {\n      if (zrUtil.isString(delay)) {\n        easing = delay;\n        delay = 0;\n      }\n\n      if (elExistsMap[el.id]) {\n        return false;\n      }\n\n      elExistsMap[el.id] = 1;\n      storage.push({\n        el: el,\n        target: target,\n        time: time,\n        delay: delay,\n        easing: easing\n      });\n      return true;\n    },\n\n    /**\n     * Only execute when animation finished. Will not execute when any\n     * of 'stop' or 'stopAnimation' called.\n     *\n     * @param {Function} callback\n     */\n    done: function (callback) {\n      doneCallback = callback;\n      return this;\n    },\n\n    /**\n     * Will stop exist animation firstly.\n     */\n    start: function () {\n      var count = storage.length;\n\n      for (var i = 0, len = storage.length; i < len; i++) {\n        var item = storage[i];\n        item.el.animateTo(item.target, item.time, item.delay, item.easing, done);\n      }\n\n      return this;\n\n      function done() {\n        count--;\n\n        if (!count) {\n          storage.length = 0;\n          elExistsMap = {};\n          doneCallback && doneCallback();\n        }\n      }\n    }\n  };\n}\n\nexports.createWrap = createWrap;","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * nest helper used to group by the array.\n * can specified the keys and sort the keys.\n */\nfunction nest() {\n  var keysFunction = [];\n  var sortKeysFunction = [];\n  /**\n   * map an Array into the mapObject.\n   * @param {Array} array\n   * @param {number} depth\n   */\n\n  function map(array, depth) {\n    if (depth >= keysFunction.length) {\n      return array;\n    }\n\n    var i = -1;\n    var n = array.length;\n    var keyFunction = keysFunction[depth++];\n    var mapObject = {};\n    var valuesByKey = {};\n\n    while (++i < n) {\n      var keyValue = keyFunction(array[i]);\n      var values = valuesByKey[keyValue];\n\n      if (values) {\n        values.push(array[i]);\n      } else {\n        valuesByKey[keyValue] = [array[i]];\n      }\n    }\n\n    zrUtil.each(valuesByKey, function (value, key) {\n      mapObject[key] = map(value, depth);\n    });\n    return mapObject;\n  }\n  /**\n   * transform the Map Object to multidimensional Array\n   * @param {Object} map\n   * @param {number} depth\n   */\n\n\n  function entriesMap(mapObject, depth) {\n    if (depth >= keysFunction.length) {\n      return mapObject;\n    }\n\n    var array = [];\n    var sortKeyFunction = sortKeysFunction[depth++];\n    zrUtil.each(mapObject, function (value, key) {\n      array.push({\n        key: key,\n        values: entriesMap(value, depth)\n      });\n    });\n\n    if (sortKeyFunction) {\n      return array.sort(function (a, b) {\n        return sortKeyFunction(a.key, b.key);\n      });\n    } else {\n      return array;\n    }\n  }\n\n  return {\n    /**\n     * specified the key to groupby the arrays.\n     * users can specified one more keys.\n     * @param {Function} d\n     */\n    key: function (d) {\n      keysFunction.push(d);\n      return this;\n    },\n\n    /**\n     * specified the comparator to sort the keys\n     * @param {Function} order\n     */\n    sortKeys: function (order) {\n      sortKeysFunction[keysFunction.length - 1] = order;\n      return this;\n    },\n\n    /**\n     * the array to be grouped by.\n     * @param {Array} array\n     */\n    entries: function (array) {\n      return entriesMap(map(array, 0), 0);\n    }\n  };\n}\n\nmodule.exports = nest;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar zrColor = require(\"zrender/lib/tool/color\");\n\nvar _number = require(\"../util/number\");\n\nvar linearMap = _number.linearMap;\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar CATEGORY_DEFAULT_VISUAL_INDEX = -1;\n/**\n * @param {Object} option\n * @param {string} [option.type] See visualHandlers.\n * @param {string} [option.mappingMethod] 'linear' or 'piecewise' or 'category' or 'fixed'\n * @param {Array.<number>=} [option.dataExtent] [minExtent, maxExtent],\n *                                              required when mappingMethod is 'linear'\n * @param {Array.<Object>=} [option.pieceList] [\n *                                             {value: someValue},\n *                                             {interval: [min1, max1], visual: {...}},\n *                                             {interval: [min2, max2]}\n *                                             ],\n *                                            required when mappingMethod is 'piecewise'.\n *                                            Visual for only each piece can be specified.\n * @param {Array.<string|Object>=} [option.categories] ['cate1', 'cate2']\n *                                            required when mappingMethod is 'category'.\n *                                            If no option.categories, categories is set\n *                                            as [0, 1, 2, ...].\n * @param {boolean} [option.loop=false] Whether loop mapping when mappingMethod is 'category'.\n * @param {(Array|Object|*)} [option.visual]  Visual data.\n *                                            when mappingMethod is 'category',\n *                                            visual data can be array or object\n *                                            (like: {cate1: '#222', none: '#fff'})\n *                                            or primary types (which represents\n *                                            defualt category visual), otherwise visual\n *                                            can be array or primary (which will be\n *                                            normalized to array).\n *\n */\n\nvar VisualMapping = function (option) {\n  var mappingMethod = option.mappingMethod;\n  var visualType = option.type;\n  /**\n   * @readOnly\n   * @type {Object}\n   */\n\n  var thisOption = this.option = zrUtil.clone(option);\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.type = visualType;\n  /**\n   * @readOnly\n   * @type {string}\n   */\n\n  this.mappingMethod = mappingMethod;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._normalizeData = normalizers[mappingMethod];\n  var visualHandler = visualHandlers[visualType];\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.applyVisual = visualHandler.applyVisual;\n  /**\n   * @public\n   * @type {Function}\n   */\n\n  this.getColorMapper = visualHandler.getColorMapper;\n  /**\n   * @private\n   * @type {Function}\n   */\n\n  this._doMap = visualHandler._doMap[mappingMethod];\n\n  if (mappingMethod === 'piecewise') {\n    normalizeVisualRange(thisOption);\n    preprocessForPiecewise(thisOption);\n  } else if (mappingMethod === 'category') {\n    thisOption.categories ? preprocessForSpecifiedCategory(thisOption) // categories is ordinal when thisOption.categories not specified,\n    // which need no more preprocess except normalize visual.\n    : normalizeVisualRange(thisOption, true);\n  } else {\n    // mappingMethod === 'linear' or 'fixed'\n    zrUtil.assert(mappingMethod !== 'linear' || thisOption.dataExtent);\n    normalizeVisualRange(thisOption);\n  }\n};\n\nVisualMapping.prototype = {\n  constructor: VisualMapping,\n  mapValueToVisual: function (value) {\n    var normalized = this._normalizeData(value);\n\n    return this._doMap(normalized, value);\n  },\n  getNormalizer: function () {\n    return zrUtil.bind(this._normalizeData, this);\n  }\n};\nvar visualHandlers = VisualMapping.visualHandlers = {\n  color: {\n    applyVisual: makeApplyVisual('color'),\n\n    /**\n     * Create a mapper function\n     * @return {Function}\n     */\n    getColorMapper: function () {\n      var thisOption = this.option;\n      return zrUtil.bind(thisOption.mappingMethod === 'category' ? function (value, isNormalized) {\n        !isNormalized && (value = this._normalizeData(value));\n        return doMapCategory.call(this, value);\n      } : function (value, isNormalized, out) {\n        // If output rgb array\n        // which will be much faster and useful in pixel manipulation\n        var returnRGBArray = !!out;\n        !isNormalized && (value = this._normalizeData(value));\n        out = zrColor.fastLerp(value, thisOption.parsedVisual, out);\n        return returnRGBArray ? out : zrColor.stringify(out, 'rgba');\n      }, this);\n    },\n    _doMap: {\n      linear: function (normalized) {\n        return zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n      },\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = zrColor.stringify(zrColor.fastLerp(normalized, this.option.parsedVisual), 'rgba');\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  colorHue: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, value);\n  }),\n  colorSaturation: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, value);\n  }),\n  colorLightness: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyHSL(color, null, null, value);\n  }),\n  colorAlpha: makePartialColorVisualHandler(function (color, value) {\n    return zrColor.modifyAlpha(color, value);\n  }),\n  opacity: {\n    applyVisual: makeApplyVisual('opacity'),\n    _doMap: makeDoMap([0, 1])\n  },\n  symbol: {\n    applyVisual: function (value, getter, setter) {\n      var symbolCfg = this.mapValueToVisual(value);\n\n      if (zrUtil.isString(symbolCfg)) {\n        setter('symbol', symbolCfg);\n      } else if (isObject(symbolCfg)) {\n        for (var name in symbolCfg) {\n          if (symbolCfg.hasOwnProperty(name)) {\n            setter(name, symbolCfg[name]);\n          }\n        }\n      }\n    },\n    _doMap: {\n      linear: doMapToArray,\n      category: doMapCategory,\n      piecewise: function (normalized, value) {\n        var result = getSpecifiedVisual.call(this, value);\n\n        if (result == null) {\n          result = doMapToArray.call(this, normalized);\n        }\n\n        return result;\n      },\n      fixed: doMapFixed\n    }\n  },\n  symbolSize: {\n    applyVisual: makeApplyVisual('symbolSize'),\n    _doMap: makeDoMap([0, 1])\n  }\n};\n\nfunction preprocessForPiecewise(thisOption) {\n  var pieceList = thisOption.pieceList;\n  thisOption.hasSpecialVisual = false;\n  zrUtil.each(pieceList, function (piece, index) {\n    piece.originIndex = index; // piece.visual is \"result visual value\" but not\n    // a visual range, so it does not need to be normalized.\n\n    if (piece.visual != null) {\n      thisOption.hasSpecialVisual = true;\n    }\n  });\n}\n\nfunction preprocessForSpecifiedCategory(thisOption) {\n  // Hash categories.\n  var categories = thisOption.categories;\n  var visual = thisOption.visual;\n  var categoryMap = thisOption.categoryMap = {};\n  each(categories, function (cate, index) {\n    categoryMap[cate] = index;\n  }); // Process visual map input.\n\n  if (!zrUtil.isArray(visual)) {\n    var visualArr = [];\n\n    if (zrUtil.isObject(visual)) {\n      each(visual, function (v, cate) {\n        var index = categoryMap[cate];\n        visualArr[index != null ? index : CATEGORY_DEFAULT_VISUAL_INDEX] = v;\n      });\n    } else {\n      // Is primary type, represents default visual.\n      visualArr[CATEGORY_DEFAULT_VISUAL_INDEX] = visual;\n    }\n\n    visual = setVisualToOption(thisOption, visualArr);\n  } // Remove categories that has no visual,\n  // then we can mapping them to CATEGORY_DEFAULT_VISUAL_INDEX.\n\n\n  for (var i = categories.length - 1; i >= 0; i--) {\n    if (visual[i] == null) {\n      delete categoryMap[categories[i]];\n      categories.pop();\n    }\n  }\n}\n\nfunction normalizeVisualRange(thisOption, isCategory) {\n  var visual = thisOption.visual;\n  var visualArr = [];\n\n  if (zrUtil.isObject(visual)) {\n    each(visual, function (v) {\n      visualArr.push(v);\n    });\n  } else if (visual != null) {\n    visualArr.push(visual);\n  }\n\n  var doNotNeedPair = {\n    color: 1,\n    symbol: 1\n  };\n\n  if (!isCategory && visualArr.length === 1 && !doNotNeedPair.hasOwnProperty(thisOption.type)) {\n    // Do not care visualArr.length === 0, which is illegal.\n    visualArr[1] = visualArr[0];\n  }\n\n  setVisualToOption(thisOption, visualArr);\n}\n\nfunction makePartialColorVisualHandler(applyValue) {\n  return {\n    applyVisual: function (value, getter, setter) {\n      value = this.mapValueToVisual(value); // Must not be array value\n\n      setter('color', applyValue(getter('color'), value));\n    },\n    _doMap: makeDoMap([0, 1])\n  };\n}\n\nfunction doMapToArray(normalized) {\n  var visual = this.option.visual;\n  return visual[Math.round(linearMap(normalized, [0, 1], [0, visual.length - 1], true))] || {};\n}\n\nfunction makeApplyVisual(visualType) {\n  return function (value, getter, setter) {\n    setter(visualType, this.mapValueToVisual(value));\n  };\n}\n\nfunction doMapCategory(normalized) {\n  var visual = this.option.visual;\n  return visual[this.option.loop && normalized !== CATEGORY_DEFAULT_VISUAL_INDEX ? normalized % visual.length : normalized];\n}\n\nfunction doMapFixed() {\n  return this.option.visual[0];\n}\n\nfunction makeDoMap(sourceExtent) {\n  return {\n    linear: function (normalized) {\n      return linearMap(normalized, sourceExtent, this.option.visual, true);\n    },\n    category: doMapCategory,\n    piecewise: function (normalized, value) {\n      var result = getSpecifiedVisual.call(this, value);\n\n      if (result == null) {\n        result = linearMap(normalized, sourceExtent, this.option.visual, true);\n      }\n\n      return result;\n    },\n    fixed: doMapFixed\n  };\n}\n\nfunction getSpecifiedVisual(value) {\n  var thisOption = this.option;\n  var pieceList = thisOption.pieceList;\n\n  if (thisOption.hasSpecialVisual) {\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList);\n    var piece = pieceList[pieceIndex];\n\n    if (piece && piece.visual) {\n      return piece.visual[this.type];\n    }\n  }\n}\n\nfunction setVisualToOption(thisOption, visualArr) {\n  thisOption.visual = visualArr;\n\n  if (thisOption.type === 'color') {\n    thisOption.parsedVisual = zrUtil.map(visualArr, function (item) {\n      return zrColor.parse(item);\n    });\n  }\n\n  return visualArr;\n}\n/**\n * Normalizers by mapping methods.\n */\n\n\nvar normalizers = {\n  linear: function (value) {\n    return linearMap(value, this.option.dataExtent, [0, 1], true);\n  },\n  piecewise: function (value) {\n    var pieceList = this.option.pieceList;\n    var pieceIndex = VisualMapping.findPieceIndex(value, pieceList, true);\n\n    if (pieceIndex != null) {\n      return linearMap(pieceIndex, [0, pieceList.length - 1], [0, 1], true);\n    }\n  },\n  category: function (value) {\n    var index = this.option.categories ? this.option.categoryMap[value] : value; // ordinal\n\n    return index == null ? CATEGORY_DEFAULT_VISUAL_INDEX : index;\n  },\n  fixed: zrUtil.noop\n};\n/**\n * List available visual types.\n *\n * @public\n * @return {Array.<string>}\n */\n\nVisualMapping.listVisualTypes = function () {\n  var visualTypes = [];\n  zrUtil.each(visualHandlers, function (handler, key) {\n    visualTypes.push(key);\n  });\n  return visualTypes;\n};\n/**\n * @public\n */\n\n\nVisualMapping.addVisualHandler = function (name, handler) {\n  visualHandlers[name] = handler;\n};\n/**\n * @public\n */\n\n\nVisualMapping.isValidType = function (visualType) {\n  return visualHandlers.hasOwnProperty(visualType);\n};\n/**\n * Convinent method.\n * Visual can be Object or Array or primary type.\n *\n * @public\n */\n\n\nVisualMapping.eachVisual = function (visual, callback, context) {\n  if (zrUtil.isObject(visual)) {\n    zrUtil.each(visual, callback, context);\n  } else {\n    callback.call(context, visual);\n  }\n};\n\nVisualMapping.mapVisual = function (visual, callback, context) {\n  var isPrimary;\n  var newVisual = zrUtil.isArray(visual) ? [] : zrUtil.isObject(visual) ? {} : (isPrimary = true, null);\n  VisualMapping.eachVisual(visual, function (v, key) {\n    var newVal = callback.call(context, v, key);\n    isPrimary ? newVisual = newVal : newVisual[key] = newVal;\n  });\n  return newVisual;\n};\n/**\n * @public\n * @param {Object} obj\n * @return {Object} new object containers visual values.\n *                 If no visuals, return null.\n */\n\n\nVisualMapping.retrieveVisuals = function (obj) {\n  var ret = {};\n  var hasVisual;\n  obj && each(visualHandlers, function (h, visualType) {\n    if (obj.hasOwnProperty(visualType)) {\n      ret[visualType] = obj[visualType];\n      hasVisual = true;\n    }\n  });\n  return hasVisual ? ret : null;\n};\n/**\n * Give order to visual types, considering colorSaturation, colorAlpha depends on color.\n *\n * @public\n * @param {(Object|Array)} visualTypes If Object, like: {color: ..., colorSaturation: ...}\n *                                     IF Array, like: ['color', 'symbol', 'colorSaturation']\n * @return {Array.<string>} Sorted visual types.\n */\n\n\nVisualMapping.prepareVisualTypes = function (visualTypes) {\n  if (isObject(visualTypes)) {\n    var types = [];\n    each(visualTypes, function (item, type) {\n      types.push(type);\n    });\n    visualTypes = types;\n  } else if (zrUtil.isArray(visualTypes)) {\n    visualTypes = visualTypes.slice();\n  } else {\n    return [];\n  }\n\n  visualTypes.sort(function (type1, type2) {\n    // color should be front of colorSaturation, colorAlpha, ...\n    // symbol and symbolSize do not matter.\n    return type2 === 'color' && type1 !== 'color' && type1.indexOf('color') === 0 ? 1 : -1;\n  });\n  return visualTypes;\n};\n/**\n * 'color', 'colorSaturation', 'colorAlpha', ... are depends on 'color'.\n * Other visuals are only depends on themself.\n *\n * @public\n * @param {string} visualType1\n * @param {string} visualType2\n * @return {boolean}\n */\n\n\nVisualMapping.dependsOn = function (visualType1, visualType2) {\n  return visualType2 === 'color' ? !!(visualType1 && visualType1.indexOf(visualType2) === 0) : visualType1 === visualType2;\n};\n/**\n * @param {number} value\n * @param {Array.<Object>} pieceList [{value: ..., interval: [min, max]}, ...]\n *                         Always from small to big.\n * @param {boolean} [findClosestWhenOutside=false]\n * @return {number} index\n */\n\n\nVisualMapping.findPieceIndex = function (value, pieceList, findClosestWhenOutside) {\n  var possibleI;\n  var abs = Infinity; // value has the higher priority.\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var pieceValue = pieceList[i].value;\n\n    if (pieceValue != null) {\n      if (pieceValue === value // FIXME\n      // It is supposed to compare value according to value type of dimension,\n      // but currently value type can exactly be string or number.\n      // Compromise for numeric-like string (like '12'), especially\n      // in the case that visualMap.categories is ['22', '33'].\n      || typeof pieceValue === 'string' && pieceValue === value + '') {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(pieceValue, i);\n    }\n  }\n\n  for (var i = 0, len = pieceList.length; i < len; i++) {\n    var piece = pieceList[i];\n    var interval = piece.interval;\n    var close = piece.close;\n\n    if (interval) {\n      if (interval[0] === -Infinity) {\n        if (littleThan(close[1], value, interval[1])) {\n          return i;\n        }\n      } else if (interval[1] === Infinity) {\n        if (littleThan(close[0], interval[0], value)) {\n          return i;\n        }\n      } else if (littleThan(close[0], interval[0], value) && littleThan(close[1], value, interval[1])) {\n        return i;\n      }\n\n      findClosestWhenOutside && updatePossible(interval[0], i);\n      findClosestWhenOutside && updatePossible(interval[1], i);\n    }\n  }\n\n  if (findClosestWhenOutside) {\n    return value === Infinity ? pieceList.length - 1 : value === -Infinity ? 0 : possibleI;\n  }\n\n  function updatePossible(val, index) {\n    var newAbs = Math.abs(val - value);\n\n    if (newAbs < abs) {\n      abs = newAbs;\n      possibleI = index;\n    }\n  }\n};\n\nfunction littleThan(close, a, b) {\n  return close ? a <= b : a < b;\n}\n\nvar _default = VisualMapping;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\n/**\n * @file Visual mapping.\n */\nvar visualDefault = {\n  /**\n   * @public\n   */\n  get: function (visualType, key, isCategory) {\n    var value = zrUtil.clone((defaultOption[visualType] || {})[key]);\n    return isCategory ? zrUtil.isArray(value) ? value[value.length - 1] : value : value;\n  }\n};\nvar defaultOption = {\n  color: {\n    active: ['#006edd', '#e0ffff'],\n    inactive: ['rgba(0,0,0,0)']\n  },\n  colorHue: {\n    active: [0, 360],\n    inactive: [0, 0]\n  },\n  colorSaturation: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  colorLightness: {\n    active: [0.9, 0.5],\n    inactive: [0, 0]\n  },\n  colorAlpha: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  opacity: {\n    active: [0.3, 1],\n    inactive: [0, 0]\n  },\n  symbol: {\n    active: ['circle', 'roundRect', 'diamond'],\n    inactive: ['none']\n  },\n  symbolSize: {\n    active: [10, 50],\n    inactive: [0, 0]\n  }\n};\nvar _default = visualDefault;\nmodule.exports = _default;","var zrUtil = require(\"zrender/lib/core/util\");\n\nvar VisualMapping = require(\"./VisualMapping\");\n\n/**\n * @file Visual solution, for consistent option specification.\n */\nvar each = zrUtil.each;\n\nfunction hasKeys(obj) {\n  if (obj) {\n    for (var name in obj) {\n      if (obj.hasOwnProperty(name)) {\n        return true;\n      }\n    }\n  }\n}\n/**\n * @param {Object} option\n * @param {Array.<string>} stateList\n * @param {Function} [supplementVisualOption]\n * @return {Object} visualMappings <state, <visualType, module:echarts/visual/VisualMapping>>\n */\n\n\nfunction createVisualMappings(option, stateList, supplementVisualOption) {\n  var visualMappings = {};\n  each(stateList, function (state) {\n    var mappings = visualMappings[state] = createMappings();\n    each(option[state], function (visualData, visualType) {\n      if (!VisualMapping.isValidType(visualType)) {\n        return;\n      }\n\n      var mappingOption = {\n        type: visualType,\n        visual: visualData\n      };\n      supplementVisualOption && supplementVisualOption(mappingOption, state);\n      mappings[visualType] = new VisualMapping(mappingOption); // Prepare a alpha for opacity, for some case that opacity\n      // is not supported, such as rendering using gradient color.\n\n      if (visualType === 'opacity') {\n        mappingOption = zrUtil.clone(mappingOption);\n        mappingOption.type = 'colorAlpha';\n        mappings.__hidden.__alphaForOpacity = new VisualMapping(mappingOption);\n      }\n    });\n  });\n  return visualMappings;\n\n  function createMappings() {\n    var Creater = function () {}; // Make sure hidden fields will not be visited by\n    // object iteration (with hasOwnProperty checking).\n\n\n    Creater.prototype.__hidden = Creater.prototype;\n    var obj = new Creater();\n    return obj;\n  }\n}\n/**\n * @param {Object} thisOption\n * @param {Object} newOption\n * @param {Array.<string>} keys\n */\n\n\nfunction replaceVisualOption(thisOption, newOption, keys) {\n  // Visual attributes merge is not supported, otherwise it\n  // brings overcomplicated merge logic. See #2853. So if\n  // newOption has anyone of these keys, all of these keys\n  // will be reset. Otherwise, all keys remain.\n  var has;\n  zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      has = true;\n    }\n  });\n  has && zrUtil.each(keys, function (key) {\n    if (newOption.hasOwnProperty(key) && hasKeys(newOption[key])) {\n      thisOption[key] = zrUtil.clone(newOption[key]);\n    } else {\n      delete thisOption[key];\n    }\n  });\n}\n/**\n * @param {Array.<string>} stateList\n * @param {Object} visualMappings <state, Object.<visualType, module:echarts/visual/VisualMapping>>\n * @param {module:echarts/data/List} list\n * @param {Function} getValueState param: valueOrIndex, return: state.\n * @param {object} [scope] Scope for getValueState\n * @param {string} [dimension] Concrete dimension, if used.\n */\n\n\nfunction applyVisual(stateList, visualMappings, data, getValueState, scope, dimension) {\n  var visualTypesMap = {};\n  zrUtil.each(stateList, function (state) {\n    var visualTypes = VisualMapping.prepareVisualTypes(visualMappings[state]);\n    visualTypesMap[state] = visualTypes;\n  });\n  var dataIndex;\n\n  function getVisual(key) {\n    return data.getItemVisual(dataIndex, key);\n  }\n\n  function setVisual(key, value) {\n    data.setItemVisual(dataIndex, key, value);\n  }\n\n  if (dimension == null) {\n    data.each(eachItem, true);\n  } else {\n    data.each([dimension], eachItem, true);\n  }\n\n  function eachItem(valueOrIndex, index) {\n    dataIndex = dimension == null ? valueOrIndex : index;\n    var rawDataItem = data.getRawDataItem(dataIndex); // Consider performance\n\n    if (rawDataItem && rawDataItem.visualMap === false) {\n      return;\n    }\n\n    var valueState = getValueState.call(scope, valueOrIndex);\n    var mappings = visualMappings[valueState];\n    var visualTypes = visualTypesMap[valueState];\n\n    for (var i = 0, len = visualTypes.length; i < len; i++) {\n      var type = visualTypes[i];\n      mappings[type] && mappings[type].applyVisual(valueOrIndex, getVisual, setVisual);\n    }\n  }\n}\n\nexports.createVisualMappings = createVisualMappings;\nexports.replaceVisualOption = replaceVisualOption;\nexports.applyVisual = applyVisual;","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","// Myers' Diff Algorithm\n// Modified from https://github.com/kpdecker/jsdiff/blob/master/src/diff/base.js\nfunction Diff() {}\n\nDiff.prototype = {\n  diff: function (oldArr, newArr, equals) {\n    if (!equals) {\n      equals = function (a, b) {\n        return a === b;\n      };\n    }\n\n    this.equals = equals;\n    var self = this;\n    oldArr = oldArr.slice();\n    newArr = newArr.slice(); // Allow subclasses to massage the input prior to running\n\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newArr, oldArr, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      var indices = [];\n\n      for (var i = 0; i < newArr.length; i++) {\n        indices.push(i);\n      } // Identity per the equality and tokenizer\n\n\n      return [{\n        indices: indices,\n        count: newArr.length\n      }];\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath;\n        var addPath = bestPath[diagonalPath - 1];\n        var removePath = bestPath[diagonalPath + 1];\n        var oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen;\n        var canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        oldPos = self.extractCommon(basePath, newArr, oldArr, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n          return buildValues(self, basePath.components, newArr, oldArr);\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    }\n\n    while (editLength <= maxEditLength) {\n      var ret = execEditLength();\n\n      if (ret) {\n        return ret;\n      }\n    }\n  },\n  pushComponent: function (components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function (basePath, newArr, oldArr, diagonalPath) {\n    var newLen = newArr.length;\n    var oldLen = oldArr.length;\n    var newPos = basePath.newPos;\n    var oldPos = newPos - diagonalPath;\n    var commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newArr[newPos + 1], oldArr[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  tokenize: function (value) {\n    return value.slice();\n  },\n  join: function (value) {\n    return value.slice();\n  }\n};\n\nfunction buildValues(diff, components, newArr, oldArr) {\n  var componentPos = 0;\n  var componentLen = components.length;\n  var newPos = 0;\n  var oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      var indices = [];\n\n      for (var i = newPos; i < newPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      var indices = [];\n\n      for (var i = oldPos; i < oldPos + component.count; i++) {\n        indices.push(i);\n      }\n\n      component.indices = indices;\n      oldPos += component.count;\n    }\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar arrayDiff = new Diff();\n\nfunction _default(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nmodule.exports = _default;","var _core = require(\"./core\");\n\nvar createElement = _core.createElement;\n\nvar util = require(\"../core/util\");\n\nvar each = util.each;\n\nvar zrLog = require(\"../core/log\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar ZText = require(\"../graphic/Text\");\n\nvar arrayDiff = require(\"../core/arrayDiff2\");\n\nvar GradientManager = require(\"./helper/GradientManager\");\n\nvar ClippathManager = require(\"./helper/ClippathManager\");\n\nvar _graphic = require(\"./graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * SVG Painter\n * @module zrender/svg/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction getSvgProxy(el) {\n  if (el instanceof Path) {\n    return svgPath;\n  } else if (el instanceof ZImage) {\n    return svgImage;\n  } else if (el instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n}\n\nfunction checkParentAvailable(parent, child) {\n  return child && parent && child.parentNode !== parent;\n}\n\nfunction insertAfter(parent, child, prevSibling) {\n  if (checkParentAvailable(parent, child) && prevSibling) {\n    var nextSibling = prevSibling.nextSibling;\n    nextSibling ? parent.insertBefore(child, nextSibling) : parent.appendChild(child);\n  }\n}\n\nfunction prepend(parent, child) {\n  if (checkParentAvailable(parent, child)) {\n    var firstChild = parent.firstChild;\n    firstChild ? parent.insertBefore(child, firstChild) : parent.appendChild(child);\n  }\n}\n\nfunction append(parent, child) {\n  if (checkParentAvailable(parent, child)) {\n    parent.appendChild(child);\n  }\n}\n\nfunction remove(parent, child) {\n  if (child && parent && child.parentNode === parent) {\n    parent.removeChild(child);\n  }\n}\n\nfunction getTextSvgElement(displayable) {\n  return displayable.__textSvgEl;\n}\n\nfunction getSvgElement(displayable) {\n  return displayable.__svgEl;\n}\n/**\n * @alias module:zrender/svg/Painter\n * @constructor\n * @param {HTMLElement} root 绘图容器\n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar SVGPainter = function (root, storage, opts) {\n  this.root = root;\n  this.storage = storage;\n  this._opts = opts = util.extend({}, opts || {});\n  var svgRoot = createElement('svg');\n  svgRoot.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n  svgRoot.setAttribute('version', '1.1');\n  svgRoot.setAttribute('baseProfile', 'full');\n  svgRoot.style['user-select'] = 'none';\n  svgRoot.style.cssText = 'position:absolute;left:0;top:0;';\n  this.gradientManager = new GradientManager(svgRoot);\n  this.clipPathManager = new ClippathManager(svgRoot);\n  var viewport = document.createElement('div');\n  viewport.style.cssText = 'overflow:hidden;position:relative';\n  this._svgRoot = svgRoot;\n  this._viewport = viewport;\n  root.appendChild(viewport);\n  viewport.appendChild(svgRoot);\n  this.resize(opts.width, opts.height);\n  this._visibleList = [];\n};\n\nSVGPainter.prototype = {\n  constructor: SVGPainter,\n  getType: function () {\n    return 'svg';\n  },\n  getViewportRoot: function () {\n    return this._viewport;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n  refresh: function () {\n    var list = this.storage.getDisplayList(true);\n\n    this._paintList(list);\n  },\n  _paintList: function (list) {\n    this.gradientManager.markAllUnused();\n    this.clipPathManager.markAllUnused();\n    var svgRoot = this._svgRoot;\n    var visibleList = this._visibleList;\n    var listLen = list.length;\n    var newVisibleList = [];\n    var i;\n\n    for (i = 0; i < listLen; i++) {\n      var displayable = list[i];\n      var svgProxy = getSvgProxy(displayable);\n\n      if (!displayable.invisible) {\n        if (displayable.__dirty) {\n          svgProxy && svgProxy.brush(displayable); // Update clipPath\n\n          this.clipPathManager.update(displayable); // Update gradient\n\n          if (displayable.style) {\n            this.gradientManager.update(displayable.style.fill);\n            this.gradientManager.update(displayable.style.stroke);\n          }\n\n          displayable.__dirty = false;\n        }\n\n        newVisibleList.push(displayable);\n      }\n    }\n\n    var diff = arrayDiff(visibleList, newVisibleList);\n    var prevSvgElement; // First do remove, in case element moved to the head and do remove\n    // after add\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = visibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          remove(svgRoot, svgElement);\n          remove(svgRoot, textSvgElement);\n        }\n      }\n    }\n\n    for (i = 0; i < diff.length; i++) {\n      var item = diff[i];\n\n      if (item.added) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          var svgElement = getSvgElement(displayable);\n          var textSvgElement = getTextSvgElement(displayable);\n          prevSvgElement ? insertAfter(svgRoot, svgElement, prevSvgElement) : prepend(svgRoot, svgElement);\n\n          if (svgElement) {\n            insertAfter(svgRoot, textSvgElement, svgElement);\n          } else if (prevSvgElement) {\n            insertAfter(svgRoot, textSvgElement, prevSvgElement);\n          } else {\n            prepend(svgRoot, textSvgElement);\n          } // Insert text\n\n\n          insertAfter(svgRoot, textSvgElement, svgElement);\n          prevSvgElement = textSvgElement || svgElement || prevSvgElement;\n          this.gradientManager.addWithoutUpdate(svgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n        }\n      } else if (!item.removed) {\n        for (var k = 0; k < item.count; k++) {\n          var displayable = newVisibleList[item.indices[k]];\n          prevSvgElement = svgElement = getTextSvgElement(displayable) || getSvgElement(displayable) || prevSvgElement;\n          this.gradientManager.markUsed(displayable);\n          this.gradientManager.addWithoutUpdate(svgElement, displayable);\n          this.clipPathManager.markUsed(displayable);\n        }\n      }\n    }\n\n    this.gradientManager.removeUnused();\n    this.clipPathManager.removeUnused();\n    this._visibleList = newVisibleList;\n  },\n  _getDefs: function (isForceCreating) {\n    var svgRoot = this._svgRoot;\n\n    var defs = this._svgRoot.getElementsByTagName('defs');\n\n    if (defs.length === 0) {\n      // Not exist\n      if (isForceCreating) {\n        var defs = svgRoot.insertBefore(createElement('defs'), // Create new tag\n        svgRoot.firstChild // Insert in the front of svg\n        );\n\n        if (!defs.contains) {\n          // IE doesn't support contains method\n          defs.contains = function (el) {\n            var children = defs.children;\n\n            if (!children) {\n              return false;\n            }\n\n            for (var i = children.length - 1; i >= 0; --i) {\n              if (children[i] === el) {\n                return true;\n              }\n            }\n\n            return false;\n          };\n        }\n\n        return defs;\n      } else {\n        return null;\n      }\n    } else {\n      return defs[0];\n    }\n  },\n  resize: function (width, height) {\n    var viewport = this._viewport; // FIXME Why ?\n\n    viewport.style.display = 'none'; // Save input w/h\n\n    var opts = this._opts;\n    width != null && (opts.width = width);\n    height != null && (opts.height = height);\n    width = this._getSize(0);\n    height = this._getSize(1);\n    viewport.style.display = '';\n\n    if (this._width !== width && this._height !== height) {\n      this._width = width;\n      this._height = height;\n      var viewportStyle = viewport.style;\n      viewportStyle.width = width + 'px';\n      viewportStyle.height = height + 'px';\n      var svgRoot = this._svgRoot; // Set width by 'svgRoot.width = width' is invalid\n\n      svgRoot.setAttribute('width', width);\n      svgRoot.setAttribute('height', height);\n    }\n  },\n\n  /**\n   * 获取绘图区域宽度\n   */\n  getWidth: function () {\n    return this._width;\n  },\n\n  /**\n   * 获取绘图区域高度\n   */\n  getHeight: function () {\n    return this._height;\n  },\n  _getSize: function (whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._svgRoot = this._viewport = this.storage = null;\n  },\n  clear: function () {\n    if (this._viewport) {\n      this.root.removeChild(this._viewport);\n    }\n  },\n  pathToSvg: function () {\n    this.refresh();\n    var html = this._svgRoot.outerHTML;\n    return 'data:img/svg+xml;utf-8,' + unescape(html);\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    zrLog('In SVG mode painter not support method \"' + method + '\"');\n  };\n} // Unsuppoted methods\n\n\neach(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (name) {\n  SVGPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = SVGPainter;\nmodule.exports = _default;","var svgURI = 'http://www.w3.org/2000/svg';\n\nfunction createElement(name) {\n  return document.createElementNS(svgURI, name);\n}\n\nexports.createElement = createElement;","var _core = require(\"./core\");\n\nvar createElement = _core.createElement;\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"../graphic/helper/text\");\n\nvar Text = require(\"../graphic/Text\");\n\n// TODO\n// 1. shadow\n// 2. Image: sx, sy, sw, sh\nvar CMD = PathProxy.CMD;\nvar arrayJoin = Array.prototype.join;\nvar NONE = 'none';\nvar mathRound = Math.round;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\nvar PI2 = Math.PI * 2;\nvar degree = 180 / PI;\nvar EPSILON = 1e-4;\n\nfunction round4(val) {\n  return mathRound(val * 1e4) / 1e4;\n}\n\nfunction isAroundZero(val) {\n  return val < EPSILON && val > -EPSILON;\n}\n\nfunction pathHasFill(style, isText) {\n  var fill = isText ? style.textFill : style.fill;\n  return fill != null && fill !== NONE;\n}\n\nfunction pathHasStroke(style, isText) {\n  var stroke = isText ? style.textStroke : style.stroke;\n  return stroke != null && stroke !== NONE;\n}\n\nfunction setTransform(svgEl, m) {\n  if (m) {\n    attr(svgEl, 'transform', 'matrix(' + arrayJoin.call(m, ',') + ')');\n  }\n}\n\nfunction attr(el, key, val) {\n  if (!val || val.type !== 'linear' && val.type !== 'radial') {\n    // Don't set attribute for gradient, since it need new dom nodes\n    el.setAttribute(key, val);\n  }\n}\n\nfunction attrXLink(el, key, val) {\n  el.setAttributeNS('http://www.w3.org/1999/xlink', key, val);\n}\n\nfunction bindStyle(svgEl, style, isText) {\n  if (pathHasFill(style, isText)) {\n    var fill = isText ? style.textFill : style.fill;\n    fill = fill === 'transparent' ? NONE : fill;\n    /**\n     * FIXME:\n     * This is a temporary fix for Chrome's clipping bug\n     * that happens when a clip-path is referring another one.\n     * This fix should be used before Chrome's bug is fixed.\n     * For an element that has clip-path, and fill is none,\n     * set it to be \"rgba(0, 0, 0, 0.002)\" will hide the element.\n     * Otherwise, it will show black fill color.\n     * 0.002 is used because this won't work for alpha values smaller\n     * than 0.002.\n     *\n     * See\n     * https://bugs.chromium.org/p/chromium/issues/detail?id=659790\n     * for more information.\n     */\n\n    if (svgEl.getAttribute('clip-path') !== 'none' && fill === NONE) {\n      fill = 'rgba(0, 0, 0, 0.002)';\n    }\n\n    attr(svgEl, 'fill', fill);\n    attr(svgEl, 'fill-opacity', style.opacity);\n  } else {\n    attr(svgEl, 'fill', NONE);\n  }\n\n  if (pathHasStroke(style, isText)) {\n    var stroke = isText ? style.textStroke : style.stroke;\n    stroke = stroke === 'transparent' ? NONE : stroke;\n    attr(svgEl, 'stroke', stroke);\n    var strokeWidth = isText ? style.textStrokeWidth : style.lineWidth;\n    var strokeScale = style.strokeNoScale ? style.host.getLineScale() : 1;\n    attr(svgEl, 'stroke-width', strokeWidth / strokeScale);\n    attr(svgEl, 'paint-order', 'stroke');\n    attr(svgEl, 'stroke-opacity', style.opacity);\n    var lineDash = style.lineDash;\n\n    if (lineDash) {\n      attr(svgEl, 'stroke-dasharray', style.lineDash.join(','));\n      attr(svgEl, 'stroke-dashoffset', mathRound(style.lineDashOffset || 0));\n    } else {\n      attr(svgEl, 'stroke-dasharray', '');\n    } // PENDING\n\n\n    style.lineCap && attr(svgEl, 'stroke-linecap', style.lineCap);\n    style.lineJoin && attr(svgEl, 'stroke-linejoin', style.lineJoin);\n    style.miterLimit && attr(svgEl, 'stroke-miterlimit', style.miterLimit);\n  } else {\n    attr(svgEl, 'stroke', NONE);\n  }\n}\n/***************************************************\n * PATH\n **************************************************/\n\n\nfunction pathDataToString(path) {\n  var str = [];\n  var data = path.data;\n  var dataLength = path.len();\n\n  for (var i = 0; i < dataLength;) {\n    var cmd = data[i++];\n    var cmdStr = '';\n    var nData = 0;\n\n    switch (cmd) {\n      case CMD.M:\n        cmdStr = 'M';\n        nData = 2;\n        break;\n\n      case CMD.L:\n        cmdStr = 'L';\n        nData = 2;\n        break;\n\n      case CMD.Q:\n        cmdStr = 'Q';\n        nData = 4;\n        break;\n\n      case CMD.C:\n        cmdStr = 'C';\n        nData = 6;\n        break;\n\n      case CMD.A:\n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++];\n        var psi = data[i++];\n        var clockwise = data[i++];\n        var dThetaPositive = Math.abs(dTheta);\n        var isCircle = isAroundZero(dThetaPositive % PI2) && !isAroundZero(dThetaPositive);\n        var large = false;\n\n        if (dThetaPositive >= PI2) {\n          large = true;\n        } else if (isAroundZero(dThetaPositive)) {\n          large = false;\n        } else {\n          large = (dTheta > -PI && dTheta < 0 || dTheta > PI) === !!clockwise;\n        }\n\n        var x0 = round4(cx + rx * mathCos(theta));\n        var y0 = round4(cy + ry * mathSin(theta)); // It will not draw if start point and end point are exactly the same\n        // We need to shift the end point with a small value\n        // FIXME A better way to draw circle ?\n\n        if (isCircle) {\n          if (clockwise) {\n            dTheta = PI2 - 1e-4;\n          } else {\n            dTheta = -PI2 + 1e-4;\n          }\n\n          large = true;\n\n          if (i === 9) {\n            // Move to (x0, y0) only when CMD.A comes at the\n            // first position of a shape.\n            // For instance, when drawing a ring, CMD.A comes\n            // after CMD.M, so it's unnecessary to move to\n            // (x0, y0).\n            str.push('M', x0, y0);\n          }\n        }\n\n        var x = round4(cx + rx * mathCos(theta + dTheta));\n        var y = round4(cy + ry * mathSin(theta + dTheta)); // FIXME Ellipse\n\n        str.push('A', round4(rx), round4(ry), mathRound(psi * degree), +large, +clockwise, x, y);\n        break;\n\n      case CMD.Z:\n        cmdStr = 'Z';\n        break;\n\n      case CMD.R:\n        var x = round4(data[i++]);\n        var y = round4(data[i++]);\n        var w = round4(data[i++]);\n        var h = round4(data[i++]);\n        str.push('M', x, y, 'L', x + w, y, 'L', x + w, y + h, 'L', x, y + h, 'L', x, y);\n        break;\n    }\n\n    cmdStr && str.push(cmdStr);\n\n    for (var j = 0; j < nData; j++) {\n      // PENDING With scale\n      str.push(round4(data[i++]));\n    }\n  }\n\n  return str.join(' ');\n}\n\nvar svgPath = {};\n\nsvgPath.brush = function (el) {\n  var style = el.style;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('path');\n    el.__svgEl = svgEl;\n  }\n\n  if (!el.path) {\n    el.createPathProxy();\n  }\n\n  var path = el.path;\n\n  if (el.__dirtyPath) {\n    path.beginPath();\n    el.buildPath(path, el.shape);\n    el.__dirtyPath = false;\n    var pathStr = pathDataToString(path);\n\n    if (pathStr.indexOf('NaN') < 0) {\n      // Ignore illegal path, which may happen such in out-of-range\n      // data in Calendar series.\n      attr(svgEl, 'd', pathStr);\n    }\n  }\n\n  bindStyle(svgEl, style);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  }\n};\n/***************************************************\n * IMAGE\n **************************************************/\n\n\nvar svgImage = {};\n\nsvgImage.brush = function (el) {\n  var style = el.style;\n  var image = style.image;\n\n  if (image instanceof HTMLImageElement) {\n    var src = image.src;\n    image = src;\n  }\n\n  if (!image) {\n    return;\n  }\n\n  var x = style.x || 0;\n  var y = style.y || 0;\n  var dw = style.width;\n  var dh = style.height;\n  var svgEl = el.__svgEl;\n\n  if (!svgEl) {\n    svgEl = createElement('image');\n    el.__svgEl = svgEl;\n  }\n\n  if (image !== el.__imageSrc) {\n    attrXLink(svgEl, 'href', image); // Caching image src\n\n    el.__imageSrc = image;\n  }\n\n  attr(svgEl, 'width', dw);\n  attr(svgEl, 'height', dh);\n  attr(svgEl, 'x', x);\n  attr(svgEl, 'y', y);\n  setTransform(svgEl, el.transform);\n\n  if (style.text != null) {\n    svgTextDrawRectText(el, el.getBoundingRect());\n  }\n};\n/***************************************************\n * TEXT\n **************************************************/\n\n\nvar svgText = {};\nvar tmpRect = new BoundingRect();\n\nvar svgTextDrawRectText = function (el, rect, textRect) {\n  var style = el.style;\n  el.__dirty && textHelper.normalizeTextStyle(style, true);\n  var text = style.text; // Convert to string\n\n  if (text == null) {\n    // Draw no text only when text is set to null, but not ''\n    return;\n  } else {\n    text += '';\n  }\n\n  var textSvgEl = el.__textSvgEl;\n\n  if (!textSvgEl) {\n    textSvgEl = createElement('text');\n    el.__textSvgEl = textSvgEl;\n  }\n\n  bindStyle(textSvgEl, style, true);\n\n  if (el instanceof Text || el.style.transformText) {\n    // Transform text with element\n    setTransform(textSvgEl, el.transform);\n  } else {\n    if (el.transform) {\n      tmpRect.copy(rect);\n      tmpRect.applyTransform(el.transform);\n      rect = tmpRect;\n    } else {\n      var pos = el.transformCoordToGlobal(rect.x, rect.y);\n      rect.x = pos[0];\n      rect.y = pos[1];\n    }\n  }\n\n  var x;\n  var y;\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var align = style.textAlign || 'left';\n\n  if (typeof style.fontSize === 'number') {\n    style.fontSize += 'px';\n  }\n\n  var font = style.font || [style.fontStyle || '', style.fontWeight || '', style.fontSize || '', style.fontFamily || ''].join(' ') || textContain.DEFAULT_FONT;\n  var verticalAlign = getVerticalAlignForSvg(style.textVerticalAlign);\n  textRect = textContain.getBoundingRect(text, font, align, verticalAlign);\n  var lineHeight = textRect.lineHeight; // Text position represented by coord\n\n  if (textPosition instanceof Array) {\n    x = rect.x + textPosition[0];\n    y = rect.y + textPosition[1];\n  } else {\n    var newPos = textContain.adjustTextPositionOnRect(textPosition, rect, distance);\n    x = newPos.x;\n    y = newPos.y;\n    verticalAlign = getVerticalAlignForSvg(newPos.textVerticalAlign);\n    align = newPos.textAlign;\n  }\n\n  attr(textSvgEl, 'alignment-baseline', verticalAlign);\n\n  if (font) {\n    textSvgEl.style.font = font;\n  }\n\n  var textPadding = style.textPadding; // Make baseline top\n\n  attr(textSvgEl, 'x', x);\n  attr(textSvgEl, 'y', y);\n  var textLines = text.split('\\n');\n  var nTextLines = textLines.length;\n  var textAnchor = align; // PENDING\n\n  if (textAnchor === 'left') {\n    textAnchor = 'start';\n    textPadding && (x += textPadding[3]);\n  } else if (textAnchor === 'right') {\n    textAnchor = 'end';\n    textPadding && (x -= textPadding[1]);\n  } else if (textAnchor === 'center') {\n    textAnchor = 'middle';\n    textPadding && (x += (textPadding[3] - textPadding[1]) / 2);\n  }\n\n  var dy = 0;\n\n  if (verticalAlign === 'baseline') {\n    dy = -textRect.height + lineHeight;\n    textPadding && (dy -= textPadding[2]);\n  } else if (verticalAlign === 'middle') {\n    dy = (-textRect.height + lineHeight) / 2;\n    textPadding && (y += (textPadding[0] - textPadding[2]) / 2);\n  } else {\n    textPadding && (dy += textPadding[0]);\n  } // Font may affect position of each tspan elements\n\n\n  if (el.__text !== text || el.__textFont !== font) {\n    var tspanList = el.__tspanList || [];\n    el.__tspanList = tspanList;\n\n    for (var i = 0; i < nTextLines; i++) {\n      // Using cached tspan elements\n      var tspan = tspanList[i];\n\n      if (!tspan) {\n        tspan = tspanList[i] = createElement('tspan');\n        textSvgEl.appendChild(tspan);\n        attr(tspan, 'alignment-baseline', verticalAlign);\n        attr(tspan, 'text-anchor', textAnchor);\n      } else {\n        tspan.innerHTML = '';\n      }\n\n      attr(tspan, 'x', x);\n      attr(tspan, 'y', y + i * lineHeight + dy);\n      tspan.appendChild(document.createTextNode(textLines[i]));\n    } // Remove unsed tspan elements\n\n\n    for (; i < tspanList.length; i++) {\n      textSvgEl.removeChild(tspanList[i]);\n    }\n\n    tspanList.length = nTextLines;\n    el.__text = text;\n    el.__textFont = font;\n  } else if (el.__tspanList.length) {\n    // Update span x and y\n    var len = el.__tspanList.length;\n\n    for (var i = 0; i < len; ++i) {\n      var tspan = el.__tspanList[i];\n\n      if (tspan) {\n        attr(tspan, 'x', x);\n        attr(tspan, 'y', y + i * lineHeight + dy);\n      }\n    }\n  }\n};\n\nfunction getVerticalAlignForSvg(verticalAlign) {\n  if (verticalAlign === 'middle') {\n    return 'middle';\n  } else if (verticalAlign === 'bottom') {\n    return 'baseline';\n  } else {\n    return 'hanging';\n  }\n}\n\nsvgText.drawRectText = svgTextDrawRectText;\n\nsvgText.brush = function (el) {\n  var style = el.style;\n\n  if (style.text != null) {\n    // 强制设置 textPosition\n    style.textPosition = [0, 0];\n    svgTextDrawRectText(el, {\n      x: style.x || 0,\n      y: style.y || 0,\n      width: 0,\n      height: 0\n    }, el.getBoundingRect());\n  }\n};\n\nexports.path = svgPath;\nexports.image = svgImage;\nexports.text = svgText;","var Definable = require(\"./Definable\");\n\nvar zrUtil = require(\"../../core/util\");\n\nvar matrix = require(\"../../core/matrix\");\n\n/**\n * @file Manages SVG clipPath elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG clipPath elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction ClippathManager(svgRoot) {\n  Definable.call(this, svgRoot, 'clipPath', '__clippath_in_use__');\n}\n\nzrUtil.inherits(ClippathManager, Definable);\n/**\n * Update clipPath.\n *\n * @param {Displayable} displayable displayable element\n */\n\nClippathManager.prototype.update = function (displayable) {\n  var svgEl = this.getSvgElement(displayable);\n\n  if (svgEl) {\n    this.updateDom(svgEl, displayable.__clipPaths, false);\n  }\n\n  var textEl = this.getTextSvgElement(displayable);\n\n  if (textEl) {\n    // Make another clipPath for text, since it's transform\n    // matrix is not the same with svgElement\n    this.updateDom(textEl, displayable.__clipPaths, true);\n  }\n\n  this.markUsed(displayable);\n};\n/**\n * Create an SVGElement of displayable and create a <clipPath> of its\n * clipPath\n *\n * @param {Displayable} parentEl  parent element\n * @param {ClipPath[]}  clipPaths clipPaths of parent element\n * @param {boolean}     isText    if parent element is Text\n */\n\n\nClippathManager.prototype.updateDom = function (parentEl, clipPaths, isText) {\n  if (clipPaths && clipPaths.length > 0) {\n    // Has clipPath, create <clipPath> with the first clipPath\n    var defs = this.getDefs(true);\n    var clipPath = clipPaths[0];\n    var clipPathEl;\n    var id;\n    var dom = isText ? '_textDom' : '_dom';\n\n    if (clipPath[dom]) {\n      // Use a dom that is already in <defs>\n      id = clipPath[dom].getAttribute('id');\n      clipPathEl = clipPath[dom]; // Use a dom that is already in <defs>\n\n      if (!defs.contains(clipPathEl)) {\n        // This happens when set old clipPath that has\n        // been previously removed\n        defs.appendChild(clipPathEl);\n      }\n    } else {\n      // New <clipPath>\n      id = 'zr-clip-' + this.nextId;\n      ++this.nextId;\n      clipPathEl = this.createElement('clipPath');\n      clipPathEl.setAttribute('id', id);\n      defs.appendChild(clipPathEl);\n      clipPath[dom] = clipPathEl;\n    } // Build path and add to <clipPath>\n\n\n    var svgProxy = this.getSvgProxy(clipPath);\n\n    if (clipPath.transform && clipPath.parent.invTransform && !isText) {\n      /**\n       * If a clipPath has a parent with transform, the transform\n       * of parent should not be considered when setting transform\n       * of clipPath. So we need to transform back from parent's\n       * transform, which is done by multiplying parent's inverse\n       * transform.\n       */\n      // Store old transform\n      var transform = Array.prototype.slice.call(clipPath.transform); // Transform back from parent, and brush path\n\n      matrix.mul(clipPath.transform, clipPath.parent.invTransform, clipPath.transform);\n      svgProxy.brush(clipPath); // Set back transform of clipPath\n\n      clipPath.transform = transform;\n    } else {\n      svgProxy.brush(clipPath);\n    }\n\n    var pathEl = this.getSvgElement(clipPath);\n    /**\n     * Use `cloneNode()` here to appendChild to multiple parents,\n     * which may happend when Text and other shapes are using the same\n     * clipPath. Since Text will create an extra clipPath DOM due to\n     * different transform rules.\n     */\n\n    clipPathEl.appendChild(pathEl.cloneNode());\n    parentEl.setAttribute('clip-path', 'url(#' + id + ')');\n\n    if (clipPaths.length > 1) {\n      // Make the other clipPaths recursively\n      this.updateDom(clipPathEl, clipPaths.slice(1), isText);\n    }\n  } else {\n    // No clipPath\n    if (parentEl) {\n      parentEl.setAttribute('clip-path', 'none');\n    }\n  }\n};\n/**\n * Mark a single clipPath to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nClippathManager.prototype.markUsed = function (displayable) {\n  var that = this;\n\n  if (displayable.__clipPaths && displayable.__clipPaths.length > 0) {\n    zrUtil.each(displayable.__clipPaths, function (clipPath) {\n      if (clipPath._dom) {\n        Definable.prototype.markUsed.call(that, clipPath._dom);\n      }\n\n      if (clipPath._textDom) {\n        Definable.prototype.markUsed.call(that, clipPath._textDom);\n      }\n    });\n  }\n};\n\nvar _default = ClippathManager;\nmodule.exports = _default;","var _core = require(\"../core\");\n\nvar createElement = _core.createElement;\n\nvar zrUtil = require(\"../../core/util\");\n\nvar Path = require(\"../../graphic/Path\");\n\nvar ZImage = require(\"../../graphic/Image\");\n\nvar ZText = require(\"../../graphic/Text\");\n\nvar _graphic = require(\"../graphic\");\n\nvar svgPath = _graphic.path;\nvar svgImage = _graphic.image;\nvar svgText = _graphic.text;\n\n/**\n * @file Manages elements that can be defined in <defs> in SVG,\n *       e.g., gradients, clip path, etc.\n * @author Zhang Wenli\n */\nvar MARK_UNUSED = '0';\nvar MARK_USED = '1';\n/**\n * Manages elements that can be defined in <defs> in SVG,\n * e.g., gradients, clip path, etc.\n *\n * @class\n * @param {SVGElement}      svgRoot   root of SVG document\n * @param {string|string[]} tagNames  possible tag names\n * @param {string}          markLabel label name to make if the element\n *                                    is used\n */\n\nfunction Definable(svgRoot, tagNames, markLabel) {\n  this._svgRoot = svgRoot;\n  this._tagNames = typeof tagNames === 'string' ? [tagNames] : tagNames;\n  this._markLabel = markLabel;\n  this.nextId = 0;\n}\n\nDefinable.prototype.createElement = createElement;\n/**\n * Get the <defs> tag for svgRoot; optionally creates one if not exists.\n *\n * @param {boolean} isForceCreating if need to create when not exists\n * @return {SVGDefsElement} SVG <defs> element, null if it doesn't\n * exist and isForceCreating is false\n */\n\nDefinable.prototype.getDefs = function (isForceCreating) {\n  var svgRoot = this._svgRoot;\n\n  var defs = this._svgRoot.getElementsByTagName('defs');\n\n  if (defs.length === 0) {\n    // Not exist\n    if (isForceCreating) {\n      defs = svgRoot.insertBefore(this.createElement('defs'), // Create new tag\n      svgRoot.firstChild // Insert in the front of svg\n      );\n\n      if (!defs.contains) {\n        // IE doesn't support contains method\n        defs.contains = function (el) {\n          var children = defs.children;\n\n          if (!children) {\n            return false;\n          }\n\n          for (var i = children.length - 1; i >= 0; --i) {\n            if (children[i] === el) {\n              return true;\n            }\n          }\n\n          return false;\n        };\n      }\n\n      return defs;\n    } else {\n      return null;\n    }\n  } else {\n    return defs[0];\n  }\n};\n/**\n * Update DOM element if necessary.\n *\n * @param {Object|string} element style element. e.g., for gradient,\n *                                it may be '#ccc' or {type: 'linear', ...}\n * @param {Function|undefined} onUpdate update callback\n */\n\n\nDefinable.prototype.update = function (element, onUpdate) {\n  if (!element) {\n    return;\n  }\n\n  var defs = this.getDefs(false);\n\n  if (element._dom && defs.contains(element._dom)) {\n    // Update DOM\n    if (typeof onUpdate === 'function') {\n      onUpdate();\n    }\n  } else {\n    // No previous dom, create new\n    var dom = this.add(element);\n\n    if (dom) {\n      element._dom = dom;\n    }\n  }\n};\n/**\n * Add gradient dom to defs\n *\n * @param {SVGElement} dom DOM to be added to <defs>\n */\n\n\nDefinable.prototype.addDom = function (dom) {\n  var defs = this.getDefs(true);\n  defs.appendChild(dom);\n};\n/**\n * Remove DOM of a given element.\n *\n * @param {SVGElement} element element to remove dom\n */\n\n\nDefinable.prototype.removeDom = function (element) {\n  var defs = this.getDefs(false);\n  defs.removeChild(element._dom);\n};\n/**\n * Get DOMs of this element.\n *\n * @return {HTMLDomElement} doms of this defineable elements in <defs>\n */\n\n\nDefinable.prototype.getDoms = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // No dom when defs is not defined\n    return [];\n  }\n\n  var doms = [];\n  zrUtil.each(this._tagNames, function (tagName) {\n    var tags = defs.getElementsByTagName(tagName); // Note that tags is HTMLCollection, which is array-like\n    // rather than real array.\n    // So `doms.concat(tags)` add tags as one object.\n\n    doms = doms.concat([].slice.call(tags));\n  });\n  return doms;\n};\n/**\n * Mark DOMs to be unused before painting, and clear unused ones at the end\n * of the painting.\n */\n\n\nDefinable.prototype.markAllUnused = function () {\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    dom[that._markLabel] = MARK_UNUSED;\n  });\n};\n/**\n * Mark a single DOM to be used.\n *\n * @param {SVGElement} dom DOM to mark\n */\n\n\nDefinable.prototype.markUsed = function (dom) {\n  if (dom) {\n    dom[this._markLabel] = MARK_USED;\n  }\n};\n/**\n * Remove unused DOMs defined in <defs>\n */\n\n\nDefinable.prototype.removeUnused = function () {\n  var defs = this.getDefs(false);\n\n  if (!defs) {\n    // Nothing to remove\n    return;\n  }\n\n  var doms = this.getDoms();\n  var that = this;\n  zrUtil.each(doms, function (dom) {\n    if (dom[that._markLabel] !== MARK_USED) {\n      // Remove gradient\n      defs.removeChild(dom);\n    }\n  });\n};\n/**\n * Get SVG proxy.\n *\n * @param {Displayable} displayable displayable element\n * @return {Path|Image|Text} svg proxy of given element\n */\n\n\nDefinable.prototype.getSvgProxy = function (displayable) {\n  if (displayable instanceof Path) {\n    return svgPath;\n  } else if (displayable instanceof ZImage) {\n    return svgImage;\n  } else if (displayable instanceof ZText) {\n    return svgText;\n  } else {\n    return svgPath;\n  }\n};\n/**\n * Get text SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element of text\n */\n\n\nDefinable.prototype.getTextSvgElement = function (displayable) {\n  return displayable.__textSvgEl;\n};\n/**\n * Get SVG element.\n *\n * @param {Displayable} displayable displayable element\n * @return {SVGElement} SVG element\n */\n\n\nDefinable.prototype.getSvgElement = function (displayable) {\n  return displayable.__svgEl;\n};\n\nvar _default = Definable;\nmodule.exports = _default;","var Definable = require(\"./Definable\");\n\nvar zrUtil = require(\"../../core/util\");\n\nvar zrLog = require(\"../../core/log\");\n\n/**\n * @file Manages SVG gradient elements.\n * @author Zhang Wenli\n */\n\n/**\n * Manages SVG gradient elements.\n *\n * @class\n * @extends Definable\n * @param   {SVGElement} svgRoot root of SVG document\n */\nfunction GradientManager(svgRoot) {\n  Definable.call(this, svgRoot, ['linearGradient', 'radialGradient'], '__gradient_in_use__');\n}\n\nzrUtil.inherits(GradientManager, Definable);\n/**\n * Create new gradient DOM for fill or stroke if not exist,\n * but will not update gradient if exists.\n *\n * @param {SvgElement}  svgElement   SVG element to paint\n * @param {Displayable} displayable  zrender displayable element\n */\n\nGradientManager.prototype.addWithoutUpdate = function (svgElement, displayable) {\n  if (displayable && displayable.style) {\n    var that = this;\n    zrUtil.each(['fill', 'stroke'], function (fillOrStroke) {\n      if (displayable.style[fillOrStroke] && (displayable.style[fillOrStroke].type === 'linear' || displayable.style[fillOrStroke].type === 'radial')) {\n        var gradient = displayable.style[fillOrStroke];\n        var defs = that.getDefs(true); // Create dom in <defs> if not exists\n\n        var dom;\n\n        if (gradient._dom) {\n          // Gradient exists\n          dom = gradient._dom;\n\n          if (!defs.contains(gradient._dom)) {\n            // _dom is no longer in defs, recreate\n            that.addDom(dom);\n          }\n        } else {\n          // New dom\n          dom = that.add(gradient);\n        }\n\n        that.markUsed(displayable);\n        var id = dom.getAttribute('id');\n        svgElement.setAttribute(fillOrStroke, 'url(#' + id + ')');\n      }\n    });\n  }\n};\n/**\n * Add a new gradient tag in <defs>\n *\n * @param   {Gradient} gradient zr gradient instance\n * @return {SVGLinearGradientElement | SVGRadialGradientElement}\n *                            created DOM\n */\n\n\nGradientManager.prototype.add = function (gradient) {\n  var dom;\n\n  if (gradient.type === 'linear') {\n    dom = this.createElement('linearGradient');\n  } else if (gradient.type === 'radial') {\n    dom = this.createElement('radialGradient');\n  } else {\n    zrLog('Illegal gradient type.');\n    return null;\n  } // Set dom id with gradient id, since each gradient instance\n  // will have no more than one dom element.\n  // id may exists before for those dirty elements, in which case\n  // id should remain the same, and other attributes should be\n  // updated.\n\n\n  gradient.id = gradient.id || this.nextId++;\n  dom.setAttribute('id', 'zr-gradient-' + gradient.id);\n  this.updateDom(gradient, dom);\n  this.addDom(dom);\n  return dom;\n};\n/**\n * Update gradient.\n *\n * @param {Gradient} gradient zr gradient instance\n */\n\n\nGradientManager.prototype.update = function (gradient) {\n  var that = this;\n  Definable.prototype.update.call(this, gradient, function () {\n    var type = gradient.type;\n    var tagName = gradient._dom.tagName;\n\n    if (type === 'linear' && tagName === 'linearGradient' || type === 'radial' && tagName === 'radialGradient') {\n      // Gradient type is not changed, update gradient\n      that.updateDom(gradient, gradient._dom);\n    } else {\n      // Remove and re-create if type is changed\n      that.removeDom(gradient);\n      that.add(gradient);\n    }\n  });\n};\n/**\n * Update gradient dom\n *\n * @param {Gradient} gradient zr gradient instance\n * @param {SVGLinearGradientElement | SVGRadialGradientElement} dom\n *                            DOM to update\n */\n\n\nGradientManager.prototype.updateDom = function (gradient, dom) {\n  if (gradient.type === 'linear') {\n    dom.setAttribute('x1', gradient.x);\n    dom.setAttribute('y1', gradient.y);\n    dom.setAttribute('x2', gradient.x2);\n    dom.setAttribute('y2', gradient.y2);\n  } else if (gradient.type === 'radial') {\n    dom.setAttribute('cx', gradient.x);\n    dom.setAttribute('cy', gradient.y);\n    dom.setAttribute('r', gradient.r);\n  } else {\n    zrLog('Illegal gradient type.');\n    return;\n  }\n\n  if (gradient.global) {\n    // x1, x2, y1, y2 in range of 0 to canvas width or height\n    dom.setAttribute('gradientUnits', 'userSpaceOnUse');\n  } else {\n    // x1, x2, y1, y2 in range of 0 to 1\n    dom.setAttribute('gradientUnits', 'objectBoundingBox');\n  } // Remove color stops if exists\n\n\n  dom.innerHTML = ''; // Add color stops\n\n  var colors = gradient.colorStops;\n\n  for (var i = 0, len = colors.length; i < len; ++i) {\n    var stop = this.createElement('stop');\n    stop.setAttribute('offset', colors[i].offset * 100 + '%');\n    stop.setAttribute('stop-color', colors[i].color);\n    dom.appendChild(stop);\n  } // Store dom element in gradient, to avoid creating multiple\n  // dom instances for the same gradient element\n\n\n  gradient._dom = dom;\n};\n/**\n * Mark a single gradient to be used\n *\n * @param {Displayable} displayable displayable element\n */\n\n\nGradientManager.prototype.markUsed = function (displayable) {\n  if (displayable.style) {\n    var gradient = displayable.style.fill;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n\n    gradient = displayable.style.stroke;\n\n    if (gradient && gradient._dom) {\n      Definable.prototype.markUsed.call(this, gradient._dom);\n    }\n  }\n};\n\nvar _default = GradientManager;\nmodule.exports = _default;","require(\"./graphic\");\n\nvar _zrender = require(\"../zrender\");\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = require(\"./Painter\");\n\nregisterPainter('svg', Painter);","var zrLog = require(\"../core/log\");\n\nvar vmlCore = require(\"./core\");\n\nvar _util = require(\"../core/util\");\n\nvar each = _util.each;\n\n/**\n * VML Painter.\n *\n * @module zrender/vml/Painter\n */\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n/**\n * @alias module:zrender/vml/Painter\n */\n\n\nfunction VMLPainter(root, storage) {\n  vmlCore.initVML();\n  this.root = root;\n  this.storage = storage;\n  var vmlViewport = document.createElement('div');\n  var vmlRoot = document.createElement('div');\n  vmlViewport.style.cssText = 'display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;';\n  vmlRoot.style.cssText = 'position:absolute;left:0;top:0;';\n  root.appendChild(vmlViewport);\n  this._vmlRoot = vmlRoot;\n  this._vmlViewport = vmlViewport;\n  this.resize(); // Modify storage\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n\n    if (el) {\n      el.onRemove && el.onRemove(vmlRoot);\n    }\n  };\n\n  storage.addToStorage = function (el) {\n    // Displayable already has a vml node\n    el.onAdd && el.onAdd(vmlRoot);\n    oldAddToStorage.call(storage, el);\n  };\n\n  this._firstPaint = true;\n}\n\nVMLPainter.prototype = {\n  constructor: VMLPainter,\n  getType: function () {\n    return 'vml';\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function () {\n    return this._vmlViewport;\n  },\n  getViewportRootOffset: function () {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * 刷新\n   */\n  refresh: function () {\n    var list = this.storage.getDisplayList(true, true);\n\n    this._paintList(list);\n  },\n  _paintList: function (list) {\n    var vmlRoot = this._vmlRoot;\n\n    for (var i = 0; i < list.length; i++) {\n      var el = list[i];\n\n      if (el.invisible || el.ignore) {\n        if (!el.__alreadyNotVisible) {\n          el.onRemove(vmlRoot);\n        } // Set as already invisible\n\n\n        el.__alreadyNotVisible = true;\n      } else {\n        if (el.__alreadyNotVisible) {\n          el.onAdd(vmlRoot);\n        }\n\n        el.__alreadyNotVisible = false;\n\n        if (el.__dirty) {\n          el.beforeBrush && el.beforeBrush();\n          (el.brushVML || el.brush).call(el, vmlRoot);\n          el.afterBrush && el.afterBrush();\n        }\n      }\n\n      el.__dirty = false;\n    }\n\n    if (this._firstPaint) {\n      // Detached from document at first time\n      // to avoid page refreshing too many times\n      // FIXME 如果每次都先 removeChild 可能会导致一些填充和描边的效果改变\n      this._vmlViewport.appendChild(vmlRoot);\n\n      this._firstPaint = false;\n    }\n  },\n  resize: function (width, height) {\n    var width = width == null ? this._getWidth() : width;\n    var height = height == null ? this._getHeight() : height;\n\n    if (this._width != width || this._height != height) {\n      this._width = width;\n      this._height = height;\n      var vmlViewportStyle = this._vmlViewport.style;\n      vmlViewportStyle.width = width + 'px';\n      vmlViewportStyle.height = height + 'px';\n    }\n  },\n  dispose: function () {\n    this.root.innerHTML = '';\n    this._vmlRoot = this._vmlViewport = this.storage = null;\n  },\n  getWidth: function () {\n    return this._width;\n  },\n  getHeight: function () {\n    return this._height;\n  },\n  clear: function () {\n    if (this._vmlViewport) {\n      this.root.removeChild(this._vmlViewport);\n    }\n  },\n  _getWidth: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientWidth || parseInt10(stl.width)) - parseInt10(stl.paddingLeft) - parseInt10(stl.paddingRight) | 0;\n  },\n  _getHeight: function () {\n    var root = this.root;\n    var stl = root.currentStyle;\n    return (root.clientHeight || parseInt10(stl.height)) - parseInt10(stl.paddingTop) - parseInt10(stl.paddingBottom) | 0;\n  }\n}; // Not supported methods\n\nfunction createMethodNotSupport(method) {\n  return function () {\n    zrLog('In IE8.0 VML mode painter not support method \"' + method + '\"');\n  };\n} // Unsupported methods\n\n\neach(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (name) {\n  VMLPainter.prototype[name] = createMethodNotSupport(name);\n});\nvar _default = VMLPainter;\nmodule.exports = _default;","var env = require(\"../core/env\");\n\nvar urn = 'urn:schemas-microsoft-com:vml';\nvar win = typeof window === 'undefined' ? null : window;\nvar vmlInited = false;\nvar doc = win && win.document;\n\nfunction createNode(tagName) {\n  return doCreateNode(tagName);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nvar doCreateNode;\n\nif (doc && !env.canvasSupported) {\n  try {\n    !doc.namespaces.zrvml && doc.namespaces.add('zrvml', urn);\n\n    doCreateNode = function (tagName) {\n      return doc.createElement('<zrvml:' + tagName + ' class=\"zrvml\">');\n    };\n  } catch (e) {\n    doCreateNode = function (tagName) {\n      return doc.createElement('<' + tagName + ' xmlns=\"' + urn + '\" class=\"zrvml\">');\n    };\n  }\n} // From raphael\n\n\nfunction initVML() {\n  if (vmlInited || !doc) {\n    return;\n  }\n\n  vmlInited = true;\n  var styleSheets = doc.styleSheets;\n\n  if (styleSheets.length < 31) {\n    doc.createStyleSheet().addRule('.zrvml', 'behavior:url(#default#VML)');\n  } else {\n    // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n    styleSheets[0].addRule('.zrvml', 'behavior:url(#default#VML)');\n  }\n}\n\nexports.doc = doc;\nexports.createNode = createNode;\nexports.initVML = initVML;","var env = require(\"../core/env\");\n\nvar _vector = require(\"../core/vector\");\n\nvar applyTransform = _vector.applyTransform;\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar colorTool = require(\"../tool/color\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"../graphic/helper/text\");\n\nvar RectText = require(\"../graphic/mixin/RectText\");\n\nvar Displayable = require(\"../graphic/Displayable\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar Text = require(\"../graphic/Text\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar Gradient = require(\"../graphic/Gradient\");\n\nvar vmlCore = require(\"./core\");\n\n// http://www.w3.org/TR/NOTE-VML\n// TODO Use proxy like svg instead of overwrite brush methods\nvar CMD = PathProxy.CMD;\nvar round = Math.round;\nvar sqrt = Math.sqrt;\nvar abs = Math.abs;\nvar cos = Math.cos;\nvar sin = Math.sin;\nvar mathMax = Math.max;\n\nif (!env.canvasSupported) {\n  var comma = ',';\n  var imageTransformPrefix = 'progid:DXImageTransform.Microsoft';\n  var Z = 21600;\n  var Z2 = Z / 2;\n  var ZLEVEL_BASE = 100000;\n  var Z_BASE = 1000;\n\n  var initRootElStyle = function (el) {\n    el.style.cssText = 'position:absolute;left:0;top:0;width:1px;height:1px;';\n    el.coordsize = Z + ',' + Z;\n    el.coordorigin = '0,0';\n  };\n\n  var encodeHtmlAttribute = function (s) {\n    return String(s).replace(/&/g, '&amp;').replace(/\"/g, '&quot;');\n  };\n\n  var rgb2Str = function (r, g, b) {\n    return 'rgb(' + [r, g, b].join(',') + ')';\n  };\n\n  var append = function (parent, child) {\n    if (child && parent && child.parentNode !== parent) {\n      parent.appendChild(child);\n    }\n  };\n\n  var remove = function (parent, child) {\n    if (child && parent && child.parentNode === parent) {\n      parent.removeChild(child);\n    }\n  };\n\n  var getZIndex = function (zlevel, z, z2) {\n    // z 的取值范围为 [0, 1000]\n    return (parseFloat(zlevel) || 0) * ZLEVEL_BASE + (parseFloat(z) || 0) * Z_BASE + z2;\n  };\n\n  var parsePercent = function (value, maxValue) {\n    if (typeof value === 'string') {\n      if (value.lastIndexOf('%') >= 0) {\n        return parseFloat(value) / 100 * maxValue;\n      }\n\n      return parseFloat(value);\n    }\n\n    return value;\n  };\n  /***************************************************\n   * PATH\n   **************************************************/\n\n\n  var setColorAndOpacity = function (el, color, opacity) {\n    var colorArr = colorTool.parse(color);\n    opacity = +opacity;\n\n    if (isNaN(opacity)) {\n      opacity = 1;\n    }\n\n    if (colorArr) {\n      el.color = rgb2Str(colorArr[0], colorArr[1], colorArr[2]);\n      el.opacity = opacity * colorArr[3];\n    }\n  };\n\n  var getColorAndAlpha = function (color) {\n    var colorArr = colorTool.parse(color);\n    return [rgb2Str(colorArr[0], colorArr[1], colorArr[2]), colorArr[3]];\n  };\n\n  var updateFillNode = function (el, style, zrEl) {\n    // TODO pattern\n    var fill = style.fill;\n\n    if (fill != null) {\n      // Modified from excanvas\n      if (fill instanceof Gradient) {\n        var gradientType;\n        var angle = 0;\n        var focus = [0, 0]; // additional offset\n\n        var shift = 0; // scale factor for offset\n\n        var expansion = 1;\n        var rect = zrEl.getBoundingRect();\n        var rectWidth = rect.width;\n        var rectHeight = rect.height;\n\n        if (fill.type === 'linear') {\n          gradientType = 'gradient';\n          var transform = zrEl.transform;\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var p1 = [fill.x2 * rectWidth, fill.y2 * rectHeight];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n            applyTransform(p1, p1, transform);\n          }\n\n          var dx = p1[0] - p0[0];\n          var dy = p1[1] - p0[1];\n          angle = Math.atan2(dx, dy) * 180 / Math.PI; // The angle should be a non-negative number.\n\n          if (angle < 0) {\n            angle += 360;\n          } // Very small angles produce an unexpected result because they are\n          // converted to a scientific notation string.\n\n\n          if (angle < 1e-6) {\n            angle = 0;\n          }\n        } else {\n          gradientType = 'gradientradial';\n          var p0 = [fill.x * rectWidth, fill.y * rectHeight];\n          var transform = zrEl.transform;\n          var scale = zrEl.scale;\n          var width = rectWidth;\n          var height = rectHeight;\n          focus = [// Percent in bounding rect\n          (p0[0] - rect.x) / width, (p0[1] - rect.y) / height];\n\n          if (transform) {\n            applyTransform(p0, p0, transform);\n          }\n\n          width /= scale[0] * Z;\n          height /= scale[1] * Z;\n          var dimension = mathMax(width, height);\n          shift = 2 * 0 / dimension;\n          expansion = 2 * fill.r / dimension - shift;\n        } // We need to sort the color stops in ascending order by offset,\n        // otherwise IE won't interpret it correctly.\n\n\n        var stops = fill.colorStops.slice();\n        stops.sort(function (cs1, cs2) {\n          return cs1.offset - cs2.offset;\n        });\n        var length = stops.length; // Color and alpha list of first and last stop\n\n        var colorAndAlphaList = [];\n        var colors = [];\n\n        for (var i = 0; i < length; i++) {\n          var stop = stops[i];\n          var colorAndAlpha = getColorAndAlpha(stop.color);\n          colors.push(stop.offset * expansion + shift + ' ' + colorAndAlpha[0]);\n\n          if (i === 0 || i === length - 1) {\n            colorAndAlphaList.push(colorAndAlpha);\n          }\n        }\n\n        if (length >= 2) {\n          var color1 = colorAndAlphaList[0][0];\n          var color2 = colorAndAlphaList[1][0];\n          var opacity1 = colorAndAlphaList[0][1] * style.opacity;\n          var opacity2 = colorAndAlphaList[1][1] * style.opacity;\n          el.type = gradientType;\n          el.method = 'none';\n          el.focus = '100%';\n          el.angle = angle;\n          el.color = color1;\n          el.color2 = color2;\n          el.colors = colors.join(','); // When colors attribute is used, the meanings of opacity and o:opacity2\n          // are reversed.\n\n          el.opacity = opacity2; // FIXME g_o_:opacity ?\n\n          el.opacity2 = opacity1;\n        }\n\n        if (gradientType === 'radial') {\n          el.focusposition = focus.join(',');\n        }\n      } else {\n        // FIXME Change from Gradient fill to color fill\n        setColorAndOpacity(el, fill, style.opacity);\n      }\n    }\n  };\n\n  var updateStrokeNode = function (el, style) {\n    // if (style.lineJoin != null) {\n    //     el.joinstyle = style.lineJoin;\n    // }\n    // if (style.miterLimit != null) {\n    //     el.miterlimit = style.miterLimit * Z;\n    // }\n    // if (style.lineCap != null) {\n    //     el.endcap = style.lineCap;\n    // }\n    if (style.lineDash != null) {\n      el.dashstyle = style.lineDash.join(' ');\n    }\n\n    if (style.stroke != null && !(style.stroke instanceof Gradient)) {\n      setColorAndOpacity(el, style.stroke, style.opacity);\n    }\n  };\n\n  var updateFillAndStroke = function (vmlEl, type, style, zrEl) {\n    var isFill = type == 'fill';\n    var el = vmlEl.getElementsByTagName(type)[0]; // Stroke must have lineWidth\n\n    if (style[type] != null && style[type] !== 'none' && (isFill || !isFill && style.lineWidth)) {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'true'; // FIXME Remove before updating, or set `colors` will throw error\n\n      if (style[type] instanceof Gradient) {\n        remove(vmlEl, el);\n      }\n\n      if (!el) {\n        el = vmlCore.createNode(type);\n      }\n\n      isFill ? updateFillNode(el, style, zrEl) : updateStrokeNode(el, style);\n      append(vmlEl, el);\n    } else {\n      vmlEl[isFill ? 'filled' : 'stroked'] = 'false';\n      remove(vmlEl, el);\n    }\n  };\n\n  var points = [[], [], []];\n\n  var pathDataToString = function (path, m) {\n    var M = CMD.M;\n    var C = CMD.C;\n    var L = CMD.L;\n    var A = CMD.A;\n    var Q = CMD.Q;\n    var str = [];\n    var nPoint;\n    var cmdStr;\n    var cmd;\n    var i;\n    var xi;\n    var yi;\n    var data = path.data;\n    var dataLength = path.len();\n\n    for (i = 0; i < dataLength;) {\n      cmd = data[i++];\n      cmdStr = '';\n      nPoint = 0;\n\n      switch (cmd) {\n        case M:\n          cmdStr = ' m ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case L:\n          cmdStr = ' l ';\n          nPoint = 1;\n          xi = data[i++];\n          yi = data[i++];\n          points[0][0] = xi;\n          points[0][1] = yi;\n          break;\n\n        case Q:\n        case C:\n          cmdStr = ' c ';\n          nPoint = 3;\n          var x1 = data[i++];\n          var y1 = data[i++];\n          var x2 = data[i++];\n          var y2 = data[i++];\n          var x3;\n          var y3;\n\n          if (cmd === Q) {\n            // Convert quadratic to cubic using degree elevation\n            x3 = x2;\n            y3 = y2;\n            x2 = (x2 + 2 * x1) / 3;\n            y2 = (y2 + 2 * y1) / 3;\n            x1 = (xi + 2 * x1) / 3;\n            y1 = (yi + 2 * y1) / 3;\n          } else {\n            x3 = data[i++];\n            y3 = data[i++];\n          }\n\n          points[0][0] = x1;\n          points[0][1] = y1;\n          points[1][0] = x2;\n          points[1][1] = y2;\n          points[2][0] = x3;\n          points[2][1] = y3;\n          xi = x3;\n          yi = y3;\n          break;\n\n        case A:\n          var x = 0;\n          var y = 0;\n          var sx = 1;\n          var sy = 1;\n          var angle = 0;\n\n          if (m) {\n            // Extract SRT from matrix\n            x = m[4];\n            y = m[5];\n            sx = sqrt(m[0] * m[0] + m[1] * m[1]);\n            sy = sqrt(m[2] * m[2] + m[3] * m[3]);\n            angle = Math.atan2(-m[1] / sy, m[0] / sx);\n          }\n\n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++] + angle;\n          var endAngle = data[i++] + startAngle + angle; // FIXME\n          // var psi = data[i++];\n\n          i++;\n          var clockwise = data[i++];\n          var x0 = cx + cos(startAngle) * rx;\n          var y0 = cy + sin(startAngle) * ry;\n          var x1 = cx + cos(endAngle) * rx;\n          var y1 = cy + sin(endAngle) * ry;\n          var type = clockwise ? ' wa ' : ' at ';\n\n          if (Math.abs(x0 - x1) < 1e-4) {\n            // IE won't render arches drawn counter clockwise if x0 == x1.\n            if (Math.abs(endAngle - startAngle) > 1e-2) {\n              // Offset x0 by 1/80 of a pixel. Use something\n              // that can be represented in binary\n              if (clockwise) {\n                x0 += 270 / Z;\n              }\n            } else {\n              // Avoid case draw full circle\n              if (Math.abs(y0 - cy) < 1e-4) {\n                if (clockwise && x0 < cx || !clockwise && x0 > cx) {\n                  y1 -= 270 / Z;\n                } else {\n                  y1 += 270 / Z;\n                }\n              } else if (clockwise && y0 < cy || !clockwise && y0 > cy) {\n                x1 += 270 / Z;\n              } else {\n                x1 -= 270 / Z;\n              }\n            }\n          }\n\n          str.push(type, round(((cx - rx) * sx + x) * Z - Z2), comma, round(((cy - ry) * sy + y) * Z - Z2), comma, round(((cx + rx) * sx + x) * Z - Z2), comma, round(((cy + ry) * sy + y) * Z - Z2), comma, round((x0 * sx + x) * Z - Z2), comma, round((y0 * sy + y) * Z - Z2), comma, round((x1 * sx + x) * Z - Z2), comma, round((y1 * sy + y) * Z - Z2));\n          xi = x1;\n          yi = y1;\n          break;\n\n        case CMD.R:\n          var p0 = points[0];\n          var p1 = points[1]; // x0, y0\n\n          p0[0] = data[i++];\n          p0[1] = data[i++]; // x1, y1\n\n          p1[0] = p0[0] + data[i++];\n          p1[1] = p0[1] + data[i++];\n\n          if (m) {\n            applyTransform(p0, p0, m);\n            applyTransform(p1, p1, m);\n          }\n\n          p0[0] = round(p0[0] * Z - Z2);\n          p1[0] = round(p1[0] * Z - Z2);\n          p0[1] = round(p0[1] * Z - Z2);\n          p1[1] = round(p1[1] * Z - Z2);\n          str.push( // x0, y0\n          ' m ', p0[0], comma, p0[1], // x1, y0\n          ' l ', p1[0], comma, p0[1], // x1, y1\n          ' l ', p1[0], comma, p1[1], // x0, y1\n          ' l ', p0[0], comma, p1[1]);\n          break;\n\n        case CMD.Z:\n          // FIXME Update xi, yi\n          str.push(' x ');\n      }\n\n      if (nPoint > 0) {\n        str.push(cmdStr);\n\n        for (var k = 0; k < nPoint; k++) {\n          var p = points[k];\n          m && applyTransform(p, p, m); // 不 round 会非常慢\n\n          str.push(round(p[0] * Z - Z2), comma, round(p[1] * Z - Z2), k < nPoint - 1 ? comma : '');\n        }\n      }\n    }\n\n    return str.join('');\n  }; // Rewrite the original path method\n\n\n  Path.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      vmlEl = vmlCore.createNode('shape');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    updateFillAndStroke(vmlEl, 'fill', style, this);\n    updateFillAndStroke(vmlEl, 'stroke', style, this);\n    var m = this.transform;\n    var needTransform = m != null;\n    var strokeEl = vmlEl.getElementsByTagName('stroke')[0];\n\n    if (strokeEl) {\n      var lineWidth = style.lineWidth; // Get the line scale.\n      // Determinant of this.m_ means how much the area is enlarged by the\n      // transformation. So its square root can be used as a scale factor\n      // for width.\n\n      if (needTransform && !style.strokeNoScale) {\n        var det = m[0] * m[3] - m[1] * m[2];\n        lineWidth *= sqrt(abs(det));\n      }\n\n      strokeEl.weight = lineWidth + 'px';\n    }\n\n    var path = this.path || (this.path = new PathProxy());\n\n    if (this.__dirtyPath) {\n      path.beginPath();\n      this.buildPath(path, this.shape);\n      path.toStatic();\n      this.__dirtyPath = false;\n    }\n\n    vmlEl.path = pathDataToString(path, this.transform);\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Path.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this.removeRectText(vmlRoot);\n  };\n\n  Path.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * IMAGE\n   **************************************************/\n\n\n  var isImage = function (img) {\n    // FIXME img instanceof Image 如果 img 是一个字符串的时候，IE8 下会报错\n    return typeof img === 'object' && img.tagName && img.tagName.toUpperCase() === 'IMG'; // return img instanceof Image;\n  }; // Rewrite the original path method\n\n\n  ZImage.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n    var image = style.image; // Image original width, height\n\n    var ow;\n    var oh;\n\n    if (isImage(image)) {\n      var src = image.src;\n\n      if (src === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      } else {\n        var imageRuntimeStyle = image.runtimeStyle;\n        var oldRuntimeWidth = imageRuntimeStyle.width;\n        var oldRuntimeHeight = imageRuntimeStyle.height;\n        imageRuntimeStyle.width = 'auto';\n        imageRuntimeStyle.height = 'auto'; // get the original size\n\n        ow = image.width;\n        oh = image.height; // and remove overides\n\n        imageRuntimeStyle.width = oldRuntimeWidth;\n        imageRuntimeStyle.height = oldRuntimeHeight; // Caching image original width, height and src\n\n        this._imageSrc = src;\n        this._imageWidth = ow;\n        this._imageHeight = oh;\n      }\n\n      image = src;\n    } else {\n      if (image === this._imageSrc) {\n        ow = this._imageWidth;\n        oh = this._imageHeight;\n      }\n    }\n\n    if (!image) {\n      return;\n    }\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var dw = style.width;\n    var dh = style.height;\n    var sw = style.sWidth;\n    var sh = style.sHeight;\n    var sx = style.sx || 0;\n    var sy = style.sy || 0;\n    var hasCrop = sw && sh;\n    var vmlEl = this._vmlEl;\n\n    if (!vmlEl) {\n      // FIXME 使用 group 在 left, top 都不是 0 的时候就无法显示了。\n      // vmlEl = vmlCore.createNode('group');\n      vmlEl = vmlCore.doc.createElement('div');\n      initRootElStyle(vmlEl);\n      this._vmlEl = vmlEl;\n    }\n\n    var vmlElStyle = vmlEl.style;\n    var hasRotation = false;\n    var m;\n    var scaleX = 1;\n    var scaleY = 1;\n\n    if (this.transform) {\n      m = this.transform;\n      scaleX = sqrt(m[0] * m[0] + m[1] * m[1]);\n      scaleY = sqrt(m[2] * m[2] + m[3] * m[3]);\n      hasRotation = m[1] || m[2];\n    }\n\n    if (hasRotation) {\n      // If filters are necessary (rotation exists), create them\n      // filters are bog-slow, so only create them if abbsolutely necessary\n      // The following check doesn't account for skews (which don't exist\n      // in the canvas spec (yet) anyway.\n      // From excanvas\n      var p0 = [x, y];\n      var p1 = [x + dw, y];\n      var p2 = [x, y + dh];\n      var p3 = [x + dw, y + dh];\n      applyTransform(p0, p0, m);\n      applyTransform(p1, p1, m);\n      applyTransform(p2, p2, m);\n      applyTransform(p3, p3, m);\n      var maxX = mathMax(p0[0], p1[0], p2[0], p3[0]);\n      var maxY = mathMax(p0[1], p1[1], p2[1], p3[1]);\n      var transformFilter = [];\n      transformFilter.push('M11=', m[0] / scaleX, comma, 'M12=', m[2] / scaleY, comma, 'M21=', m[1] / scaleX, comma, 'M22=', m[3] / scaleY, comma, 'Dx=', round(x * scaleX + m[4]), comma, 'Dy=', round(y * scaleY + m[5]));\n      vmlElStyle.padding = '0 ' + round(maxX) + 'px ' + round(maxY) + 'px 0'; // FIXME DXImageTransform 在 IE11 的兼容模式下不起作用\n\n      vmlElStyle.filter = imageTransformPrefix + '.Matrix(' + transformFilter.join('') + ', SizingMethod=clip)';\n    } else {\n      if (m) {\n        x = x * scaleX + m[4];\n        y = y * scaleY + m[5];\n      }\n\n      vmlElStyle.filter = '';\n      vmlElStyle.left = round(x) + 'px';\n      vmlElStyle.top = round(y) + 'px';\n    }\n\n    var imageEl = this._imageEl;\n    var cropEl = this._cropEl;\n\n    if (!imageEl) {\n      imageEl = vmlCore.doc.createElement('div');\n      this._imageEl = imageEl;\n    }\n\n    var imageELStyle = imageEl.style;\n\n    if (hasCrop) {\n      // Needs know image original width and height\n      if (!(ow && oh)) {\n        var tmpImage = new Image();\n        var self = this;\n\n        tmpImage.onload = function () {\n          tmpImage.onload = null;\n          ow = tmpImage.width;\n          oh = tmpImage.height; // Adjust image width and height to fit the ratio destinationSize / sourceSize\n\n          imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n          imageELStyle.height = round(scaleY * oh * dh / sh) + 'px'; // Caching image original width, height and src\n\n          self._imageWidth = ow;\n          self._imageHeight = oh;\n          self._imageSrc = image;\n        };\n\n        tmpImage.src = image;\n      } else {\n        imageELStyle.width = round(scaleX * ow * dw / sw) + 'px';\n        imageELStyle.height = round(scaleY * oh * dh / sh) + 'px';\n      }\n\n      if (!cropEl) {\n        cropEl = vmlCore.doc.createElement('div');\n        cropEl.style.overflow = 'hidden';\n        this._cropEl = cropEl;\n      }\n\n      var cropElStyle = cropEl.style;\n      cropElStyle.width = round((dw + sx * dw / sw) * scaleX);\n      cropElStyle.height = round((dh + sy * dh / sh) * scaleY);\n      cropElStyle.filter = imageTransformPrefix + '.Matrix(Dx=' + -sx * dw / sw * scaleX + ',Dy=' + -sy * dh / sh * scaleY + ')';\n\n      if (!cropEl.parentNode) {\n        vmlEl.appendChild(cropEl);\n      }\n\n      if (imageEl.parentNode != cropEl) {\n        cropEl.appendChild(imageEl);\n      }\n    } else {\n      imageELStyle.width = round(scaleX * dw) + 'px';\n      imageELStyle.height = round(scaleY * dh) + 'px';\n      vmlEl.appendChild(imageEl);\n\n      if (cropEl && cropEl.parentNode) {\n        vmlEl.removeChild(cropEl);\n        this._cropEl = null;\n      }\n    }\n\n    var filterStr = '';\n    var alpha = style.opacity;\n\n    if (alpha < 1) {\n      filterStr += '.Alpha(opacity=' + round(alpha * 100) + ') ';\n    }\n\n    filterStr += imageTransformPrefix + '.AlphaImageLoader(src=' + image + ', SizingMethod=scale)';\n    imageELStyle.filter = filterStr;\n    vmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Append to root\n\n    append(vmlRoot, vmlEl); // Text\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, this.getBoundingRect());\n    }\n  };\n\n  ZImage.prototype.onRemove = function (vmlRoot) {\n    remove(vmlRoot, this._vmlEl);\n    this._vmlEl = null;\n    this._cropEl = null;\n    this._imageEl = null;\n    this.removeRectText(vmlRoot);\n  };\n\n  ZImage.prototype.onAdd = function (vmlRoot) {\n    append(vmlRoot, this._vmlEl);\n    this.appendRectText(vmlRoot);\n  };\n  /***************************************************\n   * TEXT\n   **************************************************/\n\n\n  var DEFAULT_STYLE_NORMAL = 'normal';\n  var fontStyleCache = {};\n  var fontStyleCacheCount = 0;\n  var MAX_FONT_CACHE_SIZE = 100;\n  var fontEl = document.createElement('div');\n\n  var getFontStyle = function (fontString) {\n    var fontStyle = fontStyleCache[fontString];\n\n    if (!fontStyle) {\n      // Clear cache\n      if (fontStyleCacheCount > MAX_FONT_CACHE_SIZE) {\n        fontStyleCacheCount = 0;\n        fontStyleCache = {};\n      }\n\n      var style = fontEl.style;\n      var fontFamily;\n\n      try {\n        style.font = fontString;\n        fontFamily = style.fontFamily.split(',')[0];\n      } catch (e) {}\n\n      fontStyle = {\n        style: style.fontStyle || DEFAULT_STYLE_NORMAL,\n        variant: style.fontVariant || DEFAULT_STYLE_NORMAL,\n        weight: style.fontWeight || DEFAULT_STYLE_NORMAL,\n        size: parseFloat(style.fontSize || 12) | 0,\n        family: fontFamily || 'Microsoft YaHei'\n      };\n      fontStyleCache[fontString] = fontStyle;\n      fontStyleCacheCount++;\n    }\n\n    return fontStyle;\n  };\n\n  var textMeasureEl; // Overwrite measure text method\n\n  textContain.$override('measureText', function (text, textFont) {\n    var doc = vmlCore.doc;\n\n    if (!textMeasureEl) {\n      textMeasureEl = doc.createElement('div');\n      textMeasureEl.style.cssText = 'position:absolute;top:-20000px;left:0;' + 'padding:0;margin:0;border:none;white-space:pre;';\n      vmlCore.doc.body.appendChild(textMeasureEl);\n    }\n\n    try {\n      textMeasureEl.style.font = textFont;\n    } catch (ex) {// Ignore failures to set to invalid font.\n    }\n\n    textMeasureEl.innerHTML = ''; // Don't use innerHTML or innerText because they allow markup/whitespace.\n\n    textMeasureEl.appendChild(doc.createTextNode(text));\n    return {\n      width: textMeasureEl.offsetWidth\n    };\n  });\n  var tmpRect = new BoundingRect();\n\n  var drawRectText = function (vmlRoot, rect, textRect, fromTextEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!text) {\n      return;\n    } // Convert rich text to plain text. Rich text is not supported in\n    // IE8-, but tags in rich text template will be removed.\n\n\n    if (style.rich) {\n      var contentBlock = textContain.parseRichText(text, style);\n      text = [];\n\n      for (var i = 0; i < contentBlock.lines.length; i++) {\n        var tokens = contentBlock.lines[i].tokens;\n        var textLine = [];\n\n        for (var j = 0; j < tokens.length; j++) {\n          textLine.push(tokens[j].text);\n        }\n\n        text.push(textLine.join(''));\n      }\n\n      text = text.join('\\n');\n    }\n\n    var x;\n    var y;\n    var align = style.textAlign;\n    var verticalAlign = style.textVerticalAlign;\n    var fontStyle = getFontStyle(style.font); // FIXME encodeHtmlAttribute ?\n\n    var font = fontStyle.style + ' ' + fontStyle.variant + ' ' + fontStyle.weight + ' ' + fontStyle.size + 'px \"' + fontStyle.family + '\"';\n    textRect = textRect || textContain.getBoundingRect(text, font, align, verticalAlign); // Transform rect to view space\n\n    var m = this.transform; // Ignore transform for text in other element\n\n    if (m && !fromTextEl) {\n      tmpRect.copy(rect);\n      tmpRect.applyTransform(m);\n      rect = tmpRect;\n    }\n\n    if (!fromTextEl) {\n      var textPosition = style.textPosition;\n      var distance = style.textDistance; // Text position represented by coord\n\n      if (textPosition instanceof Array) {\n        x = rect.x + parsePercent(textPosition[0], rect.width);\n        y = rect.y + parsePercent(textPosition[1], rect.height);\n        align = align || 'left';\n      } else {\n        var res = textContain.adjustTextPositionOnRect(textPosition, rect, distance);\n        x = res.x;\n        y = res.y; // Default align and baseline when has textPosition\n\n        align = align || res.textAlign;\n        verticalAlign = verticalAlign || res.textVerticalAlign;\n      }\n    } else {\n      x = rect.x;\n      y = rect.y;\n    }\n\n    x = textContain.adjustTextX(x, textRect.width, align);\n    y = textContain.adjustTextY(y, textRect.height, verticalAlign); // Force baseline 'middle'\n\n    y += textRect.height / 2; // var fontSize = fontStyle.size;\n    // 1.75 is an arbitrary number, as there is no info about the text baseline\n    // switch (baseline) {\n    // case 'hanging':\n    // case 'top':\n    //     y += fontSize / 1.75;\n    //     break;\n    //     case 'middle':\n    //         break;\n    //     default:\n    //     // case null:\n    //     // case 'alphabetic':\n    //     // case 'ideographic':\n    //     // case 'bottom':\n    //         y -= fontSize / 2.25;\n    //         break;\n    // }\n    // switch (align) {\n    //     case 'left':\n    //         break;\n    //     case 'center':\n    //         x -= textRect.width / 2;\n    //         break;\n    //     case 'right':\n    //         x -= textRect.width;\n    //         break;\n    // case 'end':\n    // align = elementStyle.direction == 'ltr' ? 'right' : 'left';\n    // break;\n    // case 'start':\n    // align = elementStyle.direction == 'rtl' ? 'right' : 'left';\n    // break;\n    // default:\n    //     align = 'left';\n    // }\n\n    var createNode = vmlCore.createNode;\n    var textVmlEl = this._textVmlEl;\n    var pathEl;\n    var textPathEl;\n    var skewEl;\n\n    if (!textVmlEl) {\n      textVmlEl = createNode('line');\n      pathEl = createNode('path');\n      textPathEl = createNode('textpath');\n      skewEl = createNode('skew'); // FIXME Why here is not cammel case\n      // Align 'center' seems wrong\n\n      textPathEl.style['v-text-align'] = 'left';\n      initRootElStyle(textVmlEl);\n      pathEl.textpathok = true;\n      textPathEl.on = true;\n      textVmlEl.from = '0 0';\n      textVmlEl.to = '1000 0.05';\n      append(textVmlEl, skewEl);\n      append(textVmlEl, pathEl);\n      append(textVmlEl, textPathEl);\n      this._textVmlEl = textVmlEl;\n    } else {\n      // 这里是在前面 appendChild 保证顺序的前提下\n      skewEl = textVmlEl.firstChild;\n      pathEl = skewEl.nextSibling;\n      textPathEl = pathEl.nextSibling;\n    }\n\n    var coords = [x, y];\n    var textVmlElStyle = textVmlEl.style; // Ignore transform for text in other element\n\n    if (m && fromTextEl) {\n      applyTransform(coords, coords, m);\n      skewEl.on = true;\n      skewEl.matrix = m[0].toFixed(3) + comma + m[2].toFixed(3) + comma + m[1].toFixed(3) + comma + m[3].toFixed(3) + ',0,0'; // Text position\n\n      skewEl.offset = (round(coords[0]) || 0) + ',' + (round(coords[1]) || 0); // Left top point as origin\n\n      skewEl.origin = '0 0';\n      textVmlElStyle.left = '0px';\n      textVmlElStyle.top = '0px';\n    } else {\n      skewEl.on = false;\n      textVmlElStyle.left = round(x) + 'px';\n      textVmlElStyle.top = round(y) + 'px';\n    }\n\n    textPathEl.string = encodeHtmlAttribute(text); // TODO\n\n    try {\n      textPathEl.style.font = font;\n    } // Error font format\n    catch (e) {}\n\n    updateFillAndStroke(textVmlEl, 'fill', {\n      fill: style.textFill,\n      opacity: style.opacity\n    }, this);\n    updateFillAndStroke(textVmlEl, 'stroke', {\n      stroke: style.textStroke,\n      opacity: style.opacity,\n      lineDash: style.lineDash\n    }, this);\n    textVmlEl.style.zIndex = getZIndex(this.zlevel, this.z, this.z2); // Attached to root\n\n    append(vmlRoot, textVmlEl);\n  };\n\n  var removeRectText = function (vmlRoot) {\n    remove(vmlRoot, this._textVmlEl);\n    this._textVmlEl = null;\n  };\n\n  var appendRectText = function (vmlRoot) {\n    append(vmlRoot, this._textVmlEl);\n  };\n\n  var list = [RectText, Displayable, ZImage, Path, Text]; // In case Displayable has been mixed in RectText\n\n  for (var i = 0; i < list.length; i++) {\n    var proto = list[i].prototype;\n    proto.drawRectText = drawRectText;\n    proto.removeRectText = removeRectText;\n    proto.appendRectText = appendRectText;\n  }\n\n  Text.prototype.brushVML = function (vmlRoot) {\n    var style = this.style;\n\n    if (style.text != null) {\n      this.drawRectText(vmlRoot, {\n        x: style.x || 0,\n        y: style.y || 0,\n        width: 0,\n        height: 0\n      }, this.getBoundingRect(), true);\n    } else {\n      this.removeRectText(vmlRoot);\n    }\n  };\n\n  Text.prototype.onRemove = function (vmlRoot) {\n    this.removeRectText(vmlRoot);\n  };\n\n  Text.prototype.onAdd = function (vmlRoot) {\n    this.appendRectText(vmlRoot);\n  };\n}","require(\"./graphic\");\n\nvar _zrender = require(\"../zrender\");\n\nvar registerPainter = _zrender.registerPainter;\n\nvar Painter = require(\"./Painter\");\n\nregisterPainter('vml', Painter);"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_t","on","$event","back","require","_v","_s","title","staticRenderFns","props","data","created","mounted","computed","mapState","methods","mapActions","$router","go","component","active","_e","directives","name","rawName","value","expression","getUnread","model","callback","$$v","scopedSlots","_u","key","fn","icon","homeActive","home","msgNum","messageActive","message","userActive","user","role","appList","staticStyle","length","_l","slice","item","index","toPage","ico","skipApp","type","Array","default","localStorage","setItem","id","JSON","stringify","children","url","ifAdPass","console","log","indexOf","location","href","getItem","push","skipTask","matterList","skip1","read","class","contentRead","taskname","getWaitingList","self","post","command","sessionid","$","cookie","loginid","uid","page","reqnum","showendtime","showstarttime","state","tasktype","filterTasktypeList","done","res","tasklist","window","param","paramcode","paramvalue","commparaconflist","param1","gototurn14","gototurn15","gototurn16","gototurn17","taskurl","predefine5","isArray","commparaConfList","pjTime","Date","endtime","Number","nowTime","Math","round","getTime","Toast","sourceid","skipAct","finished","onload","loading","actList","skip2","theme","typename","speakerlist","iten","indey","uname","deptname","_f","starttimestr","endtimestr","place","getPlanList","filters","getHourMinute","time","date","getHours","newTime","getMinutes","pageNum","autobaselist","autohospitallist","autoofficelist","base","beforemonthindex","clientflag","isself","officelist","speakername","starttime","status","statuslist","yearmonth","apphomepageflag","result","beanlist","forEach","i","getFullYear","getMonth","getDate","query","ishistory","deptList","showPicker","teacherCircleList","month","turnNum","actNum","_m","inWaiting","item1","item2","item3","disWaiting","outWaiting","checkWaiting","noUserInfo","popShow","onClickLeft","onClickRight","onChange","activeKey","columns","ref","defaultProps","checkClick","orideptnameidList","deptid","preId","oriactiveKey","label","disabled","node","havePermission","rememberDeptId","getTree","getPreId","$route","showHospital","showNoDeptHospital","needBaseDept","hospitalId","showBase","deptFirst","resCode","preObj","findObjectAndIndex","childrens","object","obj","findObjectWithDeptLevel3","parentIndex","$refs","tree","setCheckedKeys","getTeachList","show","turnTeach","newobj","turnPeopleNumber","teachActivityNumber","inOfficeResult","NotRKreportCount","percent","substr","RKCount","outOfficeResult","NotCKreportCount","CKCount","officeTeacherResult","NotTeacherCount","TeacherCount","queryTurnOutExamReportList","list","unfinishedExamCount","shouldExamCount","onCancel","pick","setColumnIndex","indexList","onConfirm","oriSelected2","columnsc","columnSelect","selected","columns2","childlist","columnSelect2","selected2","hosIdByDeptSave","checked","deptnameidList","getCheckedKeys","getCheckedNodes","hosIdByDept","savePreId","position","arr","parse","find","route","expires","path","preIdList","preIdListString","userInfo","toCircle","imageurl","isAdvancedStu","circleDetail","deptName","planBeginTime","planEndTime","teachName","circleData","circleTitle","circleColor","optionPie","echartsInit","getMyCirlce","show_my","pie","echarts","main","tooltip","trigger","legend","top","left","color","series","radius","avoidLabelOverlap","hoverAnimation","emphasis","fontSize","fontWeight","labelLine","normal","setOption","users","errcode","isGraduation","turnRemainingDay","turnTotalDay","text","textStyle","subtext","subtextStyle","LinearGradient","offset","$nextTick","components","homeMenu","homeAssign","homeTeachActivities","homeTeachChart","homeStuChart","getWxHomeMenusid","decodeURIComponent","getMenuList","get","getRole","deterRole","roles","roleList","roleDTOList","roleType","includes","roleId","getMoreAnnounce","announcelist","ggnrtz","systemtype","domProps","strinnerhtml","brief","author","departtime","headerTitle","todonum","msgnum","titlenum","showback","isactive","preventRepeatRequest","getMessageList","chmonthandday","str","arr1","split","str2","day","limitlength","shortstr","limitlength1","inhtml","onstr","loadMoreSuccess","concat","$emit","unreadcount","url_label","url_type","getStyle","element","attr","NumberMode","target","scrollTop","currentStyle","document","defaultView","getComputedStyle","parseFloat","parseInt","bind","el","binding","height","setTop","paddingBottom","marginBottom","requestFram","oldScrollTop","scrollEl","heightEl","windowHeight","screen","scrollReduce","attributes","addEventListener","clientHeight","offsetTop","loadMore","moveEnd","requestAnimationFrame","cancelAnimationFrame","person","stdtype","code","roleSwitch","resetpwd","logout","actions","roleSwitchShow","sumbit","updatePwd","oldpassword","password1","password2","md5","version","wechatlist","newpassword","errdesc","bindphone","bindweixin","invokeNative","weChat","wechatobj","bindWeChat","nickname","sex","language","city","province","country","headimgurl","unionid","view","my","Dialog","confirm","confirmButtonColor","then","host","catch","getappversion","wxHome","wxMessage","wxUser","getView","clearMenusId","watch","scrollTo","deep","num","charenc","utf8","stringToBytes","bin","unescape","encodeURIComponent","bytesToString","bytes","escape","charCodeAt","String","fromCharCode","join","module","exports","base64map","crypt","rotl","n","b","rotr","endian","constructor","randomBytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","pow","_echarts","hasOwnProperty","_export","zrUtil","_roamHelper","updateCenterAndZoom","registerAction","event","update","payload","ecModel","componentType","eachComponent","mainType","componentModel","geo","coordinateSystem","setCenter","center","setZoom","zoom","each","seriesGroup","seriesModel","zoomLimit","previousZoom","getZoom","getCenter","point","dataToPoint","dx","dy","pointToData","zoomMin","min","zoomMax","max","Infinity","scale","fixX","originX","fixY","originY","updateTransform","barLayoutGrid","registerLayout","curry","registerVisual","eachSeriesByType","getData","setVisual","BaseBarSeries","_default","extend","dependencies","brushSelector","_config","__DEV__","graphic","_helper","setLabel","Model","barItemStyle","BAR_BORDER_WIDTH_QUERY","prototype","extendChartView","api","coordinateSystemType","_render","group","dispose","noop","isHorizontalOrRadial","oldData","_data","coord","baseAxis","getBaseAxis","isHorizontal","dim","animationModel","isAnimationEnabled","diff","add","dataIndex","hasValue","itemModel","getItemModel","layout","getLayout","elementCreator","setItemGraphicEl","updateStyle","newIndex","oldIndex","getItemGraphicEl","updateProps","shape","remove","removeRect","removeSector","execute","eachItemGraphicEl","removeAll","cartesian2d","isUpdate","rect","Rect","rectShape","animateProperty","animateTarget","polar","isRadial","sector","Sector","sectorShape","startAngle","style","width","parent","r","r0","getItemLayout","fixedLineWidth","getLineWidth","signX","signY","x","y","cx","cy","endAngle","isPolar","getItemVisual","opacity","itemStyleModel","getModel","hoverStyle","getBarItemStyle","setShape","useStyle","defaults","fill","cursorStyle","getShallow","labelPositionOutside","setHoverStyle","rawLayout","lineWidth","abs","SeriesModel","createListFromArray","getInitialData","option","getMarkerPosition","coordSys","pt","size","offsetIndex","NaN","defaultOption","zlevel","z","legendHoverLink","barMinHeight","barMinAngle","itemStyle","PictorialBarSeries","symbol","symbolSize","symbolRotate","symbolPosition","symbolOffset","symbolMargin","symbolRepeat","symbolRepeatDirection","symbolClip","symbolBoundingData","symbolPatternSize","barGap","progressive","stack","superApply","arguments","_symbol","createSymbol","_number","parsePercent","isNumeric","LAYOUT_ATTRS","xy","wh","posDesc","pathForLineWidth","Circle","BarView","cartesian","coordSysRect","grid","getRect","opt","ecSize","getWidth","getHeight","coordSysExtent","valueDim","categoryDim","symbolMeta","getSymbolMeta","bar","createBar","updateCommon","pictorialShapeStr","getShapeStr","__pictorialShapeStr","updateBar","__pictorialSymbolMeta","removeBar","rotation","PI","symbolType","z2","prepareBarLength","prepareSymbolSize","boundingLength","pxSign","prepareLineWidth","symbolScale","prepareLayoutInfo","valueLineWidth","repeatCutLength","output","valueAxis","getOtherAxis","zeroPx","toGlobalCoord","dataToCoord","pxSignIdx","symbolBoundingExtent","convertToCoordOnAxis","reverse","axis","categorySize","getLineScale","unitLength","pathLen","absBoundingLength","retrieve","hasEndGap","lastIndexOf","uLenWithMargin","endFix","repeatSpecified","repeatTimes","toIntTimes","mDiff","sizeFix","pathPosition","bundlePosition","barRectShape","clipShape","createPath","culling","setStyle","strokeNoScale","createOrUpdateRepeatSymbols","bundle","__pictorialBundle","unit","eachPath","__pictorialAnimationIndex","__pictorialRepeatTimes","updateAttr","makeTarget","updateHoverAnimation","onMouseOver","onMouseOut","createOrUpdateSingleSymbol","mainPath","__pictorialMainPath","createOrUpdateBarRect","barRect","__pictorialBarRect","silent","stroke","createOrUpdateClip","clipPath","__pictorialClipPath","setClipPath","getAnimationDelayParams","count","parentModel","off","animateTo","Group","labelRect","pathes","cb","context","call","immediateAttrs","animationAttrs","normalStyle","getItemStyle","setColor","cursor","barRectHoverStyle","barPositionOutside","times","roundedTimes","ceil","makeStyleMapper","excludes","getBorderLineDash","lineDash","labelModel","hoverLabelModel","setLabelStyle","labelFetcher","labelDataIndex","defaultText","getRawValue","isRectText","autoColor","fixPosition","textPosition","boxplotVisual","boxplotLayout","_whiskerBoxCommon","seriesModelMixin","BoxplotSeries","defaultValueDimensions","dimensions","boxWidth","borderWidth","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor","animationEasing","animationDuration","mixin","ChartView","viewMixin","BoxplotView","getStyleUpdater","normalStyleAccessPath","emphasisStyleAccessPath","itemGroup","idx","normalItemStyleModel","borderColor","whiskerEl","childAt","whiskerIndex","set","dirty","bodyEl","bodyIndex","groupResult","groupSeriesByAxis","groupItem","seriesModels","calculateBase","layoutSingleSeries","boxOffsetList","boxWidthList","axisList","extent","bandWidth","seriesCount","boundList","getBandWidth","maxDataCount","getExtent","boxWidthBound","availableWidth","boxGap","cDim","halfWidth","chartLayout","variableDim","constDim","coordDims","vDims","dimName","dimInfo","getDimensionInfo","coordDim","args","axisDimVal","median","getPoint","end1","end5","whiskerEnds","layEndLine","bodyEnds","val","p","isNaN","addBodyEnd","start","point1","point2","endCenter","line","setItemLayout","initBaseline","borderColorQuery","globalColors","eachRawSeriesByType","defaulColor","seriesIndex","legendSymbol","isSeriesFiltered","setItemVisual","preprocessor","candlestickVisual","candlestickLayout","registerPreprocessor","CandlestickSeries","color0","borderColor0","barMaxWidth","barMinWidth","barWidth","animationUpdate","getShadowDim","selectors","itemLayout","brushRect","CandlestickView","_graphic","subPixelOptimize","retrieve2","candleWidth","calculateCandleWidth","sign","openVal","closeVal","lowestVal","highestVal","ocLow","ocHigh","ocLowPoint","ocHighPoint","lowestPoint","highestPoint","subPixelOptimizePoint","makeBrushRect","pmin","pmax","positiveBorderColorQuery","negativeBorderColorQuery","positiveColorQuery","negativeColorQuery","seriesItem","isObject","graphicUtil","_labelHelper","findLabelValueDim","barGrid","DataDiffer","prepareCartesian2d","prepareGeo","prepareSingleAxis","preparePolar","prepareCalendar","ITEM_STYLE_NORMAL_PATH","ITEM_STYLE_EMPHASIS_PATH","LABEL_NORMAL","LABEL_EMPHASIS","GROUP_DIFF_PREFIX","prepareCustoms","singleAxis","calendar","createEl","elOption","graphicType","makePath","pathData","__customPathData","Image","__customImagePath","image","Text","__customText","Clz","toUpperCase","__customGraphicType","updateEl","animatableModel","isInit","targetProps","elOptionStyle","clone","origin","targetStyle","prop","prepareStyleTransition","textFill","textStroke","targetOpacity","initProps","styleEmphasis","oldElStyle","makeRenderItem","customSeries","renderItem","prepareResult","currDataIndexInside","currItemModel","currLabelNormalModel","currLabelEmphasisModel","currLabelValueDim","currVisualColor","userAPI","getZr","getDevicePixelRatio","visual","barLayout","currentSeriesIndices","font","userParams","seriesId","seriesName","dataInsideLength","encode","wrapEncodeDef","currDirty","dataIndexInside","getRawIndex","updateCache","getDimension","extra","setTextStyle","getFormattedLabel","retrieve3","visualType","getLayoutOnAxis","getCurrentSeriesIndices","getFont","encodeDef","dataDimIndex","isExtraCoord","dataDims","coordDimIndex","createOrUpdate","doCreateOrUpdate","elOptionType","oldChildren","newChildren","diffChildrenByName","diffGroupChildren","getKey","processAddUpdate","processRemove","childOption","child","extendSeriesModel","newIdx","oldIdx","visualSymbol","layoutPoints","effectType","showEffectOn","rippleEffect","period","brushType","SymbolDraw","EffectSymbol","init","_symbolDraw","effectSymbolDraw","updateData","updateLayout","dataColor","funnelLayout","dataFilter","registerProcessor","List","_model","defaultEmphasis","completeDimensions","FunnelSeries","legendDataProvider","getRawData","_defaultLabelLine","initData","labelLineNormalOpt","labelLineEmphasisOpt","getDataParams","params","superCall","sum","getSum","toFixed","$vars","right","bottom","minSize","maxSize","sort","gap","funnelAlign","lineStyle","FunnelPiece","polygon","Polygon","Polyline","onEmphasis","ignore","hoverIgnore","onNormal","normalIgnore","funnelPieceProto","opacityAccessPath","firstCreate","hostModel","points","visualColor","lineJoin","_updateLabel","labelText","labelLayout","linePoints","labelHoverModel","labelLineModel","labelLineHoverModel","getName","useInsideStyle","inside","textAlign","textVerticalAlign","verticalAlign","getLineStyle","inherits","FunnelView","funnelPiece","piePiece","linearMap","getViewRect","getLayoutRect","getBoxLayoutParams","getSortedIndices","valueArr","mapArray","indices","isAscending","len","a","textX","textY","labelPosition","isLabelInside","x1","y1","x2","labelLineLen","y2","viewRect","sizeExtent","dataExtent","getDataExtent","itemHeight","getLinePoints","offY","x0","itemWidth","nextIdx","end","GaugeSeries","dataOpt","clockwise","splitNumber","axisLine","splitLine","axisTick","axisLabel","distance","pointer","offsetCenter","detail","backgroundColor","padding","PointerPath","parsePosition","formatLabel","labelFormatter","PI2","GaugeView","colorList","posInfo","_renderMain","axisLineModel","lineStyleModel","angleRangeSpan","prevEndAngle","axisLineWidth","getColor","tmp","_renderTicks","_renderPointer","_renderTitle","_renderDetail","minVal","maxVal","splitLineModel","tickModel","subSplitNumber","splitLineLen","tickLen","angle","step","subStep","splitLineStyle","tickLineStyle","unitX","cos","unitY","sin","Line","tickLine","valueExtent","angleExtent","pointerModel","titleModel","forceRich","detailModel","textWidth","textHeight","Path","buildPath","ctx","mathCos","mathSin","moveTo","lineTo","categoryFilter","categoryVisual","edgeVisual","simpleLayout","circularLayout","forceLayout","createView","registerCoordinateSystem","create","_format","encodeHTML","createGraphFromNodeEdge","GraphSeries","_categoriesData","fillDataTextStyle","edges","links","_updateCategoriesData","mergeOption","mergeDefaultAndTheme","edgeLabel","nodes","beforeLink","nodeData","edgeData","wrapMethod","categoriesModels","_categoriesModels","categoryIdx","categoryModel","edgeLabelModel","fakeSeriesModel","edgeGetParent","parsePath","customizeGetParent","getGraph","graph","getEdgeData","getCategoriesData","formatTooltip","multipleSeries","dataType","edge","getEdgeByIndex","sourceName","node1","targetName","node2","html","categories","map","category","categoriesData","focusNodeAdjacency","circular","rotateLabel","force","initLayout","repulsion","gravity","edgeLength","layoutAnimation","edgeSymbol","edgeSymbolSize","draggable","roam","nodeScaleRatio","formatter","curveness","LineDraw","RoamController","roamHelper","_cursorHelper","onIrrelevantElement","adjustEdge","nodeOpacityPath","lineOpacityPath","getItemOpacity","opacityPath","getVisual","fadeOutItem","opacityRatio","getGraphicEl","downplay","traverse","fadeInItem","highlight","symbolDraw","lineDraw","_controller","_controllerHost","_lineDraw","_firstRender","_nodeScaleRatio","groupNewProp","_getNodeGlobalScale","_updateNodeAndLinkScale","_updateController","clearTimeout","_layoutTimeout","_startForceLayoutIteration","warmUp","_layouting","setFixed","setUnfixed","setDraggable","__focusNodeAdjacency","__unfocusNodeAdjacency","dispatchAction","eachEdge","edgeDataIndex","circularRotateLabel","symbolPath","getSymbolPath","pos","rad","atan2","isLeft","textRotation","textOrigin","getNodeByIndex","eachNode","adjacentEdge","unfocusNodeAdjacency","stopped","setTimeout","controller","controllerHost","setPointerChecker","e","getBoundingRect","applyTransform","transform","contain","enable","updateViewOnPan","mouseX","mouseY","updateViewOnZoom","disable","nodeScale","invScale","groupScale","groupZoom","roamZoom","curveTool","vec2","v1","v2","v3","quadraticAt","v2DistSquare","distSquare","mathAbs","intersectCurveCircle","curvePoints","t","p0","p1","p2","d","radiusSquare","interval","next","nextDiff","tmp0","quadraticSubdivide","pts","pts2","v","getSymbolSize","fromSymbol","toSymbol","__original","originalPoints","copy","sub","normalize","scaleAndAdd","legendModels","findComponents","graphSeries","categoryNames","filterSelf","isSelected","paletteScope","categoryNameIdxMap","getColorFromPalette","_circularLayoutHelper","unitAngle","getValue","setLayout","cp1","x12","y12","View","_layout","bbox","aspect","viewList","coordSysType","positions","fromPoints","bbWidth","bbHeight","viewWidth","viewHeight","viewCoordSys","setBoundingRect","setViewRect","colorQuery","opacityQuery","opts","pp","friction","fixed","v12","nLen","n1","n2","w","repFact","rep","_forceHelper","_simpleLayoutHelper","preservedPoints","forceModel","getId","nodeDataExtent","edgeDataExtent","forceInstance","oldStep","l","actionInfo","simpleLayoutEdge","GRADIENT_LEVELS","Heatmap","canvas","createCanvas","blurSize","pointSize","maxOpacity","minOpacity","_gradientPixels","colorFunc","isInRange","brush","_getBrush","gradientInRange","_getGradient","gradientOutOfRange","getContext","alpha","globalAlpha","drawImage","imageData","getImageData","pixels","pixelLen","diffOpacity","gradientOffset","gradient","putImageData","brushCanvas","_brushCanvas","clearRect","beginPath","arc","closePath","gradientPixels","pixelsSingleState","Uint8ClampedArray","geoIndex","HeatmapLayer","getIsInPiecewiseRange","pieceList","dataSpan","piece","lastIndex","getIsInContinuousRange","range","isGeoCoordSys","visualMapOfThisSeries","visualMap","eachTargetSeries","targetSeries","_renderOnCartesianAndCalendar","_renderOnGeo","xAxis","getAxis","yAxis","itemStyleQuery","hoverItemStyleQuery","labelQuery","hoverLabelQuery","hoverStl","coordDimToDataDim","dataToRect","contentShape","hasItemOption","rawValue","visualMapModel","inRangeVisuals","targetVisuals","inRange","outOfRangeVisuals","outOfRange","hmLayer","_hmLayer","roamTransform","getRoamTransform","lng","lat","getPieceList","getNormalizer","getColorMapper","img","curveUtil","EffectLine","lineData","seriesScope","createLine","_updateEffectSymbol","effectLineProto","effectModel","_symbolType","_updateEffectAnimation","loop","constantSpeed","delayExpr","isDelayFunc","updateAnimationPoints","getLineLength","_period","_loop","stopAnimation","delay","__t","animator","animate","when","during","updateSymbolPosition","dist","__p1","__cp1","__p2","quadraticDerivativeAt","tx","ty","EffectPolyline","_lastFrame","_lastFramePercent","effectPolylineProto","_points","accLenArr","_offsets","_length","offsets","lastFrame","frame","lerp","SymbolClz","EFFECT_RIPPLE_NUMBER","normalizeSymbolSize","updateRipplePath","rippleGroup","effectCfg","eachChild","ripplePath","beforeUpdate","getScale","effectSymbolProto","stopEffectAnimation","startEffectAnimation","effectOffset","rippleScale","animateStyle","updateEffectAnimation","oldEffectCfg","_effectCfg","DIFFICULT_PROPS","propName","fadeOut","lineContain","quadraticContain","LargeLineShape","extendShape","polyline","segs","isPolyline","seg","quadraticCurveTo","findDataIndex","containStroke","LargeLineDraw","_lineEl","largeLineProto","lineEl","offsetX","offsetY","LargeSymbolPath","sizes","symbolProxy","symbolProxyShape","y0","LargeSymbolDraw","_symbolEl","largeSymbolProto","symbolEl","vector","symbolUtil","LinePath","SYMBOL_CATEGORIES","makeSymbolTypeKey","symbolCategory","setLinePoints","targetShape","cpx1","cpy1","updateSymbolAndLabelBeforeLineUpdate","lineGroup","symbolFrom","childOfName","symbolTo","parentNode","__dirty","fromPos","pointAt","toPos","tangent","tangentAt","__position","halfPercent","cp","__verticalAlign","__textAlign","_createLine","lineProto","_updateCommonStl","hoverLineStyle","visualOpacity","defaultLabelColor","normalText","emphasisText","showLabel","hoverShowLabel","rawVal","isFinite","labelStyle","getTextColor","fontStyle","fontFamily","linePath","LineGroup","isPointNaN","lineNeedsDraw","ctor","_ctor","lineDrawProto","oldLineData","_lineData","LineCtor","straightLineProto","bezierCurveProto","BezierCurve","isLine","_createPolyline","polylineProto","WhiskerPath","WhiskerBox","styleUpdater","_createContent","_seriesModel","whiskerBoxProto","transInit","makeWhiskerEndsShape","ends","WhiskerBoxDraw","updateMethod","whiskerBoxDrawProto","Graph","linkList","CoordinateSystem","directed","addNode","linkNameList","validEdges","linkCount","link","source","addEdge","coordSysCtor","dimensionNames","mainData","struct","structAttr","datas","datasAttr","_baseAxisDim","addOrdinal","xAxisModel","getComponent","yAxisModel","xAxisType","yAxisType","getCategories","baseAxisDimIndex","baseAxisDim","otherAxisDim","unshift","otherDims","dimsDef","dimCount","whiskerBoxDraw","_whiskerBoxDraw","linesLayout","linesVisual","preprocessOption","seriesOpt","itemOpt","coords","fromName","toName","mergeAll","LinesSeries","visualColorAccessPath","dataItem","dimIndex","xAxisIndex","yAxisIndex","effect","trailLength","large","largeThreshold","hasEffect","isLarge","_hasEffet","_isPolyline","_isLarge","zr","isSvg","painter","getType","getLayer","clear","_lastZlevel","configLayer","motionBlur","lastFrameAlpha","mapSymbolLayout","mapVisual","mapDataStatistic","backwardCompat","createDataSelectAction","PRIORITY","PROCESSOR","STATISTIC","method","addCommas","dataSelectableMixin","geoCreator","MapSeries","layoutMode","needsDrawMap","_fillOption","getMapType","updateSelectedMap","newOption","getHostGeoModel","dependentModels","mapName","getFilledRegions","nameMap","getRegionModel","regionName","indexOfName","formattedValue","seriesNames","otherIndex","originalData","getTooltipPosition","region","getRegion","aspectScale","showLegendSymbol","dataRangeHoverLink","boundingCoords","scaleLimit","areaColor","MapDraw","mapModel","from","mapDraw","_mapDraw","draw","_renderSymbols","circle","fullData","mainSeries","fullIndex","polygonGroups","extendFrom","__mapOriginalZ2","mapSeries","mapType","mapLocation","dataStatistics","statisticType","dataNameMap","dims","mapKey","seriesGroups","hostGeoModel","seriesList","setData","cloneShallow","processedMapType","mapSymbolOffsets","subMapSeries","parallelVisual","parallelModel","parallelAxisIndices","parallelAxisIndex","rawData","modelDims","generateDataDims","dataDimsInfo","modelDimsIndex","axisModel","translateCategoryValue","guessOrdinal","animation","getRawIndicesByActiveState","activeState","eachActiveState","theActiveState","parallelIndex","inactiveOpacity","activeOpacity","smooth","axisData","numberDim","convertDimNameToNumber","maxDimNum","firstItem","SMOOTH","ParallelView","_dataGroup","_renderForNormal","dataGroup","updateElCommon","createGridClipShape","removeClipPath","newDataIndex","addEl","oldDataIndex","createLinePoints","rectEl","isEmptyValue","seriesStyleModel","axisType","opacityMap","inactive","itemOpacity","radarLayout","RadarSeries","extraPrefix","extraFromZero","indicatorAxes","getIndicatorAxes","radarIndex","updateSymbols","oldPoints","newPoints","symbolGroup","__dimIdx","getInitialPoints","areaStyleModel","hoverAreaStyleModel","polygonIgnore","isEmpty","hoverPolygonIgnore","getAreaStyle","itemHoverStyle","labelDimIndex","polarOptArr","polarNotRadar","polarOpt","indicator","radar","polarIndex","pointsConverter","sankeyLayout","sankeyVisual","SankeySeries","layoutInfo","rawDataOpt","nodeWidth","nodeGap","layoutIterations","SankeyShape","cpx2","cpy2","halfExtent","bezierCurveTo","curve","curvature","n1Layout","n2Layout","edgeLayout","sy","nest","computeNodeValues","filteredNodes","filter","iterations","layoutSankey","computeNodeBreadths","computeNodeDepths","computeEdgeDepths","value1","outEdges","getEdgeValue","value2","inEdges","remainNodes","nextNode","kx","lenj","moveSinksRight","scaleNodeBreadths","nodeX","nodesByBreadth","sortKeys","ascending","entries","values","initializeNodeDepth","resolveCollisions","relaxRightToLeft","relaxLeftToRight","kyArray","ky","ky0","nodeDy","edgeDy","ascendingDepth","nodeY","weightedTarget","weightedSource","ascendingTargetDepth","ascendingSourceDepth","array","f","VisualMapping","minValue","maxValue","mapping","mappingMethod","mapValueToColor","mapValueToVisual","customColor","_normalSymbolDraw","_largeSymbolDraw","largeSymbolDraw","normalSymbolDraw","themeRiverLayout","themeRiverVisual","DATA_NAME_INDEX","ThemeRiverSeries","fixData","rawDataLength","dataByName","layData","dataList","layerNum","largestLayer","k","timeValue","keyIndex","singleAxisModel","queryComponents","filterData","undefined","nameList","createHashMap","axisDim","getLayerSeries","lenCount","indexArr","layerSeries","comparer","index1","index2","getAxisTooltipData","nestestValue","minDist","MAX_VALUE","nearestIdx","pointNum","theValue","dataIndices","htmlName","htmlValue","boundaryGap","singleAxisIndex","margin","_poly","_util","_layers","keyGetter","dataDiffer","_layersSeries","newLayersGroups","process","oldLayersGroups","points0","points1","textLayout","layerGroup","stackedOnPoints","stackedOnSmooth","smoothConstraint","hoverItemStyleModel","numberUtil","single","orient","baseY0","layerPoints","singleLayer","computeBaseline","baseLine","m","layerIndex","sums","temp","idxMap","rawIndex","orthogonalLayout","radialLayout","Tree","root","leaves","treeOption","createTree","treeDepth","depth","expandAndCollapse","expandTreeDepth","initialTreeDepth","hostTree","getRawDataItem","isExpand","collapsed","realRoot","getNodeByDataIndex","animationDurationUpdate","_layoutHelper","radialCoordinate","_oldTree","_mainGroup","useNameLabel","fadeIn","symbolNeedsDraw","updateNode","removeNode","getTreeNodeStyle","hoverItemStyle","symbolInnerColor","virtualRoot","sourceSymbolEl","sourceLayout","sourceOldLayout","rawX","__radialOldRawX","rawY","__radialOldRawY","targetLayout","__radialRawX","__radialRawY","rootLayout","__edge","getEdgeShape","keepLabel","radialCoor1","radialCoor2","radialCoor3","radialCoor4","_traversalHelper","eachAfter","eachBefore","firstWalk","secondWalk","sep","separation","hierNode","modifier","prelim","delta","coorX","coorY","finalCoor","defaultAncestor","ancestor","change","shift","thread","pop","siblings","subtreeW","executeShifts","midPoint","apportion","defaultSeparation","radialCoor","subtreeV","nodeOutRight","nodeInRight","nodeOutLeft","nodeInLeft","sumOutRight","sumInRight","sumOutLeft","sumInLeft","nextRight","nextLeft","moveSubtree","nextAncestor","wl","wr","commonLayout","subType","treemapVisual","treemapLayout","wrapTreePathInfo","TEXT_PADDING","ITEM_GAP","ARRAY_LENGTH","Breadcrumb","containerGroup","makeItemPoints","head","tail","splice","packEventData","itemNode","eventData","componentSubType","componentIndex","seriesType","selfType","treePathInfo","targetNode","onSelect","thisGroup","normalStyleModel","textStyleModel","layoutParam","box","emptyItemWidth","totalWidth","renderList","_prepare","_renderContent","positionElement","textRect","getTextRect","lastX","availableSize","getAvailableSize","textFont","onclick","_viewRoot","hoverLayerThreshold","clipWindow","squareRatio","sqrt","leafDepth","drillDownIcon","zoomToNodeRatio","nodeClick","breadcrumb","ellipsis","upperLabel","colorAlpha","colorSaturation","gapWidth","borderColorSaturation","visualDimension","visualMin","visualMax","colorMappingBy","visibleMin","childrenVisibleMin","levels","completeTreeValue","setDefault","optionUpdated","resetViewRoot","apply","setLayoutInfo","mapIdToIndex","idIndexMap","_idIndexMap","_idIndexMapCount","getViewRoot","viewRoot","contains","dataNode","childValue","thisValue","globalColorList","hasColorDefine","levelDefine","modelColor","level0","helper","BoundingRect","matrix","animationUtil","DRAG_THRESHOLD","PATH_LABEL_NOAMAL","PATH_LABEL_EMPHASIS","PATH_UPPERLABEL_NORMAL","PATH_UPPERLABEL_EMPHASIS","Z_BASE","Z_BG","Z_CONTENT","getItemStyleEmphasis","getItemStyleNormal","o","_containerGroup","_storage","createStorage","_breadcrumb","_state","models","targetInfo","retrieveTargetInfo","payloadType","thisStorage","reRoot","rootNodeGroup","nodeGroup","direction","_giveContainerGroup","renderResult","_doRender","renderFinally","_doAnimation","_resetController","_renderBreadcrumb","_initEvents","thisTree","oldTree","lastsForAnimation","oldStorage","willInvisibleEls","doRenderNode","renderNode","dualTravel","willDeleteEls","clearStorage","thisViewChildren","oldViewChildren","parentGroup","sameTree","processNode","thisNode","oldNode","viewChildren","isRemoved","storage","store","storageName","delEls","__tmWillDelete","els","invisible","duration","easing","animationWrap","createWrap","__tmNodeWidth","__tmNodeHeight","targetX","targetY","last","old","fadein","_onPan","_onZoom","_clearController","rootRect","translate","findTarget","isLeafRoot","_rootToNode","_zoomToNode","linkTarget","open","aboveViewRoot","order","bgEl","background","transformCoordToLocal","content","thisLayout","isInView","thisWidth","thisHeight","thisInvisible","thisRawIndex","oldRawIndex","upperHeight","isParent","itemStyleNormalModel","itemStyleEmphasisModel","giveGraphic","isAboveViewRoot","bg","renderBackground","renderContent","useUpperLabel","visualBorderColor","emphasisBorderColor","emphasisStyle","upperLabelWidth","prepareText","contentWidth","contentHeight","__tmWillVisible","upperLabelRect","nodeModel","iconChar","normalLabelModel","emphasisLabelModel","isShow","truncate","outerWidth","outerHeight","minChar","Ctor","lasts","prepareAnimationWhenHasOld","calculateZ","__tmDepth","__tmStorageName","prepareAnimationWhenNoOld","lastCfg","parentOldX","parentOldY","parentOldBg","zInLevel","zb","targetNodeId","getNodeById","getPathToRoot","viewPath","nodeDataIndex","actionTypes","handleRootToNode","originViewRoot","MAX_SAFE_INTEGER","mathMax","mathMin","retrieveValue","PATH_BORDER_WIDTH","PATH_GAP_WIDTH","PATH_UPPER_LABEL_SHOW","PATH_UPPER_LABEL_HEIGHT","condition","ecWidth","ecHeight","seriesOption","containerWidth","containerHeight","viewAbovePath","rootSize","estimateRootSize","options","clearLayouts","viewRootLayout","area","squarify","treeRoot","calculateRootPosition","prunning","hideChildren","halfGapWidth","upperLabelHeight","getUpperLabelHeight","layoutOffset","layoutOffsetUpper","totalArea","initChildren","rowFixedLength","best","row","score","worst","orderBy","overLeafDepth","info","statistic","filterByThreshold","orderedChildren","deletePoint","dimension","ratio","areaMax","areaMin","squareArea","flush","idx0WhenH","idx1WhenH","rowOtherLength","rowLen","nodeLayout","wh1","remain","modWH","wh0","currNode","defaultSize","viewArea","currNodeValue","defaultPosition","targetCenter","clipRect","nodeInViewAbovePath","intersect","childClipRect","zrColor","ITEM_STYLE_NORMAL","seriesItemStyleModel","levelItemStyles","levelModels","levelModel","travelTree","getAncestors","designatedVisual","viewRootAncestors","thisNodeColor","nodeItemStyleModel","levelItemStyle","visuals","buildVisuals","calculateColor","calculateBorderColor","buildVisualMapping","childVisual","visualName","getValueVisualDefine","modifyHSL","modifyAlpha","rangeVisual","getRangeVisual","__drColorMappingBy","childVisuals","mappingType","formatUtil","BaseAxisPointer","viewHelper","AxisBuilder","AxisView","PolarAxisPointer","makeElOption","axisPointerModel","animationThreshold","coordValue","otherAxis","otherExtent","capitalFirst","axisPointerType","elStyle","buildElStyle","pointerOption","pointerShapeBuilder","graphicKey","labelMargin","labelPos","getLabelPosition","buildLabelElOption","axisAngle","getAngleAxis","align","radiusExtent","getRadiusAxis","rotate","labelRotation","innerTextLayout","coordToPoint","makeLineShape","shadow","radian","makeSectorShape","registerAxisPointerClass","singleAxisHelper","XY","WH","SingleAxisPointer","getGlobalExtent","getPointDimIndex","pixelValue","buildCartesianSingleLabelElOption","getHandleTransform","labelInside","getTransformedPosition","labelDirection","updateHandleTransform","axisExtent","currPosition","cursorOtherValue","cursorPoint","tooltipOption","subPixelOptimizeLine","span","makeRectShape","elementList","getAxisLineShape","rExtent","getRadiusIdx","radiusAxis","inverse","axisPointerClass","angleAxisModel","angleAxis","ticksAngles","getTicksCoords","isBlank","_axisLine","_axisTick","lines","tickAngle","mergePath","_axisLabel","categoryData","labels","getFormattedLabels","labelsAngles","getLabelsCoords","labelTextAlign","labelTextVerticalAlign","textEl","_splitLine","lineColors","lineCount","splitLines","colorIndex","_splitArea","splitAreaModel","areaColors","splitAreas","RADIAN","prevAngle","r1","BrushController","brushHelper","extendComponentView","_brushController","_onBrush","fromAxisAreaSelect","oldAxisGroup","_axisGroup","coordSysModel","getCoordSysModel","areaSelectStyle","getAreaSelectStyle","areaWidth","axisLayout","getAxisLayout","builderOpt","strokeContainThreshold","axisBuilder","getGroup","_refreshBrushController","groupTransition","updateVisual","updateCovers","getCoverInfoList","extentLen","mount","enableGlobalPan","setPanels","panelId","makeRectPanelClipPath","isTargetByCursor","makeRectIsTargetByCursor","getLinearBrushOtherExtent","makeLinearBrushOtherExtent","enableBrush","brushStyle","removeOnClick","coverInfoList","intervals","coverInfo","coordToData","realtime","isEnd","parallelAxisId","activeIntervals","axisBuilderAttrs","selfBuilderAttrs","radiusAxisModel","ticksCoords","layoutAxis","prevRadius","tickDirection","nameDirection","labelRotate","getInterval","ifIgnoreOnTick","selfBuilderAttr","SingleAxisView","labelInterval","lineInterval","gridRect","showMinLabel","showMaxLabel","tickCoord","getLineDash","parallelAxisModel","setActiveIntervals","setAxisExpand","axisPosition","rectBound","positionMap","horizontal","vertical","directionMap","getLabelInterval","visualSolution","DEFAULT_OUT_OF_BRUSH_COLOR","BrushModel","extendComponentModel","toolbox","brushLink","brushMode","transformable","throttleType","throttleDelay","areas","brushOption","coordInfoList","thisOption","replaceVisualOption","inBrush","outOfBrush","setAreas","generateBrushOption","setBrushOption","merge","brushModel","updateController","updateView","modelId","brushTargetManager","setOutputRanges","brushId","$from","makePanelOpts","DEFAULT_TOOLBOX_BTNS","isNew","brushComponents","brushComponentSpecifiedBtns","brushOpt","tbs","feature","toolboxFeature","toolboxBrush","brushTypes","removeDuplicate","flag","polygonContain","selector","lineX","getLineSelectors","lineY","boundingRect","lineIntersectPolygon","xyIndex","inLineRange","layoutRange","lx","ly","l2x","l2y","lineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","determinant","nearZero","namenda","miu","v4","throttleUtil","BrushTargetManager","STATE_LIST","DISPATCH_METHOD","DISPATCH_FLAG","PRIORITY_BRUSH","VISUAL","BRUSH","brushSelected","doDispatch","isDisposed","batch","checkInRange","selectorsByBrushType","rangeInfoList","getSelectorsByBrushType","isString","sels","selectorsByElementType","isFunction","bSelector","sel","brushModelNotControll","seriesIndices","bindSelector","selFn","elType","setInputRanges","brushIndex","thisBrushSelected","brushName","linkedSeriesMap","selectedDataIndexForLink","rangeInfoBySeries","hasBrushExists","boundingRectBuilders","visualMappings","createVisualMappings","mappingOption","linkOthers","brushed","stepAParallel","hasAxisBrushed","stepAOthers","controlSeries","eachSeries","seriesBrushSelected","getValueState","applyVisual","getBoundingRectFromMinMax","minMax","rg","MONTH_TEXT","EN","CN","WEEK_TEXT","_tlpoints","_blpoints","_firstDayOfMonth","_firstDayPoints","calendarModel","rangeData","getRangeInfo","getOrient","_renderDayRect","_renderLines","_renderYearText","_renderMonthText","_renderWeekText","itemRectStyleModel","sw","getCellWidth","sh","getCellHeight","getNextNDay","tl","firstDay","addPoints","formatedDate","getDateInfo","setMonth","_getLinePointsOfOneWeek","_drawSplitline","_getEdgesPoints","rs","poyline","tmpD","_formatterLabel","formatTplSimple","_yearTextPositionControl","aligns","yearLabel","xc","yc","posPoints","yearText","_monthTextPositionControl","isCenter","vAlign","monthLabel","termPoints","firstDayPoints","yyyy","yy","MM","M","monthText","_weekTextPositionControl","cellSize","isStart","dayLabel","firstDayOfWeek","getFirstDayOfWeek","lweek","fweek","weekText","asc","AxisProxy","axisIndex","dataZoomModel","_dimName","_axisIndex","_valueWindow","_percentWindow","_dataExtent","_minMaxSpan","_dataZoomModel","calculateDataExtent","axisProxy","seriesData","seriesExtent","fixExtentByAxis","getAxisModel","getMin","isCategoryAxis","axisDataLen","getMax","setAxisModel","isRestore","percentWindow","valueWindow","precision","getPixelPrecision","useOrigin","setRange","setMinMaxSpan","minMaxSpan","valueSpan","hostedBy","getDataValueWindow","getDataPercentWindow","getTargetSeriesModels","isCoordSupported","getOtherAxisModel","coordSysIndexName","foundOtherAxisModel","isCartesian","otherAxisModel","getMinMaxSpan","calculateDataWindow","rangePropMode","getRangePropMode","percentExtent","boundValue","boundPercent","reset","dataWindow","restore","filterMode","leftOut","rightOut","thisHasValue","thisLeftOut","thisRightOut","isInWindow","env","modelUtil","eachAxisDim","DataZoomModel","throttle","startValue","endValue","minSpan","maxSpan","minValueSpan","maxValueSpan","rangeMode","_dataIntervalByAxis","_dataInfo","_axisProxies","_autoThrottle","_rangePropMode","rawOption","retrieveRaw","doInit","canvasSupported","_setDefaultThrottle","updateRangeUse","names","_resetTarget","_giveAxisProxies","axisProxies","eachTargetAxis","dimNames","__dzAxisProxy","autoMode","_judgeAutoMode","axisIndexName","normalizeToArray","_autoSetAxisIndex","_autoSetOrient","hasIndexSpecified","autoAxisIndex","axisIndices","axisModels","_isSeriesHasAllAxesTypeOf","axisId","is","seriesAxisIndex","globalOption","getFirstTargetAxisModel","firstAxisModel","getAxisProxy","setRawRange","ignoreUpdateRangeUsg","getPercentRange","findRepresentativeAxisProxy","getValueRange","axisDimName","ret","rangeModeInOption","percentSpecified","valueSpecified","ComponentView","getTargetCoordInfo","coordSysLists","save","coordModel","coordIndex","zoomLock","zoomOnMouseWheel","moveOnMouseMove","preventDefaultMouseMove","DataZoomView","sliderMove","roams","InsideZoomView","_range","shouldRecordRange","coordSysName","allCoordIds","coordInfo","generateCoordId","dataZoomOption","register","coordId","containsPoint","containPoint","dataZoomId","throttleRate","panGetRange","zoomGetRange","roamControllerOpt","unregister","oldX","oldY","newX","newY","directionInfo","getDirectionInfo","percentDelta","signal","pixel","pixelLength","percentPoint","pixelStart","oldPoint","newPoint","pointToCoord","SliderZoomModel","dataBackground","areaStyle","fillerColor","handleIcon","handleSize","handleStyle","labelPrecision","showDetail","showDataShadow","eventTool","DEFAULT_LOCATION_EDGE_GAP","DEFAULT_FRAME_BORDER_WIDTH","DEFAULT_FILLER_SIZE","HORIZONTAL","VERTICAL","LABEL_GAP","SHOW_DATA_SHADOW_SERIES_TYPE","SliderZoomView","_displayables","_orient","_handleEnds","_size","_handleWidth","_handleHeight","_location","_dragging","_dataShadowInfo","_buildView","_updateView","_resetLocation","_resetInterval","barGroup","_renderBackground","_renderHandle","_renderDataShadow","_positionGroup","coordRect","_findCoordRect","positionInfo","layoutParams","getLayoutParams","layoutRect","targetAxisModel","otherAxisInverse","_getViewExtent","_onClickPanelClick","_prepareDataShadowInfo","otherDim","otherDataExtent","otherOffset","lastIsEmpty","otherShadowExtent","thisShadowExtent","areaPoints","thisCoord","stride","otherCoord","thisAxis","getOtherDim","thisDim","displaybles","handles","handleLabels","filler","getCursor","drift","_onDragMove","onmousemove","stop","ondragstart","_showDataInfo","ondragend","_onDragEnd","onmouseover","onmouseout","subPixelOptimizeRect","handleIndex","createIcon","bRect","handleColor","viewExtent","_updateInterval","handleEnds","viewExtend","nonRealtime","handleInterval","handle","handleHeight","_updateDataInfo","labelTexts","dataInterval","_formatLabel","orderedHandleEnds","barTransform","getTransform","transformDirection","textPoint","valueStr","getLabel","showOrHide","getLocalTransform","vertex","_dispatchZoomAction","localPoint","linkedNodesFinder","createLinkedNodesFinder","effectedModels","resetSingleAxis","filterSingleAxis","percentRange","valueRange","AXIS_DIMS","COORDS","coordType","createNameEach","capitalNames","capitalAttrs","nameObj","capital","forEachNode","forEachEdgeType","edgeIdGetter","sourceNode","existsLink","records","edgeType","absorb","processSingleNode","isNodeAbsorded","isLinked","hasLink","edgeId","ATTR","newSnapshot","giveStore","batchItem","snapshot","dataZoomInfo","theDataZoomId","theCoordId","record","dataZoomInfos","cleanStore","createController","controllerParams","mergeControllerParams","controlType","newRecord","onPan","onZoom","wrapAndDispatch","getRange","typePriority","oneType","Component","registerSubTypeDefaulter","makeAction","geoModel","regions","layoutUtil","graphicOption","elements","GraphicModel","parentId","_elOptionsToUpdate","newList","existList","flattenedList","_flatten","mappingResult","mappingToExists","makeIdAndName","elOptionsToUpdate","resultItem","newElOption","setKeyInfoToNewElOption","mergeNewElOptionToExist","setLayoutInfoToExist","$action","optionList","parentOption","useElOptionsToUpdate","targetElParent","elMap","__ecGraphicId","removeEl","existEl","existElParent","removeKey","getCleanedElOption","LOCATION_PARAMS","isSetLoc","isSet","existElOption","exist","keyInfo","newElParentOption","newElOptCopy","mergeLayoutParam","ignoreSize","copyLayoutParams","existItem","hv","_elMap","_lastGraphicModel","graphicModel","_clear","_updateElements","_relocate","rootGroup","textBaseline","elOptionCleaned","__ecGraphicWidth","__ecGraphicHeight","elOptions","parentEl","containerInfo","boundingMode","bounding","Eventful","interactionMutex","mathPow","COVER_Z","UNSELECT_THRESHOLD","MIN_RESIZE_LINE_WIDTH","MUTEX_RESOURCE_KEY","DIRECTION_MAP","s","CURSOR_MAP","ne","nw","se","DEFAULT_BRUSH_OPT","baseUID","_zr","_brushType","_brushOption","_panels","_track","_covers","_creatingCover","_creatingPanel","_enableGlobalPan","_uid","_handlers","mouseHandlers","handler","eventName","doEnableBrush","take","doDisableBrush","release","createCover","cover","coverRenderers","__brushOption","updateZ","endCreating","creatingCover","coverRenderer","getCoverRenderer","updateCoverShape","updateCoverAfterCreation","getPanelByPoint","localCursorPoint","panel","panels","_transform","pn","getPanelByCover","clearCovers","covers","originalLength","shouldShowCover","track","getTrackEnds","createBaseRectCover","doDrift","edgeNames","makeStyle","updateBaseRect","localRange","xa","ya","x2a","y2a","widtha","heighta","updateRectShape","mainEl","globalDir","getGlobalDirection","h","pointsToRect","clipByPanel","formatRectRange","localDirection","inverseMap","driftRect","toRectRange","fromRectRange","rectRange","localDelta","toLocalDelta","namePart","ind","driftPolygon","localD","localZero","xmin","ymin","xmax","ymax","resetCursor","currPanel","setCursorStyle","preventDefault","rawE","mainShapeContain","updateCoverByMouse","eventParams","thisBrushOption","determineBrushType","coverBrushOption","getCreatingRange","defaultBrushType","panelOpts","eachCover","brushOptionList","tmpIdPrefix","oldCovers","newCovers","oldGetKey","addOrUpdate","newBrushOption","unmount","mousedown","handleDragEnd","mousemove","mouseup","getLineRenderer","localTrack","COORD_CONVERTS","INCLUDE_FINDER_MAIN_TYPES","targetInfoList","_targetInfoList","foundCpts","parseFinder","targetInfoBuilders","builder","include","proto","formatMinMax","includeMainTypes","matchOutputRanges","coordRange","coordRanges","coordConvert","__rangeOffset","diffProcessor","xyMinMax","findTargetInfo","coordSyses","rangeOffset","getScales","getDefaultBrushType","getPanelRect","areaPanelId","targetInfoMatchers","xAxisModels","yAxisModels","gridModels","gridModelMap","xAxesHas","yAxesHas","gridModel","cartesians","getCartesians","panelRectBuilder","xAxisDeclared","yAxisDeclared","geoModels","axisConvert","to","rangeOrCoordRange","xminymin","xmaxymax","axisNameIndex","toLocalCoord","axisDiffProcessor","refer","scales","xyMinMaxCurr","xyMinMaxOrigin","sizeCurr","getSize","sizeOrigin","getFixedItemStyle","updateMapSelectHandler","mapOrGeoModel","fromView","_mouseDownFlag","__regions","action","updateMapSelected","otherRegionEl","updateGroup","_updateGroup","isGeo","itemStyleAccessPath","hoverItemStyleAccessPath","labelAccessPath","hoverLabelAccessPath","regionGroup","compoundPath","CompoundPath","paths","dataIdx","regionModel","geometries","geometry","exterior","interiors","isDataNaN","groupRegions","hoverSilentOnTouch","makeActionBase","getViewRectAfterRoam","pointerChecker","_opt","mousedownHandler","mousemoveHandler","mouseupHandler","mousewheelHandler","mousewheel","pinchHandler","pinch","isDragging","isPinching","_pinching","notLeftMouse","_x","_y","checkKeyBinding","gestureEvent","isTaken","wheelDelta","zoomDelta","pinchScale","pinchX","pinchY","zoomX","zoomY","roamController","setting","normalizeRect","localPoints","clipPointsByRect","specifiedXYIndex","brushWidth","targetModel","IRRELEVANT_EXCLUDES","targetCoordSysModel","getComponentByElement","topTarget","resourceKey","userKey","getStore","uKey","newZoom","zoomScale","restrict","extentSpan","originalDistSign","getSpanSign","extentMinSpan","realExtent","currDistSign","LegendModel","ScrollableLegendModel","setScrollDataIndex","scrollDataIndex","pageButtonItemGap","pageButtonGap","pageButtonPosition","pageFormatter","pageIcons","pageIconColor","pageIconInactiveColor","pageIconSize","pageTextStyle","extraOpt","inputPositionParams","mergeAndNormalizeLayoutParams","legendModel","raw","LegendView","ScrollableLegendView","newlineDisabled","_currentIndex","getContentGroup","_controllerGroup","_showController","resetInner","__rectSize","renderInner","itemAlign","me","controllerGroup","createPageButton","pageTextStyleModel","iconIdx","pageDataIndexName","_pageGo","layoutInner","contentGroup","orientIdx","hw","yx","contentRect","controllerRect","showController","contentPos","containerPos","controllerPos","mainRect","pageInfo","_getPageInfo","pageIndex","contentPosition","_updatePageInfoView","legendId","canJump","pageText","current","total","pageCount","pagePrevDataIndex","pageNextDataIndex","targetItemGroup","currDataIndex","containerRectSize","__legendDataIndex","itemRect","itemLoc","startIdx","winRect","getItemRect","startItem","startRect","markArea","markLine","markPoint","MarkerModel","colorUtil","markerHelper","MarkerView","markAreaTransform","maModel","lt","dataTransform","rb","ltCoord","rbCoord","isInifinity","ifMarkLineHasOnlyDim","fromCoord","toCoord","otherDimIndex","markAreaFilter","getSingleMarkerEndPoint","xPx","yPx","getValues","dimPermutations","createList","coordDimsInfos","areaData","optData","dimValueGetter","markAreaModel","renderSeries","areaGroupMap","markerGroupMap","polygonGroup","__keep","__data","dataModel","markLineTransform","mlModel","mlType","valueDataDim","axisInfo","getAxisInfo","numCalculate","valueIndex","baseIndex","mlFrom","mlTo","containData","markLineFilter","updateSingleMarkerEndLayout","isFrom","markLineModel","mlData","fromData","__from","toData","__to","lineDrawMap","updateDataVisualAndLayout","lineColor","updateMarkerLayout","mpData","markPointModel","mpModel","symbolDrawMap","fillLabel","createdBySelf","hostSeries","__hostSeries","newOpt","modelPropName","markerOpt","markerModel","dataFormatMixin","markerModelKey","hasXOrY","hasXAndY","getPrecision","valueAxisDim","stackedOn","markerTypeCalculatorWithExtent","otherDataDim","targetDataDim","otherCoordIndex","targetCoordIndex","coordArr","indicesOfNearest","markerTypeCalculator","average","baseDataDim","dataDim","dataDimToCoordDim","parallelPreprocessor","CLICK_THRESHOLD","_api","handlers","_throttledDispatchExpand","_dispatchExpand","checkTrigger","_mouseDownPoint","mouseDownPoint","getSlidedAxisExpandWindow","behavior","axisExpandWindow","debounceNextCall","triggerOn","barPolar","radarModel","_buildAxes","_buildSplitLineAndArea","axisBuilders","indicatorAxis","showSplitLine","showSplitArea","splitLineColors","splitAreaColors","ticksRadius","getColorIndex","Ring","realSplitNumber","axesTicksPoints","prevPoints","areaOrLine","areaOrLineColorList","TimelineModel","SliderTimelineModel","checkpointStyle","controlStyle","showPlayBtn","showPrevBtn","showNextBtn","itemSize","itemGap","playIcon","stopIcon","nextIcon","prevIcon","TimelineView","TimelineAxis","axisHelper","_axis","_viewRect","_timer","_currentPointer","_labelGroup","timelineModel","mainGroup","_createGroup","labelGroup","_createAxis","_renderAxisLabel","_position","_doPlayStop","_clearTimer","labelPosOpt","playPosition","prevBtnPosition","nextBtnPosition","labelAlignMap","labelBaselineMap","rotationMap","mainLength","controlModel","showControl","controlSize","controlGap","sizePlusGap","controlPosition","xLeft","xRight","labelAlign","labelBaseline","rotateOriginX","rotateOriginY","viewBound","getBound","mainBound","labelBound","mainPosition","labelsPosition","mainBoundIdx","toBound","setOrigin","targetGroup","dimIdx","boundIdx","createScaleByModel","setExtent","_customizeScale","niceTicks","getTicks","getTicksLabels","newGroup","_renderAxisLine","lineCap","_renderAxisTick","ticks","hoverStyleModel","symbolOpt","_changeTimeline","giveSymbol","tick","isLabelIgnored","_renderControl","playState","getPlayState","makeBtn","iconPath","willRotate","rectHover","btn","makeIcon","_handlePlayClick","_renderCurrentPointer","currentIndex","getCurrentIndex","onCreate","_handlePointerDrag","_handlePointerDragend","pointerMoveTo","onUpdate","nextState","_pointerChangeTimeline","mousePos","_toAxisCoord","targetDataIndex","_findNearestTick","handleFrame","trans","axisCoord","nextIndex","objPath","noAnimation","dragging","Axis","coordExtent","_autoLabelInterval","getAxisLabelInterval","ComponentModel","autoPlay","rewind","playInterval","_names","_initData","setCurrentIndex","isIndexMax","setPlayState","dataArr","idxArr","newItem","getDataItemValue","dimType","timelineOpt","timeline","compatibleEC2","ec2Types","transferItem","has","itemStyleEmphasis","labelNormal","excludeLabelAttr","resetOption","subtarget","subtextStyleModel","disableBox","subText","subTextEl","sublink","groupRect","layoutOption","alignStyle","featureManager","ToolboxModel","featureOpt","featureName","Feature","borderRadius","showTitle","iconStyle","textContain","listComponentHelper","toolboxModel","featureOpts","features","_features","featureNames","_featureNames","processFeature","makeBackground","titleText","__title","makeFont","needPutOnTop","topOffset","oldName","featureModel","isUserFeatureName","unusable","createIconPaths","setIconStatus","iconName","iconPaths","iconStatus","iconStyleModel","icons","getIcons","titles","iconStr","lang","brushLang","Brush","_brushMode","keep","isBrushed","availableIcons","dataViewLang","dataView","BLOCK_SPLITER","ITEM_SPLITER","groupSeries","seriesGroupByCategoryAxis","otherSeries","meta","eachRawSeries","categoryAxis","other","assembleSeriesWithCategoryAxis","tables","headers","items","assembleOtherSeries","vals","argLen","getContentFromModel","trim","isTSVFormat","block","firstLine","itemSplitRegex","RegExp","parseTSVContents","tsv","tsvLines","header","parseListContents","hasName","parseContents","blockMetaList","blocks","blockMeta","axisKey","DataView","_dom","tryMergeDataOption","newData","newVal","original","readOnly","optionToContent","contentToOption","textColor","textareaColor","textareaBorderColor","buttonColor","buttonTextColor","container","getDom","removeChild","createElement","cssText","innerHTML","viewMain","textarea","htmlOrDom","getOption","isDom","appendChild","buttonContainer","buttonStyle","closeButton","refreshButton","close","Error","keyCode","which","selectionStart","selectionEnd","substring","newSeriesOptList","getSeriesByName","history","dataZoomLang","dataZoom","DATA_ZOOM_ID_BASE","DataZoom","_isZoomActive","updateZoomBtnStatus","updateBackBtnStatus","nextActive","dataZoomSelectActive","retrieveAxisSetting","zoomActive","setBatch","findDataZoom","found","dzModel","dataZoomOpts","toolboxOpt","dataZoomOpt","addForAxis","axisName","axisIndicesName","givenAxisIndices","forEachComponent","axisOpt","$fromToolbox","magicTypeLang","magicType","MagicType","tiled","seriesOptGenreator","radioTypes","generateNewSeriesTypes","newSeriesOpt","getAxesByScale","radio","currentType","restoreLang","Restore","saveAsImageLang","saveAsImage","SaveAsImage","excludeComponents","pixelRatio","$a","download","getConnectedDataURL","MouseEvent","browser","ie","navigator","msSaveOrOpenBlob","bstr","atob","u8arr","Uint8Array","blob","Blob","tab","write","evt","bubbles","cancelable","dispatchEvent","VisualMapModel","DEFAULT_BAR_BOUND","ContinuousModel","calculable","hoverLink","hoverLinkDataSize","hoverLinkOnHandle","resetExtent","resetVisual","_resetRange","resetItemSize","auto","completeVisualOption","stateList","setSelected","getSelected","findTargetDataIndices","getDataDimension","getVisualMeta","getColorVisual","oVals","getColorStopValues","iVals","stops","setStop","valueState","iIdx","oIdx","iLen","oLen","first","stopsLen","outerColors","stopValues","VisualMapView","HOVER_LINK_SIZE","HOVER_LINK_OUT","ContinuousView","_shapes","_dataInterval","_useHandle","_hoverLinkDataIndices","_hovering","doRender","_renderBar","dataRangeText","_renderEndsText","_enableHoverLinkToSeries","_enableHoverLinkFromSeries","positionGroup","endsIndex","textGap","_applyTransform","shapes","useHandle","getItemAlign","_createBarGroup","createPolygon","_dragHandle","textSize","handleThumbs","handleLabelPoints","_createHandle","_createIndicator","onDrift","onDragEnd","handleThumb","createHandlePoints","handleLabel","handleLabelPoint","indicatorLabel","indicatorLabelPoint","visualMapId","_clearHoverLinkToSeries","useHoverLinkOnHandle","_doHoverLinkToSeries","forSketch","outOfRangeHandleEnds","inRangeHandleEnds","visualInRange","_createBarVisual","visualOutOfRange","barColor","barPoints","_updateHandle","forceState","convertOpacityToAlpha","colorStops","_makeColorGradient","symbolSizes","getControllerVisual","_createBarPoints","handlesColor","sampleNumber","currValue","formatValueText","_showIndicator","cursorValue","textValue","rangeSymbol","halfHoverLinkSize","createIndicatorPoints","_hoverLinkFromSeriesMouseOver","_hideIndicator","_clearHoverLinkFromSeries","cursorPos","hoverOnBar","getHalfHoverLinkSize","hoverRange","oldBatch","newBatch","resultBatches","compressBatches","_dispatchHighDown","convertDataIndex","getSeriesByIndex","isTargetSeries","global","isRange","extentMax","visualDefault","reformIntervals","PiecewiseModel","minOpen","maxOpen","itemSymbol","selectedMode","_pieceList","mode","_mode","_determineMode","resetMethods","_resetSelected","visualTypesInPieces","visualTypes","listVisualTypes","isCategory","pieces","exists","getSelectedMapKey","hasSel","findPieceIndex","pieceIndex","pIdx","getRepresentValue","representValue","pieceInterval","curr","splitStep","cate","normalizeReverse","pieceListItem","closeList","infinityList","useMinMax","lg","retrieveVisuals","edgeSymbols","PiecewiseVisualMapView","_getItemAlign","viewData","_getViewData","endsText","_onItemClick","_enableHoverLink","indexInModelPieceList","_createItemSymbol","visualState","viewPieceList","onHoverLink","modelOption","shapeParam","newKey","eachVisual","DEFAULT_COLOR","replacableOptionKeys","dataBound","contentColor","inactiveColor","controllerVisuals","supplementVisualOption","getTargetSeriesIndices","optionSeriesIndex","isMinMax","optDim","completeSingle","defa","completeInactive","stateExist","stateAbsent","optExist","optAbsent","visualData","isValidType","completeController","symbolExists","symbolSizeExists","autoPositionValues","normalizeCssArray","targetValue","visualCluster","visualObj","defaultColor","getter","setter","mappings","prepareVisualTypes","visualMapping","__alphaForOpacity","dependsOn","realIndex","paramsSet","reals","fakeValue","layoutInput","rParam","splitList","processSingleVisualMap","prepareVisualMeta","visualMetaList","visualMeta","resultVisual","COMPONENT","Transformable","v2ApplyTransform","TransformDummy","_roamTransform","_viewTransform","_center","_zoom","doConvert","methodName","finder","_rect","transformTo","viewTransform","calculateTransform","decomposeTransform","_updateTransform","centerCoord","_updateCenterAndZoom","getDefaultCenter","rawRect","viewTransformMatrix","defaultCenter","invTransform","invert","convertToPixel","convertFromPixel","PROXIMATE_ONE_DAY","Calendar","getDimensionsInfo","_rangeInfo","_sw","_sh","_firstDayOfWeek","parseDate","getDay","setDate","_lineWidth","_getRangeInfo","_initRangeOption","weeks","whNames","cellNumbers","cellSizeSpecified","whGlobal","calendarRect","clamp","dayInfo","week","nthWeek","pointToDate","tr","br","bl","nthX","nthY","_getDateByWeeksAndDay","test","reversed","allDay","startDateNum","endDateNum","rangeInfo","nthDay","calendarList","calendarSeries","sizeCalculable","CalendarModel","hvIdx","cellWidth","cellHeight","dayCount","dataToCoordSize","dataSize","halfSize","parseGeoJson","fixNanhai","fixTextCoord","fixGeoCoord","fixDiaoyuIsland","geoFixFuncs","Geo","geoJson","specialAreas","_nameCoordMap","loadGeoJson","getReferringComponents","containCoord","regionsMap","addGeoCoord","specialArea","_regionsMap","fixFunc","getRegionByCoord","geoCoord","getGeoCoord","regionRect","union","selectableMixin","GeoModel","_optionModelMap","reduce","optionModelMap","regionOpt","geoCoordMap","Region","coordsOffsetMap","coordFix","resizeGeo","leftTop","rightBottom","boxLayoutOption","useCenterAndSize","setGeoCoords","geoList","mapData","getMap","resize","mapModelGroupBySeries","nameMapList","singleMapSeries","originRegionArr","regionsArr","properties","axisModelCreator","axisModelCommonMixin","AxisModel","getActiveState","getAxisType","ParallelAxis","mathFloor","mathCeil","Parallel","_axesMap","_axesLayout","_init","layoutAxisWithoutExpand","layoutLength","axisCount","axisNameAvailableWidth","axisLabelShow","layoutAxisWithExpand","nameTruncateMaxWidth","axisExpandWidth","axisCollapseWidth","winInnerIndices","axisExpandWindow0Pos","onBand","_updateAxesFromSeries","_makeLayoutInfo","axisBase","layoutBase","pixelDimIndex","pAxis","pLayout","axisLength","unionExtentFromData","niceScaleExtent","_layoutAxes","winSize","layoutExtent","axisExpandCount","axisExpandable","axisExpandCenter","axes","positionTable","rotationTable","axisCoordToPoint","axesMap","hasActiveSet","pointCoord","triggerArea","useJump","axisExpandRate","axisExpandDebounce","axisExpandSlideTriggerArea","axisExpandTriggerOn","parallelAxisDefault","_initDimensions","parallelAxis","coordSysList","createParallelIfNeeded","mergeAxisOptionFromParallel","parallel","hasParallelSeries","axisOption","parallelOption","AngleAxis","dataToAngle","angleToData","PolarAxisModel","polarId","polarAxisDefaultExtendedOption","RadiusAxis","Polar","_radiusAxis","_angleAxis","axisPointerEnabled","getAxes","scaleType","getTooltipAxes","baseAxes","otherAxes","dataToRadius","radiusToData","minAngle","maxAngle","dir","findAxisModel","foundAxisModel","_axisHelper","resizePolar","polarModel","updatePolarScale","setAxis","polarCreator","polarList","IndicatorAxis","IntervalScale","getScaleExtent","Radar","_indicatorAxes","getIndicatorModels","indicatorModel","indicatorIndex","closestAxis","minRadianDiff","closestAxisIdx","coodToData","viewSize","radarSeries","increaseInterval","exp10","LN10","rawExtent","fixedMin","fixedMax","setInterval","nicedSplitNumber","halfSplitNumber","radarList","axisDefault","valueAxisDefault","defaultsShow","RadarModel","nameTextStyle","showName","nameFormatter","nameGap","triggerEvent","indicatorModels","indicatorOpt","iNameTextStyle","nameLocation","indName","splitArea","SingleAxis","Single","_adjustAxis","_updateAxisTransform","coordBase","extentSum","_labelInterval","singles","generateNodeKey","_directed","_nodesMap","_edgesMap","graphProto","Node","hostGraph","Edge","isDirected","nodesMap","rawIdx","edgesMap","getEdge","breadthFirstTraverse","startNode","__visited","queue","currentNode","otherNode","degree","inDegree","outDegree","createGraphDataProxyMixin","hostName","dataName","ignoreParent","TreeNode","levelOptions","leavesOption","_nodes","leavesModel","addChild","suppressVisitSub","updateDepthAndHeight","includeSelf","ancestors","getLevelModel","getLeavesModel","getNodeByName","clearItemLayouts","dataRoot","treeOptions","listData","dimMax","buildHierarchy","DATAS","MAIN_DATA","linkAll","TRANSFERABLE_METHODS","transferInjection","cloneShallowInjection","CHANGABLE_METHODS","changeInjection","assert","isMainData","linkSingle","getLinkedData","STACK_PREFIX","getSeriesStackId","getAxisKey","stackId","widthAndOffsets","doCalBarWidthAndOffset","calBarWidthAndOffset","barSeries","seriesInfoList","barCategoryGap","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","maxWidth","barGapPercent","autoWidth","column","lastColumn","widthSum","barWidthAndOffset","getSeriesByType","lastStackCoords","lastStackCoordsOrigin","columnLayoutInfo","columnOffset","columnWidth","valueAxisStart","onZero","lastCoord","lastCoordOrigin","barLayoutPolar","calRadialBar","valueMax","valueMin","stackCoord","doneCallback","elExistsMap","keysFunction","sortKeysFunction","keyFunction","mapObject","valuesByKey","keyValue","entriesMap","sortKeyFunction","CATEGORY_DEFAULT_VISUAL_INDEX","_normalizeData","normalizers","visualHandler","visualHandlers","_doMap","normalizeVisualRange","preprocessForPiecewise","preprocessForSpecifiedCategory","normalized","makeApplyVisual","isNormalized","doMapCategory","out","returnRGBArray","fastLerp","parsedVisual","linear","piecewise","getSpecifiedVisual","doMapFixed","colorHue","makePartialColorVisualHandler","colorLightness","makeDoMap","symbolCfg","doMapToArray","hasSpecialVisual","originIndex","categoryMap","visualArr","setVisualToOption","doNotNeedPair","applyValue","sourceExtent","littleThan","addVisualHandler","isPrimary","newVisual","hasVisual","types","type1","type2","visualType1","visualType2","findClosestWhenOutside","possibleI","pieceValue","updatePossible","newAbs","hasKeys","createMappings","__hidden","Creater","keys","scope","visualTypesMap","eachItem","valueOrIndex","rawDataItem","isBuffer","isSlowBuffer","readFloatLE","_isBuffer","encoding","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","Diff","buildValues","newArr","oldArr","componentPos","componentLen","newPos","oldPos","removed","added","clonePath","equals","newLen","oldLen","editLength","maxEditLength","bestPath","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","canAdd","canRemove","pushComponent","commonCount","tokenize","arrayDiff","_core","util","zrLog","ZImage","ZText","GradientManager","ClippathManager","svgPath","svgImage","svgText","parseInt10","getSvgProxy","checkParentAvailable","insertAfter","prevSibling","nextSibling","insertBefore","prepend","firstChild","getTextSvgElement","displayable","__textSvgEl","getSvgElement","__svgEl","SVGPainter","_opts","svgRoot","setAttribute","gradientManager","clipPathManager","viewport","_svgRoot","_viewport","_visibleList","createMethodNotSupport","getViewportRoot","getViewportRootOffset","viewportRoot","offsetLeft","refresh","getDisplayList","_paintList","markAllUnused","visibleList","listLen","newVisibleList","svgProxy","prevSvgElement","svgElement","textSvgElement","addWithoutUpdate","markUsed","removeUnused","_getDefs","isForceCreating","defs","getElementsByTagName","display","_getSize","_width","_height","viewportStyle","whIdx","cwh","plt","prb","stl","pathToSvg","outerHTML","svgURI","createElementNS","PathProxy","textHelper","CMD","arrayJoin","NONE","mathRound","EPSILON","round4","isAroundZero","pathHasFill","isText","pathHasStroke","setTransform","svgEl","attrXLink","setAttributeNS","bindStyle","getAttribute","strokeWidth","textStrokeWidth","strokeScale","lineDashOffset","miterLimit","pathDataToString","dataLength","cmd","cmdStr","nData","L","Q","C","A","rx","ry","theta","dTheta","psi","dThetaPositive","isCircle","Z","R","createPathProxy","__dirtyPath","pathStr","svgTextDrawRectText","HTMLImageElement","src","dw","dh","__imageSrc","tmpRect","normalizeTextStyle","textSvgEl","transformText","transformCoordToGlobal","textDistance","DEFAULT_FONT","getVerticalAlignForSvg","lineHeight","adjustTextPositionOnRect","textPadding","textLines","nTextLines","textAnchor","__text","__textFont","tspanList","__tspanList","tspan","createTextNode","drawRectText","Definable","updateDom","__clipPaths","clipPaths","clipPathEl","getDefs","dom","nextId","mul","pathEl","cloneNode","that","_textDom","MARK_UNUSED","MARK_USED","tagNames","markLabel","_tagNames","_markLabel","addDom","removeDom","getDoms","doms","tagName","tags","fillOrStroke","colors","_zrender","registerPainter","Painter","vmlCore","VMLPainter","initVML","vmlViewport","vmlRoot","_vmlRoot","_vmlViewport","oldDelFromStorage","delFromStorage","oldAddToStorage","addToStorage","onRemove","onAdd","_firstPaint","__alreadyNotVisible","beforeBrush","brushVML","afterBrush","_getWidth","_getHeight","vmlViewportStyle","clientWidth","paddingLeft","paddingRight","paddingTop","doCreateNode","urn","win","vmlInited","doc","createNode","namespaces","zrvml","styleSheets","createStyleSheet","addRule","_vector","colorTool","RectText","Displayable","Gradient","comma","imageTransformPrefix","Z2","ZLEVEL_BASE","initRootElStyle","coordsize","coordorigin","encodeHtmlAttribute","rgb2Str","g","append","getZIndex","setColorAndOpacity","colorArr","getColorAndAlpha","updateFillNode","zrEl","gradientType","focus","expansion","rectWidth","rectHeight","cs1","cs2","colorAndAlphaList","colorAndAlpha","color1","color2","opacity1","opacity2","focusposition","updateStrokeNode","dashstyle","updateFillAndStroke","vmlEl","isFill","nPoint","xi","yi","x3","y3","sx","_vmlEl","needTransform","strokeEl","det","weight","toStatic","zIndex","removeRectText","appendRectText","isImage","ow","oh","_imageSrc","_imageWidth","_imageHeight","imageRuntimeStyle","runtimeStyle","oldRuntimeWidth","oldRuntimeHeight","sWidth","sHeight","hasCrop","vmlElStyle","hasRotation","scaleX","scaleY","p3","maxX","maxY","transformFilter","imageEl","_imageEl","cropEl","_cropEl","imageELStyle","tmpImage","overflow","cropElStyle","filterStr","textMeasureEl","DEFAULT_STYLE_NORMAL","fontStyleCache","fontStyleCacheCount","MAX_FONT_CACHE_SIZE","fontEl","getFontStyle","fontString","variant","fontVariant","family","$override","body","ex","offsetWidth","fromTextEl","rich","contentBlock","parseRichText","tokens","textLine","adjustTextX","adjustTextY","textPathEl","skewEl","textVmlEl","_textVmlEl","textpathok","textVmlElStyle","string"],"sourceRoot":""}