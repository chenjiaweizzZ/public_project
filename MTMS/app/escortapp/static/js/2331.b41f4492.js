"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2331],{30908:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.btn.active,expression:"btn.active"}]},[t._t("default")],2)},a=[],n={props:{defaultCls:{type:String,default:"tab"},title:{type:String,require:!0},active:{type:Boolean,default:!1},className:{type:String,default:""},data:{},bus:{}},data(){return{btn:{title:"",active:!1}}},watch:{title:function(t){this.btn.title=t}},created(){this.btn.title=this.title,this.btn.active=!!this.active,this.btn.data=this.data},mounted(){this.bus.$emit("addtabbtn",this.btn)},computed:{}},r=n,l=i(1001),o=(0,l.Z)(r,s,a,!1,null,null,null),c=o.exports},53003:function(t,e,i){i.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs-container",class:{"g-wrapper":"pin"===t.mode}},[e("div",{staticClass:"tabs",class:t.className},t._l(t.tabBtns,(function(i,s){return e("div",{staticClass:"tab",class:{active:i.active},attrs:{tapmode:""},on:{click:function(e){return t.activeTab(s)}}},[e("label",[t._v(t._s(i.title))]),s<=0?[e("div",{staticClass:"tab-current-bg"})]:t._e()],2)})),0),e("div",{staticClass:"tabs-content",class:t.contentclass},[t._t("default")],2)])},a=[],n=(i(70560),i(77387)),r=i.n(n),l={props:{active:{type:Number,default:0},type:{type:String,require:!0},shape:{type:String,default:""},className:{type:String,default:""},contentClassName:{type:String,default:""},bus:{},mode:{type:String,default:""}},data(){return{tabBtns:[],activeSS:this.active}},events:{},computed:{contentclass:function(){return this.contentClassName+" "+("pin"===this.mode?"g-main":"")}},components:{},created(){let t=!0;this.bus.$on("addtabbtn",(e=>{this.tabBtns.push(e);for(let t=0;t<this.tabBtns.length;t++)this.tabBtns[t].active&&(this.activeSS=t);t&&0===this.activeSS&&(t=!1,this.$emit("change-tab",this.tabBtns[0])),this.$nextTick((function(){this.moveBg(this.activeSS)}))}))},mounted(){},watch:{activeSS:function(t,e){console.log(t,789),this.moveBg(t),this.$emit("change-tab",this.tabBtns[t])}},methods:{activeTab:function(t){this.activeSS=t;for(let e=0;e<this.tabBtns.length;e++)this.tabBtns[e].active=t===e},moveBg(t){let e=r()(this.$el),i=e.find(".tabs"),s=i.find(`.tab:eq(${t})`),a=i.find(".tab-current-bg"),n=s.find("label"),l=a.closest(".tab").offset(),o=n.offset(),c=(o&&o.left||0)-(l&&l.left||0);a.css({width:n.outerWidth(),"-webkit-transform":"translate3d("+c+"px,0,0)",transform:"translate3d("+c+"px,0,0)"})}}},o=l,c=i(1001),d=(0,c.Z)(o,s,a,!1,null,null,null),u=d.exports},32331:function(t,e,i){i.r(e),i.d(e,{default:function(){return b}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]),t._v(" 出科考核 "),e("div",{attrs:{slot:"headerRight"},slot:"headerRight"},[t.roleAuthority["app:outDeptTest"]?e("button",{staticStyle:{"font-size":"0.3rem"},on:{click:t.createActivity}},[t._v("创建")]):t._e()])]),e("div",{staticClass:"g-main"},[e("van-tabs",{staticClass:"reset",attrs:{active:t.vantactive}},[e("van-tab",{attrs:{title:"待考核"}},[e("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(0)}},model:{value:t.list[0].refreshing,callback:function(e){t.$set(t.list[0],"refreshing",e)},expression:"list[0].refreshing"}},[e("van-list",{attrs:{finished:t.list[0].finished,"loading-text":t.text},on:{load:function(e){return t.onLoad(0)}},model:{value:t.list[0].loading,callback:function(e){t.$set(t.list[0],"loading",e)},expression:"list[0].loading"}},t._l(t.list[0].items,(function(i,s){return e("div",{key:s+1,staticClass:"list-wrap"},[e("div",{staticClass:"h3"},[t._v(t._s(i.examTypeName))]),e("div",{staticClass:"wrap-c"},[e("ul",{on:{click:function(e){return t.extranceDetail(i)}}},[e("li",[e("div",{staticClass:"tit"},[t._v("科室：")]),e("div",[t._v(t._s(t.deptnameString(i.deptIdNameVoList)))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核项目：")]),e("div",[t._v(t._s(i.turnExamItem))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考官：")]),e("div",[t._v(t._s(i.turnExamTeachers))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核学员：")]),e("div",[t._v(t._s(i.studentCount))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核时间：")]),e("div",[t._v(t._s(i.turnTime))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核地点：")]),e("div",[t._v(t._s(i.place))])])]),e("div",{staticClass:"action"},[t.isOwn(i.createUid)&&t.roleAuthority["app:outDeptTest"]?e("button",{staticClass:"edit",on:{click:function(e){return e.stopPropagation(),t.editCreate(i,i.editFlag)}}},[t._v("编辑")]):t._e(),t.isOwn(i.createUid)&&1==i.deleteFlag?e("button",{staticClass:"delete",on:{click:function(e){return e.stopPropagation(),t.deleteCreate(i,0,s)}}},[t._v("删除")]):t._e()])])])})),0)],1)],1),e("van-tab",{attrs:{title:"已考核"}},[e("van-pull-refresh",{on:{refresh:function(e){return t.onRefresh(1)}},model:{value:t.list[1].refreshing,callback:function(e){t.$set(t.list[1],"refreshing",e)},expression:"list[1].refreshing"}},[e("van-list",{attrs:{finished:t.list[1].finished,error:t.list[1].error},on:{"update:error":function(e){return t.$set(t.list[1],"error",e)},load:function(e){return t.onLoad(1)}},model:{value:t.list[1].loading,callback:function(e){t.$set(t.list[1],"loading",e)},expression:"list[1].loading"}},t._l(t.list[1].items,(function(i){return e("div",{staticClass:"list-wrap"},[e("div",{staticClass:"h3"},[t._v(t._s(i.examTypeName))]),e("div",{staticClass:"wrap-c"},[e("ul",{on:{click:function(e){return t.extranceDetail(i,!0)}}},[e("li",[e("div",{staticClass:"tit"},[t._v("科室：")]),e("div",[t._v(t._s(t.deptnameString(i.deptIdNameVoList)))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核项目：")]),e("div",[t._v(t._s(i.turnExamItem))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考官：")]),e("div",[t._v(t._s(i.turnExamTeachers))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核学员：")]),e("div",[t._v(t._s(i.studentCount))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核时间：")]),e("div",[t._v(t._s(i.turnTime))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核地点：")]),e("div",[t._v(t._s(i.place))])])]),e("div",{staticClass:"action"},[t.isOwn(i.createUid)&&t.roleAuthority["app:outDeptTest"]?e("button",{staticClass:"edit",on:{click:function(e){return e.stopPropagation(),t.editCreate(i,i.editFlag)}}},[t._v("编辑")]):t._e()])])])})),0)],1)],1)],1)],1)],1)},a=[],n=(i(70560),i(3032)),r=i(77387),l=i.n(r),o=i(22760),c=i(30908),d=i(53003),u=i(68934),h=i(63822);let v=new n["default"];var g={name:"list",components:{cHeader:o.Z,cTab:c.Z,cTabs:d.Z},data(){return{bus:v,vantactive:0,count:0,type:1,iscreate:!1,userRole:"",text:"加载中",list:[{items:[],refreshing:!1,loading:!1,error:!1,finished:!1,pagenum:0},{items:[],refreshing:!1,loading:!1,error:!1,finished:!1,pagenum:0}]}},mounted(){this.getRoleAuthority(["app:outDeptTest"]),this.registerToNative("goBack",(function(t){self.back()})),null!=sessionStorage.getItem("vantactive")?this.vantactive=sessionStorage.getItem("vantactive"):this.vantactive=0},computed:{...(0,h.rn)(["roleAuthority"])},methods:{...u.Z,...(0,h.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast","getRoleAuthority"]),deptnameString(t){return t.map((t=>t.deptName)).join("、")},isOwn(t){return t==l().cookie("uid")},deleteCreate(t,e,i){let s=this;this.showConfirm({title:"温馨提示",msg:"确定删除此出科考核？",theme:"modal-confirm modal-whte",cancel:function(){},ok:function(){s.list[e].loading=!0,s.text="正在删除",s.post("/turnExamInfo/deleteturnexam",{command:"turnExamInfo/deleteturnexam",sessionid:l().cookie("sid"),loginid:l().cookie("uid"),id:t.id}).done((t=>{0==t.errcode?s.getInfo(s.list[e],e).then((t=>{s.list[e].loading=!1,s.list[e].items.splice(i,1)})):s.$toast(t.errdesc)}))}})},editCreate(t,e){this.$router.push({name:"extranceExamcreate",query:{id:t.id,editflag:e}})},back(){window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex"},extranceDetail(t,e){sessionStorage.setItem("vantactive",this.vantactive),this.$router.push({name:"examiner",query:{id:t.id,info:JSON.stringify(t),key:t.key,editflag:t.editFlag,endtime:t.endTime,starttime:t.startTime,examfinished:e}})},changeTab(t){this.type=t.data,sessionStorage.setItem("urlFrom",this.type),1!==Number(this.type)?this.showEvaluate=!1:this.showEvaluate=!0},onRefresh(t){console.log(t);const e=this.list[t];e.pagenum=1,e.refreshing=!0,this.getInfo(e,t).then((t=>{console.log(t),console.log(e),e.refreshing&&(e.refreshing=!1,e.items=t.beanlist,this.userRole=t.userRole)}))},getInfo(t,e){return t.loading=!0,new Promise(((i,s)=>{this.post("/turnExamInfo/queryTurnExamListByRole",{command:"turnExamInfo/queryTurnExamListByRole",sessionid:l().cookie("sid"),loginid:l().cookie("uid"),uid:l().cookie("uid"),status:e,pagesize:10,pagenum:t.pagenum}).done((e=>{if(console.log(e),0==e.errcode){if(console.log(e),!e.beanlist)return t.loading=!1,void(t.finished=!0);i(e),t.loading=!1}}))}))},createActivity(){this.$router.push({name:"extranceExamcreate",query:{}})},onLoad(t){console.log("13141414",t);const e=this.list[t];this.vantactive=t,e.pagenum++,e.loading=!0,this.getInfo(e,t).then((t=>{console.log(t),e.loading&&(e.loading=!1),(t.beanlist.length<10||null==t.beanlist)&&(e.finished=!0),e.items=e.items.concat(t.beanlist)}))}}},m=g,f=i(1001),p=(0,f.Z)(m,s,a,!1,null,"c385c2fc",null),b=p.exports},22760:function(t,e,i){i.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header",attrs:{id:"header"}},[t._t("headerLeft",(function(){return[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]})),e("div",{staticClass:"header-center-blank"}),e("div",{staticClass:"header-center"},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2),t._t("headerRight")],2)},a=[],n=(i(77387),i(68934)),r=i(63822),l={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,r.rn)(["loginUser"]),methods:{...(0,r.nv)(["showAlert","showLoading","hideLoading","toast"]),...n.Z,back(){this.$router.go(-1)}}},o=l,c=i(1001),d=(0,c.Z)(o,s,a,!1,null,null,null),u=d.exports},88579:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=2331.b41f4492.js.map