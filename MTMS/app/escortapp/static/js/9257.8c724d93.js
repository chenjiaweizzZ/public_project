"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[9257],{59257:function(t,s,a){a.r(s),a.d(s,{default:function(){return p}});var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"rotation_exam"},[s("div",{staticClass:"valuated-info"},[s("div",{staticClass:"info-top"},[s("span",{staticClass:"line-before"}),s("span",{staticClass:"info-name"},[t._v("学员:"+t._s(t.info.name)+"  "+t._s(t.info.username))]),t.info.gradeTxt?s("span",{staticClass:"turn-grade"},[t._v(t._s(t.info.gradeTxt))]):t._e()]),s("info",{staticClass:"info-bottom"},[s("span",[t._v("轮转科室:"+t._s(t.info.deptName))]),s("span",{staticStyle:{width:"20px"}}),s("span",[t._v("培训专业:"+t._s(t.info.profIdTxt))])])],1),s("div",{staticClass:"exam-content"},[t._l(t.examList,(function(a,e){return s("div",{key:e,staticClass:"exam-content-item"},[s("div",{staticClass:"exam-content-title"},[t._v("要求："+t._s(a.content))]),s("div",{staticClass:"exam-content-reality"},[s("span",[t._v(" 实际:"+t._s(t.rtReality(a.associatedBusiness,a.completeness))+" ")]),3==a.associatedBusiness&&JSON.parse(a.completeness).length?s("span",{staticClass:"btnBox"},[s("span",{staticClass:"viewTitle",on:{click:function(s){return t.detailShow(a)}}},[t._v("查看详情")]),s("span",{staticClass:"arrow-right"})]):t._e()]),s("div",{staticClass:"exam-content-choice"},[s("van-radio-group",{attrs:{direction:"horizontal"},model:{value:a.auditRes,callback:function(s){t.$set(a,"auditRes",s)},expression:"item.auditRes"}},[s("van-radio",{attrs:{name:1}},[t._v("是")]),s("span",{staticStyle:{width:"41px"}}),s("van-radio",{attrs:{name:0}},[t._v("否")])],1)],1)])})),s("div",{staticClass:"exam-exam"},[s("div",{staticClass:"eetop"},[t._v("整体审核意见")]),s("div",{staticClass:"eemiddle"},[t._v("是否符合出科条件")]),s("van-radio-group",{attrs:{direction:"horizontal"},model:{value:t.examResult,callback:function(s){t.examResult=s},expression:"examResult"}},[s("van-radio",{attrs:{name:1}},[t._v("是")]),s("span",{staticStyle:{width:"41px"}}),s("van-radio",{attrs:{name:0}},[t._v("否")])],1)],1)],2),s("div",{staticClass:"btn-row"},[s("div",{staticClass:"xx-line"}),s("div",{staticClass:"btn-rowa"},[s("span",{staticClass:"btnLeft"},[s("van-button",{attrs:{type:"default"},on:{click:function(s){return t.viewExamBefore()}}},[t._v("审核记录")])],1),s("span",{staticClass:"btnMiddle"}),s("span",{staticClass:"btnRight"},[s("van-button",{attrs:{type:"info",disabled:t.rtSubmit()},on:{click:function(s){return t.submit()}}},[t._v("提交")])],1)])]),s("van-dialog",{attrs:{title:"详情",confirmButtonColor:"#2685D2"},model:{value:t.show,callback:function(s){t.show=s},expression:"show"}},[s("div",{staticClass:"outList"},t._l(t.showList,(function(a,e){return s("div",{key:e,staticClass:"outListItem"},[s("div",{staticClass:"outListItemL"},[s("span",{staticClass:"outListItemLeft"},[t._v(t._s(a.name))]),a.auditStatus?s("span",{staticClass:"outListItemRight"},[s("span",{staticClass:"itemScore"},[t._v(t._s(a.score))]),s("span",{staticClass:"itemFen"},[t._v("分")])]):s("span",{staticClass:"outListItemRightD"},[t._v(" 待评分 ")])]),a.auditStatus?s("div",{staticClass:"outListItemAu"},[t._v("审核人:"+t._s(a.auditorName))]):t._e(),s("div",{staticClass:"x-line"})])})),0)])],1)},i=[],n=(a(70560),a(88848)),o=a(77387),r=a.n(o),d=a(68934),l={name:"rotation_exam",data(){return{info:{},examList:[],examResult:"",show:!1,showList:[]}},mounted(){this.getExamList()},methods:{...d.Z,getExamList(){let t=this;t.post(`/base/turnexamaudititem/getStdTurnExamAuditItem?turnPlanDetailId=${Number(this.$route.query.id)}`).done((s=>{200==s.resCode&&(t.info=s.model,t.examList=s.model.turnExamAuditItemVoList.map((t=>({content:t.content,associatedBusiness:t.associatedBusiness,completeness:t.completeness,auditRes:""}))))}))},rtReality(t,s){return 1==t||2==t?"":3==t?"已提交"+JSON.parse(s).length+"份":""},submit(){let t=this,s={turnPlanDetailId:this.$route.query.id,auditRes:t.examList,auditStatus:t.examResult,auditUserId:r().cookie("uid")};t.post("/base/turnexamaudit/add",s).done((t=>{200==t.resCode?((0,n.Z)("提交成功"),this.$router.push({name:"fdRotation_secretary"})):(0,n.Z)("提交失败")}))},rtSubmit(){let t=this,s=!1;return t.examList.forEach((t=>{""===t.auditRes&&(s=!0)})),""===t.examResult&&(s=!0),s},viewExamBefore(){let t,s=this;s.info.turnExamAuditItemVoList.forEach((s=>{3==s.associatedBusiness&&(t=s)})),console.log("item",t),s.info.latestTurnExamAuditId?this.$router.push({name:"fdRotation_OutExamDetail",query:{id:s.info.latestTurnExamAuditId,oriId:s.$route.query.id,ids:t.completeness}}):this.$router.push({name:"fdRotation_OutExamDetail",query:{id:"",name:s.info.name,code:s.info.username,turngradeTxt:s.info.gradeTxt,deptName:s.info.deptName,profIdTxt:s.info.profIdTxt}})},detailShow(t){let s=this;s.post("/base/largeMedicalRecord/listByIds",{ids:JSON.parse(t.completeness).map((t=>t.id))}).done((t=>{200==t.resCode&&(s.showList=t.model)})),s.show=!0}}},u=l,c=a(1001),m=(0,c.Z)(u,e,i,!1,null,"bd4ce970",null),p=m.exports}}]);
//# sourceMappingURL=9257.8c724d93.js.map