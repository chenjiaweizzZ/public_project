{"version":3,"file":"static/js/8878.84e32537.js","mappings":"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","sources":["webpack://app/./src/views/action_plan/history.vue","webpack://app/src/views/action_plan/history.vue","webpack://app/./src/views/action_plan/history.vue?1def","webpack://app/./src/views/action_plan/history.vue?f911"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"g-wrapper\"},[_c('c-header',[_c('div',{attrs:{\"slot\":\"headerLeft\"},slot:\"headerLeft\"},[_c('a',{staticClass:\"header-back-btn\",on:{\"click\":function($event){return _vm.back()}}},[_c('img',{attrs:{\"src\":require(\"../../assets/images/icon_fanhui.png\")}})])]),_vm._v(\" 查看历史 \")]),_c('ul',{staticClass:\"filter\"},[_c('li',{class:{'active':_vm.typeconfig.show},on:{\"click\":function($event){_vm.typeconfig.show = _vm.typeconfig.show ? false : true}}},[_vm._v(\"活动类型\")]),_c('li',{class:{'active':_vm.timeconfig.show},on:{\"click\":function($event){_vm.timeconfig.show = _vm.timeconfig.show ? false : true}}},[_vm._v(\"活动日期\")]),_c('li',{staticClass:\"noselect\",on:{\"click\":_vm.noraml}},[_vm._v(\"默认\")])]),_c('select-list',{attrs:{\"config\":_vm.typeconfig,\"data-list\":_vm.typelist},on:{\"confirm\":_vm.typeselect}}),_c('c-timepicker',{attrs:{\"config\":_vm.timeconfig,\"year\":_vm.year,\"month\":_vm.month},on:{\"confirm\":_vm.timeselect}}),_c('div',{class:!_vm.iscontent ? 'g-main' : 'g-main noneContent'},[_c('load-more',{attrs:{\"loading-text\":_vm.loadingText,\"infinite-loading\":_vm.isgetmore,\"to-top\":_vm.istotop},on:{\"getmore\":function($event){return _vm.init()}}},[_c('actionplanSteps',{attrs:{\"dataList\":_vm.data,\"ishistory\":_vm.ishistory}})],1)],1),_c('no-content',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.iscontent),expression:\"iscontent\"}]})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"g-wrapper\">\r\n        <c-header>\r\n            <div slot=\"headerLeft\">\r\n                <a @click=\"back()\" class=\"header-back-btn\">\r\n                    <img src=\"../../assets/images/icon_fanhui.png\" />\r\n                </a>\r\n            </div>\r\n            查看历史\r\n        </c-header>\r\n        <ul class=\"filter\">\r\n            <li :class=\"{'active':typeconfig.show}\" @click=\"typeconfig.show = typeconfig.show ? false : true\">活动类型</li>\r\n            <li :class=\"{'active':timeconfig.show}\" @click=\"timeconfig.show = timeconfig.show ? false : true\">活动日期</li>\r\n            <li class=\"noselect\" @click=\"noraml\">默认</li>\r\n        </ul>\r\n        <!--选择类型-->\r\n        <select-list :config = 'typeconfig' :data-list=\"typelist\" @confirm = \"typeselect\">\r\n\r\n        </select-list>\r\n        <!--选择日期-->\r\n        <!--选择要看的时间-->\r\n        <c-timepicker :config=\"timeconfig\" @confirm=\"timeselect\" :year=\"year\" :month=\"month\">\r\n\r\n        </c-timepicker>\r\n        <div :class=\"!iscontent ? 'g-main' : 'g-main noneContent'\">\r\n            <load-more :loading-text=\"loadingText\" :infinite-loading ='isgetmore' :to-top ='istotop' @getmore = 'init()'>\r\n            <!--列表-->\r\n            <!-- <actionplan :data-list=\"data\" :ishistory=\"ishistory\" @confirm=\"init()\">\r\n\r\n            </actionplan> -->\r\n            <actionplanSteps :dataList=\"data\" :ishistory=\"ishistory\"></actionplanSteps>\r\n            </load-more>\r\n        </div>\r\n\r\n        <no-content v-show=\"iscontent\"></no-content>\r\n    </div>\r\n</template>\r\n<script>\r\n    import methods from '../../methods';\r\n    import { mapState, mapActions } from 'vuex'\r\n    import cHeader from '../header';\r\n    import actionplan from './main';\r\n    import actionplanSteps from '../../components/actionplan-steps';\r\n    import selectList from '../../components/select';\r\n    import cTimepicker from '../../components/timepicker';\r\n    import loadMore from '../../components/load-more';\r\n    import noContent from '../no_content.vue';\r\n    export default {\r\n        components:{\r\n            cHeader,\r\n            actionplan,\r\n            noContent,\r\n            selectList,\r\n            cTimepicker,\r\n            loadMore,\r\n            actionplanSteps\r\n        },\r\n        data () {\r\n            return {\r\n                istotop:false,\r\n                reqnum:10,\r\n                isgetmore:true,\r\n                iscontent:false,\r\n                loadingText:'加载中~',\r\n                ishistory:true,\r\n                data:[],\r\n                type:'',//需要查询的类型\r\n                selecttime:'',//需要查询的时间\r\n                timeconfig:{\r\n                    show:false,\r\n                    istime:false,\r\n                    custom:true\r\n                },\r\n                year:[2017,2027],\r\n                month:[1,12],\r\n                typeconfig:{\r\n                    show:false,\r\n                    label:'name',\r\n                    fixedvalue:'1.5rem',\r\n                    textposition:'left'\r\n                },\r\n                typelist:[],\r\n            }\r\n        },\r\n        watch:{\r\n            'type':function(val,oldvalue){\r\n                if(val!==oldvalue){\r\n                    this.setActions({k:'historytype',v:this.type});\r\n                }\r\n            },\r\n            'selecttime':function(val,oldvalue){\r\n                if(val!==oldvalue){\r\n                    this.setActions({k:'historydate',v:this.selecttime});\r\n                }\r\n            },\r\n            'reqnum':function(val,oldvalue){\r\n                if(val!==oldvalue){\r\n                    this.setActions({k:'historyreqnum',v:this.reqnum});\r\n                }\r\n            },\r\n        },\r\n        filters: {\r\n\r\n        },\r\n        computed:{\r\n            ...mapState([\r\n                'actionfilters'\r\n            ]),\r\n        },\r\n        created () {\r\n            this.selecttime = this.actionfilters.historydate ;\r\n            this.type = this.actionfilters.historytype ;\r\n            this.reqnum = this.actionfilters.historyreqnum ;\r\n        },\r\n        mounted () {\r\n            let self = this;\r\n            this.init();\r\n            this.inittypelist();\r\n            this.registerToNative('goBack', function (data) {\r\n                self.back()\r\n            });\r\n        },\r\n        methods:{\r\n            ...methods,\r\n            ...mapActions([\r\n                'showAlert',\r\n                'showConfirm',\r\n                'showLoading',\r\n                'hideLoading',\r\n                'toast',\r\n                'setActions'\r\n            ]),\r\n            init(){\r\n                let self=this;\r\n                this.isgetmore = false ;\r\n                this.post('/actionplan/listactionplan',{\r\n                    command: 'actionplan/listactionplan',\r\n                    sessionid:$.cookie('sid'),\r\n                    loginid:$.cookie('uid'),\r\n                    uid:$.cookie('uid'),\r\n                    clientflag:1,//PC or APP\r\n                    type:self.type,//活动类型\r\n                    status:'',//单独搜索某个状态的教学计划\r\n                    statuslist:[2],//默认页面需要显示未开始和进行中\r\n                    starttime:'',//计划的开始时间（APP暂未用到）\r\n                    endtime:'',//计划的结束时间（APP暂未用到）\r\n                    yearmonth:self.selecttime,//年月（APP暂未用到）\r\n                    beforemonthindex:'',//APP筛选前几个月的\r\n                    isself:1,//查询是否与我相关 true  or  false\r\n                    orderflag:1,\r\n                    historyflag:1,\r\n                    page:1,\r\n                    reqnum:self.reqnum\r\n                }).done((data)=>{\r\n                    if(data && data.errcode ==0){\r\n                        self.isgetmore = true ;\r\n                        if(data.result.beanlist.length > 0){\r\n                            self.iscontent = false;\r\n                            self.data = data.result.beanlist;\r\n                            if(self.data.length < self.reqnum){\r\n                                self.isgetmore = false ;\r\n                                self.loadingText = '没有更多啦~'\r\n                            }\r\n                            self.reqnum += 10 ;\r\n                        }else {\r\n                            self.data = []\r\n                            self.iscontent = true\r\n                        }\r\n                    }else if(data.errdesc){\r\n                        self.toast(data.errdesc)\r\n                    }else {\r\n                        self.toast('服务器错误，请联系管理员。')\r\n                    }\r\n                })\r\n            },\r\n            inittypelist(){//获取活动类型\r\n                let self=this;\r\n                this.post('/turnbaseinfo/turnbaseinfolevel',{\r\n                    command: 'turnbaseinfo/turnbaseinfolevel',\r\n                    sessionid:$.cookie('sid'),\r\n                    loginid:$.cookie('uid'),\r\n                    code:'teachtype',\r\n                }).done((data)=>{\r\n                    if(data&&data.errcode ==0){\r\n                        let _typelist = JSON.parse(data.baseinfolevellist);\r\n                        _typelist.unshift({'name':'全部','id':''});\r\n                        self.typelist = _typelist\r\n                    }else if(data.errdesc){\r\n                        self.toast(data.errdesc)\r\n                    }else {\r\n                        self.toast('服务器错误，请联系管理员。')\r\n                    }\r\n                })\r\n            },\r\n            timeselect(data){\r\n                this.timeconfig.show = false;\r\n                this.istotop = !this.istotop;\r\n                this.reqnum = 10 ;\r\n                this.selecttime = data ;\r\n                this.init();\r\n            },\r\n            typeselect(data){\r\n                this.istotop = !this.istotop;\r\n                this.typeconfig.show = false;\r\n                this.reqnum = 10 ;\r\n                this.type = data.key;\r\n                this.init();\r\n            },\r\n            noraml(){\r\n                this.reqnum = 10 ;\r\n                this.istotop = !this.istotop;\r\n                this.selecttime = '' ;\r\n                this.type = '' ;\r\n                this.init();\r\n            },\r\n            back(){\r\n                this.setActions({k:'historytype',v:''});\r\n                this.setActions({k:'historydate',v:''});\r\n                this.$router.push({\r\n                    name: 'fdAction_list',\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .noneContent {\r\n        display: none;\r\n    }\r\n    .g-main {\r\n        padding-top: 8px;\r\n    }\r\n    ul.filter {\r\n        display: flex;\r\n        height: .74rem;;\r\n        background: #fff;\r\n        color: #666;\r\n        /* border-bottom: 1px solid #aaa; */\r\n        li {\r\n            flex: 1;\r\n            width: 0;\r\n            text-align: center;\r\n            line-height: .74rem;\r\n        }\r\n        li.noselect {\r\n            color: #3499db;\r\n        }\r\n        li.noselect:after {\r\n            background: none;\r\n        }\r\n        li:after {\r\n            content: '';\r\n            display: inline-block;\r\n            width: .2rem;\r\n            height: .2rem;\r\n            background: url(\"../../assets/images/xia-jiantou.png\") 0 0 no-repeat;\r\n            background-size: 100% 100%;\r\n            margin-left: .1rem;\r\n        }\r\n        li.active {\r\n            color: #3499db;\r\n        }\r\n        li.active:after {\r\n            content: '';\r\n            display: inline-block;\r\n            width: .2rem;\r\n            height: .2rem;\r\n            background: url(\"../../assets/images/shang-jiantou.png\") 0 0 no-repeat;\r\n            background-size: 100% 100%;\r\n            margin-left: .1rem;\r\n        }\r\n    }\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./history.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./history.vue?vue&type=template&id=b2b2fe3a&scoped=true\"\nimport script from \"./history.vue?vue&type=script&lang=js\"\nexport * from \"./history.vue?vue&type=script&lang=js\"\nimport style0 from \"./history.vue?vue&type=style&index=0&id=b2b2fe3a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2b2fe3a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","on","$event","back","require","_v","class","typeconfig","show","timeconfig","noraml","typelist","typeselect","year","month","timeselect","iscontent","loadingText","isgetmore","istotop","init","data","ishistory","directives","name","rawName","value","expression","staticRenderFns","components","cHeader","actionplan","noContent","selectList","cTimepicker","loadMore","actionplanSteps","reqnum","type","selecttime","istime","custom","label","fixedvalue","textposition","watch","val","oldvalue","setActions","k","v","filters","computed","mapState","created","actionfilters","historydate","historytype","historyreqnum","mounted","self","inittypelist","registerToNative","methods","mapActions","post","command","sessionid","$","cookie","loginid","uid","clientflag","status","statuslist","starttime","endtime","yearmonth","beforemonthindex","isself","orderflag","historyflag","page","done","errcode","result","beanlist","length","errdesc","toast","code","_typelist","JSON","parse","baseinfolevellist","unshift","key","$router","push","component"],"sourceRoot":""}