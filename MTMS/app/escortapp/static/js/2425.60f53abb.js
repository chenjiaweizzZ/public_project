"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2425],{35321:function(t,e,s){s.r(e),s.d(e,{default:function(){return m}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:s(88579)}})])]),t._v("轮转计划 ")]),e("div",{staticClass:"g-main"},t._l(t.list,(function(n){return e("div",{staticClass:"contentDiv"},[e("p",{staticClass:"progress",class:{green:1==n.turnstatus,orange:0==n.turnstatus}},[3==n.turnstatus?e("img",{attrs:{src:s(75929),alt:""}}):t._e(),4==n.turnstatus?e("img",{attrs:{src:s(63584)}}):t._e(),1==n.turnstatus?e("img",{attrs:{src:s(92849),alt:""}}):t._e(),0==n.turnstatus?e("img",{attrs:{src:s(42957),alt:""}}):t._e()]),1==n.turnstatus||3==n.turnstatus?e("ul",{staticClass:"list",on:{click:function(e){return t.detail(n.turnstatus,n.plandetailid,n.planendtime,n.deptid,n.teachingid)}}},[e("li",{staticClass:"listTitle"},[e("span",[t._v(t._s(n.deptname))]),3==n.turnstatus?e("img",{attrs:{src:s(33637),alt:""}}):t._e(),1==n.turnstatus?e("img",{attrs:{src:s(61957),alt:""}}):t._e()]),e("li",[e("span",[t._v("总带教："+t._s(n.teaching))])]),e("li",[e("span",[t._v(" 分带教： "),t._l(n.secretarylist,(function(s){return e("span",[t._v(t._s(s.tecname)+"    ")])}))],2)]),e("li",[e("span",[t._v(" 计划轮转周期： "),n.planbegintime?e("span",[t._v(t._s(t._f("date")(n.planbegintime))+" - "+t._s(t._f("date")(n.planendtime))+"（"+t._s(n.settime)+"）")]):t._e()])]),e("li",[e("span",[t._v(" 实际轮转周期： "),n.realbegintime?e("span",[t._v(t._s(t._f("date")(n.realbegintime))+" - "+t._s(t._f("date")(n.realendtime))+"（"+t._s(n.actualdays)+"）")]):t._e()])])]):4==n.turnstatus?e("ul",{staticClass:"list",on:{click:function(e){return t.showReasonContent(n)}}},[e("li",{staticClass:"listTitle"},[e("span",[t._v(t._s(n.deptname))]),4==n.turnstatus?e("img",{attrs:{src:s(80398),alt:""}}):t._e()]),e("li",[t._v(" 计划轮转周期： "),n.planbegintime?e("span",[t._v(t._s(t._f("date")(n.planbegintime))+"-"+t._s(t._f("date")(n.planendtime))+"（"+t._s(n.settime)+"）")]):t._e()]),t._m(0,!0)]):e("ul",{staticClass:"list"},[e("li",{staticClass:"listTitle"},[e("span",[t._v(t._s(n.deptname))]),0==n.turnstatus?e("img",{attrs:{src:s(74661),alt:""}}):t._e()]),e("li",[e("span",[t._v("规定轮转周期 ："+t._s(n.settime))]),e("span")]),e("li",[e("span",[t._v(" 计划轮转周期 ： "),n.planbegintime?e("span",[t._v(t._s(t._f("date")(n.planbegintime))+"-"+t._s(t._f("date")(n.planendtime)))]):t._e()])]),0==n.turnstatus&&1==n.turnchangeflag?e("li",[e("div",{staticClass:"enter"},[e("a",{on:{click:function(e){return t.toelectiveoffice(n)}}},[t._v("选择科室")])])]):t._e()])])})),0),t.showreason?e("div",{staticClass:"for-reason"},[e("div",{staticClass:"reason-content"},[e("header",[t._v("未轮转原因")]),e("section",[t._l(t.reason.turnnotlist,(function(s,n){return e("label",[e("input",{staticClass:"radio",attrs:{type:"checkbox",disabled:""}}),t._v(" "+t._s(s.turnnotname)+" ")])})),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reason.remark,expression:"reason.remark"}],attrs:{disabled:""},domProps:{value:t.reason.remark},on:{input:function(e){e.target.composing||t.$set(t.reason,"remark",e.target.value)}}})],2),e("footer",[e("a",{on:{click:function(e){t.showreason=!1}}},[t._v("确定")])])])]):t._e(),t.noContent?e("no-content"):t._e()],1)},r=[function(){var t=this,e=t._self._c;return e("li",[e("span",[t._v("实际轮转周期：")])])}],i=(s(70560),s(68934)),a=s(22760),u=s(84622),o=s(63822),l=s(36797),d=s.n(l),p={name:"rotation_doctor_detail",components:{cHeader:a.Z,noContent:u.Z,moment:d()},filters:{date:function(t){if(t)return t.split("-").join(".")}},data(){return{list:[],noContent:!1,data:{},showreason:!1}},computed:{...(0,o.rn)(["turninfo"])},mounted(){let t=this;t.init(),t.registerToNative("goBack",(function(e){t.back()}))},methods:{...i.Z,...(0,o.nv)(["setTurninfo","setTurnstatus"]),toelectiveoffice:function(t){let e=this;this.$router.push({name:"fdRotation_doctor_elective",query:{id:this.turninfo.stuid,turnplanid:t.plandetailid,type:e.$route.query.type}})},detail:function(t,e,s,n,r){let i=this;this.setTurnstatus(t),this.setTurninfo({k:"planendtime",v:s}),this.$router.push({name:"fdRotation_doctor_exam",query:{booking:0,id:e,type:i.$route.query.type,where:i.$route.query.where,deptid:n,teachingid:r}})},init:function(){let t=this;t.data={command:"turn/turnplan",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),uid:$.cookie("uid")},0!=t.$route.query.type&&(t.data.uid=this.turninfo.stuid),t.post("/turn/turnplan",t.data).done((function(e){e.plandetaillist&&(t.list=e.plandetaillist),t.list.map((function(t,e,s){null==t.realendtime&&4!=t.turnstatus&&(t.realendtime="目前")})),0==t.list.length&&(t.noContent=!0)})).fail((function(e){t.noContent=!0}))},showReasonContent(t){this.reason=t,this.showreason=!0},back(){0==this.$route.query.type?this.$router.push({name:"fdRotation_doctor",query:{deptid:this.$route.query.deptid,deptname:this.$route.query.deptname}}):1==this.$route.query.type?this.$router.push({name:"fdRotation_teacher",query:{type:this.$route.query.type,deptid:this.$route.query.deptid,deptname:this.$route.query.deptname}}):2==this.$route.query.type?this.$router.push({name:"fdRotation_secretary",query:{type:this.$route.query.type,where:this.$route.query.where,deptid:this.$route.query.deptid,deptname:this.$route.query.deptname}}):3==this.$route.query.type?this.$router.push({name:"fdRotation_nurse",query:{type:this.$route.query.type,where:this.$route.query.where,deptname:this.$route.query.deptname}}):4==this.$route.query.type?this.$router.push({name:"fdRotation_secretary",query:{type:this.$route.query.type,where:this.$route.query.where,deptid:this.$route.query.deptid,deptname:this.$route.query.deptname}}):5==this.$route.query.type?this.$router.push({name:"fdRotation_teacher_history",query:{type:this.$route.query.type,where:2}}):6==this.$route.query.type&&this.$router.push({name:"fdRotation_secretary_director",query:{type:this.$route.query.type,where:this.$route.query.where,deptid:this.$route.query.deptid,deptname:this.$route.query.deptname}})}}},c=p,h=s(1001),_=(0,h.Z)(c,n,r,!1,null,"96ae3030",null),m=_.exports}}]);
//# sourceMappingURL=2425.60f53abb.js.map