"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[505],{505:function(t,e,s){s.r(e),s.d(e,{default:function(){return g}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:s(88579)}})])]),e("div",{staticClass:"deptname"},[t._v("出科考核成绩")])]),e("div",{staticClass:"g-main"},[e("van-dialog",{attrs:{title:"",showConfirmButton:!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[e("div",{staticClass:"ttitle"},[t._v("录入")]),e("div",{staticClass:"iptBox"},[e("van-field",{attrs:{id:"ipt",label:"",placeholder:"",border:!0,type:"number",change:t.typeInCheck()},model:{value:t.typeInValue,callback:function(e){t.typeInValue=e},expression:"typeInValue"}})],1),e("div",{staticClass:"btnRow"},[e("van-button",{attrs:{type:"default",size:"small"},on:{click:t.cancel}},[t._v("取消")]),e("van-button",{attrs:{type:"info",size:"small",loading:t.isLoading},on:{click:t.typeInConfirm}},[t._v("确认")])],1)]),t.isEdit?e("div",{staticClass:"ck-result"},[e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title1"},[t._v("考试类型")]),1==t.type?e("div",{staticClass:"title1"},[t._v("占比")]):t._e(),e("div",{staticClass:"title1"},[t._v("成绩")]),e("div",{staticClass:"title1"},[t._v("操作")])]),e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title2"},[t._v("理论考试")]),1==t.type?e("div",{staticClass:"title2"},[t._v(t._s(t._f("percentage")(t.ckResult.proportionInfo.theoryScoreProportion)))]):t._e(),e("div",{staticClass:"title3",on:{click:function(e){return t.scoreDetail(t.ckResult,3)}}},[t._v(t._s(t.ckResult.theoryScore))]),e("div",{staticClass:"title3",on:{click:function(e){return t.typeIn(t.ckResult.theoryScore,1)}}},[t._v("录入")])]),e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title2"},[t._v("技能考试")]),1==t.type?e("div",{staticClass:"title2"},[t._v(t._s(t._f("percentage")(t.ckResult.proportionInfo.skillScoreProportion)))]):t._e(),e("div",{staticClass:"title3",on:{click:function(e){return t.scoreDetail(t.ckResult,1)}}},[t._v(t._s(t.ckResult.skillScore))]),e("div",{staticClass:"title3",on:{click:function(e){return t.typeIn(t.ckResult.skillScore,2)}}},[t._v("录入")])]),e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title2"},[t._v("综合考核")]),1==t.type?e("div",{staticClass:"title2"},[t._v(t._s(t._f("percentage")(t.ckResult.proportionInfo.compreScoreProportion)))]):t._e(),e("div",{staticClass:"title3",on:{click:function(e){return t.scoreDetail(t.ckResult,2)}}},[t._v(t._s(t.ckResult.compreScore))]),e("div",{staticClass:"title3",on:{click:function(e){return t.typeIn(t.ckResult.compreScore,3)}}},[t._v("录入")])]),e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title2"},[t._v("病历书写")]),1==t.type?e("div",{staticClass:"title2"},[t._v(t._s(t._f("percentage")(t.ckResult.proportionInfo.bigCaseScoreProportion)))]):t._e(),e("div",{staticClass:"title3",on:{click:function(e){return t.scoreDetail(t.ckResult,4)}}},[t._v(t._s(t.ckResult.bigCaseScore))]),e("div",{staticClass:"title3",on:{click:function(e){return t.typeIn(t.ckResult.bigCaseScore,4)}}},[t._v("录入")])]),1==t.type?e("div",{staticClass:"ck-result-content"},[e("div",{staticClass:"title4"},[t._v("总分:"+t._s(t.ckResult.scoreSum))])]):t._e()]):e("div",{staticClass:"nodata"},[e("img",{attrs:{src:s(55972)}}),e("div",{staticClass:"nodataText"},[t._v("学生报名审核通过后,才可录入成绩")])])],1)],1)},o=[],a=(s(70560),s(3032)),c=s(22760),n=s(68934),l=s(30908),r=s(63822),d=s(53003),u=s(89262),p=s(36226),v=s(93121),k=s(70241),y=s(62266);new a["default"];var C={name:"rotation_admin",components:{cTab:l.Z,cTabs:d.Z,rotationReady:u.Z,rotationWating:p.Z,rotationNotturn:v.Z,rotationAlready:k.Z,cPicker:y.Z,cHeader:c.Z,methods:n.Z},data(){return{isEdit:!1,isLoading:!1,ckResult:{theoryScore:"",skillScore:"",compreScore:"",bigCaseScore:"",scoreSum:""},type:0,typeInObj:"",newList:[],nocontent:!1,data:{},showreason:!1,typeInValue:"",input:"",show:!1,isbk:"",scoreType:0,ckShow:""}},created(){},mounted(){let t=this;t.init(),t.registerToNative("goBack",(function(e){t.back()})),t.getScoreList(),t.judgeCk(),t.getIsEdit()},filters:{percentage:function(t){return(100*t).toFixed(0)+"%"}},methods:{...n.Z,...(0,r.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast","setTurninfo"]),init:function(){let t=this;t.data={command:"turn/turnplan",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),uid:$.cookie("uid")}},back(){window.history.go(-1)},getIsEdit(){let t=this;t.get(`/base/turnscore/isEdit/${t.$route.query.plandetailid}`).done((e=>{t.isEdit=e.model}))},judgeCk(){let t=this;t.post("/commparaconf/queryCommparaConfList",{command:"commparaconf/queryCommparaConfList",sessionid:$.cookie("sid"),loginid:$.cookie("uid"),paramcode:"ck_settings",paramvalue:"8"}).then((e=>{e&&"0"==e.errcode&&e.commparaConfList.length>0&&(t.ckShow=Number(e.commparaConfList[0].param1),console.log(t.ckShow))}))},typeIn(t,e){let s=this;s.typeInValue=t,s.show=!0,s.scoreType=e},cancel(){let t=this;t.show=!1},onChange(t){},typeInCheck(){let t=this;console.log(t.typeInValue),t.typeInValue>200&&(t.typeInValue=200),t.typeInValue<0&&(t.typeInValue=0),t.typeInValue=String(this.typeInValue).replace(/^(-)*(\d+)\.(\d\d).*$/,"$1$2.$3"),""==t.typeInValue&&(t.typeInValue="")},scoreDetail(t,e){this.$router.push({name:"fdRotation_doctor_ckrecord",query:{tpid:this.$route.query.businessid,id:t.id,type:e,stdid:this.$route.query.stdid,uid:this.$route.query.uid}})},getScoreList(){let t=this;t.get(`/base/turnScore/getPlanScore/${t.$route.query.plandetailid}`).done((e=>{200==e.resCode&&(t.ckResult=e.model,t.type=e.model.type)}))},getskillscore(t,e){let s,i=this;1==e&&(s="出科考核（技能）"),2==e&&(s="出科考核（综合）"),3==e&&(s="病历书写"),this.$router.push({name:"averagepagerelation",query:{seiid:t,stuid:i.$route.query.uid,typename:s,type:e}})},typeInConfirm(){let t,e=this;e.isLoading=!0,e.show=!1,1==e.scoreType?t={id:e.ckResult.id,theoryScore:e.typeInValue}:2==e.scoreType?t={id:e.ckResult.id,skillScore:e.typeInValue}:3==e.scoreType?t={id:e.ckResult.id,compreScore:e.typeInValue}:4==e.scoreType&&(t={id:e.ckResult.id,bigCaseScore:e.typeInValue}),e.post("/base/turnscore/editTurnScore",t).done((t=>{e.getScoreList(),setTimeout((()=>{e.isLoading=!1}),500)}))}}},h=C,m=s(1001),_=(0,m.Z)(h,i,o,!1,null,"107e1342",null),g=_.exports},55972:function(t,e,s){t.exports=s.p+"static/img/noddata.13dc2190.png"}}]);
//# sourceMappingURL=505.4abbc5ec.js.map