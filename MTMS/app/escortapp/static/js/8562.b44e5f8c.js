"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[8562],{85965:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.config.show,expression:"config.show"}],staticClass:"addcontent"},[e("i",{staticClass:"shade",on:{click:t.close}}),e("ul",{directives:[{name:"show",rawName:"v-show",value:t.config.show,expression:"config.show"}],staticClass:"select",staticStyle:{"animation-duration":".1s"},style:{top:t.config.fixedtop,right:t.config.fixedright},attrs:{"enter-active-class":"animated fadeInDown","leave-active-class":"animated fadeOutUp"}},t._l(t.list,(function(i,s){return 1==i.isused?e("li",{on:{click:function(e){return t.select(i)}}},[t._v(" "+t._s(i.name)+" ")]):t._e()})),0)])},a=[],n={name:"addselect",props:{showAdd:{type:Boolean,default:!1},config:{default:function(){return{show:!1,label:"",fixedright:0,fixedtop:0}}},dataList:{type:Array,default:function(){return[]}}},data(){return{addButton:!1}},mounted:function(){this.addButton=this.showAdd},methods:{close(){this.config.show=!1},select(t){this.$emit("confirm",t)}},watch:{showAdd(t,e){this.addButton=t}},computed:{list(){let t=this.config.label||"";return this.dataList.length>0?(this.stopclick=!1,this.dataList.map((e=>{e.name=e[t],e.isused="fdAction_add"==e.router?this.addButton:e.isused})),this.dataList):(this.stopclick=!0,[{name:"当前暂无数据"}])}}},r=n,d=i(1001),o=(0,d.Z)(r,s,a,!1,null,"04a28040",null),c=o.exports},30908:function(t,e,i){i.d(e,{Z:function(){return c}});var s=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.btn.active,expression:"btn.active"}]},[t._t("default")],2)},a=[],n={props:{defaultCls:{type:String,default:"tab"},title:{type:String,require:!0},active:{type:Boolean,default:!1},className:{type:String,default:""},data:{},bus:{}},data(){return{btn:{title:"",active:!1}}},watch:{title:function(t){this.btn.title=t}},created(){this.btn.title=this.title,this.btn.active=!!this.active,this.btn.data=this.data},mounted(){this.bus.$emit("addtabbtn",this.btn)},computed:{}},r=n,d=i(1001),o=(0,d.Z)(r,s,a,!1,null,null,null),c=o.exports},53003:function(t,e,i){i.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"tabs-container",class:{"g-wrapper":"pin"===t.mode}},[e("div",{staticClass:"tabs",class:t.className},t._l(t.tabBtns,(function(i,s){return e("div",{staticClass:"tab",class:{active:i.active},attrs:{tapmode:""},on:{click:function(e){return t.activeTab(s)}}},[e("label",[t._v(t._s(i.title))]),s<=0?[e("div",{staticClass:"tab-current-bg"})]:t._e()],2)})),0),e("div",{staticClass:"tabs-content",class:t.contentclass},[t._t("default")],2)])},a=[],n=(i(70560),i(77387)),r=i.n(n),d={props:{active:{type:Number,default:0},type:{type:String,require:!0},shape:{type:String,default:""},className:{type:String,default:""},contentClassName:{type:String,default:""},bus:{},mode:{type:String,default:""}},data(){return{tabBtns:[],activeSS:this.active}},events:{},computed:{contentclass:function(){return this.contentClassName+" "+("pin"===this.mode?"g-main":"")}},components:{},created(){let t=!0;this.bus.$on("addtabbtn",(e=>{this.tabBtns.push(e);for(let t=0;t<this.tabBtns.length;t++)this.tabBtns[t].active&&(this.activeSS=t);t&&0===this.activeSS&&(t=!1,this.$emit("change-tab",this.tabBtns[0])),this.$nextTick((function(){this.moveBg(this.activeSS)}))}))},mounted(){},watch:{activeSS:function(t,e){console.log(t,789),this.moveBg(t),this.$emit("change-tab",this.tabBtns[t])}},methods:{activeTab:function(t){this.activeSS=t;for(let e=0;e<this.tabBtns.length;e++)this.tabBtns[e].active=t===e},moveBg(t){let e=r()(this.$el),i=e.find(".tabs"),s=i.find(`.tab:eq(${t})`),a=i.find(".tab-current-bg"),n=s.find("label"),d=a.closest(".tab").offset(),o=n.offset(),c=(o&&o.left||0)-(d&&d.left||0);a.css({width:n.outerWidth(),"-webkit-transform":"translate3d("+c+"px,0,0)",transform:"translate3d("+c+"px,0,0)"})}}},o=d,c=i(1001),l=(0,c.Z)(o,s,a,!1,null,null,null),u=l.exports},38562:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]),t._v(" "+t._s(t.examtypename)+" "),e("div",{staticClass:"btn-group",attrs:{slot:"headerRight"},slot:"headerRight"},[e("img",{attrs:{src:i(57501)},on:{click:function(e){t.addconfig.show=!0}}})])]),e("add-group",{attrs:{config:t.addconfig,"data-list":t.addlist},on:{confirm:t.addselect}}),e("div",{staticClass:"g-main"},[e("div",{staticClass:"list-wrap"},[e("div",{staticClass:"wrap-c"},[e("ul",[e("li",[e("div",{staticClass:"tit"},[t._v("科室：")]),e("div",[t._v(t._s(t.deptnameString(t.info.deptIdNameVoList)))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核项目：")]),e("div",[t._v(t._s(t.examitemnamearr.join(",")))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考官：")]),e("div",[t._v(t._s(t.teacherName.join(",")))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核时间：")]),e("div",[t._v(t._s(t.info.starttime)+"-"+t._s(t.info.endtime))])]),e("li",[e("div",{staticClass:"tit"},[t._v("考核地点：")]),e("div",[t._v(t._s(t.info.place))])]),e("li",[e("div",{staticClass:"tit"},[t._v("备注：")]),e("div",[t._v(t._s(t.info.remark))])])])]),e("div",{staticClass:"exam-form"},[e("div",{staticClass:"title"},[t._v(" 被考核学员 "),t.isExaminer&&!t.$route.query.examfinished?e("label",{staticClass:"red"},[t._v(" （点击下方 "),e("span",{staticClass:"edit-icon"}),t._v("进行打分） ")]):t._e()]),e("div",{staticClass:"exam-table"},[t.loading?e("van-loading",{attrs:{color:"#1989fa"}}):t._e(),!t.loading&&t.scoreSheet.length>0?e("div",{staticClass:"sheet"},[e("div",{staticClass:"fl"},[e("ul",[e("li",[t._v("姓名")]),t._l(t.scoreSheet,(function(i,s){return e("li",{key:s,staticClass:"nameBox"},[e("p",{staticClass:"p-box"},[t._v(t._s(i.stuname))]),e("p",{staticClass:"p-box"},[t._v(t._s(i.code))])])}))],2)]),e("div",{staticClass:"mid comprehensive"},[e("ul",{staticClass:"items"},[e("ul",{staticClass:"items",class:{short:t.scoreSheet[0].itemscorelist.length>3,long:t.scoreSheet[0].itemscorelist.length<=3}},t._l(t.scoreSheet[0].itemscorelist,(function(i,s){return e("li",{key:s},[e("p",[t._v(t._s(t._f("filterword")(i.examitemname)))])])})),0)]),t._l(t.scoreSheet,(function(i,s){return e("ul",{key:s,staticClass:"items",class:{short:i.itemscorelist.length>3,long:i.itemscorelist.length<=3}},t._l(i.itemscorelist,(function(s,a){return e("li",[0!=s.status||t.$route.query.examfinished||t.overduetime?1!==s.status||t.isExaminer?1==s.status&&t.isExaminer&&!t.$route.query.examfinished?e("span",{staticClass:"active",on:{click:function(e){return t.editdetailFn(e,s.examitemid,i.stuid,s.examitemname,i.seiIds)}}},[t._v(t._s(s.score))]):null===s.status||t.$route.query.examfinished?e("span",{staticClass:"active",class:{noclick:null==s.score},on:{click:function(e){return t.detailScore(s,i.stuid,i.seiIds)}}},[t._v(t._s(s.score))]):t._e():e("span",{staticClass:"active",on:{click:function(e){return t.detailScore(s,i.stuid,i.seiIds)}}},[t._v(t._s(s.score))]):e("span",{staticClass:"edit-icon",on:{click:function(e){return t.editFun(e,s.examitemid,i.stuid,s.examitemname,i.seiIds,i)}}})])})),0)}))],2),e("div",{staticClass:"fr"},[e("ul",[e("li",[t._v("平均分")]),t._l(t.scoreSheet,(function(i,s){return e("li",{key:s.score,class:{noclick:t.isExaminer},on:{click:function(e){return t.averagerFn(i,t.info.examtypename,i.stuid,i.seiid)}}},[i.status<0?e("p",{staticClass:"active"},[t._v("缺考")]):e("p",{staticClass:"active"},[t._v(t._s(i.score?i.score.toFixed(2):""))])])}))],2)])]):t._e()],1)])])])],1)},a=[],n=(i(70560),i(77387)),r=i.n(n),d=i(22760),o=(i(30908),i(53003),i(68934)),c=(i(63822),i(85965)),l={components:{cHeader:d.Z,addGroup:c.Z},data(){return{deptname:"",examtypename:"",info:{},scoreSheet:[],loading:!0,examitemid:"",stuid:"",isExaminer:!1,teacherName:[],examitemnamearr:[],addlist:[{name:"记录反馈",isused:1}],addconfig:{show:!1,label:"name",fixedtop:".8rem",fixedright:".1rem"},overduetime:!1,arrivedtime:!1,zh_examtype:"",examstarttime:"",examendtime:""}},filters:{filterword:function(t){return t.length>10?t.slice(0,10)+"..":t},statusFilter(t){if(-1==t)return"法撒旦"}},methods:{...o.Z,deptnameString(t){return t?t.map((t=>t.deptName)).join("、"):""},getstdinfo(){this.post("/turnExamInfo/turnexamdetail",{command:"turnExamInfo/turnexamdetail",sessionid:r().cookie("sid"),loginid:r().cookie("uid"),id:this.$route.query.id}).done((t=>{t&&0==t.errcode?(this.info=t,this.deptname=t.deptname,this.examtypename=t.examtypename,this.zh_examtype=t.examtype,this.info.teacherlist.map((t=>{this.teacherName.push(t.teachername)})),this.info.examitemlist.map((t=>{this.examitemnamearr.push(t.examitemname)})),this.examstarttime=this.info.starttime,this.examendtime=this.info.endtime):t.errdesc?this.toast(t.errdesc):this.toast("服务器错误，请联系管理员。")}))},averagerFn(t,e,i,s){this.$router.push({name:"averagepage",query:{score:JSON.stringify(t),examid:this.$route.query.id,examId:this.$route.query.id,examTypeName:e,stuid:i,seiid:s}})},addselect(t){console.log(t),t&&(this.$set(this.addlist[0],"path","/recordfeedback?deptId="+this.info.deptid+"&teId="+this.$route.query.id),this.$router.push({name:"recordfeedback",query:{deptId:this.info.deptIdNameVoList.map((t=>t.deptId)),teId:this.$route.query.id}}))},back(){this.$route.query.message?window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex":window.history.back()},detailScore(t,e,i){this.$router.push({name:"assessmentpage",query:{examId:this.info.id,examid:this.$route.query.id,stuid:e,examitemid:t.examitemid,examitemname:t.examitemname,averagescore:t.score,seiid:i}})},editdetailFn(t,e,i,s,a){this.istimearrived().then((t=>{t?1==this.zh_examtype?this.$router.push({name:"scoreSheet",query:{examitemid:e,examineeid:i,examid:this.$route.query.id,examId:this.$route.query.id,examitemname:s,seiid:a,detail:!0,examtype:1}}):this.$router.push({name:"scoreSheetZh",query:{examitemid:e,examineeid:i,examid:this.$route.query.id,examId:this.$route.query.id,examitemname:s,seiid:a,detail:!0,examtype:2}}):this.$toast("时间不在考试范围内,不能评分")}))},editFun(t,e,i,s,a,n){console.log(n),this.istimearrived().then((t=>{t?this.$router.push({name:"scoreSheet",query:{examitemid:e,examineeid:i,examid:this.$route.query.id,examitemname:s,seiid:a,deptname:this.deptname,examId:this.info.id}}):this.$toast("时间不在考试范围内,不能评分")}))},init(){this.loading=!0,this.post("/turnExamInfo/querystuscorelist",{command:"turnExamInfo/querystuscorelist",sessionid:r().cookie("sid"),loginid:r().cookie("uid"),examid:this.$route.query.id,code:"",stuname:"",mergeSeiId:!0}).done((t=>{setTimeout((()=>{this.loading=!1}),500),t&&0==t.errcode?t.stuScoreList.length>0&&(this.scoreSheet=t.stuScoreList,this.isExaminer=1==t.isExaminer):t.errdesc?this.toast(t.errdesc):this.toast("服务器错误，请联系管理员。")}))},getTimeFn(){return new Promise(((t,e)=>{let i=(new Date).valueOf();var s;this.post("/commserv/time/uuts",{command:"commserv/time/uuts",sessionid:r().cookie("sid"),loginid:r().cookie("uid"),peercurts:i}).done((e=>{e&&0==e.errcode?(s=Number(e.uuts),t(s)):e.errdesc?this.$toast(e.errdesc):this.$toast("服务器错误，请联系管理员。")}))}))},istimearrived(){return new Promise(((t,e)=>{this.getTimeFn().then((e=>{let i=new Date(this.examstarttime.replace(/-/g,"/")).getTime(),s=new Date(this.examendtime.replace(/-/g,"/")).getTime();t(e>=i&&e<=s)}))}))},isoverdue(){this.getTimeFn().then((t=>{new Date(this.examstarttime.replace(/-/g,"/")).getTime();let e=new Date(this.examendtime.replace(/-/g,"/")).getTime();this.overduetime=t>e}))}},watch:{},mounted(){this.registerToNative("goBack",(function(t){this.back()})),this.overduetime=this.isoverdue(),this.init(),this.getstdinfo()}},u=l,m=i(1001),h=(0,m.Z)(u,s,a,!1,null,"d137e4ae",null),p=h.exports},22760:function(t,e,i){i.d(e,{Z:function(){return u}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header",attrs:{id:"header"}},[t._t("headerLeft",(function(){return[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]})),e("div",{staticClass:"header-center-blank"}),e("div",{staticClass:"header-center"},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2),t._t("headerRight")],2)},a=[],n=(i(77387),i(68934)),r=i(63822),d={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,r.rn)(["loginUser"]),methods:{...(0,r.nv)(["showAlert","showLoading","hideLoading","toast"]),...n.Z,back(){this.$router.go(-1)}}},o=d,c=i(1001),l=(0,c.Z)(o,s,a,!1,null,null,null),u=l.exports},88579:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="},57501:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA2UlEQVRYR+2XQQ0CMRBF31cAEpCABCygABwACgAFIIF1gAPAARKQgIMhs+nCHji028Ne5ic9NOnM/Lxm+7NiZKlmvpnNvV7Sc2ifwQbMbAHc0uClpOsQEzUGDsA+DT1K8n2xwkAQCAJBIAh8CZjZGlgVvKUzwJfrlVZueSPp0gZZV2Fmb2CS26H2nKR2dt/AGdjUNs6sf0jyNP0Z8E2K2Mwe9K+sAVqkOZJ0787FVxAEgkAQCAI1BLbAKT2pO0meJcUabCBlh/8NTYGDJE/TYlUZKJ72p2B0Ax+fNZIhXRCdnwAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=8562.b44e5f8c.js.map