"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[8250],{22760:function(e,t,s){s.d(t,{Z:function(){return p}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header",attrs:{id:"header"}},[e._t("headerLeft",(function(){return[t("a",{staticClass:"header-back-btn",on:{click:function(t){return e.back()}}},[t("img",{attrs:{src:s(88579)}})])]})),t("div",{staticClass:"header-center-blank"}),t("div",{staticClass:"header-center"},[e._t("default",(function(){return[e._v(e._s(e.title))]}))],2),e._t("headerRight")],2)},a=[],o=(s(77387),s(68934)),n=s(63822),r={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,n.rn)(["loginUser"]),methods:{...(0,n.nv)(["showAlert","showLoading","hideLoading","toast"]),...o.Z,back(){this.$router.go(-1)}}},c=r,d=s(1001),l=(0,d.Z)(c,i,a,!1,null,null,null),p=l.exports},38250:function(e,t,s){s.r(t),s.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"supervise-grade"},[t("van-nav-bar",{attrs:{title:"评分","left-arrow":""},on:{"click-left":e.back}}),t("div",{staticClass:"g-main"},[t("div",{staticClass:"header"},[t("div",[e.gradeList.length>0?t("p",{staticClass:"hosName"},[e._v(e._s(e.title))]):e._e()]),e.gradeList.length>0?t("div",{staticClass:"tipps"},[t("span",[e._v("*")]),e._v(" "+e._s(e.description)+" ")]):e._e(),t("img",{staticClass:"grade-pic",attrs:{src:s(16545)}})]),1==e.type?t("div",{staticClass:"ggrade"},[t("div",{staticClass:"ggg"},[t("div",{staticClass:"ggg-before"}),t("div",{staticClass:"ggg-last"},[e._v("评分："+e._s(e.score))])]),t("div",{staticClass:"ttt"},[e._v("评价时间："+e._s(e.submitTime))])]):e._e(),e.gradeList.length>0?t("div",{staticClass:"evaluateDetail",class:{evaDetail:1==e.type}},e._l(e.gradeList,(function(s,i){return t("div",{key:i,staticClass:"grade-box"},[t("div",{staticClass:"grade-title"},[e._v(e._s(s.category))]),e._l(s.questionList,(function(s,i){return t("div",{key:i,staticClass:"content-box"},[t("span",{staticClass:"grade-content"},[e._v(e._s(s.content))]),1==s.type?t("span",{staticStyle:{"font-size":"16px",color:"#999999","letter-spacing":"0.2px","font-weight":"400"}},[e._v("(单选题)")]):e._e(),2==s.type?t("span",{staticStyle:{"font-size":"16px",color:"#999999","letter-spacing":"0.2px","font-weight":"400"}},[e._v("(多选题)")]):e._e(),4==s.type?t("span",{staticStyle:{"font-size":"16px",color:"#999999","letter-spacing":"0.2px","font-weight":"400"}},[e._v("(星星等级)")]):e._e(),5==s.type?t("span",{staticStyle:{"font-size":"16px",color:"#999999","letter-spacing":"0.2px","font-weight":"400"}},[e._v("(常用标签)")]):e._e(),1==s.required?t("span",{staticStyle:{"font-size":"16px",color:"#FF5500","font-weight":"500"}},[e._v("*")]):e._e(),1==s.type?t("div",[t("van-radio-group",{attrs:{disabled:1==e.type},model:{value:s.save,callback:function(t){e.$set(s,"save",t)},expression:"iten.save"}},e._l(s.items,(function(i,a){return t("div",{key:a,staticClass:"dx"},[t("van-radio",{attrs:{name:i.id},on:{click:function(t){return e.radioClick(i)}}},[e._v(e._s(i.content))]),t("van-field",{directives:[{name:"show",rawName:"v-show",value:i.id==s.save&&1==i.reasonStatus,expression:"iteb.id == iten.save && iteb.reasonStatus == 1"}],attrs:{placeholder:"请输入原因",rows:"1",autosize:"",maxlength:50,type:"textarea",readonly:1==e.type},model:{value:i.reasonComment,callback:function(t){e.$set(i,"reasonComment",t)},expression:"iteb.reasonComment"}})],1)})),0)],1):e._e(),2==s.type?t("div",{staticClass:"dx"},e._l(s.items,(function(i,a){return t("van-checkbox-group",{key:a,attrs:{disabled:1==e.type},model:{value:s.save,callback:function(t){e.$set(s,"save",t)},expression:"iten.save"}},[t("van-checkbox",{key:i.id,attrs:{name:i.id}},[e._v(e._s(i.content))]),t("van-field",{directives:[{name:"show",rawName:"v-show",value:-1!=s.save.indexOf(i.id)&&1==i.reasonStatus,expression:"iten.save.indexOf(iteb.id) != -1 && iteb.reasonStatus == 1"}],attrs:{placeholder:"请输入原因",rows:"1",autosize:"",maxlength:50,type:"textarea",readonly:1==e.type},model:{value:i.reasonComment,callback:function(t){e.$set(i,"reasonComment",t)},expression:"iteb.reasonComment"}})],1)})),1):e._e(),3==s.type?t("div",[t("van-cell-group",[t("van-field",{attrs:{type:"textarea",placeholder:"200字以内",size:"large",rows:"1",autosize:"",maxlength:200,"show-word-limit":"",readonly:1==e.type},model:{value:s.answerContent,callback:function(t){e.$set(s,"answerContent",t)},expression:"iten.answerContent"}})],1)],1):e._e(),4==s.type?t("div",[t("van-rate",{attrs:{readonly:1==e.type,size:30,color:"#FCB62D","void-color":"#D6D6D6"},model:{value:s.answerStar,callback:function(t){e.$set(s,"answerStar",t)},expression:"iten.answerStar"}})],1):e._e(),5==s.type?t("div",{staticStyle:{"margin-top":"10px"}},[1==e.type?t("div",e._l(s.items,(function(i,a){return t("span",{key:a,staticClass:"selBox",class:{active:i.id==s.save}},[e._v(e._s(i.content))])})),0):t("div",e._l(s.items,(function(i,a){return t("span",{key:a,staticClass:"selBox",class:{active:i.id==s.save},on:{click:function(t){return e.select(s,i)}}},[e._v(e._s(i.content))])})),0)]):e._e(),6==s.type?t("div",[t("div",{staticClass:"scorll-item"},[t("van-slider",{attrs:{step:.5,min:"0",max:s.score,disabled:1==e.type},model:{value:s.answerScore,callback:function(t){e.$set(s,"answerScore",t)},expression:"iten.answerScore"}}),t("span",{staticStyle:{width:"20px"}}),t("van-stepper",{attrs:{min:"0",max:s.score,step:"0.5","disable-input":"",disabled:1==e.type},model:{value:s.answerScore,callback:function(t){e.$set(s,"answerScore",t)},expression:"iten.answerScore"}})],1),t("van-field",{directives:[{name:"show",rawName:"v-show",value:!!s.reasonStatus,expression:"!!iten.reasonStatus"}],attrs:{placeholder:"请输入描述2",rows:"1",autosize:"",maxlength:50,type:"textarea",readonly:1==e.type},model:{value:s.answerReasonComment,callback:function(t){e.$set(s,"answerReasonComment",t)},expression:"iten.answerReasonComment"}})],1):e._e()])}))],2)})),0):t("div",{staticClass:"nodata"},[e.description?t("img",{attrs:{src:s(55569)}}):e._e(),e.description?e._e():t("img",{attrs:{src:s(55972)}}),e.description?t("div",{staticClass:"nodataText"},[e._v("该专家还未评分")]):e._e(),e.description?e._e():t("div",{staticClass:"nodataText"},[e._v("没有数据，请联系管理员")])]),t("div",{staticStyle:{height:"100px",background:"#fff"}})]),e.gradeList.length>0&&0==e.type?t("div",{staticClass:"btnGroup"},[t("van-button",{attrs:{plain:"",type:"info"},on:{click:e.save}},[e._v("保存")]),t("van-col",{staticStyle:{width:"20px"}}),t("van-button",{attrs:{type:"info"},on:{click:e.submit}},[e._v("提交")])],1):e._e()],1)},a=[],o=(s(70560),s(77387)),n=s.n(o),r=s(68934),c=(s(22760),s(63822)),d=s(5348),l=s(88848),p={name:"overseer-grade",data(){return{title:"护培生师规范化培训评价表",description:"",gradeList:[],saveId:"",submitType:0,recordId:"",gradeTitleShow:!1,type:0,score:0,submitTime:"",evaluator:""}},created(){let e=this;e.getEvaList()},computed:{...(0,c.rn)(["turninfo"])},methods:{...r.Z,getEvaList(){let e=this,t="";if(t=1==e.$route.query.param?1:2,0==e.$route.query.booking){let s={command:"scoreSubmitRecord/detail",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),id:e.$route.query.id,category:1,type:t};e.post("/scoreSubmitRecord/detail",s).done((function(t){"0"==t.errcode&&(e.saveId=t.id,e.title=t.name,e.description=t.description,t.questions.forEach((e=>{e.questionList.forEach((e=>{2==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&e.save.push(t.id)}))):1==e.type||5==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&(e.save=t.id)}))):e.save=""}))})),e.score=Number(t.score),e.submitTime=t.submitTime,e.evaluator=t.evaluator,e.gradeList=t.questions,e.saveId=t.id,t.recordId&&(e.recordId=t.recordId),e.type=Number(t.submitType))}))}else{let s={command:"scoreSubmitRecord/detail",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),businessId:e.$route.query.id,category:1,type:t};e.post("/scoreSubmitRecord/detail",s).done((function(s){if("0"==s.errcode)e.saveId=s.id,e.title=s.name,e.description=s.description,s.questions.forEach((e=>{e.questionList.forEach((e=>{2==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&e.save.push(t.id)}))):1==e.type||5==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&(e.save=t.id)}))):e.save=""}))})),e.score=Number(s.score),e.submitTime=s.submitTime,e.evaluator=s.evaluator,e.gradeList=s.questions,e.saveId=s.id,s.recordId&&(e.recordId=s.recordId),e.type=Number(s.submitType);else if("1"==s.errcode){let s={command:"scoreTemplate/getAvailableTemplateDetail",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),category:1,type:t};e.post("/scoreTemplate/getAvailableTemplateDetail",s).done((t=>{e.saveId=t.id,e.title=t.name,e.description=t.description,t.questions.forEach((e=>{e.questionList.forEach((e=>{2==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&e.save.push(t.id)}))):1==e.type||5==e.type?(e.save=[],e.items.forEach((t=>{1==t.selected&&(e.save=t.id)}))):6==e.type?(e.answerScore=e.score,e.answerReasonComment=""):e.save=""}))})),e.type=0,e.gradeList=t.questions,e.saveId=t.id,t.recordId&&(e.recordId=t.recordId)}))}}))}},back(){window.history.go(-1)},submit(){let e=this;e.submitType=1,d.Z.confirm({message:"提交后不可修改，确定要提交吗?"}).then((()=>{let t=0;e.gradeList.forEach((e=>{e.questionList.forEach((e=>{1!=e.required||1!=e.type&&2!=e.type&&5!=e.type||""!=e.save&&e.save!=[]?1==e.required&&3==e.type?e.answerContent||(t+=1):1==e.required&&4==e.type&&""==e.answerStar&&(t+=1):t+=1}))})),0==t?e.formSubmit():(0,l.Z)("您还有"+t+"道题没填")})).catch((()=>{}))},save(){let e=this;e.submitType=0;let t=!0;t?e.formSubmit():(0,l.Z)("保存失败")},formSubmit(){let e=this,t=[];e.gradeList.forEach((e=>{e.questionList.forEach((e=>{if(2==e.type)e.items.forEach((s=>{if(-1!=e.save.indexOf(s.id)){let e={scoringQuestionId:s.scoringQuestionId,scoringOptionId:s.id,content:"",star:"",reasonComment:s.reasonComment?s.reasonComment:""};t.push(e)}}));else if(1==e.type||5==e.type)e.items.forEach((s=>{if(e.save==s.id){let e={scoringQuestionId:s.scoringQuestionId,scoringOptionId:s.id,content:"",star:"",reasonComment:s.reasonComment?s.reasonComment:""};t.push(e)}}));else if(3==e.type){if(e.answerContent){let s={scoringQuestionId:e.id,scoringOptionId:"",content:e.answerContent?e.answerContent:"",star:"",reasonComment:""};t.push(s)}}else if(4==e.type){let s={scoringQuestionId:e.id,scoringOptionId:"",content:"",star:e.answerStar?e.answerStar:0,reasonComment:""};t.push(s)}else if(6==e.type){let s={scoringQuestionType:6,scoringQuestionId:e.id,scoringOptionId:"",content:"",star:"",reasonComment:"",score:e.answerScore,reasonComment:e.answerReasonComment};t.push(s)}}))}));let s="";s=1==e.$route.query.param?e.$route.query.teachingid?e.$route.query.teachingid:this.turninfo.teachingid:e.$route.query.deptid?e.$route.query.deptid:this.turninfo.deptid;let i={command:"scoreSubmitRecord/submit",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),scoringTemplateId:e.saveId,id:e.recordId,businessId:e.$route.query.id,targetId:s,submitType:e.submitType,answers:t};e.post("/scoreSubmitRecord/submit",i).done((t=>{0==e.submitType?((0,l.Z)("保存成功"),e.recordId=t.id):((0,l.Z)("提交成功"),window.history.go(-1))}))},select(e,t){let s=this;s.gradeList.forEach((s=>{s.questionList.forEach((s=>{s.id==e.id&&(s.save=t.id)}))}))},radioClick(e){}}},u=p,m=s(1001),v=(0,m.Z)(u,i,a,!1,null,"485dd210",null),g=v.exports},16545:function(e,t,s){e.exports=s.p+"static/img/grade-pic.7832ce8c.png"},88579:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="},55569:function(e,t,s){e.exports=s.p+"static/img/no-grade.dbad279d.png"},55972:function(e,t,s){e.exports=s.p+"static/img/noddata.13dc2190.png"}}]);
//# sourceMappingURL=8250.232bfa13.js.map