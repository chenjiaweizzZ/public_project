"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[7840],{40361:function(t,e,i){i.d(e,{Z:function(){return n}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"progress",style:{height:t.strokeWidth+"px"}},[e("div",{staticClass:"progress-bar",style:{width:t.percentage+"%",height:t.strokeWidth+"px"}}),e("span",{staticClass:"progress-text",style:{left:(t.percentage>86?86:t.percentage)+"%",height:t.strokeWidth+"px",lineHeight:t.strokeWidth+"px"}},[t._v(t._s(t.percentage)+"%")])])},a=[],l={props:{percentage:{type:Number,default:0},strokeWidth:{type:Number,default:12}},data(){return{}},mounted(){},methods:{}},o=l,c=i(1001),r=(0,c.Z)(o,s,a,!1,null,"c192c8a2",null),n=r.exports},22760:function(t,e,i){i.d(e,{Z:function(){return A}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header",attrs:{id:"header"}},[t._t("headerLeft",(function(){return[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]})),e("div",{staticClass:"header-center-blank"}),e("div",{staticClass:"header-center"},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2),t._t("headerRight")],2)},a=[],l=(i(77387),i(68934)),o=i(63822),c={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,o.rn)(["loginUser"]),methods:{...(0,o.nv)(["showAlert","showLoading","hideLoading","toast"]),...l.Z,back(){this.$router.go(-1)}}},r=c,n=i(1001),d=(0,n.Z)(r,s,a,!1,null,null,null),A=d.exports},27840:function(t,e,i){i.r(e),i.d(e,{default:function(){return p}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"add-edit-case"},[e("van-nav-bar",{attrs:{title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),e("div",{staticClass:"case-title"},[t._v("文件名称")]),e("div",{staticClass:"line"}),e("div",{staticClass:"case-input"},[e("van-field",{attrs:{label:"",placeholder:"请输入文件名称",rows:"2",type:"textarea",maxlength:"20"},model:{value:t.caseTitle,callback:function(e){t.caseTitle=e},expression:"caseTitle"}}),e("div",{staticClass:"caseTitlet"},[e("span",{staticClass:"ctprr"},[t._v("/20")]),e("span",{staticClass:"ctprl",style:t.rtColor2},[t._v(t._s(t.caseTitle.length))])])],1),e("div",{staticClass:"case-title-photo"},[e("span",{staticClass:"case-title-photo-left"},[t._v("照片")]),e("span",{staticClass:"case-title-photo-right"},[e("span",{staticClass:"ctprl",style:t.rtColor},[t._v(t._s(t.picList.length))]),e("span",{staticClass:"ctprr"},[t._v("/9")])])]),e("div",{staticClass:"line2"}),e("div",{staticClass:"pics"},[t._l(t.picList,(function(s,a){return e("div",{key:a,staticClass:"pic",on:{click:function(e){return t.viewPic(a)}}},[e("img",{staticClass:"photo",attrs:{src:s}}),e("img",{staticClass:"del-icon",attrs:{src:i(37188)},on:{click:function(e){return t.del(a)}}})])})),e("div",{directives:[{name:"show",rawName:"v-show",value:t.picList.length<9,expression:"picList.length < 9"}],staticClass:"addPic",on:{click:t.uploadimg}},[e("div",{staticClass:"addContent"},[e("div",{staticClass:"iconBox"},[e("van-icon",{attrs:{name:"plus",color:"#7B96B1",size:"25px"}})],1)])])],2),e("div",{staticClass:"picTips"},[t._v("支持jpeg、png格式")]),e("div",{staticStyle:{height:"66px"}}),e("van-image-preview",{attrs:{images:t.picViewList,startPosition:t.index},on:{change:t.onChange},scopedSlots:t._u([{key:"index",fn:function(){return[t._v("第"+t._s(t.index+1)+"张")]},proxy:!0}]),model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),e("div",{staticClass:"btn-row"},[e("van-button",{attrs:{type:"info",size:"large",disabled:""==t.caseTitle||0==t.picList.length},on:{click:t.submit}},[t._v("提交")])],1)],1)},a=[],l=(i(70560),i(5348)),o=(i(77387),i(22760)),c=i(68934),r=i(63822),n=i(40361),d={name:"rotation_doctor_exam",components:{cHeader:o.Z,cProgress:n.Z},data(){return{title:"",caseTitle:"",picList:[],show:!1,picViewList:[],index:"",isdel:!1}},computed:{...(0,r.rn)(["turninfo"]),rtColor(){let t=this;return 0==t.picList.length?{color:"#999999"}:t.picList.length>0&&t.picList.length<9?{color:"#333333"}:9==t.picList.length?{color:"#FF0000"}:void 0},rtColor2(){let t=this;return 0==t.caseTitle.length?{color:"#999999"}:t.caseTitle.length>0&&t.caseTitle.length<20?{color:"#333333"}:20==t.caseTitle.length?{color:"#FF0000"}:void 0}},created(){this.judgeAddEdit()},mounted(){},methods:{...c.Z,...(0,r.nv)(["setTurninfo","setTurnManual"]),uploadimg(){let t=this,e=Number(9-t.picList.length);this.invokeNative("TakeAndUploadPhoto",{count:e,currentImg:this.picList.length,imgMax:9},this.geturl)},geturl(t){let e=this,i=JSON.parse(t);console.log("geturl",i),i.data instanceof Array?i.data.forEach((t=>{e.picList.push(t.url)})):e.picList.push(i.data.url)},viewPic(t){console.log(t);let e=this;e.index=t,1!=e.isdel&&(e.picList.forEach((t=>{e.picViewList.push(t)})),e.show=!0)},onChange(t){console.log(t);let e=this;e.index=t},del(t){let e=this;e.isdel=!0,e.picList.splice(t,1),setTimeout((()=>{e.isdel=!1}),1e3)},submit(){let t=this;l.Z.confirm({title:"",message:"确认提交病历吗？",confirmButtonColor:"#1989fa"}).then((()=>{this.$route.query.caseId?t.post("/base/largeMedicalRecord/update",{id:this.$route.query.caseId,name:t.caseTitle,fileList:t.picList,turnPlanDetailId:this.$route.query.id}).done((e=>{console.log(e),this.$router.push({name:"fdRotation_doctor_up_case_withbottom",query:{id:t.$route.query.id,type:t.$route.query.type,deptid:t.$route.query.deptid,teachingid:t.$route.query.teachingid}})})):t.post("/base/largeMedicalRecord/add",{name:t.caseTitle,fileList:t.picList,turnPlanDetailId:this.$route.query.id}).done((e=>{console.log(e),this.$router.push({name:"fdRotation_doctor_up_case_withbottom",query:{id:t.$route.query.id,type:t.$route.query.type,deptid:t.$route.query.deptid,teachingid:t.$route.query.teachingid}})}))})).catch((()=>{console.log("cancel")}))},onClickLeft(){let t=this;this.$router.push({name:"fdRotation_doctor_up_case_withbottom",query:{id:t.$route.query.id,type:t.$route.query.type,deptid:t.$route.query.deptid,teachingid:t.$route.query.teachingid}})},judgeAddEdit(){let t=this;this.$route.query.caseId?(t.title="病历详情",t.get("/base/largeMedicalRecord/detail/"+this.$route.query.caseId).done((e=>{console.log(e),200==e.resCode&&(t.caseTitle=e.model.name,t.picList=e.model.fileList)}))):t.title="添加病历"}}},A=d,u=i(1001),h=(0,u.Z)(A,s,a,!1,null,"89b6c32a",null),p=h.exports},88579:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="},37188:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAJKADAAQAAAABAAAAJAAAAAAqDuP8AAADa0lEQVRYCc1Yu24aQRSd3UUUCEtJkwLJqUC2f8FOCiRchECRFPmLKEWkfESkFJb/IkVSgEkBEoVjfgEQrmzJkdIkEojCApNzVtz17nh3ZxeCxZWGed3H4d553FlLpaRms/kUIq8Xi8Ux6ucoBbQLVGNZ1g0qliu026jParXaH9SJyUrK2Wg03oD3PcpLAMgkkQOoGfjOUU7r9fr3RDImplardTSfzz8DxKGJN24e4HqO43yqVqsXsXxRkwDgIDxfUH+I4lllHMBOEMaPqOdh8qEh63a7T8bj8VcIcJ1sgto7OzvvyuXyX135A0AEM5lMevDMgc78P/vwUD+fzx/qoGy/EYaJntk0GNqkjaUtx48hAIhrBpObCpPfrrSPlzalr7yQcTfNZrOf3swjNjKZzAvZfZ6HuLXjMGSzWZXL5eJYQucoQ9k48tt2PcRDDzH9FiVEhZVKRdm2rYbDoRqNRlGsgfFSqaT29vbU3d2d6nQ66vb2NjDv72CRv+XhKR7iCRxJcKkLBkJqf39f0ZCJyENeyvCPUIeBXAwW7yZ45zdKrESxWFQHB/cnwWAwiPSUgBEA/X5fXV5eSje0BvAZyrMM3FkDRywYahCFAor/nqSHbxUw1EOHoNRsoEq8zQmK/1ZID9+qYEQfsdAzuzKQpI7yFGXFa2wnCRP5NNolIDeX0SZiu3GgKLgiGIoWbMQtNSBK6uHjGGkNMFxHBW77hatphR/E/IFU2NgDpuiBBRf1r+j56Bl9AQunvtBlPElNLPQQc+BUpINhmFiE1gB1w0V9JYqS1GFgZJFT3nROGWxccVF3DEzetAmMvtDTegoha+OasZto8HUQSyYwIhwGiteOiZYYzuzlu4lPlUhiCsFbW8i0tcNAJUhdzolFbvtTMRZWI3FzUwiEN/E5I6Aow/SDOgzkYvAOEuREFxCOfHsxJ2IKMZ1ODXqD0/QMwRhyoR5yoSNKiocUH3FBVcEeFaYFQw2UiQNDHr9tDxBzWiysEzI8JtGm5NO064WMHYTMQeh+oJk4JaHcGtRGqF4BlPeK9TxEpZzgixL1/bG7hrU4UdpY2vLAkD8AiAN8SfJFiSY/p2yK2mGvVhoLhMxvneHbmo8NfmBb8znGD4rtrflgpQPjs4kvFSxK7kTm42Gf9K4Rcl6UzbSf9P4B9Me0HNSd5g8AAAAASUVORK5CYII="}}]);
//# sourceMappingURL=7840.3f650bde.js.map