"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[3984],{73984:function(t,s,e){e.r(s),e.d(s,{default:function(){return _}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"wxTodo"},[s("van-nav-bar",{attrs:{title:t.title,"left-text":"","left-arrow":""},on:{"click-left":t.back,"click-right":t.filter},scopedSlots:t._u([{key:"right",fn:function(){return[s("van-icon",{attrs:{name:"apps-o",size:"26"}})]},proxy:!0}])}),s("div",{staticClass:"wxTodoList"},[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(s){t.loading=s},expression:"loading"}},t._l(t.taskList,(function(e){return s("div",{key:e,staticClass:"wxTodoListItem"},[18==e.tasktype||30==e.tasktype||31==e.tasktype||32==e.tasktype||33==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine4))]),s("div",{staticClass:"button-group"},[33==e.tasktype||18==e.tasktype||30==e.tasktype||32==e.tasktype?s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("入科确认")]):t._e(),31==e.tasktype?s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("出科")]):t._e()],1)]:t._e(),27==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("考核项目:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("考官:"+t._s(e.predefine4))]),s("div",{staticClass:"todo-content"},[t._v("考核时间:"+t._s(t._f("totime")(e.starttime))+"—"+t._s(t._f("totime")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("考核地点:"+t._s(e.predefine5))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("考核")])],1)]:t._e(),29==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("考核项目:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("考官:"+t._s(e.predefine4))]),s("div",{staticClass:"todo-content"},[t._v("考核时间:"+t._s(t._f("totime")(e.starttime))+"—"+t._s(t._f("totime")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("考核地点:"+t._s(e.predefine5))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("考核")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),14==e.tasktype||15==e.tasktype||16==e.tasktype||17==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("轮转时间:"+t._s(t._f("todate")(e.starttime))+"——"+t._s(t._f("todate")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("请在"+t._s(e.predefine4)+"前完成评价。")]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("评价")])],1)]:t._e(),19==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("活动类型:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("主讲人:"+t._s(e.predefine6))]),s("div",{staticClass:"todo-content"},[t._v("活动时间:"+t._s(t._f("totime")(e.starttime))+" - "+t._s(t._f("totime")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("活动地点:"+t._s(e.predefine5))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine4))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("上传图片")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),20==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("活动类型:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("主讲人:"+t._s(e.predefine6))]),s("div",{staticClass:"todo-content"},[t._v("活动时间:"+t._s(t._f("totime")(e.starttime))+" - "+t._s(t._f("totime")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("活动地点:"+t._s(e.predefine5))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine4))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("反馈")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),21==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("轮转时间:"+t._s(t._f("todate")(e.starttime))+"——"+t._s(t._f("todate")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("请在"+t._s(e.predefine4)+"前完成评价，过期则不能评价。")]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("评价")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),22==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("轮转时间:"+t._s(t._f("todate")(e.starttime))+"——"+t._s(t._f("todate")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("请在"+t._s(e.predefine4)+"前完成评价，过期则不能评价。")]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("评价")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),23==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("请在"+t._s(e.predefine4)+"前完成评价，过期则不能评价。")]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("评价")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),24==e.tasktype?[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v("轮转科室:"+t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v("轮转时间:"+t._s(t._f("todate")(e.starttime))+"——"+t._s(t._f("todate")(e.endtime)))]),s("div",{staticClass:"todo-content"},[t._v("请在"+t._s(e.predefine4)+"前完成评价，过期则不能评价。")]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))]),s("div",{staticClass:"button-group"},[s("van-button",{attrs:{type:"info",size:"small",plain:""},on:{click:function(s){return t.gototurn(e)}}},[t._v("评价")])],1),-1==e.predefine1?s("van-tag",{attrs:{mark:""}},[t._v("已过期")]):t._e()]:t._e(),1==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("个人")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),2==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("班级")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),25==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("其他")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),3==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("出科")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),6==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("上课")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),5==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("评教")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.showTimeStr))])])]:t._e(),7==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("问卷")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))])])]:t._e(),8==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("训练")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))])])]:t._e(),9==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("随堂小测")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))])])]:t._e(),12==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v("审核")]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))])])]:t._e(),34==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-title"},[t._v(t._s(e.predefine3))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.predefine5))])])]:t._e(),28==e.tasktype?[s("div",{on:{click:function(s){return t.gototurn(e)}}},[s("div",{staticClass:"todo-title2"},[t._v(t._s(e.taskname))]),s("div",{staticClass:"todo-content"},[t._v(t._s(e.createdtimestr))]),s("van-tag",{attrs:{round:"",type:"primary"}},[t._v(t._s(e.tasktypename))])],1)]:t._e()],2)})),0)],1),s("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.showPicker,callback:function(s){t.showPicker=s},expression:"showPicker"}},[s("van-picker",{attrs:{"show-toolbar":"",columns:t.typeList,"value-key":"taskname"},on:{cancel:function(s){t.showPicker=!1},confirm:t.onConfirm}})],1)],1)},o=[],i=(e(70560),e(91719),e(77387)),n=e.n(i),d=e(68934),r=e(88848),c={name:"wxTodo",data(){return{title:"待办事项",typeList:[],showPicker:!1,pageIndex:1,pageSize:20,tasktype:"",taskList:[],loading:!1,finished:!1}},created(){this.getTypeList(),this.getTaskList()},filters:{day:function(t){return 5==t?"今天":6==t?"明天、后天":void 0},todate:function(t){if(t){var s=new Date(1e3*t),e=s.getFullYear(),a=s.getMonth()+1,o=s.getDate();return e+"年"+a+"月"+o+"日"}},totime:function(t){if(t){var s=new Date(1e3*t),e=s.getFullYear(),a=s.getMonth()+1,o=s.getDate(),i=s.getHours(),n=s.getMinutes();return e+"年"+a+"月"+o+"日"+i+"时"+n+"分"}},today:function(t){if(t){var s=new Date(1e3*t),e=s.getFullYear(),a=s.getMonth()+1,o=s.getDate(),i=s.getHours(),n=s.getMinutes();return e+"-"+a+"-"+o+" "+i+":"+n}}},methods:{...d.Z,back(){self.$router.push({name:"wxIndex"})},onLoad(){let t=this;this.pageIndex+=1,t.post("/task/queryusertaskinfo",{command:"task/queryusertaskinfo",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),uid:n().cookie("uid"),page:this.pageIndex,reqnum:this.pageSize,tasktype:this.tasktype,filterTasktypeList:["19"]}).done((s=>{s.tasklist.length<this.pageSize&&(t.finished=!0),this.taskList.push(...s.tasklist),t.loading=!1}))},getTypeList(){let t=this;t.post("/task/querytasktype",{command:"task/querytasktype",sessionid:n().cookie("sid"),loginid:n().cookie("uid")}).done((s=>{s.tasktypelist.unshift({taskname:"全部",tasktype:""}),t.typeList=s.tasktypelist}))},getTaskList(){let t=this;t.post("/task/queryusertaskinfo",{command:"task/queryusertaskinfo",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),uid:n().cookie("uid"),page:this.pageIndex,reqnum:this.pageSize,tasktype:this.tasktype,filterTasktypeList:["19"]}).done((s=>{s.tasklist.length<this.pageSize&&(t.finished=!0),this.taskList=s.tasklist,t.loading=!1}))},filter(){this.showPicker=!0},onConfirm(t){this.tasktype=t.tasktype,this.pageIndex=1,this.finished=!1,this.getTaskList(),this.showPicker=!1},gototurn:function(t){console.log(t);let s=this;s.post("/commparaconf/querycommparaconflist",{command:"commparaconf/querycommparaconflist",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),paramcode:"appHomePageMenusId",paramvalue:t.tasktype}).done((s=>{localStorage.setItem("menuId",s.commparaconflist[0].param1),14==t.tasktype?this.gototurn14(t):15==t.tasktype?this.gototurn15(t):16==t.tasktype?this.gototurn16(t):17==t.tasktype?this.gototurn17(t):19==t.tasktype?window.location.href="/pages/futuredoctorapp/"+t.taskurl+"&ishistory=false":20==t.tasktype||21==t.tasktype||22==t.tasktype||23==t.tasktype||24==t.tasktype||27==t.tasktype||28==t.tasktype||29==t.tasktype?window.location.href="/pages/futuredoctorapp/"+t.taskurl:33==t.tasktype?window.location.href="/pages/futuredoctorapp/"+t.taskurl+"?predefine5="+t.predefine5:(31==t.tasktype||32==t.tasktype||30==t.tasktype||18==t.tasktype||34==t.tasktype||7==t.tasktype)&&(window.location.href="/pages/futuredoctorapp/"+t.taskurl)}))},gototurn15(t){let s=this,e={command:"commparaconf/queryCommparaConfList",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),paramcode:"ck_settings",paramvalue:"7"};s.post("/commparaconf/queryCommparaConfList",e).done((s=>{if(Array.isArray(s.commparaConfList)&&s.commparaConfList.length>0){let e=new Date(t.endtime)-86400*Number(s.commparaConfList[0].param1),a=Math.round((new Date).getTime()/1e3);e>a?(0,r.Z)("未到出科评价时间！"):window.location.href="/pages/futuredoctorapp/"+t.taskurl+"&message=1&taskid="+t.id+"&id="+t.sourceid+"&param=1"}}))},gototurn16(t){let s=this,e={command:"commparaconf/queryCommparaConfList",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),paramcode:"ck_settings",paramvalue:"7"};s.post("/commparaconf/queryCommparaConfList",e).done((s=>{if(console.log(s),Array.isArray(s.commparaConfList)&&s.commparaConfList.length>0){let e=new Date(t.endtime)-86400*Number(s.commparaConfList[0].param1),a=Math.round((new Date).getTime()/1e3);e>a?(0,r.Z)("未到出科评价时间！"):window.location.href="/pages/futuredoctorapp/"+t.taskurl+"&message=1&taskid="+t.id+"&id="+t.sourceid+"&param=2"}}))},gototurn14(t){let s=this,e={command:"commparaconf/queryCommparaConfList",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),paramcode:"ck_settings",paramvalue:"7"};s.post("/commparaconf/queryCommparaConfList",e).done((s=>{if(Array.isArray(s.commparaConfList)&&s.commparaConfList.length>0){let e=new Date(t.endtime)-86400*Number(s.commparaConfList[0].param1),a=Math.round((new Date).getTime()/1e3);e>a?(0,r.Z)("未到出科评价时间！"):window.location.href="/pages/futuredoctorapp/"+t.taskurl+"&message=1&businessId="+t.sourceid+"&taskid="+t.id}}))},gototurn17(t){let s=this,e={command:"commparaconf/queryCommparaConfList",loginid:n().cookie("uid"),sessionid:n().cookie("sid"),paramcode:"ck_settings",paramvalue:"7"};s.post("/commparaconf/queryCommparaConfList",e).done((s=>{if(Array.isArray(s.commparaConfList)&&s.commparaConfList.length>0){let e=new Date(t.endtime)-86400*Number(s.commparaConfList[0].param1),a=Math.round((new Date).getTime()/1e3);e>a?(0,r.Z)("未到出科评价时间！"):window.location.href="/pages/futuredoctorapp/"+t.taskurl+"&message=1&taskid="+t.id+"&businessId="+t.sourceid}}))}}},l=c,p=e(1001),v=(0,p.Z)(l,a,o,!1,null,"329d40f2",null),_=v.exports}}]);
//# sourceMappingURL=3984.c5490cfa.js.map