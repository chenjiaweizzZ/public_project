"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[5760],{22760:function(t,e,i){i.d(e,{Z:function(){return d}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header",attrs:{id:"header"}},[t._t("headerLeft",(function(){return[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]})),e("div",{staticClass:"header-center-blank"}),e("div",{staticClass:"header-center"},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2),t._t("headerRight")],2)},n=[],s=(i(77387),i(68934)),o=i(63822),u={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,o.rn)(["loginUser"]),methods:{...(0,o.nv)(["showAlert","showLoading","hideLoading","toast"]),...s.Z,back(){this.$router.go(-1)}}},c=u,l=i(1001),r=(0,l.Z)(c,a,n,!1,null,null,null),d=r.exports},84622:function(t,e,i){i.d(e,{Z:function(){return l}});var a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"no_content"}},[e("img",{attrs:{src:i(10745),alt:""}}),e("span",{domProps:{textContent:t._s(t.txtdescription||"当前没有内容哦~")}})])},n=[],s={props:["txtdescription"]},o=s,u=i(1001),c=(0,u.Z)(o,a,n,!1,null,null,null),l=c.exports},25760:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper",on:{click:t.close}},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:i(88579)}})])]),t._v(" 评分 "),e("div",{class:{noclick:t.issubmit},staticStyle:{"font-size":"0.3rem"},attrs:{slot:"headerRight"},on:{click:t.submit},slot:"headerRight"},[t._v("提交")])]),t.showDate?e("div",{staticClass:"datelist"},[e("div",{staticClass:"dateUl"},[e("p",{staticClass:"triangle"}),e("ul",{class:[{firstUl:1==t.date.length},{secondUl:2==t.date.length},{thirdUl:t.date.length>=3}]},t._l(t.date,(function(i){return e("li",{on:{click:function(e){return t.selectTime(i)}}},[t._v(t._s(i))])})),0)])]):t._e(),t.noContent?t._e():e("div",{staticClass:"g-main"},[e("h1",[t._v(t._s(t.title))]),e("p",{staticClass:"tip"},[t._v("此问卷为各位护培生师日常考核所用，并存入护培学档案，请大家认真填写。")]),t._l(t.list,(function(i,a){return e("div",{staticClass:"list"},[e("h2",[t._v(t._s(i.category))]),t._l(i.evaluationitems,(function(i,n){return e("div",{staticClass:"problems"},[e("h3",[t._v(t._s(n+1)+"、"+t._s(i.title))]),e("ul",t._l(i.items,(function(i){return e("li",[e("input",{staticClass:"radio",attrs:{type:"radio",name:10*a+n},domProps:{value:i.id},on:{click:function(e){return t.check(i,a,n)}}}),e("span",[t._v(t._s(i.name)+"."+t._s(i.content))])])})),0)])}))],2)})),e("div",{staticClass:"evaluate"},[t._m(0),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.advantage,expression:"advantage"}],domProps:{value:t.advantage},on:{focus:t.textareaFocus,blur:t.textareaBlur,input:function(e){e.target.composing||(t.advantage=e.target.value)}}}),t._m(1),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.advise,expression:"advise"}],domProps:{value:t.advise},on:{focus:t.textareaFocus,blur:t.textareaBlur,input:function(e){e.target.composing||(t.advise=e.target.value)}}})]),t.noContent?e("no-content"):t._e()],2)],1)},n=[function(){var t=this,e=t._self._c;return e("h4",[e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 护培生师优点（必填）")])},function(){var t=this,e=t._self._c;return e("h4",[e("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 对进一步成长的建议（必填）")])}],s=(i(70560),i(77387)),o=i.n(s),u=i(22760),c=i(68934),l=i(84622),r=i(63822),d={name:"rd_teacher_evaluate",components:{cHeader:u.Z,noContent:l.Z},data(){return{title:"哈医大附四院护培生师规范化培训评价表",evaluationList:[],list:[],month:"",items:[],checklist:[],advantage:"",advise:"",showDate:!1,date:[],noContent:!1,issubmit:!1}},computed:{...(0,r.rn)(["turninfo"])},mounted(){let t=this;t.init(),t.registerToNative("goBack",(function(e){t.back()}))},methods:{...c.Z,...(0,r.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast"]),init(){let t=this,e={};t.$route.query.message?e.evaluatedid=t.$route.query.id:e.evaluatedid=this.turninfo.stuid,t.post("/turn/queryevaluationitems",{command:"turn/queryevaluationitems",sessionid:o().cookie("sid"),loginid:o().cookie("uid"),type:4,...e}).done((function(e){t.evaluationList=e.evaluationList;let i=[],a=[];for(let n=0;n<t.evaluationList.length;n++)i.push(t.evaluationList[n].category);for(let n=0;n<t.unique(i).length;n++)a.push({category:t.unique(i)[n],evaluationitems:[]});for(let n in t.unique(i))for(let e=0;e<t.evaluationList.length;e++)t.unique(i)[n]==t.evaluationList[e].category&&a[n].evaluationitems.push({title:t.evaluationList[e].title,id:t.evaluationList[e].id,items:t.evaluationList[e].evaluationitems});t.list=a})).fail((function(e){t.noContent=!0}))},check(t,e,i){let a=this;a.list[e].evaluationitems[i].items.map((function(t,e,i){t.checked&&delete t.checked})),"undefined"==typeof t.checked&&a.$set(t,"checked",!0)},submit(){let t=this,e=new Date,i=e.getFullYear(),a=e.getMonth()+1,n=e.getDate(),s={};t.$route.query.message?(s.evaluatedid=t.$route.query.id,s.businessid=t.$route.query.businessid):(s.evaluatedid=t.turninfo.stuid,s.businessid=t.turninfo.businessid),t.checklist=[],t.list.map((function(e,i,a){e.evaluationitems.map((function(e,i,a){e.items.map((function(e,i,a){e.checked&&t.checklist.push({id:e.id,score:e.score})}))}))})),t.checklist.length<t.evaluationList.length?t.toast("还有"+(t.evaluationList.length-t.checklist.length)+"道题没评"):""==t.advantage?t.toast("请填写护培生师的优点"):""==t.advise?t.toast("请填写您的建议"):(t.issubmit=!0,t.post("/turn/submitevaluationitems",{command:"turn/submitevaluationitems",sessionid:o().cookie("sid"),loginid:o().cookie("uid"),uid:o().cookie("uid"),type:4,...s,advantage:t.advantage,advise:t.advise,month:i+"-"+a+"-"+n,items:t.checklist}).done((function(e){t.issubmit=!1,"0"==e.errcode?t.$route.query.message?t.changestatu():t.$router.push({name:"fdRotation_teacher_date_director",query:{date:t.$route.query.date}}):t.toast(e.errdesc)})).fail((function(e){t.issubmit=!1,t.noContent=!0})))},changestatu(){let t=this;t.post("/task/updatetaskinfostate",{command:"task/updatetaskinfostate",sessionid:o().cookie("sid"),loginid:o().cookie("uid"),sourceid:t.$route.query.taskid,predefine1:1}).done((function(e){0==e.errcode?window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex":t.toast(e.errdesc)}))},textareaFocus(){o()(".g-main").css("padding-bottom","5rem")},textareaBlur(){o()(".g-main").css("padding-bottom","0")},back(){let t=this;t.showConfirm({title:"提醒",msg:"你当前评价尚未提交保存，是否确认返回？",theme:"modal-confirm modal-white",ok:function(){window.history.back()},cancel:function(){}})},selectDate:function(){let t=this;t.date=[],t.showDate=!t.showDate;let e=(new Date).getFullYear(),i=(new Date).getMonth()+1,a=new Date(t.$route.query.date).getFullYear(),n=new Date(t.$route.query.date).getMonth()+1;if(a==e&&n>=i||a>e)t.date.push(e+"年"+t.checkDate(i)+"月");else if(a==e&&n<i)for(let s=0;s<i-n+1;s++)t.date.push(e+"年"+t.checkDate(i-s)+"月");else if(a==e-1){for(let a=0;a<i;a++)t.date.push(e+"年"+t.checkDate(i-a)+"月");for(let e=0;e<12-n+1;e++)t.date.push(a+"年"+t.checkDate(12-e)+"月")}else if(a<e-1){for(let a=0;a<i;a++)t.date.push(e+"年"+t.checkDate(i-a)+"月");for(let i=1;i<e-a;i++)for(let a=0;a<12;a++)t.date.push(e-i+"年"+t.checkDate(12-a)+"月");for(let e=0;e<12-n+1;e++)t.date.push(a+"年"+t.checkDate(12-e)+"月")}},selectTime(t){let e=this;e.month=t.replace("年","-").replace("月","-")+"01",o()(o()(".selDate").find("span")[0]).text(t)},close:function(){this.showDate=!1},checkDate:function(t){return t<10?"0"+t:t},unique:function(t){let e=[],i={};for(var a=0;a<t.length;a++)i[t[a]]||(e.push(t[a]),i[t[a]]=1);return e}}},h=d,m=i(1001),v=(0,m.Z)(h,a,n,!1,null,"1c75b663",null),g=v.exports},10745:function(t,e,i){t.exports=i.p+"static/img/icon-renwu.b85b73a3.png"},88579:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=5760.a6330a36.js.map