"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[9639],{89639:function(t,s,e){e.r(s),e.d(s,{default:function(){return b}});var a=function(){var t=this,s=t._self._c;return s("div",{staticClass:"g-wrapper"},[s("c-header",[s("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[s("a",{staticClass:"header-back-btn",on:{click:function(s){return t.back()}}},[s("img",{attrs:{src:e(88579)}})])]),s("div",{staticClass:"deptname"},[t._v("出科鉴定")])]),s("div",{staticClass:"list-box"},[t.evaShow?s("div",{staticClass:"daily-eva"},[s("div",{staticClass:"rd-daily-title"},[t._v("日常评价")]),t._l(t.evaList,(function(e,a){return s("div",{key:a,staticClass:"rd-daily-list"},[s("div",{staticClass:"eva-date"},[t._v(t._s(e.evaluateDate))]),1==e.evaluate1||0==e.evaluate1?s("div",{staticClass:"eva-item"},[s("div",{staticClass:"eva-obj"},[t._v("护培生评价带教")]),1==e.evaluate1?s("div",{staticClass:"eva-result-true"},[t._v("已完成")]):s("div",{staticClass:"eva-result-false"},[t._v("未完成")])]):t._e(),1==e.evaluate2||0==e.evaluate2?s("div",{staticClass:"eva-item"},[s("div",{staticClass:"eva-obj"},[t._v("护培生评价科室")]),1==e.evaluate2?s("div",{staticClass:"eva-result-true"},[t._v("已完成")]):s("div",{staticClass:"eva-result-false"},[t._v("未完成")])]):t._e(),1==e.evaluate3||0==e.evaluate3?s("div",{staticClass:"eva-item"},[s("div",{staticClass:"eva-obj"},[t._v("带教评价护培生")]),1==e.evaluate3?s("div",{staticClass:"eva-result-true"},[t._v("已完成")]):s("div",{staticClass:"eva-result-false"},[t._v("未完成")])]):t._e(),1==e.evaluate4||0==e.evaluate4?s("div",{staticClass:"eva-item"},[s("div",{staticClass:"eva-obj"},[t._v("护士长评价护培生")]),1==e.evaluate4?s("div",{staticClass:"eva-result-true"},[t._v("已完成")]):s("div",{staticClass:"eva-result-false"},[t._v("未完成")])]):t._e()])}))],2):t._e(),t.actShow?s("div",{staticClass:"act"},[s("div",{staticClass:"act-title"},[t._v("教学活动")]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("教学活动")]),s("div",{staticClass:"act-content-right"},[t._v(t._s(t.actTime2)+"次")])]),s("div",{staticClass:"act-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("要求: "+t._s(t.actTime1)+"次")]),s("div",{staticClass:"act-tip-right"})])]):t._e(),2==t.type?s("div",{staticClass:"act"},[s("div",{staticClass:"act-title"},[t._v("出科考核")]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("技能考核")]),1==t.ckResult.skillScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v("未录入")]):2==t.ckResult.skillScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t.ckResult.skillScore)+"分 合格")]):3==t.ckResult.skillScoreStatus?s("div",{staticClass:"ck-content-right-false"},[t._v(t._s(t.ckResult.skillScore)+"分 不合格")]):t._e()]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("要求: "+t._s(t.ckResult.proportionInfo.passSkillScore)+"分及以上")]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("理论考核")]),1==t.ckResult.theoryScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v("未录入")]):2==t.ckResult.theoryScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t.ckResult.theoryScore)+"分 合格")]):3==t.ckResult.theoryScoreStatus?s("div",{staticClass:"ck-content-right-false"},[t._v(t._s(t.ckResult.theoryScore)+"分 不合格")]):t._e()]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("要求: "+t._s(t.ckResult.proportionInfo.passTheoryScore)+"分及以上")]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("综合考核")]),1==t.ckResult.compreScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v("未录入")]):2==t.ckResult.compreScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t.ckResult.compreScore)+"分 合格")]):3==t.ckResult.compreScoreStatus?s("div",{staticClass:"ck-content-right-false"},[t._v(t._s(t.ckResult.compreScore)+"分 不合格")]):t._e()]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("要求: "+t._s(t.ckResult.proportionInfo.passCompreScore)+"分及以上")]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("病历书写")]),1==t.ckResult.bigCaseeScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v("未录入")]):2==t.ckResult.bigCaseScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t.ckResult.bigCaseScore)+"分 合格")]):3==t.ckResult.bigCaseScoreStatus?s("div",{staticClass:"ck-content-right-false"},[t._v(t._s(t.ckResult.bigCaseScore)+"分 不合格")]):t._e()]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("要求: "+t._s(t.ckResult.proportionInfo.passBigCaseScore)+"分及以上")]),s("div",{staticClass:"act-tip-right"})])]):t._e(),1==t.type?s("div",{staticClass:"act"},[s("div",{staticClass:"act-title"},[t._v("出科考核")]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("技能考核")]),s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t._f("examScore")(t.ckResult.skillScore)))])]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("成绩占比: "+t._s(t._f("percentage")(t.ckResult.proportionInfo.theoryScoreProportion)))]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("理论考核")]),s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t._f("examScore")(t.ckResult.theoryScore)))])]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("成绩占比: "+t._s(t._f("percentage")(t.ckResult.proportionInfo.skillScoreProportion)))]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("综合考核")]),s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t._f("examScore")(t.ckResult.compreScore)))])]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("成绩占比: "+t._s(t._f("percentage")(t.ckResult.proportionInfo.compreScoreProportion)))]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("病历书写")]),s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t._f("examScore")(t.ckResult.bigCaseScore)))])]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("成绩占比: "+t._s(t._f("percentage")(t.ckResult.proportionInfo.bigCaseScoreProportion)))]),s("div",{staticClass:"act-tip-right"})]),s("div",{staticClass:"act-content"},[s("div",{staticClass:"act-content-left"},[t._v("总分")]),1==t.ckResult.proportionScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v("未录入")]):2==t.ckResult.proportionScoreStatus?s("div",{staticClass:"ck-content-right-true"},[t._v(t._s(t._f("examScore")(t.ckResult.scoreSum))+" 合格")]):3==t.ckResult.proportionScoreStatus?s("div",{staticClass:"ck-content-right-false"},[t._v(t._s(t._f("examScore")(t.ckResult.scoreSum))+" 不合格")]):t._e()]),s("div",{staticClass:"ck-tips"},[s("div",{staticClass:"act-tip-left"},[t._v("合格分: "+t._s(t.ckResult.proportionInfo.passScore)+"分及以上")]),s("div",{staticClass:"act-tip-right"})])]):t._e(),s("div",{staticClass:"nod"})]),s("div",{staticClass:"outBtn"},[s("van-button",{attrs:{type:"info",size:"large"},on:{click:function(s){return t.outDepartment()}}},[t._v("确认出科")])],1),s("van-dialog",{attrs:{id:"van-dialog","show-cancel-button":""}}),s("van-popup",{attrs:{position:"bottom"},model:{value:t.timeShow,callback:function(s){t.timeShow=s},expression:"timeShow"}},[s("div",{staticStyle:{width:"100%"}},[s("div",{staticStyle:{display:"flex","justify-content":"space-between","align-items":"center",margin:"10px 0"}},[s("button",{staticClass:"van-picker__cancel",attrs:{type:"button"},on:{click:function(s){t.timeShow=!1}}},[t._v("取消")]),s("div",{staticClass:"van-picker__title",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s("确认对"+t.$route.query.name+" "+t.$route.query.base+" "+t.$route.query.time+")进行出科操作吗?"))]),s("button",{staticClass:"van-picker__confirm",attrs:{type:"button"},on:{click:t.outDepartment}},[t._v("确认")])]),s("p",{staticStyle:{"text-align":"center",margin:"5px 0",color:"#898989 !important","font-size":"15px"}},[t._v("请选择实际出科时间 ")])]),s("van-datetime-picker",{attrs:{type:"date",formatter:t.formatter,"show-toolbar":!1,"min-date":t.minDate,"max-date":t.maxDate},model:{value:t.realEndTime,callback:function(s){t.realEndTime=s},expression:"realEndTime"}})],1)],1)},i=[],c=e(3032),o=e(77387),n=e.n(o),r=e(22760),l=e(68934),u=e(30908),v=e(63822),d=e(53003),p=e(89262),m=e(36226),C=e(93121),k=e(70241),_=e(62266);e(36797);new c["default"];var f={name:"rotation_admin",components:{cTab:u.Z,cTabs:d.Z,rotationReady:p.Z,rotationWating:m.Z,rotationNotturn:C.Z,rotationAlready:k.Z,cPicker:_.Z,cHeader:r.Z,methods:l.Z},data(){return{ckResult:{},type:0,evaShow:!0,actShow:!0,evaList:[],actTime1:1,actTime2:0,checkObj:{skill:{line:"",point:0,isPass:"",sw:0},theory:{line:"",point:0,isPass:"",sw:0},syn:{line:"",point:0,isPass:"",sw:0},case:{line:"",point:0,isPass:"",sw:0}},timeShow:!1,realEndTime:new Date,maxDate:new Date,minDate:new Date(1990,0,1),formatter(t,s){return"year"===t?s+"年":"month"===t?s+"月":"day"===t?s+"日":s}}},created(){let t=this;t.getEvaList(),t.getActTimes1(),t.getActTimes2(),t.getCkLine(),t.registerToNative("goBack",(function(s){t.back()}))},filters:{flag:function(t){return 0==t?"":1==t?"补考":2==t?"已补考报名":void 0},score:function(t){return t<0?"缺考":0===t||"0"==t||t?t:""===t||null===t?"":void 0},percentage:function(t){return(100*t).toFixed(0)+"%"},examScore:function(t){if(t)return t+"分"}},mounted(){let t=this;console.log(t.checkObj)},methods:{...l.Z,...(0,v.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast","setTurninfo"]),outDepartment(){let t=this;this.$dialog.confirm({confirmButtonColor:"#1989fa",message:"确认对"+t.$route.query.name+"(&nbsp;"+t.$route.query.base+"(&nbsp;"+t.$route.query.time+")进行出科操作吗?"}).then((()=>{let s={command:"turn/updateturnstatus",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),uid:t.$route.query.uid,tpdid:t.$route.query.tpdid,num:t.$route.query.num,turnstatus:3};t.post("/turn/updateturnstatus",s).done((function(s){s&&0==s.errcode?(t.toast("出科成功"),t.back()):s&&"4005"==s.error?t.toast("该住院医未分配带教老师,不能出科!"):t.toast("出科失败")})).fail((function(s){t.toast("出科失败")}))})).catch((()=>{}))},getEvaList(){let t=this,s={command:"turn/queryDailyEvaluates",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),businessid:t.$route.query.businessid,filter:"1"};t.post("/turn/queryDailyEvaluates",s).done((function(s){Object.keys(s.turnDailyEvaluates[0]).length>1?t.evaShow=!0:t.evaShow=!1,t.evaList=s.turnDailyEvaluates})).fail((function(t){console.log("fail",t)}))},getActTimes1(){let t=this,s={command:"commparaconf/queryCommparaConfList",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),paramcode:"ck_settings",paramvalue:"4"};t.post("/commparaconf/queryCommparaConfList",s).done((function(s){0==Number(s.commparaConfList[0].param1)&&(t.actShow=!1),t.actTime1=s.commparaConfList[0].param2})).fail((function(t){console.log("fail",t)}))},getActTimes2(){let t=this,s={command:"studentFile/teacherActionStatistics",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),turnPlanDetailId:t.$route.query.businessid};t.post("/studentFile/teacherActionStatistics",s).done((function(s){t.actTime2=s.teacherAction})).fail((function(t){console.log("fail",t)}))},getCkList(){let t=this;t.get(`/base/turnScore/getPlanScore/${t.$route.query.businessid}`).done((s=>{200==s.resCode&&(t.ckResult=s.model,t.type=s.model.type)}))},getCkLine(){let t=this,s={command:"commparaconf/queryCommparaConfList",sessionid:n().cookie("sid"),loginid:n().cookie("uid"),paramcode:"ck_settings",paramvalue:"5"};t.post("/commparaconf/queryCommparaConfList",s).done((function(s){t.checkObj.skill.line=Number(s.commparaConfList[0].param2),t.checkObj.theory.line=Number(s.commparaConfList[0].param4),t.checkObj.syn.line=Number(s.commparaConfList[0].param6),t.checkObj.case.line=Number(s.commparaConfList[0].param8),t.checkObj.skill.sw=Number(s.commparaConfList[0].param1),t.checkObj.theory.sw=Number(s.commparaConfList[0].param3),t.checkObj.syn.sw=Number(s.commparaConfList[0].param5),t.checkObj.case.sw=Number(s.commparaConfList[0].param7),t.getCkList()})).fail((function(t){console.log("fail",t)}))},isPass(t){Number(t.point)>Number(t.line)||Number(t.point)==Number(t.line)?t.isPass=!0:t.isPass=!1},back(){window.history.go(-1)}}},h=f,g=e(1001),S=(0,g.Z)(h,a,i,!1,null,"5e00a3ed",null),b=S.exports}}]);
//# sourceMappingURL=9639.7db0c7f5.js.map