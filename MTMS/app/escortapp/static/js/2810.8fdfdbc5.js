"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[2810],{22760:function(t,e,s){s.d(e,{Z:function(){return h}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header",attrs:{id:"header"}},[t._t("headerLeft",(function(){return[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:s(88579)}})])]})),e("div",{staticClass:"header-center-blank"}),e("div",{staticClass:"header-center"},[t._t("default",(function(){return[t._v(t._s(t.title))]}))],2),t._t("headerRight")],2)},a=[],n=(s(77387),s(68934)),c=s(63822),o={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,c.rn)(["loginUser"]),methods:{...(0,c.nv)(["showAlert","showLoading","hideLoading","toast"]),...n.Z,back(){this.$router.go(-1)}}},r=o,l=s(1001),u=(0,l.Z)(r,i,a,!1,null,null,null),h=u.exports},92810:function(t,e,s){s.r(e),s.d(e,{default:function(){return k}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"g-wrapper"},[e("c-header",[e("div",{attrs:{slot:"headerLeft"},slot:"headerLeft"},[e("a",{staticClass:"header-back-btn",on:{click:function(e){return t.back()}}},[e("img",{attrs:{src:s(88579)}})])]),t._v(" "+t._s(t.caseName)+" ")]),e("div",{staticClass:"g-main"},[e("ul",t._l(t.items,(function(s,i){return e("li",{key:s.id,staticClass:"item-box"},[s.type?e("div",{class:[1==s.iswrite?"required":"","item-name"]},[t._v(t._s(s.writeInfo)+" ")]):t._e(),1==s.type?e("div",{staticClass:"item-content"},[t._v(t._s(t.submitArr[i].content))]):t._e(),3==s.type&&"0"==t.submitArr[i].content?e("div",{staticClass:"item-content"},[t._v("否")]):t._e(),3==s.type&&"1"==t.submitArr[i].content?e("div",{staticClass:"item-content"},[t._v("是")]):t._e(),2==s.type?e("div",{staticClass:"item-content"},[e("span",[t._v(t._s(t.submitArr[i].content))])]):t._e(),4==s.type?e("div",{staticClass:"item-content"},[e("span",[t._v(t._s(t.submitArr[i].content))])]):t._e(),s.checkType?e("div",{staticClass:"item-name"},[t._v("审核意见")]):t._e(),s.checkType?e("div",{staticClass:"item-content check-tip"},[e("div",[t._v(t._s(s.checksuggestion))])]):t._e()])})),0)]),e("div",{staticClass:"footer-box"},[0==t.checkType?e("div",{staticClass:"footer-right-box"},[e("van-button",{staticStyle:{color:"#323232",border:"1px solid #323232"},attrs:{square:"",type:"primary"},on:{click:t.noPass}},[t._v("不通过 ")]),e("van-button",{attrs:{square:"",type:"primary"},on:{click:t.pass}},[t._v("通过")])],1):e("div",{staticClass:"footer-right-box"},[e("van-button",{attrs:{square:"",type:"primary"},on:{click:t.cancel}},[t._v("撤销")])],1)]),e("reason",{attrs:{"show-flag":t.show},on:{cancel:t.cancelSubmit,save:t.saveSubmit}})],1)},a=[],n=(s(70560),s(77387)),c=s.n(n),o=s(68934),r=s(63822),l=s(22760),u=s(8914),h=s(71038),d={data(){return{caseName:"",check:"",checkType:"",items:[],submitArr:[],curIdList:[],validateList:[],show:!1,message:"",disabled:!0}},components:{cHeader:l.Z,reason:u.Z},computed:{},methods:{...o.Z,...(0,r.nv)(["showAlert","showConfirm","showLoading","hideLoading","toast"]),checkCase(t){this.curIdList.push(this.$route.query.id),this.validateList.push({id:this.$route.query.id,createTime:this.$route.query.createTime}),h.Z.validateCheck(this.validateList).then((e=>{this.post("/turnManual/turnManualCheck",{command:"turnManual/turnManualCheck",sessionid:c().cookie("sid"),loginid:c().cookie("uid"),uid:c().cookie("uid"),checksuggestion:this.message,checkType:t,list:this.curIdList}).done((e=>{e&&0==e.errcode&&(0==t?this.$toast("撤销成功"):this.$toast("审核完成"),setTimeout((()=>{this.back()}),500))}))})).catch((t=>{this.$toast("当前审核项已过审核时间")}))},noPass(){var t=this;t.showConfirm({title:"温馨提示",msg:"是否确认不通过该审核记录？",theme:"modal-confirm modal-white",cancel:function(){},ok:function(){t.check=2,t.show=!0}})},cancelSubmit(){this.show=!1},saveSubmit(t){this.show=!1,this.message=t,this.checkCase(this.check)},pass(){var t=this;t.showConfirm({title:"温馨提示",msg:"是否确认通过该审核记录？",theme:"modal-confirm modal-white",cancel:function(){},ok:function(){t.check=1,t.checkCase(t.check)}})},cancel(){var t=this;t.showConfirm({title:"温馨提示",msg:"是否确认撤销该审核记录？",theme:"modal-confirm modal-white",cancel:function(){},ok:function(){t.check=0,t.checkCase(t.check)}})},detail(){this.post("/turnManual/queryturnManualItemDetail",{command:"turnManual/queryturnManualItemDetail",sessionid:c().cookie("sid"),loginid:c().cookie("uid"),uid:c().cookie("uid"),detailId:this.$route.query.id,check:this.$route.query.check}).done((t=>{t&&0==t.errcode&&(t.itemList.map((t=>{this.submitArr.push({iswrite:t.iswrite,id:t.id,content:t.content})})),this.items=t.itemList)}))},back(){this.$router.go(-1)}},mounted(){this.caseName=this.$route.query.name,this.checkType=this.$route.query.check,this.detail();let t=this;this.registerToNative("goBack",(function(e){t.back()}))}},m=d,p=s(1001),v=(0,p.Z)(m,i,a,!1,null,"08a64f64",null),k=v.exports},8914:function(t,e,s){s.d(e,{Z:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.showFlag,callback:function(e){t.showFlag=e},expression:"showFlag"}},[e("div",{staticClass:"popup-box"},[e("div",{staticClass:"popup-title"},[t._v("不通过原因")]),e("div",{staticClass:"popup-content"},[e("div",{staticClass:"reason-list"},[e("van-button",{class:[0==t.type?"current":""],attrs:{plain:"",hairline:"",type:"primary"},on:{click:function(e){return t.reason(0)}}},[t._v("与事实不符")]),e("van-button",{class:[1==t.type?"current":""],attrs:{plain:"",hairline:"",type:"primary"},on:{click:function(e){return t.reason(1)}}},[t._v("填写不规范")]),e("van-button",{class:[2==t.type?"current":""],attrs:{plain:"",hairline:"",type:"primary"},on:{click:function(e){return t.reason(2)}}},[t._v("其他")])],1),e("div",{staticClass:"reason-box self-style"},[e("van-field",{attrs:{disabled:t.disabled,label:"不通过原因:",type:"textarea",placeholder:"请输入不通过理由",rows:"3",autosize:""},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1)]),e("div",{staticClass:"popup-footer"},[e("van-button",{staticClass:"cancel-btn",attrs:{type:"primary"},on:{click:t.cancelBtn}},[t._v("取消")]),e("van-button",{attrs:{plain:"",hairline:"",type:"primary"},on:{click:t.saveBtn}},[t._v("确认")])],1)])])},a=[],n={name:"noPassReason",props:{showFlag:Boolean},data(){return{message:"",disabled:!1,type:4}},methods:{reason(t){this.disabled=!0,0==t&&(this.type=t,this.message="与事实不符"),1==t&&(this.type=t,this.message="填写不规范"),2==t&&(this.type=t,this.message="",this.disabled=!1)},cancelBtn(){this.message="",this.$emit("cancel","")},saveBtn(){this.$emit("save",this.message)}}},c=n,o=s(1001),r=(0,o.Z)(c,i,a,!1,null,"3117f204",null),l=r.exports},71038:function(t,e,s){s(70560);var i=s(77387),a=s.n(i),n=s(68934);const c={validateCheck(t){return new Promise(((e,s)=>{n.Z.post("/turnManual/validateCheck",{command:"turnManual/validateCheck",sessionid:a().cookie("sid"),loginid:a().cookie("uid"),beanList:t}).done((t=>{if(t&&0==t.errcode)if(t.itemList.length>0){let e=[];t.itemList.map(((t,s)=>{let i=Object.keys(t);e.push(i[0])})),s(e)}else e(t)}))}))}};e.Z=c},88579:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=2810.8fdfdbc5.js.map