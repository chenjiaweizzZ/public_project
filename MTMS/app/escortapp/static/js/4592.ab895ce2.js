"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[4592],{22760:function(e,t,s){s.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header",attrs:{id:"header"}},[e._t("headerLeft",(function(){return[t("a",{staticClass:"header-back-btn",on:{click:function(t){return e.back()}}},[t("img",{attrs:{src:s(88579)}})])]})),t("div",{staticClass:"header-center-blank"}),t("div",{staticClass:"header-center"},[e._t("default",(function(){return[e._v(e._s(e.title))]}))],2),e._t("headerRight")],2)},i=[],l=(s(77387),s(68934)),o=s(63822),n={props:["title"],data(){return{}},created(){},mounted(){},computed:(0,o.rn)(["loginUser"]),methods:{...(0,o.nv)(["showAlert","showLoading","hideLoading","toast"]),...l.Z,back(){this.$router.go(-1)}}},r=n,c=s(1001),d=(0,c.Z)(r,a,i,!1,null,null,null),u=d.exports},64592:function(e,t,s){s.r(t),s.d(t,{default:function(){return v}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"overseer-grade"},[t("van-nav-bar",{attrs:{title:e.title,"left-text":"","left-arrow":""},on:{"click-left":e.back}}),t("div",{staticClass:"select-menu"},[t("div",{staticClass:"select-item",on:{click:e.selectType}},[t("div",{staticClass:"se-text",class:{active:e.show1}},[e._v("类型 "+e._s(e.rtType))]),t("van-col",{staticStyle:{width:"6px"}}),t("van-icon",{class:{active:e.show1},attrs:{name:"play"}})],1),t("div",{staticClass:"select-item",on:{click:e.selectStatus}},[t("div",{staticClass:"se-text",class:{active:e.show2}},[e._v("督导状态 "+e._s(e.rtStatus))]),t("van-col",{staticStyle:{width:"6px"}}),t("van-icon",{class:{active:e.show2},attrs:{name:"play"}})],1)]),t("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:e.show1,callback:function(t){e.show1=t},expression:"show1"}},[t("van-picker",{ref:"typeCheck",attrs:{"show-toolbar":"",title:"请选择类型",columns:e.types,"value-key":"type","default-index":e.typeDefault},on:{cancel:e.onCancel1,confirm:e.onConfirm1}})],1),t("van-popup",{attrs:{position:"bottom","close-on-click-overlay":!1},model:{value:e.show2,callback:function(t){e.show2=t},expression:"show2"}},[t("van-picker",{ref:"statusCheck",attrs:{"show-toolbar":"",title:"请选择督导状态",columns:e.statuses,"value-key":"status","default-index":e.statusDefault},on:{cancel:e.onCancel2,confirm:e.onConfirm2}})],1),t("van-search",{attrs:{placeholder:"搜索","show-action":"",shape:"round",clearable:!0},on:{search:e.onSearch},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[t("div",{attrs:{slot:"action"},on:{click:e.onSearch},slot:"action"},[e._v("搜索")])]),e.gradeList.length>0?t("div",{staticClass:"grade-list"},[t("van-list",{attrs:{finished:e.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:e.onLoad},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.gradeList,(function(s,a){return t("div",{key:a,staticClass:"grade-content"},[t("div",{staticClass:"grade-title",on:{click:function(t){return e.activityDetail(s.businessId)}}},[1==s.type?t("div",{staticClass:"grade-headline"},[e._v("《"+e._s(s.theme)+"》 教学活动督导")]):e._e(),2==s.type?t("div",{staticClass:"grade-headline"},[e._v('"'+e._s(s.deptName)+'" 医院管理督导')]):e._e(),3==s.type?t("div",{staticClass:"grade-headline"},[e._v('"'+e._s(s.deptName)+'" 出科考核督导')]):e._e(),t("div",{staticClass:"status-box"},[1==s.status?t("div",{staticClass:"grade-status1"},[e._v("待督导")]):e._e(),2==s.status?t("div",{staticClass:"grade-status2"},[e._v("已督导")]):e._e(),3==s.status?t("div",{staticClass:"grade-status3"},[e._v("已过期")]):e._e()])]),t("div",{staticClass:"grade-detail",on:{click:function(t){return e.activityDetail(s.businessId,s.type)}}},[t("div",{staticClass:"grade-time"},[1==s.type?t("div",{staticClass:"detail-title"},[e._v("活动时间")]):t("div",{staticClass:"detail-title"},[e._v("督导时间")]),t("div",{staticClass:"detail-content"},[e._v(e._s(s.startTime)+" 至 "+e._s(s.endTime))])]),1==s.type?t("div",{staticClass:"grade-time"},[t("div",{staticClass:"detail-title"},[e._v("活动地点")]),t("div",{staticClass:"detail-content"},[e._v(e._s(s.place))])]):e._e(),1==s.type?t("div",{staticClass:"grade-time"},[t("div",{staticClass:"detail-title"},[e._v("科       室")]),t("div",{staticClass:"detail-content"},[e._v(e._s(s.deptName))])]):e._e()]),t("div",{staticClass:"btn-group"},[t("van-button",{attrs:{type:"default"},on:{click:function(t){return e.feedbackView(s.supervisorUserId,s.type,s.deptId)}}},[e._v("查看反馈")]),1==s.status||2==s.status&&(new Date).getTime()<new Date(s.endTime).getTime()?t("van-button",{attrs:{type:"default"},on:{click:function(t){return e.picUpload(s.supervisorUserId,s.files)}}},[e._v("照片上传")]):e._e(),1==s.status?t("van-button",{attrs:{type:"default"},on:{click:function(t){return e.overseerGrade(s.supervisorUserId,s.type,s.startTime,s.deptId,s.teachingActionType)}}},[e._v("督导评分")]):e._e(),2==s.status?t("van-button",{attrs:{type:"default"},on:{click:function(t){return e.overseerGrade(s.supervisorUserId,s.type,s.startTime,s.deptId)}}},[e._v("评分详情")]):e._e()],1)])})),0)],1):t("div",{staticClass:"nodata"},[t("img",{attrs:{src:s(8151)}}),t("div",{staticClass:"nodataText"},[e._v("暂无督导")])])],1)},i=[],l=(s(70560),s(77387)),o=s.n(l),n=s(68934),r=(s(22760),s(88848)),c={name:"supervise-grade",data(){return{title:"督导评分",show1:!1,show2:!1,type:0,status:0,loading:!1,finished:!1,typeDefault:0,statusDefault:0,searchValue:"",pageSize:20,pageNum:1,types:[{type:"全部",value:0},{type:"教学活动",value:1},{type:"出科考核",value:3},{type:"医院管理",value:2}],statuses:[{status:"全部",value:0},{status:"待督导",value:1},{status:"已督导",value:2},{status:"已过期",value:3}],gradeList:[],dfsURL:"http://192.168.3.191/"}},created(){let e=this;e.getSupEvaList()},computed:{rtType(){let e=this;return 0==e.type?"全部":1==e.type?"教学活动":2==e.type?"出科考核":3==e.type?"医院管理":""},rtStatus(){let e=this;return 0==e.status?"全部":1==e.status?"待督导":2==e.status?"已督导":3==e.status?"已过期":""}},methods:{...n.Z,rtIsToEnd(e,t){return(1==e||2==e)&&(new Date).getTime()<new Date(t).getTime()},back(){window.location.href="/pages/futuredoctorapp/index.html/#/wxIndex"},onLoad(){let e=this;e.pageNum+=1;let t={command:"supervisor/supervisorEvaluate",sessionid:o().cookie("sid"),loginid:o().cookie("uid"),keywords:e.searchValue,pageSize:e.pageSize,pageNum:e.pageNum,type:e.type?e.type:null,status:e.status?e.status:null};e.post("/supervisor/supervisorEvaluate",t).done((function(t){console.log(e.loading,e.finished),t.result.records.length<e.pageSize?e.finished=!0:(e.gradeList.push(...t.result.records),e.loading=!1,console.log(t.result.dfsURL),e.dfsURL=t.result.dfsURL)}))},getSupEvaList(){let e=this;e.pageNum=1;let t={command:"supervisor/supervisorEvaluate",sessionid:o().cookie("sid"),loginid:o().cookie("uid"),keywords:e.searchValue,pageSize:e.pageSize,pageNum:e.pageNum,type:e.type?e.type:null,status:e.status?e.status:null};e.post("/supervisor/supervisorEvaluate",t).done((function(t){console.log(t.result.records),e.gradeList=t.result.records,t.result.records.length<e.pageSize&&(e.finished=!0),console.log(e.finished),e.dfsURL=t.result.dfsURL}))},selectType(){let e=this;e.show2=!1,e.show1=!0},selectStatus(){let e=this;e.show1=!1,e.show2=!0},onConfirm1(e,t){console.log(e,t);let s=this;s.type=e.value,s.typeDefault=t,s.show1=!1,s.show2=!1,s.getSupEvaList()},onConfirm2(e,t){console.log(e,t);let s=this;s.statusDefault=t,s.status=e.value,s.show1=!1,s.show2=!1,s.getSupEvaList()},onCancel1(){let e=this;console.log(e.typeDefault),e.$refs.typeCheck.setColumnIndex(0,e.typeDefault),e.show1=!1,e.show2=!1},onCancel2(){let e=this;console.log(e.$refs.statusCheck),e.show1=!1,e.show2=!1},onSearch(){let e=this;e.getSupEvaList(),console.log(e.searchValue)},activityDetail(e,t){1==t&&this.$router.push({name:"activity_detail",query:{id:e,ishistory:!1,isOverseer:!0,grade:!0}})},formateIOS(e){var t=new Date(e.replace(/-/g,"/"));return t},overseerGrade(e,t,s,a,i){if(console.log(typeof(new Date).getTime()),console.log(new Date(s).getTime()),s)if((new Date).getTime()<new Date(this.formateIOS(s)).getTime())(0,r.Z)("督导时间未到,不可评分!");else{let s;1==t?s=1:2==t?s=5:3==t?s=3:(0,r.Z)("数据异常!"),this.$router.push({name:"overseer_grade",query:{businessId:e,type:s,deptId:a,teachingActionType:i}})}else{let s;1==t?s=1:2==t?s=5:3==t?s=3:(0,r.Z)("数据异常!"),this.$router.push({name:"overseer_grade",query:{businessId:e,type:s,deptId:a}})}},picUpload(e,t){let s,a=this;s=!!t&&JSON.stringify(t),this.$router.push({name:"pic_upload",query:{supervisorUserId:e,dfsURL:JSON.stringify(a.dfsURL),files:s}})},feedbackView(e,t,s){let a;1==t?a=2:2==t?a=6:3==t?a=4:(0,r.Z)("数据异常!"),this.$router.push({name:"feedback_view",query:{businessId:e,type:a,deptId:s}})}}},d=c,u=s(1001),p=(0,u.Z)(d,a,i,!1,null,"e0475932",null),v=p.exports},88579:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAiCAYAAABfqvm9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzcxQUNDRDA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzcxQUNDRTA2RTQxMUU3OUMwRERCODQ1NkU4NTc5NSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjI3NzFBQ0NCMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI3NzFBQ0NDMDZFNDExRTc5QzBEREI4NDU2RTg1Nzk1Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+XL81twAAAT5JREFUeNpi+P//PwOFmBGIK4D4AhCHUGoYMxDP+Y8AlygxjBOIN/5HBXnkGiYIxIeRDPoDxGkgOXIMkwbiy0iGfQfiQJg8qYZpAfEjJMPeA7E9shpSDLME4rdIhj0DYj10dcQa5gPEX5EMuw7E8tjUEmNYAhD/RjLsBBAL41JPyLByIP6HZNg2IObGpweXBBMQ96OlsUVAzErIR9gE2YB4BZphPdAsxkCqgbxAvAfJIJB3i0lJWsgccSA+g2TYTyCOJjXhwxhKQHwbybDPQOxGTrYEEQZA/BzJsFdAbEpuoQEi7iEZdh+I1Sgp0pgYGMCYeoAWXqZ6pOBLNlGUGIgrYRdQYiCurNdJbtajSeFAk+KLZgUsTaoAXJXUEyDWocRAbNXoOyC2ocRAqlf0NGmK0KSxRJPmHNYGJ0CAAQCI5DhjJbDsxgAAAABJRU5ErkJggg=="},8151:function(e,t,s){e.exports=s.p+"static/img/overseer-no-data.b66f126a.png"}}]);
//# sourceMappingURL=4592.ab895ce2.js.map